/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n){"use strict";function lv(n){if(o(n))r(n.objectMaxDepth)&&(yf.objectMaxDepth=pf(n.objectMaxDepth)?n.objectMaxDepth:NaN);else return yf}function pf(n){return g(n)&&n>0}function l(n,t){return t=t||Error,function(){var e=arguments[0],o=arguments[1],r="["+(n?n+":":"")+e+"] ",u=bi(arguments,2).map(function(n){return fh(n,yf.objectMaxDepth)}),f,i;for(r+=o.replace(/\{\d+\}/g,function(n){var t=+n.slice(1,-1);return t<u.length?u[t]:n}),r+="\nhttp://errors.angularjs.org/1.6.9/"+(n?n+"/":"")+e,i=0,f="?";i<u.length;i++,f="&")r+=f+"p"+i+"="+encodeURIComponent(u[i]);return new t(r)}}function gt(n){if(n==null||sr(n))return!1;if(c(n)||h(n)||f&&n instanceof f)return!0;var t="length"in Object(n)&&n.length;return g(t)&&(t>=0&&(t-1 in n||n instanceof Array)||typeof n.item=="function")}function t(n,i,r){var u,f,o;if(n)if(e(n))for(u in n)u!=="prototype"&&u!=="length"&&u!=="name"&&n.hasOwnProperty(u)&&i.call(r,n[u],u,n);else if(c(n)||gt(n))for(o=typeof n!="object",u=0,f=n.length;u<f;u++)(o||u in n)&&i.call(r,n[u],u,n);else if(n.forEach&&n.forEach!==t)n.forEach(i,r,n);else if(vs(n))for(u in n)i.call(r,n[u],u,n);else if(typeof n.hasOwnProperty=="function")for(u in n)n.hasOwnProperty(u)&&i.call(r,n[u],u,n);else for(u in n)ot.call(n,u)&&i.call(r,n[u],u,n);return n}function ls(n,t,i){for(var r=Object.keys(n).sort(),u=0;u<r.length;u++)t.call(i,n[r[u]],r[u]);return r}function bf(n){return function(t,i){n(i,t)}}function su(){return++bv}function as(n,t){t?n.$$hashKey=t:delete n.$$hashKey}function kf(n,t,i){for(var f,l,s,a,u,r,v=n.$$hashKey,h=0,y=t.length;h<y;++h)if(f=t[h],o(f)||e(f))for(l=Object.keys(f),s=0,a=l.length;s<a;s++)u=l[s],r=f[u],i&&o(r)?ft(r)?n[u]=new Date(r.valueOf()):or(r)?n[u]=new RegExp(r):r.nodeName?n[u]=r.cloneNode(!0):ie(r)?n[u]=r.clone():(o(n[u])||(n[u]=c(r)?[]:{}),kf(n[u],[r],!0)):n[u]=r;return as(n,v),n}function v(n){return kf(n,wi.call(arguments,1),!1)}function kv(n){return kf(n,wi.call(arguments,1),!0)}function tt(n){return parseInt(n,10)}function df(n,t){return v(Object.create(n),t)}function s(){}function er(n){return n}function st(n){return function(){return n}}function gf(n){return e(n.toString)&&n.toString!==rt}function u(n){return typeof n=="undefined"}function r(n){return typeof n!="undefined"}function o(n){return n!==null&&typeof n=="object"}function vs(n){return n!==null&&typeof n=="object"&&!cs(n)}function h(n){return typeof n=="string"}function g(n){return typeof n=="number"}function ft(n){return rt.call(n)==="[object Date]"}function ne(n){var t=rt.call(n);switch(t){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return n instanceof Error}}function e(n){return typeof n=="function"}function or(n){return rt.call(n)==="[object RegExp]"}function sr(n){return n&&n.window===n}function hr(n){return n&&n.$evalAsync&&n.$watch}function dv(n){return rt.call(n)==="[object File]"}function gv(n){return rt.call(n)==="[object FormData]"}function ny(n){return rt.call(n)==="[object Blob]"}function ni(n){return typeof n=="boolean"}function hu(n){return n&&e(n.then)}function ty(n){return n&&g(n.length)&&ys.test(rt.call(n))}function iy(n){return rt.call(n)==="[object ArrayBuffer]"}function ie(n){return!!(n&&(n.nodeName||n.prop&&n.attr&&n.find))}function ry(n){for(var i={},r=n.split(","),t=0;t<r.length;t++)i[r[t]]=!0;return i}function vt(n){return a(n.nodeName||n[0]&&n[0].nodeName)}function re(n,t){return Array.prototype.indexOf.call(n,t)!==-1}function cr(n,t){var i=n.indexOf(t);return i>=0&&n.splice(i,1),i}function oi(n,i,r){function h(n,t,i){var e,r,f,o;if(i--,i<0)return"...";if(e=t.$$hashKey,c(n))for(f=0,o=n.length;f<o;f++)t.push(u(n[f],i));else if(vs(n))for(r in n)t[r]=u(n[r],i);else if(n&&typeof n.hasOwnProperty=="function")for(r in n)n.hasOwnProperty(r)&&(t[r]=u(n[r],i));else for(r in n)ot.call(n,r)&&(t[r]=u(n[r],i));return as(t,e),t}function u(n,t){var r,u,i;if(!o(n))return n;if(r=f.indexOf(n),r!==-1)return s[r];if(sr(n)||hr(n))throw ei("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");return u=!1,i=l(n),i===undefined&&(i=c(n)?[]:Object.create(cs(n)),u=!0),f.push(n),s.push(i),u?h(n,i,t):i}function l(n){var t,i;switch(rt.call(n)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new n.constructor(u(n.buffer),n.byteOffset,n.length);case"[object ArrayBuffer]":return n.slice?n.slice(0):(t=new ArrayBuffer(n.byteLength),new Uint8Array(t).set(new Uint8Array(n)),t);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new n.constructor(n.valueOf());case"[object RegExp]":return i=new RegExp(n.source,n.toString().match(/[^/]*$/)[0]),i.lastIndex=n.lastIndex,i;case"[object Blob]":return new n.constructor([n],{type:n.type})}if(e(n.cloneNode))return n.cloneNode(!0)}var f=[],s=[];if(r=pf(r)?r:NaN,i){if(ty(i)||iy(i))throw ei("cpta","Can't copy! TypedArray destination cannot be mutated.");if(n===i)throw ei("cpi","Can't copy! Source and destination are identical.");return c(i)?i.length=0:t(i,function(n,t){t!=="$$hashKey"&&delete i[t]}),f.push(n),s.push(i),h(n,i,r)}return u(n,r)}function ue(n,t){return n===t||n!==n&&t!==t}function ht(n,t){if(n===t)return!0;if(n===null||t===null)return!1;if(n!==n&&t!==t)return!0;var f=typeof n,s=typeof t,o,i,u;if(f===s&&f==="object")if(c(n)){if(!c(t))return!1;if((o=n.length)===t.length){for(i=0;i<o;i++)if(!ht(n[i],t[i]))return!1;return!0}}else{if(ft(n))return ft(t)?ue(n.getTime(),t.getTime()):!1;if(or(n))return or(t)?n.toString()===t.toString():!1;if(hr(n)||hr(t)||sr(n)||sr(t)||c(t)||ft(t)||or(t))return!1;u=p();for(i in n)if(i.charAt(0)!=="$"&&!e(n[i])){if(!ht(n[i],t[i]))return!1;u[i]=!0}for(i in t)if(!(i in u)&&i.charAt(0)!=="$"&&r(t[i])&&!e(t[i]))return!1;return!0}return!1}function ar(n,t,i){return n.concat(wi.call(t,i))}function bi(n,t){return wi.call(n,t||0)}function ki(n,t){var i=arguments.length>2?bi(arguments,2):[];return!e(t)||t instanceof RegExp?t:i.length?function(){return arguments.length?t.apply(n,ar(i,arguments,0)):t.apply(n,i)}:function(){return arguments.length?t.apply(n,arguments):t.call(n)}}function ps(t,i){var r=i;return typeof t=="string"&&t.charAt(0)==="$"&&t.charAt(1)==="$"?r=undefined:sr(i)?r="$WINDOW":i&&n.document===i?r="$DOCUMENT":hr(i)&&(r="$SCOPE"),r}function vr(n,t){return u(n)?undefined:(g(t)||(t=t?2:null),JSON.stringify(n,ps,t))}function ws(n){return h(n)?JSON.parse(n):n}function ks(n,t){n=n.replace(bs,"");var i=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return it(i)?t:i}function uy(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function fe(n,t,i){i=i?-1:1;var r=n.getTimezoneOffset(),u=ks(t,r);return uy(n,i*(u-r))}function yt(n){n=f(n).clone().empty();var t=f("<div>").append(n).html();try{return n[0].nodeType===ii?a(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(n,t){return"<"+a(t)})}catch(i){return a(t)}}function ds(n){try{return decodeURIComponent(n)}catch(t){}}function ee(n){var i={};return t((n||"").split("&"),function(n){var f,t,u;n&&(t=n=n.replace(/\+/g,"%20"),f=n.indexOf("="),f!==-1&&(t=n.substring(0,f),u=n.substring(f+1)),t=ds(t),r(t)&&(u=r(u)?ds(u):!0,ot.call(i,t)?c(i[t])?i[t].push(u):i[t]=[i[t],u]:i[t]=u))}),i}function oe(n){var i=[];return t(n,function(n,r){c(n)?t(n,function(n){i.push(et(r,!0)+(n===!0?"":"="+et(n,!0)))}):i.push(et(r,!0)+(n===!0?"":"="+et(n,!0)))}),i.length?i.join("&"):""}function yr(n){return et(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function fy(n,t){for(var i,u=si.length,r=0;r<u;++r)if(i=si[r]+t,h(i=n.getAttribute(i)))return i;return null}function ey(t){var i=t.currentScript,r,u;return i?(i instanceof n.HTMLScriptElement||i instanceof n.SVGScriptElement)?(r=i.attributes,u=[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")],u.every(function(n){if(!n)return!0;if(!n.value)return!1;var i=t.createElement("a");if(i.href=n.value,t.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})):!1:!0}function oy(i,r){var u,f,e={};if(t(si,function(n){var t=n+"app";!u&&i.hasAttribute&&i.hasAttribute(t)&&(u=i,f=i.getAttribute(t))}),t(si,function(n){var r=n+"app",t;!u&&(t=i.querySelector("["+r.replace(":","\\:")+"]"))&&(u=t,f=t.getAttribute(r))}),u){if(!gs){n.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");return}e.strictDi=fy(u,"strict-di")!==null;r(u,f?[f]:[],e)}}function nh(i,r,u){var s;o(u)||(u={});s={strictDi:!1};u=v(s,u);var h=function(){var e,t;if(i=f(i),i.injector()){e=i[0]===n.document?"document":yt(i);throw ei("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"));}return r=r||[],r.unshift(["$provide",function(n){n.value("$rootElement",i)}]),u.debugInfoEnabled&&r.push(["$compileProvider",function(n){n.debugInfoEnabled(!0)}]),r.unshift("ng"),t=kr(r,u.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(n,t,i,r){n.$apply(function(){t.data("$injector",r);i(t)(n)})}]),t},c=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;if(n&&c.test(n.name)&&(u.debugInfoEnabled=!0,n.name=n.name.replace(c,"")),n&&!l.test(n.name))return h();n.name=n.name.replace(l,"");ut.resumeBootstrap=function(n){return t(n,function(n){r.push(n)}),h()};e(ut.resumeDeferredBootstrap)&&ut.resumeDeferredBootstrap()}function sy(){n.name="NG_ENABLE_DEBUG_INFO!"+n.name;n.location.reload()}function hy(n){var t=ut.element(n).injector();if(!t)throw ei("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ih(n,t){return t=t||"_",n.replace(th,function(n,i){return(i?t:"")+n.toLowerCase()})}function cy(){var i,t;se||(t=lr(),bt=u(t)?n.jQuery:t?n[t]:undefined,bt&&bt.fn.on?(f=bt,v(bt.fn,{scope:hi.scope,isolateScope:hi.isolateScope,controller:hi.controller,injector:hi.injector,inheritedData:hi.inheritedData}),i=bt.cleanData,bt.cleanData=function(n){for(var t,u=0,r;(r=n[u])!=null;u++)t=bt._data(r,"events"),t&&t.$destroy&&bt(r).triggerHandler("$destroy");i(n)}):f=w,ut.element=f,se=!0)}function pr(n,t,i){if(!n)throw ei("areq","Argument '{0}' is {1}",t||"?",i||"required");return n}function cu(n,t,i){return i&&c(n)&&(n=n[n.length-1]),pr(e(n),t,"not a function, got "+(n&&typeof n=="object"?n.constructor.name||"Object":typeof n)),n}function di(n,t){if(n==="hasOwnProperty")throw ei("badname","hasOwnProperty is not a valid {0} name",t);}function rh(n,t,i){var r;if(!t)return n;var u=t.split("."),f,o=n,s=u.length;for(r=0;r<s;r++)f=u[r],n&&(n=(o=n)[f]);return!i&&e(n)?ki(o,n):n}function lu(n){for(var t=n[0],u=n[n.length-1],i,r=1;t!==u&&(t=t.nextSibling);r++)(i||n[r]!==t)&&(i||(i=f(wi.call(n,0,r))),i.push(t));return i||n}function p(){return Object.create(null)}function he(n){if(n==null)return"";switch(typeof n){case"string":break;case"number":n=""+n;break;default:n=!gf(n)||c(n)||ft(n)?vr(n):n.toString()}return n}function ay(n){function t(n,t,i){return n[t]||(n[t]=i())}var f=l("$injector"),u=l("ng"),i=t(n,"angular",Object);return i.$$minErr=i.$$minErr||l,t(i,"module",function(){var n={};return function(i,s,h){var c={},l=function(n,t){if(n==="hasOwnProperty")throw u("badname","hasOwnProperty is not a valid {0} name",t);};return l(i,"module"),s&&n.hasOwnProperty(i)&&(n[i]=null),t(n,i,function(){function v(n,i,r,u){return u||(u=t),function(){return u[r||"push"]([n,i,arguments]),a}}function n(n,r,u){return u||(u=t),function(t,f){return f&&e(f)&&(f.$$moduleName=i),u.push([n,r,arguments]),a}}if(!s)throw f("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],l=[],y=[],p=v("$injector","invoke","push",l),a={_invokeQueue:t,_configBlocks:l,_runBlocks:y,info:function(n){if(r(n)){if(!o(n))throw u("aobj","Argument '{0}' must be an object","value");return c=n,this}return c},requires:s,name:i,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:v("$provide","value"),constant:v("$provide","constant","unshift"),decorator:n("$provide","decorator",l),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:p,run:function(n){return y.push(n),this}};return h&&p(h),a})}})}function pt(n,t){var i,u,r;if(c(n))for(t=t||[],i=0,u=n.length;i<u;i++)t[i]=n[i];else if(o(n)){t=t||{};for(r in n)r.charAt(0)==="$"&&r.charAt(1)==="$"||(t[r]=n[r])}return t||n}function vy(n,t){var i=[];return pf(t)&&(n=ut.copy(n,null,t)),JSON.stringify(n,function(n,t){if(t=ps(n,t),o(t)){if(i.indexOf(t)>=0)return"...";i.push(t)}return t})}function fh(n,t){return typeof n=="function"?n.toString().replace(/ \{[\s\S]*$/,""):u(n)?"undefined":typeof n!="string"?vy(n,t):n}function yy(i){v(i,{errorHandlingConfig:lv,bootstrap:nh,copy:oi,extend:v,merge:kv,equals:ht,element:f,forEach:t,injector:kr,noop:s,bind:ki,toJson:vr,fromJson:ws,identity:er,isUndefined:u,isDefined:r,isString:h,isFunction:e,isObject:o,isNumber:g,isElement:ie,isArray:c,version:eh,isDate:ft,lowercase:a,uppercase:fr,callbacks:{$$counter:0},getTestability:hy,reloadWithDebugInfo:sy,$$minErr:l,$$csp:ti,$$encodeUriSegment:yr,$$encodeUriQuery:et,$$stringify:he});wf=ay(n);wf("ng",["ngLocale"],["$provide",function(n){n.provider({$$sanitizeUri:ok});n.provider("$compile",tc).directive({a:ta,input:wa,textarea:wa,form:ld,script:bn,select:gn,option:ntt,ngBind:og,ngBindHtml:hg,ngBindTemplate:sg,ngClass:lg,ngClassEven:vg,ngClassOdd:ag,ngCloak:yg,ngController:pg,ngForm:ad,ngHide:cn,ngIf:bg,ngInclude:kg,ngInit:gg,ngNonBindable:rn,ngPluralize:on,ngRepeat:sn,ngShow:hn,ngStyle:ln,ngSwitch:an,ngSwitchWhen:vn,ngSwitchDefault:yn,ngOptions:en,ngTransclude:wn,ngModel:tv,ngList:nn,ngChange:cg,pattern:sv,ngPattern:sv,required:ov,ngRequired:ov,minlength:cv,ngMinlength:cv,maxlength:hv,ngMaxlength:hv,ngValue:eg,ngModelOptions:rv}).directive({ngInclude:dg}).directive(uu).directive(ba);n.provider({$anchorScroll:dp,$animate:uw,$animateCss:ow,$$animateJs:iw,$$animateQueue:rw,$$AnimateRunner:ew,$$animateAsyncRun:fw,$browser:hw,$cacheFactory:cw,$controller:yw,$document:pw,$$isDocumentHidden:ww,$exceptionHandler:bw,$filter:cl,$$forceReflow:kw,$interpolate:sb,$interval:hb,$http:ub,$httpParamSerializer:tb,$httpParamSerializerJQLike:ib,$httpBackend:eb,$xhrFactory:fb,$jsonpCallbacks:cb,$location:wb,$log:bb,$parse:ik,$rootScope:ek,$q:rk,$$q:uk,$sce:lk,$sceDelegate:ck,$sniffer:ak,$templateCache:lw,$templateRequest:vk,$$testability:yk,$timeout:pk,$window:wk,$$rAF:fk,$$jqLite:cp,$$Map:lp,$$cookieReader:bk})}]).info({angularVersion:"1.6.9"})}function py(){return++oh}function ky(n){return vu(n.replace(by,"ms-"))}function sh(n,t){return t.toUpperCase()}function vu(n){return n.replace(wy,sh)}function ae(n){return!gy.test(n)}function ve(n){var t=n.nodeType;return t===kt||!t||t===uh}function ip(n){for(var t in gi[n.ng339])return!0;return!1}function hh(n,i){var r,o,f,u=i.createDocumentFragment(),e=[],s;if(ae(n))e.push(i.createTextNode(n));else{for(r=u.appendChild(i.createElement("div")),o=(np.exec(n)||["",""])[1].toLowerCase(),f=ct[o]||ct._default,r.innerHTML=f[1]+n.replace(tp,"<$1><\/$2>")+f[2],s=f[0];s--;)r=r.lastChild;e=ar(e,r.childNodes);r=u.firstChild;r.textContent=""}return u.textContent="",u.innerHTML="",t(e,function(n){u.appendChild(n)}),u}function rp(t,i){i=i||n.document;var r;return(r=dy.exec(t))?[i.createElement(r[1])]:(r=hh(t,i))?r.childNodes:[]}function up(n,t){var i=n.parentNode;i&&i.replaceChild(t,n);t.appendChild(n)}function w(n){if(n instanceof w)return n;var t;if(h(n)&&(n=y(n),t=!0),!(this instanceof w)){if(t&&n.charAt(0)!=="<")throw le("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new w(n)}t?be(this,rp(n)):e(n)?yh(n):be(this,n)}function ye(n){return n.cloneNode(!0)}function yu(n,t){!t&&ve(n)&&f.cleanData([n]);n.querySelectorAll&&f.cleanData(n.querySelectorAll("*"))}function lh(n,i,u,f){var h;if(r(f))throw le("offargs","jqLite#off() does not support the `selector` argument");var e=pu(n),o=e&&e.events,s=e&&e.handle;if(s)if(i)h=function(t){var i=o[t];r(u)&&cr(i||[],u);r(u)&&i&&i.length>0||(n.removeEventListener(t,s),delete o[t])},t(i.split(" "),function(n){h(n);au[n]&&h(au[n])});else for(i in o)i!=="$destroy"&&n.removeEventListener(i,s),delete o[i]}function pe(n,t){var r=n.ng339,i=r&&gi[r];if(i){if(t){delete i.data[t];return}i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),lh(n));delete gi[r];n.ng339=undefined}}function pu(n,t){var i=n.ng339,r=i&&gi[i];return t&&!r&&(n.ng339=i=py(),r=gi[i]={events:{},data:{},handle:undefined}),r}function we(n,t,i){if(ve(n)){var f,e=r(i),s=!e&&t&&!o(t),c=!t,h=pu(n,!s),u=h&&h.data;if(e)u[vu(t)]=i;else{if(c)return u;if(s)return u&&u[vu(t)];for(f in t)u[vu(f)]=t[f]}}}function wu(n,t){return n.getAttribute?(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function bu(n,i){if(i&&n.setAttribute){var u=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=u;t(i.split(" "),function(n){n=y(n);r=r.replace(" "+n+" "," ")});r!==u&&n.setAttribute("class",y(r))}}function ku(n,i){if(i&&n.setAttribute){var u=(" "+(n.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),r=u;t(i.split(" "),function(n){n=y(n);r.indexOf(" "+n+" ")===-1&&(r+=n+" ")});r!==u&&n.setAttribute("class",y(r))}}function be(n,t){var i,r;if(t)if(t.nodeType)n[n.length++]=t;else if(i=t.length,typeof i=="number"&&t.window!==t){if(i)for(r=0;r<i;r++)n[n.length++]=t[r]}else n[n.length++]=t}function ah(n,t){return du(n,"$"+(t||"ngController")+"Controller")}function du(n,t,i){var e,u,o;for(n.nodeType===uh&&(n=n.documentElement),e=c(t)?t:[t];n;){for(u=0,o=e.length;u<o;u++)if(r(i=f.data(n,e[u])))return i;n=n.parentNode||n.nodeType===ce&&n.host}}function vh(n){for(yu(n,!0);n.firstChild;)n.removeChild(n.firstChild)}function gu(n,t){t||yu(n);var i=n.parentNode;i&&i.removeChild(n)}function fp(t,i){if(i=i||n,i.document.readyState==="complete")i.setTimeout(t);else f(i).on("load",t)}function yh(t){function i(){n.document.removeEventListener("DOMContentLoaded",i);n.removeEventListener("load",i);t()}n.document.readyState==="complete"?n.setTimeout(t):(n.document.addEventListener("DOMContentLoaded",i),n.addEventListener("load",i))}function ph(n,t){var i=br[t.toLowerCase()];return i&&ke[vt(n)]&&i}function ep(n){return de[n]}function op(n,t){var i=function(i,r){var f,e,s,h,o;if(i.isDefaultPrevented=function(){return i.defaultPrevented},f=t[r||i.type],e=f?f.length:0,e)for(u(i.immediatePropagationStopped)&&(s=i.stopImmediatePropagation,i.stopImmediatePropagation=function(){i.immediatePropagationStopped=!0;i.stopPropagation&&i.stopPropagation();s&&s.call(i)}),i.isImmediatePropagationStopped=function(){return i.immediatePropagationStopped===!0},h=f.specialHandlerWrapper||sp,e>1&&(f=pt(f)),o=0;o<e;o++)i.isImmediatePropagationStopped()||h(n,i,f[o])};return i.elem=n,i}function sp(n,t,i){i.call(n,t)}function hp(n,t,i){var r=t.relatedTarget;r&&(r===n||ch.call(n,r))||i.call(n,t)}function cp(){this.$get=function(){return v(w,{hasClass:function(n,t){return n.attr&&(n=n[0]),wu(n,t)},addClass:function(n,t){return n.attr&&(n=n[0]),ku(n,t)},removeClass:function(n,t){return n.attr&&(n=n[0]),bu(n,t)}})}}function nr(n,t){var r=n&&n.$$hashKey,i;return r?(typeof r=="function"&&(r=n.$$hashKey()),r):(i=typeof n,i==="function"||i==="object"&&n!==null?n.$$hashKey=i+":"+(t||su)():i+":"+n)}function bh(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function kh(n){return Function.prototype.toString.call(n)}function dh(n){var t=kh(n).replace(wp,"");return t.match(ap)||t.match(vp)}function bp(n){var t=dh(n);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function kp(n,i,r){var u,e,f;if(typeof n=="function"){if(!(u=n.$inject)){if(u=[],n.length){if(i){h(r)&&r||(r=n.name||bp(n));throw ci("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",r);}e=dh(n);t(e[1].split(yp),function(n){n.replace(pp,function(n,t,i){u.push(i)})})}n.$inject=u}}else c(n)?(f=n.length-1,cu(n[f],"fn"),u=n.slice(0,f)):cu(n,"fn",!0);return u}function kr(n,i){function v(n){return function(i,r){if(o(i))t(i,bf(n));else return n(i,r)}}function tt(n,t){if(di(n,"service"),(e(t)||c(t))&&(t=f.instantiate(t)),!t.$get)throw ci("pget","Provider '{0}' must define $get factory method.",n);return s[n+l]=t}function rt(n,t){return function(){var i=r.invoke(t,this);if(u(i))throw ci("undef","Provider '{0}' must return a value from $get factory method.",n);return i}}function b(n,t,i){return tt(n,{$get:i!==!1?rt(n,t):t})}function ft(n,t){return b(n,["$injector",function(n){return n.instantiate(t)}])}function et(n,t){return b(n,st(t),!1)}function ot(n,t){di(n,"constant");s[n]=t;g[n]=t}function ht(n,t){var i=f.get(n+l),u=i.$get;i.$get=function(){var n=r.invoke(u,i);return r.invoke(t,null,{$delegate:n})}}function k(n){pr(u(n)||c(n),"modulesToLoad","not an array");var o=[],i;return t(n,function(n){function u(n){for(var i,r,t=0,u=n.length;t<u;t++)i=n[t],r=f.get(i[0]),r[i[1]].apply(r,i[2])}if(!d.get(n)){d.set(n,!0);try{h(n)?(i=wf(n),r.modules[n]=i,o=o.concat(k(i.requires)).concat(i._runBlocks),u(i._invokeQueue),u(i._configBlocks)):e(n)?o.push(f.invoke(n)):c(n)?o.push(f.invoke(n)):cu(n,"module")}catch(t){c(n)&&(n=n[n.length-1]);t.message&&t.stack&&t.stack.indexOf(t.message)===-1&&(t=t.message+"\n"+t.stack);throw ci("modulerr","Failed to instantiate module {0} due to:\n{1}",n,t.stack||t.message||t);}}}),o}function it(n,t){function r(i,r){if(n.hasOwnProperty(i)){if(n[i]===y)throw ci("cdep","Circular dependency found: {0}",i+" <- "+a.join(" <- "));return n[i]}try{return a.unshift(i),n[i]=y,n[i]=t(i,r),n[i]}catch(u){n[i]===y&&delete n[i];throw u;}finally{a.shift()}}function u(n,t,u){for(var f,o=[],s=kr.$$annotate(n,i,u),e=0,h=s.length;e<h;e++){if(f=s[e],typeof f!="string")throw ci("itkn","Incorrect injection token! Expected service name as string, got {0}",f);o.push(t&&t.hasOwnProperty(f)?t[f]:r(f,u))}return o}function f(n){if(at||typeof n!="function")return!1;var t=n.$$ngIsClass;return ni(t)||(t=n.$$ngIsClass=/^(?:class\b|constructor\()/.test(kh(n))),t}function e(n,t,i,r){typeof i=="string"&&(r=i,i=null);var e=u(n,i,r);return c(n)&&(n=n[n.length-1]),f(n)?(e.unshift(null),new(Function.prototype.bind.apply(n,e))):n.apply(t,e)}function o(n,t,i){var f=c(n)?n[n.length-1]:n,r=u(n,t,i);return r.unshift(null),new(Function.prototype.bind.apply(f,r))}return{invoke:e,instantiate:o,get:r,annotate:kr.$$annotate,has:function(t){return s.hasOwnProperty(t+l)||n.hasOwnProperty(t)}}}var nt;i=i===!0;var y={},l="Provider",a=[],d=new nf,s={$provide:{provider:v(tt),factory:v(b),service:v(ft),value:v(et),constant:v(ot),decorator:ht}},f=s.$injector=it(s,function(n,t){ut.isString(t)&&a.push(t);throw ci("unpr","Unknown provider: {0}",a.join(" <- "));}),g={},w=it(g,function(n,t){var i=f.get(n+l,t);return r.invoke(i.$get,i,undefined,n)}),r=w;return s["$injector"+l]={$get:st(w)},r.modules=f.modules=p(),nt=k(n),r=w.get("$injector"),r.strictDi=i,t(nt,function(n){n&&r.invoke(n)}),r.loadNewModules=function(n){t(k(n),function(n){n&&r.invoke(n)})},r}function dp(){var n=!0;this.disableAutoScrolling=function(){n=!1};this.$get=["$window","$location","$rootScope",function(t,i,r){function s(n){var t=null;return Array.prototype.some.call(n,function(n){if(vt(n)==="a")return t=n,!0}),t}function c(){var n=f.yOffset,i,r;return e(n)?n=n():ie(n)?(i=n[0],r=t.getComputedStyle(i),n=r.position!=="fixed"?0:i.getBoundingClientRect().bottom):g(n)||(n=0),n}function u(n){var i,r;n?(n.scrollIntoView(),i=c(),i&&(r=n.getBoundingClientRect().top,t.scrollBy(0,r-i))):t.scrollTo(0,0)}function f(n){n=h(n)?n:g(n)?n.toString():i.hash();var t;n?(t=o.getElementById(n))?u(t):(t=s(o.getElementsByName(n)))?u(t):n==="top"&&u(null):u(null)}var o=t.document;return n&&r.$watch(function(){return i.hash()},function(n,t){(n!==t||n!=="")&&fp(function(){r.$evalAsync(f)})}),f}]}function dr(n,t){return!n&&!t?"":n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t}function nw(n){for(var i,t=0;t<n.length;t++)if(i=n[t],i.nodeType===gp)return i}function tw(n){h(n)&&(n=n.split(" "));var i=p();return t(n,function(n){n.length&&(i[n]=!0)}),i}function li(n){return o(n)?n:{}}function sw(n,i,r,e){function d(n){try{n.apply(null,bi(arguments,1))}finally{if(l--,l===0)while(b.length)try{b.pop()()}catch(t){r.error(t)}}}function et(n){var t=n.indexOf("#");return t===-1?"":n.substr(t)}function tt(){v=null;rt()}function it(){h=st();h=u(h)?null:h;ht(h,k)&&(h=k);k=h;y=h}function rt(){var n=y;(it(),a!==o.url()||n!==h)&&(a=o.url(),y=h,t(g,function(n){n(o.url(),h)}))}var o=this,c=n.location,p=n.history,ut=n.setTimeout,ft=n.clearTimeout,w={},l,b,g,nt,k;o.isMock=!1;l=0;b=[];o.$$completeOutstandingRequest=d;o.$$incOutstandingRequestCount=function(){l++};o.notifyWhenNoOutstandingRequests=function(n){l===0?n():b.push(n)};var h,y,a=c.href,ot=i.find("base"),v=null,st=e.history?function(){try{return p.state}catch(n){}}:s;it();o.url=function(t,i,r){var s,f;return u(r)&&(r=null),c!==n.location&&(c=n.location),p!==n.history&&(p=n.history),t?(s=y===r,a===t&&(!e.history||s))?o:(f=a&&ai(a)===ai(t),a=t,y=r,!e.history||f&&s?(f||(v=t),i?c.replace(t):f?c.hash=et(t):c.href=t,c.href!==t&&(v=t)):(p[i?"replaceState":"pushState"](r,"",t),it()),v&&(v=t),o):v||c.href.replace(/%27/g,"'")};o.state=function(){return h};g=[];nt=!1;k=null;o.onUrlChange=function(t){if(!nt){if(e.history)f(n).on("popstate",tt);f(n).on("hashchange",tt);nt=!0}return g.push(t),t};o.$$applicationDestroyed=function(){f(n).off("hashchange popstate",tt)};o.$$checkUrlChange=rt;o.baseHref=function(){var n=ot.attr("href");return n?n.replace(/^(https?:)?\/\/[^/]*/,""):""};o.defer=function(n,t){var i;return l++,i=ut(function(){delete w[i];d(n)},t||0),w[i]=!0,i};o.defer.cancel=function(n){return w[n]?(delete w[n],ft(n),d(s),!0):!1}}function hw(){this.$get=["$window","$log","$sniffer","$document",function(n,t,i,r){return new sw(n,r,t,i)}]}function cw(){this.$get=function(){function i(t,i){function y(n){n!==o&&(r?r===n&&(r=n.n):r=n,c(n.n,n.p),c(n,o),o=n,o.n=null)}function c(n,t){n!==t&&(n&&(n.p=t),t&&(t.n=n))}if(t in n)throw l("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var s=0,a=v({},i,{id:t}),f=p(),h=i&&i.capacity||Number.MAX_VALUE,e=p(),o=null,r=null;return n[t]={put:function(n,t){if(!u(t)){if(h<Number.MAX_VALUE){var i=e[n]||(e[n]={key:n});y(i)}return n in f||s++,f[n]=t,s>h&&this.remove(r.key),t}},get:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;y(t)}return f[n]},remove:function(n){if(h<Number.MAX_VALUE){var t=e[n];if(!t)return;t===o&&(o=t.p);t===r&&(r=t.n);c(t.n,t.p);delete e[n]}n in f&&(delete f[n],s--)},removeAll:function(){f=p();s=0;e=p();o=r=null},destroy:function(){f=null;a=null;e=null;delete n[t]},info:function(){return v({},a,{size:s})}}}var n={};return i.info=function(){var i={};return t(n,function(n,t){i[t]=n.info()}),i},i.get=function(t){return n[t]},i}}function lw(){this.$get=["$cacheFactory",function(n){return n("templates")}]}function aw(){}function tc(i,l){function et(n,i,r){var f=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,u=p();return t(n,function(n,t){if(n in ft){u[t]=ft[n];return}var e=n.match(f);if(!e)throw b("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,t,n,r?"controller bindings definition":"isolate scope definition");u[t]={mode:e[1][0],collection:e[2]==="*",optional:e[3]==="?",attrName:e[4]||t};e[4]&&(ft[n]=u[t])}),u}function gt(n,t){var i={isolateScope:null,bindToController:null};if(o(n.scope)&&(n.bindToController===!0?(i.bindToController=et(n.scope,t,!0),i.isolateScope={}):i.isolateScope=et(n.scope,t,!1)),o(n.bindToController)&&(i.bindToController=et(n.bindToController,t,!0)),i.bindToController&&!n.controller)throw b("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return i}function ti(n){var t=n.charAt(0);if(!t||t!==a(t))throw b("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",n);if(n!==n.trim())throw b("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",n);}function ri(n){var i=n.require||n.controller&&n.name;return!c(i)&&o(i)&&t(i,function(n,t){var r=n.match(ct),u=n.substring(r[0].length);u||(i[t]=r[0]+t)}),i}function ui(n,t){if(n&&!(h(n)&&/[EACM]/.test(n)))throw b("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",n,t);return n||"EA"}var k={},ut="Directive",lt=/^\s*directive:\s*([\w-]+)\s+(.*)$/,pt=/(([\w-]+)(?::([^;]+))?;?)/,bt=ry("ngSrc,ngSrcset,src,srcset"),ct=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,dt=/^(on[a-z]+|formaction)$/,ft=p(),w,g,nt,d,tt,it;this.directive=function fi(n,r){return pr(n,"name"),di(n,"directive"),h(n)?(ti(n),pr(r,"directiveFactory"),k.hasOwnProperty(n)||(k[n]=[],i.factory(n+ut,["$injector","$exceptionHandler",function(i,r){var u=[];return t(k[n],function(t,f){try{var o=i.invoke(t);e(o)?o={compile:st(o)}:!o.compile&&o.link&&(o.compile=st(o.link));o.priority=o.priority||0;o.index=f;o.name=o.name||n;o.require=ri(o);o.restrict=ui(o.restrict,n);o.$$moduleName=t.$$moduleName;u.push(o)}catch(s){r(s)}}),u}])),k[n].push(r)):t(n,bf(fi)),this};this.component=function ei(n,i){function u(n){function u(t){return e(t)||c(t)?function(i,r){return n.invoke(t,this,{$element:i,$attrs:r})}:t}var o=!i.template&&!i.templateUrl?"":i.template,f={controller:r,controllerAs:vw(i.controller)||i.controllerAs||"$ctrl",template:u(o),templateUrl:u(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return t(i,function(n,t){t.charAt(0)==="$"&&(f[t]=n)}),f}if(!h(n))return t(n,bf(ki(this,ei))),this;var r=i.controller||function(){};return t(i,function(n,t){t.charAt(0)==="$"&&(u[t]=n,e(r)&&(r[t]=n))}),u.$inject=["$injector"],this.directive(n,u)};this.aHrefSanitizationWhitelist=function(n){return r(n)?(l.aHrefSanitizationWhitelist(n),this):l.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(n){return r(n)?(l.imgSrcSanitizationWhitelist(n),this):l.imgSrcSanitizationWhitelist()};w=!0;this.debugInfoEnabled=function(n){return r(n)?(w=n,this):w};g=!1;this.preAssignBindingsEnabled=function(n){return r(n)?(g=n,this):g};nt=!1;this.strictComponentBindingsEnabled=function(n){return r(n)?(nt=n,this):nt};d=10;this.onChangesTtl=function(n){return arguments.length?(d=n,this):d};tt=!0;this.commentDirectivesEnabled=function(n){return arguments.length?(tt=n,this):tt};it=!0;this.cssClassDirectivesEnabled=function(n){return arguments.length?(it=n,this):it};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(i,l,ft,et,st,ti,ri,ui,fi,ei){function ru(){try{if(!--fr){si=undefined;throw b("infchng","{0} $onChanges() iterations reached. Aborting!\n",d);}ri.$apply(function(){for(var n=[],t=0,i=si.length;t<i;++t)try{si[t]()}catch(r){n.push(r)}if(si=undefined,n.length)throw n;})}finally{fr++}}function di(n,t){if(t)for(var u=Object.keys(t),r,i=0,f=u.length;i<f;i++)r=u[i],this[r]=t[r];else this.$attr={};this.$$element=n}function uu(n,t,i){ur.innerHTML="<span "+t+">";var u=ur.firstChild.attributes,r=u[0];u.removeNamedItem(r.name);r.value=i;n.attributes.setNamedItem(r)}function gi(n,t){try{n.addClass(t)}catch(i){}}function oi(n,t,i,r,u){var o,e;return n instanceof f||(n=f(n)),o=nr(n,t,n,i,r,u),oi.$$addScopeClass(n),e=null,function(t,i,r){var s,l;if(!n)throw b("multilink","This element has already been linked.");pr(t,"scope");u&&u.needsNewScope&&(t=t.$parent.$new());r=r||{};var h=r.parentBoundTranscludeFn,c=r.transcludeControllers,a=r.futureParentElement;if(h&&h.$$boundTransclude&&(h=h.$$boundTransclude),e||(e=ou(a)),s=e!=="html"?f(rr(e,f("<div>").append(n).html())):i?hi.clone.call(n):n,c)for(l in c)s.data("$"+l+"Controller",c[l].instance);return oi.$$addScopeInfo(s,t),i&&i(s,t),o&&o(t,s,s,h),i||(n=o=null),s}}function ou(n){var t=n&&n[0];return t?vt(t)!=="foreignobject"&&rt.call(t).match(/SVG/)?"svg":"html":"html"}function nr(n,t,i,r,u,e){function k(n,i,r,u){var o,s,c,l,e,y,v,w,a,b;if(p)for(b=i.length,a=new Array(b),e=0;e<h.length;e+=3)v=h[e],a[v]=i[v];else a=i;for(e=0,y=h.length;e<y;)c=a[h[e++]],o=h[e++],s=h[e++],o?(o.scope?(l=n.$new(),oi.$$addScopeInfo(f(c),l)):l=n,w=o.transcludeOnThisElement?li(n,o.transclude,u):!o.templateOnThisElement&&u?u:!u&&t?li(n,t):null,o(s,l,c,r,w)):s&&s(n,c.childNodes,undefined,u)}for(var h=[],b=c(n)||n instanceof f,l,a,o,v,y,w,p,s=0;s<n.length;s++)l=new di,at===11&&su(n,s,b),a=tr(n[s],[],l,s===0?r:undefined,u),o=a.length?yr(a,n[s],l,t,i,null,[],[],e):null,o&&o.scope&&oi.$$addScopeClass(l.$$element),y=o&&o.terminal||!(v=n[s].childNodes)||!v.length?null:nr(v,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||y)&&(h.push(s,o,y),w=!0,p=p||o),e=null;return w?k:null}function su(n,t,i){var u=n[t],f=u.parentNode,r;if(u.nodeType===ii)for(;;){if(r=f?u.nextSibling:n[t+1],!r||r.nodeType!==ii)break;u.nodeValue=u.nodeValue+r.nodeValue;r.parentNode&&r.parentNode.removeChild(r);i&&r===n[t+1]&&n.splice(t+1,1)}}function li(n,t,i){function u(r,u,f,e,o){return r||(r=n.$new(!1,o),r.$$transcluded=!0),t(r,u,{parentBoundTranscludeFn:i,transcludeControllers:f,futureParentElement:e})}var f=u.$$slots=p();for(var r in t.$$slots)f[r]=t.$$slots[r]?li(n,t.$$slots[r],i):null;return u}function tr(n,t,i,r,u){var tt=n.nodeType,it=i.$attr,c,a,s,d,g,nt;switch(tt){case kt:a=vt(n);vi(t,wt(a),"E",r,u);for(var v,f,e,p,w,l,b=n.attributes,k=0,rt=b&&b.length;k<rt;k++)d=!1,g=!1,v=b[k],f=v.name,w=v.value,p=wt(f),l=fu.test(p),l&&(f=f.replace(ge,"").substr(8).replace(/_(.)/g,function(n,t){return t.toUpperCase()})),nt=p.match(eu),nt&&lu(nt[1])&&(d=f,g=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),e=wt(f.toLowerCase()),it[e]=f,(l||!i.hasOwnProperty(e))&&(i[e]=w,ph(n,e)&&(i[e]=!0)),wu(n,t,w,e,l),vi(t,e,"A",r,u,d,g);if(a==="input"&&n.getAttribute("type")==="hidden"&&n.setAttribute("autocomplete","off"),!iu)break;if(s=n.className,o(s)&&(s=s.animVal),h(s)&&s!=="")while(c=pt.exec(s))e=wt(c[2]),vi(t,e,"C",r,u)&&(i[e]=y(c[3])),s=s.substr(c.index+c[0].length);break;case ii:yu(t,n.nodeValue);break;case wr:if(!tu)break;hu(n,t,i,r,u)}return t.sort(vu),t}function hu(n,t,i,r,u){var f,e;try{f=lt.exec(n.nodeValue);f&&(e=wt(f[1]),vi(t,e,"M",r,u)&&(i[e]=y(f[2])))}catch(o){}}function ar(n,t,i){var r=[],u=0;if(t&&n.hasAttribute&&n.hasAttribute(t)){do{if(!n)throw b("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,i);n.nodeType===kt&&(n.hasAttribute(t)&&u++,n.hasAttribute(i)&&u--);r.push(n);n=n.nextSibling}while(u>0)}else r.push(n);return f(r)}function vr(n,t,i){return function(r,u,f,e,o){return u=ar(u[0],t,i),n(r,u,f,e,o)}}function ir(n,t,i,r,u,f){var e;return n?oi(t,i,r,u,f):function(){return e||(e=oi(t,i,r,u,f),t=i=f=null),e.apply(this,arguments)}}function yr(n,i,r,s,h,l,a,w,k){function er(n,t,i,r){n&&(i&&(n=vr(n,i,r)),n.require=d.require,n.directiveName=st,(nt===d||d.$$isolateScope)&&(n=dr(n,{isolateScope:!0})),a.push(n));t&&(i&&(t=vr(t,i,r)),t.require=d.require,t.directiveName=st,(nt===d||d.$$isolateScope)&&(t=dr(t,{isolateScope:!0})),w.push(t))}function lt(n,s,h,l,y){function dt(n,t,i,r){var e,f;if(hr(n)||(r=i,i=t,t=n,n=undefined),ti&&(e=it),i||(i=ti?p.parent():p),r){if(f=y.$$slots[r],f)return f(n,t,e,i,at);if(u(f))throw b("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,yt(p));}else return y(n,t,e,i,at)}var et,kt,d,tt,st,it,ht,p,rt,wt,bt,pt,at;i===h?(rt=r,p=r.$$element):(p=f(h),rt=new di(p,r));st=s;nt?tt=s.$new(!0):ut&&(st=s.$parent);y&&(ht=dt,ht.$$boundTransclude=y,ht.isSlotFilled=function(n){return!!y.$$slots[n]});ot&&(it=cu(p,rt,ht,ot,tt,s,nt));nt&&(oi.$$addScopeInfo(p,tt,!0,!(ct&&(ct===nt||ct===nt.$$originalDirective))),oi.$$addScopeClass(p,!0),tt.$$isolateBindings=nt.$$isolateBindings,wt=wi(s,rt,tt,tt.$$isolateBindings,nt),wt.removeWatches&&tt.$on("$destroy",wt.removeWatches));for(bt in it){var lt=ot[bt],k=it[bt],vt=lt.$$bindings.bindToController;g?(k.bindingInfo=vt?wi(st,rt,k.instance,vt,lt):{},pt=k(),pt!==k.instance&&(k.instance=pt,p.data("$"+lt.name+"Controller",pt),k.bindingInfo.removeWatches&&k.bindingInfo.removeWatches(),k.bindingInfo=wi(st,rt,k.instance,vt,lt))):(k.instance=k(),p.data("$"+lt.name+"Controller",k.instance),k.bindingInfo=wi(st,rt,k.instance,vt,lt))}for(t(ot,function(n,t){var i=n.require;n.bindToController&&!c(i)&&o(i)&&v(it[t].instance,ai(t,i,p,it))}),t(it,function(n){var t=n.instance;if(e(t.$onChanges))try{t.$onChanges(n.bindingInfo.initialChanges)}catch(i){ft(i)}if(e(t.$onInit))try{t.$onInit()}catch(i){ft(i)}e(t.$doCheck)&&(st.$watch(function(){t.$doCheck()}),t.$doCheck());e(t.$onDestroy)&&st.$on("$destroy",function(){t.$onDestroy()})}),et=0,kt=a.length;et<kt;et++)d=a[et],gr(d,d.isolateScope?tt:s,p,rt,d.require&&ai(d.directiveName,d.require,p,it),ht);for(at=s,nt&&(nt.template||nt.templateUrl===null)&&(at=tt),n&&n(at,h.childNodes,undefined,y),et=w.length-1;et>=0;et--)d=w[et],gr(d,d.isolateScope?tt:s,p,rt,d.require&&ai(d.directiveName,d.require,p,it),ht);t(it,function(n){var t=n.instance;e(t.$postLink)&&t.$postLink()})}var ht,ui,gt,fi,bt,nr,et,pi,ei,si,hi;k=k||{};var dt=-Number.MAX_VALUE,ut=k.newScopeDirective,ot=k.controllerDirectives,nt=k.newIsolateScopeDirective,ct=k.templateDirective,ni=k.nonTlbTranscludeDirective,li=!1,vi=!1,ti=k.hasElementTranscludeDirective,tt=r.$$element=f(i),d,st,rt,ii=l,at=s,pt,gi=!1,ri=!1,it;for(ht=0,ui=n.length;ht<ui;ht++){if(d=n[ht],gt=d.$$start,fi=d.$$end,gt&&(tt=ar(i,gt,fi)),rt=undefined,dt>d.priority)break;if(it=d.scope,it&&(d.templateUrl||(o(it)?(ci("new/isolated scope",nt||ut,d,tt),nt=d):ci("new/isolated scope",nt,d,tt)),ut=ut||d),st=d.name,!gi&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(nr=ht+1;bt=n[nr++];)if(bt.transclude&&!bt.$$tlb||bt.replace&&(bt.templateUrl||bt.template)){ri=!0;break}gi=!0}if(!d.templateUrl&&d.controller&&(ot=ot||p(),ci("'"+st+"' controller",ot[st],d,tt),ot[st]=d),it=d.transclude,it)if(li=!0,d.$$tlb||(ci("transclusion",ni,d,tt),ni=d),it==="element")ti=!0,dt=d.priority,rt=tt,tt=r.$$element=f(oi.$$createComment(st,r[st])),i=tt[0],yi(h,bi(rt),i),rt[0].$$parentNode=rt[0].parentNode,at=ir(ri,rt,s,dt,ii&&ii.name,{nonTlbTranscludeDirective:ni});else{if(et=p(),o(it)){rt=[];pi=p();ei=p();t(it,function(n,t){var i=n.charAt(0)==="?";n=i?n.substring(1):n;pi[n]=t;et[t]=null;ei[t]=i});t(tt.contents(),function(n){var t=pi[wt(vt(n))];t?(ei[t]=!0,et[t]=et[t]||[],et[t].push(n)):rt.push(n)});t(ei,function(n,t){if(!n)throw b("reqslot","Required transclusion slot `{0}` was not filled.",t);});for(si in et)et[si]&&(et[si]=ir(ri,et[si],s))}else rt=f(ye(i)).contents();tt.empty();at=ir(ri,rt,s,undefined,undefined,{needsNewScope:d.$$isolateScope||d.$$newScope});at.$$slots=et}if(d.template)if(vi=!0,ci("template",ct,d,tt),ct=d,it=e(d.template)?d.template(tt,r):d.template,it=lr(it),d.replace){if(ii=d,rt=ae(it)?[]:uc(rr(d.templateNamespace,y(it))),i=rt[0],rt.length!==1||i.nodeType!==kt)throw b("tplrt","Template for directive '{0}' must have exactly one root element. {1}",st,"");yi(h,tt,i);var ur={$attr:{}},fr=tr(i,[],ur),or=n.splice(ht+1,n.length-(ht+1));(nt||ut)&&br(fr,nt,ut);n=n.concat(fr).concat(or);kr(r,ur);ui=n.length}else tt.html(it);if(d.templateUrl)vi=!0,ci("template",ct,d,tt),ct=d,d.replace&&(ii=d),lt=au(n.splice(ht,n.length-ht),tt,r,h,li&&at,a,w,{controllerDirectives:ot,newScopeDirective:ut!==d&&ut,newIsolateScopeDirective:nt,templateDirective:ct,nonTlbTranscludeDirective:ni}),ui=n.length;else if(d.compile)try{pt=d.compile(tt,r,at);hi=d.$$originalDirective||d;e(pt)?er(null,ki(hi,pt),gt,fi):pt&&er(ki(hi,pt.pre),ki(hi,pt.post),gt,fi)}catch(sr){ft(sr,yt(tt))}d.terminal&&(lt.terminal=!0,dt=Math.max(dt,d.priority))}return lt.scope=ut&&ut.scope===!0,lt.transcludeOnThisElement=li,lt.templateOnThisElement=vi,lt.transclude=at,k.hasElementTranscludeDirective=ti,lt}function ai(n,i,r,u){var f,a,e,y;if(h(i)){var s=i.match(ct),l=i.substring(s[0].length),v=s[1]||s[3],p=s[2]==="?";if(v==="^^"?r=r.parent():(f=u&&u[l],f=f&&f.instance),f||(a="$"+l+"Controller",f=v?r.inheritedData(a):r.data(a)),!f&&!p)throw b("ctreq","Controller '{0}', required by directive '{1}', can't be found!",l,n);}else if(c(i))for(f=[],e=0,y=i.length;e<y;e++)f[e]=ai(n,i[e],r,u);else o(i)&&(f={},t(i,function(t,i){f[i]=ai(n,t,r,u)}));return f||null}function cu(n,t,i,r,u,f,e){var c=p(),l,h;for(l in r){var o=r[l],a={$scope:o===e||o.$$isolateScope?u:f,$element:n,$attrs:t,$transclude:i},s=o.controller;s==="@"&&(s=t[o.name]);h=ti(s,a,!0,o.controllerAs);c[o.name]=h;n.data("$"+o.name+"Controller",h.instance)}return c}function br(n,t,i){for(var r=0,u=n.length;r<u;r++)n[r]=df(n[r],{$$isolateScope:t,$$newScope:i})}function vi(n,t,r,f,e,s,h){var l,v;if(t===e)return null;if(l=null,k.hasOwnProperty(t))for(var c,y=i.get(t+ut),a=0,p=y.length;a<p;a++)c=y[a],(u(f)||f>c.priority)&&c.restrict.indexOf(r)!==-1&&(s&&(c=df(c,{$$start:s,$$end:h})),c.$$bindings||(v=c.$$bindings=gt(c,c.name),o(v.isolateScope)&&(c.$$isolateBindings=v.isolateScope)),n.push(c),l=c);return l}function lu(n){if(k.hasOwnProperty(n))for(var r,u=i.get(n+ut),t=0,f=u.length;t<f;t++)if(r=u[t],r.multiElement)return!0;return!1}function kr(n,i){var r=i.$attr,u=n.$attr;t(n,function(t,u){u.charAt(0)!=="$"&&(i[u]&&i[u]!==t&&(t.length?t+=(u==="style"?";":" ")+i[u]:t=i[u]),n.$set(u,t,!0,r[u]))});t(i,function(t,i){n.hasOwnProperty(i)||i.charAt(0)==="$"||(n[i]=t,i!=="class"&&i!=="style"&&(u[i]=r[i]))})}function au(n,i,r,u,s,h,c,l){var v=[],p,w,k=i[0],a=n.shift(),g=df(a,{templateUrl:null,transclude:null,replace:null,$$originalDirective:a}),d=e(a.templateUrl)?a.templateUrl(i,r):a.templateUrl,nt=a.templateNamespace;return i.empty(),et(d).then(function(e){var tt,rt,ut,st,ft,ct;if(e=lr(e),a.replace){if(ut=ae(e)?[]:uc(rr(nt,y(e))),tt=ut[0],ut.length!==1||tt.nodeType!==kt)throw b("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a.name,d);rt={$attr:{}};yi(u,i,tt);ft=tr(tt,[],rt);o(a.scope)&&br(ft,!0);n=ft.concat(n);kr(r,rt)}else tt=k,i.html(e);for(n.unshift(g),p=yr(n,tt,r,s,i,a,h,c,l),t(u,function(n,t){n===tt&&(u[t]=i[0])}),w=nr(i[0].childNodes,s);v.length;){var et=v.shift(),ot=v.shift(),lt=v.shift(),ht=v.shift(),it=i[0];et.$$destroyed||(ot!==k&&(ct=ot.className,l.hasElementTranscludeDirective&&a.replace||(it=ye(tt)),yi(lt,f(ot),it),gi(f(it),ct)),st=p.transcludeOnThisElement?li(et,p.transclude,ht):ht,p(w,et,it,u,st))}v=null}).catch(function(n){ne(n)&&ft(n)}),function(n,t,i,r,u){var f=u;t.$$destroyed||(v?v.push(t,i,r,f):(p.transcludeOnThisElement&&(f=li(t,p.transclude,u)),p(w,t,i,r,f)))}}function vu(n,t){var i=t.priority-n.priority;return i!==0?i:n.name!==t.name?n.name<t.name?-1:1:n.index-t.index}function ci(n,t,i,r){function u(n){return n?" (module: "+n+")":""}if(t)throw b("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,u(t.$$moduleName),i.name,u(i.$$moduleName),n,yt(r));}function yu(n,t){var i=l(t,!0);i&&n.push({priority:0,compile:function(n){var t=n.parent(),r=!!t.length;return r&&oi.$$addBindingClass(t),function(n,t){var u=t.parent();r||oi.$$addBindingClass(u);oi.$$addBindingInfo(u,i.expressions);n.$watch(i,function(n){t[0].nodeValue=n})}}})}function rr(t,i){t=a(t||"html");switch(t){case"svg":case"math":var r=n.document.createElement("div");return r.innerHTML="<"+t+">"+i+"<\/"+t+">",r.childNodes[0].childNodes;default:return i}}function pu(n,t){if(t==="srcdoc")return ui.HTML;var i=vt(n);if(t==="src"||t==="ngSrc"){if(["img","video","audio","source","track"].indexOf(i)===-1)return ui.RESOURCE_URL}else if(t==="xlinkHref"||i==="form"&&t==="action"||i==="link"&&t==="href")return ui.RESOURCE_URL}function wu(n,t,i,r,u){var e=pu(n,r),s=!u,o=bt[r]||u,f=l(i,s,e,o);if(f){if(r==="multiple"&&vt(n)==="select")throw b("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",yt(n));if(dt.test(r))throw b("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(n,t,u){var h=u.$$observers||(u.$$observers=p()),s=u[r];(s!==i&&(f=s&&l(s,!0,e,o),i=s),f)&&(u[r]=f(n),(h[r]||(h[r]=[])).$$inter=!0,(u.$$observers&&u.$$observers[r].$$scope||n).$watch(f,function(n,t){r==="class"&&n!==t?u.$updateClass(n,t):u.$set(r,n)}))}}}})}}function yi(t,i,r){var e=i[0],s=i.length,l=e.parentNode,u,a,c;if(t)for(u=0,a=t.length;u<a;u++)if(t[u]===e){t[u++]=r;for(var o=u,h=o+s-1,v=t.length;o<v;o++,h++)h<v?t[o]=t[h]:delete t[o];t.length-=s-1;t.context===e&&(t.context=r);break}for(l&&l.replaceChild(r,e),c=n.document.createDocumentFragment(),u=0;u<s;u++)c.appendChild(i[u]);for(f.hasData(e)&&(f.data(r,f.data(e)),f(e).off("$destroy")),f.cleanData(c.querySelectorAll("*")),u=1;u<s;u++)delete i[u];i[0]=r;i.length=1}function dr(n,t){return v(function(){return n.apply(null,arguments)},n,t)}function gr(n,t,i,r,u,f){try{n(t,i,r,u,f)}catch(e){ft(e,yt(i))}}function pi(n,t){if(nt)throw b("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",n,t);}function wi(n,i,r,u,f){function v(t,i,u){e(r.$onChanges)&&!ue(i,u)&&(si||(n.$$postDigest(ru),si=[]),o||(o={},si.push(y)),o[t]&&(u=o[t].previousValue),o[t]=new rf(u,i))}function y(){r.$onChanges(o);o=undefined}var c=[],a={},o;return t(u,function(t,u){var e=t.attrName,p=t.optional,it=t.mode,y,o,tt,g,w,k,nt,d;switch(it){case"@":p||ot.call(i,e)||(pi(e,f.name),r[u]=i[e]=undefined);w=i.$observe(e,function(n){if(h(n)||ni(n)){var t=r[u];v(u,n,t);r[u]=n}});i.$$observers[e].$$scope=n;y=i[e];h(y)?r[u]=l(y)(n):ni(y)&&(r[u]=y);a[u]=new rf(tf,r[u]);c.push(w);break;case"=":if(!ot.call(i,e)){if(p)break;pi(e,f.name);i[e]=undefined}if(p&&!i[e])break;o=st(i[e]);g=o.literal?ht:ue;tt=o.assign||function(){y=r[u]=o(n);throw b("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",i[e],e,f.name);};y=r[u]=o(n);k=function(t){return g(t,r[u])||(g(t,y)?tt(n,t=r[u]):r[u]=t),y=t};k.$stateful=!0;w=t.collection?n.$watchCollection(i[e],k):n.$watch(st(i[e],k),null,o.literal);c.push(w);break;case"<":if(!ot.call(i,e)){if(p)break;pi(e,f.name);i[e]=undefined}if(p&&!i[e])break;o=st(i[e]);nt=o.literal;d=r[u]=o(n);a[u]=new rf(tf,r[u]);w=n.$watch(o,function(n,t){if(t===n){if(t===d||nt&&ht(t,d))return;t=d}v(u,n,t);r[u]=n},nt);c.push(w);break;case"&":if(p||ot.call(i,e)||pi(e,f.name),o=i.hasOwnProperty(e)?st(i[e]):s,o===s&&p)break;r[u]=function(t){return o(n,t)}}}),{initialChanges:a,removeWatches:c.length&&function(){for(var n=0,t=c.length;n<t;++n)c[n]()}}}var nu=/^\w/,ur=n.document.createElement("div"),tu=tt,iu=it,fr=d,si;di.prototype={$normalize:wt,$addClass:function(n){n&&n.length>0&&fi.addClass(this.$$element,n)},$removeClass:function(n){n&&n.length>0&&fi.removeClass(this.$$element,n)},$updateClass:function(n,t){var r=rc(n,t),i;r&&r.length&&fi.addClass(this.$$element,r);i=rc(t,n);i&&i.length&&fi.removeClass(this.$$element,i)},$set:function(n,i,f,e){var d=this.$$element[0],w=ph(d,n),a=ep(n),b=n,h,s,v,l,p;if(w?(this.$$element.prop(n,i),e=w):a&&(this[a]=i,b=a),this[n]=i,e?this.$attr[n]=e:(e=this.$attr[n],e||(this.$attr[n]=e=ih(n,"-"))),h=vt(this.$$element),h==="a"&&(n==="href"||n==="xlinkHref")||h==="img"&&n==="src")this[n]=i=ei(i,n==="src");else if(h==="img"&&n==="srcset"&&r(i)){var o="",k=y(i),g=/\s/.test(k)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,c=k.split(g),nt=Math.floor(c.length/2);for(s=0;s<nt;s++)v=s*2,o+=ei(y(c[v]),!0),o+=" "+y(c[v+1]);l=y(c[s*2]).split(/\s/);o+=ei(y(l[0]),!0);l.length===2&&(o+=" "+y(l[1]));this[n]=i=o}f!==!1&&(i===null||u(i)?this.$$element.removeAttr(e):nu.test(e)?this.$$element.attr(e,i):uu(this.$$element[0],e,i));p=this.$$observers;p&&t(p[b],function(n){try{n(i)}catch(t){ft(t)}})},$observe:function(n,t){var i=this,f=i.$$observers||(i.$$observers=p()),r=f[n]||(f[n]=[]);return r.push(t),ri.$evalAsync(function(){r.$$inter||!i.hasOwnProperty(n)||u(i[n])||t(i[n])}),function(){cr(r,t)}}};var or=l.startSymbol(),sr=l.endSymbol(),lr=or==="{{"&&sr==="}}"?er:function(n){return n.replace(/\{\{/g,or).replace(/}}/g,sr)},fu=/^ngAttr[A-Z]/,eu=/^(.+)Start$/;return oi.$$addBindingInfo=w?function(n,t){var i=n.data("$binding")||[];c(t)?i=i.concat(t):i.push(t);n.data("$binding",i)}:s,oi.$$addBindingClass=w?function(n){gi(n,"ng-binding")}:s,oi.$$addScopeInfo=w?function(n,t,i,r){var u=i?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";n.data(u,t)}:s,oi.$$addScopeClass=w?function(n,t){gi(n,t?"ng-isolate-scope":"ng-scope")}:s,oi.$$createComment=function(t,i){var r="";return w&&(r=" "+(t||"")+": ",i&&(r+=i+" ")),n.document.createComment(r)},oi}]}function rf(n,t){this.previousValue=n;this.currentValue=t}function wt(n){return n.replace(ge,"").replace(ic,function(n,t,i){return i?t.toUpperCase():t})}function rc(n,t){var u="",e=n.split(/\s+/),o=t.split(/\s+/),i,f,r;n:for(i=0;i<e.length;i++){for(f=e[i],r=0;r<o.length;r++)if(f===o[r])continue n;u+=(u.length>0?" ":"")+f}return u}function uc(n){var t,i;if(n=f(n),t=n.length,t<=1)return n;while(t--)i=n[t],(i.nodeType===wr||i.nodeType===ii&&i.nodeValue.trim()==="")&&pv.call(n,t,1);return n}function vw(n,t){if(t&&h(t))return t;if(h(n)){var i=to.exec(n);if(i)return i[3]}}function yw(){var n={},t=!1;this.has=function(t){return n.hasOwnProperty(t)};this.register=function(t,i){di(t,"controller");o(t)?v(n,t):n[t]=i};this.allowGlobals=function(){t=!0};this.$get=["$injector","$window",function(i,r){function u(n,t,i,r){if(!(n&&o(n.$scope)))throw l("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);n.$scope[t]=i}return function(f,s,l,a){var p,b,y,w,k;if(l=l===!0,a&&h(a)&&(w=a),h(f)){if(b=f.match(to),!b)throw no("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",f);if(y=b[1],w=w||b[3],f=n.hasOwnProperty(y)?n[y]:rh(s.$scope,y,!0)||(t?rh(r,y,!0):undefined),!f)throw no("ctrlreg","The controller with the name '{0}' is not registered.",y);cu(f,y,!0)}return l?(k=(c(f)?f[f.length-1]:f).prototype,p=Object.create(k||null),w&&u(s,w,p,y||f.name),v(function(){var n=i.invoke(f,p,s,y);return n!==p&&(o(n)||e(n))&&(p=n,w&&u(s,w,p,y||f.name)),p},{instance:p,identifier:w})):(p=i.instantiate(f,s,y),w&&u(s,w,p,y||f.name),p)}}]}function pw(){this.$get=["$window",function(n){return f(n.document)}]}function ww(){this.$get=["$document","$rootScope",function(n,t){function u(){r=i.hidden}var i=n[0],r=i&&i.hidden;n.on("visibilitychange",u);return t.$on("$destroy",function(){n.off("visibilitychange",u)}),function(){return r}}]}function bw(){this.$get=["$log",function(n){return function(){n.error.apply(n,arguments)}}]}function ro(n){return o(n)?ft(n)?n.toISOString():vr(n):n}function tb(){this.$get=function(){return function(n){if(!n)return"";var i=[];return ls(n,function(n,r){n===null||u(n)||e(n)||(c(n)?t(n,function(n){i.push(et(r)+"="+et(ro(n)))}):i.push(et(r)+"="+et(ro(n))))}),i.join("&")}}}function ib(){this.$get=function(){return function(n){function i(n,f,e){n===null||u(n)||(c(n)?t(n,function(n,t){i(n,f+"["+(o(n)?t:"")+"]")}):o(n)&&!ft(n)?ls(n,function(n,t){i(n,f+(e?"":"[")+t+(e?"":"]"))}):r.push(et(f)+"="+et(ro(n))))}if(!n)return"";var r=[];return i(n,"",!0),r.join("&")}}}function uo(n,t){var i,r,u;if(h(n)&&(i=n.replace(nb,"").trim(),i&&(r=t("Content-Type"),u=r&&r.indexOf(fc)===0,u||rb(i))))try{n=ws(i)}catch(f){if(!u)return n;throw uf("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',n,f);}return n}function rb(n){var t=n.match(dw);return t&&gw[t[0]].test(n)}function ec(n){function u(n,t){n&&(i[n]=i[n]?i[n]+", "+t:t)}var i=p(),r;return h(n)?t(n.split("\n"),function(n){r=n.indexOf(":");u(a(y(n.substr(0,r))),y(n.substr(r+1)))}):o(n)&&t(n,function(n,t){u(a(t),y(n))}),i}function oc(n){var t;return function(i){if(t||(t=ec(n)),i){var r=t[a(i)];return r===undefined&&(r=null),r}return t}}function sc(n,i,r,u){return e(u)?u(n,i,r):(t(u,function(t){n=t(n,i,r)}),n)}function fo(n){return 200<=n&&n<300}function ub(){var n=this.defaults={transformResponse:[uo],transformRequest:[function(n){return o(n)&&!dv(n)&&!ny(n)&&!gv(n)?vr(n):n}],headers:{common:{Accept:"application/json, text/plain, */*"},post:pt(io),put:pt(io),patch:pt(io)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},i=!1,f;this.useApplyAsync=function(n){return r(n)?(i=!!n,this):i};f=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(y,p,w,b,k,d,g,nt){function tt(i){function w(n,t){for(var u,f,i=0,r=t.length;i<r;)u=t[i++],f=t[i++],n=n.then(u,f);return t.length=0,n}function k(){y.$$completeOutstandingRequest(s)}function tt(n,i){var r,u={};return t(n,function(n,t){e(n)?(r=n(i),r!=null&&(u[t]=r)):u[t]=n}),u}function rt(t){var i=n.headers,u=v({},t.headers),r,f,e;i=v({},i.common,i[a(t.method)]);n:for(r in i){f=a(r);for(e in u)if(a(e)===f)continue n;u[r]=i[r]}return tt(u,pt(t))}function ut(i){var r=i.headers,f=sc(i.data,oc(r),undefined,i.transformRequest);return u(f)&&t(r,function(n,t){a(t)==="content-type"&&delete r[t]}),u(i.withCredentials)&&!u(n.withCredentials)&&(i.withCredentials=n.withCredentials),et(i,f).then(b,b)}function b(n){var t=v({},n);return t.data=sc(n.data,n.headers,n.status,r.transformResponse),fo(n.status)?t:d.reject(t)}var r;if(!o(i))throw l("$http")("badreq","Http request configuration must be an object.  Received: {0}",i);if(!h(nt.valueOf(i.url)))throw l("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",i.url);r=v({method:"get",transformRequest:n.transformRequest,transformResponse:n.transformResponse,paramSerializer:n.paramSerializer,jsonpCallbackParam:n.jsonpCallbackParam},i);r.headers=rt(i);r.method=fr(r.method);r.paramSerializer=h(r.paramSerializer)?g.get(r.paramSerializer):r.paramSerializer;y.$$incOutstandingRequestCount();var c=[],p=[],f=d.resolve(r);return t(it,function(n){(n.request||n.requestError)&&c.unshift(n.request,n.requestError);(n.response||n.responseError)&&p.push(n.response,n.responseError)}),f=w(f,c),f=f.then(ut),f=w(f,p),f.finally(k)}function ut(){t(arguments,function(n){tt[n]=function(t,i){return tt(v({},i||{},{method:n,url:t}))}})}function ft(){t(arguments,function(n){tt[n]=function(t,i,r){return tt(v({},r||{},{method:n,url:t,data:i}))}})}function et(f,e){function et(n){if(n){var r={};return t(n,function(n,t){r[t]=function(t){function r(){n(t)}i?k.$applyAsync(r):k.$$phase?r():k.$apply(r)}}),r}}function lt(n,t,r,u,f){function e(){y(t,n,r,u,f)}v&&(fo(n)?v.put(s,[n,t,ec(r),u,f]):v.remove(s));i?k.$applyAsync(e):(e(),k.$$phase||k.$apply())}function y(n,t,i,r,u){t=t>=-1?t:0;(fo(t)?b.resolve:b.reject)({data:n,status:t,headers:oc(i),config:f,statusText:r,xhrStatus:u})}function ht(n){y(n.data,n.status,pt(n.headers()),n.statusText,n.xhrStatus)}function ct(){var n=tt.pendingRequests.indexOf(f);n!==-1&&tt.pendingRequests.splice(n,1)}var b=d.defer(),g=b.promise,v,l,ut=f.headers,ft=a(f.method)==="jsonp",s=f.url,it;return ft?s=nt.getTrustedResourceUrl(s):h(s)||(s=nt.valueOf(s)),s=ot(s,f.paramSerializer(f.params)),ft&&(s=st(s,f.jsonpCallbackParam)),tt.pendingRequests.push(f),g.then(ct,ct),(f.cache||n.cache)&&f.cache!==!1&&(f.method==="GET"||f.method==="JSONP")&&(v=o(f.cache)?f.cache:o(n.cache)?n.cache:rt),v&&(l=v.get(s),r(l)?hu(l)?l.then(ht,ht):c(l)?y(l[1],l[0],pt(l[2]),l[3],l[4]):y(l,200,{},"OK","complete"):v.put(s,g)),u(l)&&(it=sl(f.url)?w()[f.xsrfCookieName||n.xsrfCookieName]:undefined,it&&(ut[f.xsrfHeaderName||n.xsrfHeaderName]=it),p(f.method,s,e,lt,ut,f.timeout,f.withCredentials,f.responseType,et(f.eventHandlers),et(f.uploadEventHandlers))),g}function ot(n,t){return t.length>0&&(n+=(n.indexOf("?")===-1?"?":"&")+t),n}function st(n,i){var r=n.split("?"),u;if(r.length>2)throw uf("badjsonp",'Illegal use more than one "?", in url, "{1}"',n);return u=ee(r[1]),t(u,function(t,r){if(t==="JSON_CALLBACK")throw uf("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',n);if(r===i)throw uf("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',i,n);}),n+=(n.indexOf("?")===-1?"?":"&")+i+"=JSON_CALLBACK"}var rt=b("$http"),it;return n.paramSerializer=h(n.paramSerializer)?g.get(n.paramSerializer):n.paramSerializer,it=[],t(f,function(n){it.unshift(h(n)?g.get(n):g.invoke(n))}),tt.pendingRequests=[],ut("get","delete","head","jsonp"),ft("post","put","patch"),tt.defaults=n,tt}]}function fb(){this.$get=function(){return function(){return new n.XMLHttpRequest}}}function eb(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(n,t,i,r){return ob(n,r,n.defer,t,i[0])}]}function ob(n,i,f,e,o){function s(n,t,i){n=n.replace("JSON_CALLBACK",t);var r=o.createElement("script"),u=null;return r.type="text/javascript",r.src=n,r.async=!0,u=function(n){r.removeEventListener("load",u);r.removeEventListener("error",u);o.body.removeChild(r);r=null;var f=-1,s="unknown";n&&(n.type!=="load"||e.wasCalled(t)||(n={type:"error"}),s=n.type,f=n.type==="error"?404:200);i&&i(f,s)},r.addEventListener("load",u),r.addEventListener("error",u),o.body.appendChild(r),u}return function(o,h,c,l,v,y,p,w,b,k){function rt(){tt&&tt();d&&d.abort()}function g(n,t,i,u,e,o){r(it)&&f.cancel(it);tt=d=null;n(t,i,u,e,o)}var nt,tt,d,it;if(h=h||n.url(),a(o)==="jsonp")nt=e.createCallback(h),tt=s(h,nt,function(n,t){var i=n===200&&e.getResponse(nt);g(l,n,i,"",t,"complete");e.removeCallback(nt)});else{d=i(o,h);d.open(o,h,!0);t(v,function(n,t){r(n)&&d.setRequestHeader(t,n)});d.onload=function(){var i=d.statusText||"",t="response"in d?d.response:d.responseText,n=d.status===1223?204:d.status;n===0&&(n=t?200:fi(h).protocol==="file"?404:0);g(l,n,t,d.getAllResponseHeaders(),i,"complete")};var ut=function(){g(l,-1,null,null,"","error")},ft=function(){g(l,-1,null,null,"","abort")},et=function(){g(l,-1,null,null,"","timeout")};if(d.onerror=ut,d.onabort=ft,d.ontimeout=et,t(b,function(n,t){d.addEventListener(t,n)}),t(k,function(n,t){d.upload.addEventListener(t,n)}),p&&(d.withCredentials=!0),w)try{d.responseType=w}catch(ot){if(w!=="json")throw ot;}d.send(u(c)?null:c)}y>0?it=f(rt,y):hu(y)&&y.then(rt)}}function sb(){var n="{{",t="}}";this.startSymbol=function(t){return t?(n=t,this):n};this.endSymbol=function(n){return n?(t=n,this):t};this.$get=["$parse","$exceptionHandler","$sce",function(i,f,e){function c(n){return"\\\\\\"+n}function o(i){return i.replace(a,n).replace(y,t)}function p(n,t,i,r){var u=n.$watch(function(n){return u(),r(n)},t,i);return u}function s(s,c,a,y){function ht(n){try{return n=ot(n),y&&!r(n)?n:he(n)}catch(t){f(ri.interr(s,t))}}var k,ut,rt,ot;if(!s.length||s.indexOf(n)===-1)return c||(ut=o(s),k=st(ut),k.exp=s,k.expressions=[],k.$$watchDelegate=p),k;y=!!y;for(var d,nt,w=0,g=[],tt=[],ft=s.length,it,b=[],et=[];w<ft;)if((d=s.indexOf(n,w))!==-1&&(nt=s.indexOf(t,d+h))!==-1)w!==d&&b.push(o(s.substring(w,d))),it=s.substring(d+h,nt),g.push(it),tt.push(i(it,ht)),w=nt+l,et.push(b.length),b.push("");else{w!==ft&&b.push(o(s.substring(w)));break}return a&&b.length>1&&ri.throwNoconcat(s),!c||g.length?(rt=function(n){for(var t=0,i=g.length;t<i;t++){if(y&&u(n[t]))return;b[et[t]]=n[t]}return b.join("")},ot=function(n){return a?e.getTrusted(a,n):e.valueOf(n)},v(function(n){var t=0,i=g.length,r=new Array(i);try{for(;t<i;t++)r[t]=tt[t](n);return rt(r)}catch(u){f(ri.interr(s,u))}},{exp:s,expressions:g,$$watchDelegate:function(n,t){var i;return n.$watchGroup(tt,function(r,u){var f=rt(r);t.call(this,f,r!==u?i:f,n);i=f})}})):void 0}var h=n.length,l=t.length,a=new RegExp(n.replace(/./g,c),"g"),y=new RegExp(t.replace(/./g,c),"g");return s.startSymbol=function(){return n},s.endSymbol=function(){return t},s}]}function hb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(n,t,i,u,f){function o(o,s,h,c){function w(){p?o.apply(null,b):o(a)}var p=arguments.length>4,b=p?bi(arguments,4):[],k=t.setInterval,d=t.clearInterval,a=0,y=r(c)&&!c,v=(y?u:i).defer(),l=v.promise;return h=r(h)?h:0,l.$$intervalId=k(function(){y?f.defer(w):n.$evalAsync(w);v.notify(a++);h>0&&a>=h&&(v.resolve(a),d(l.$$intervalId),delete e[l.$$intervalId]);y||n.$apply()},s),e[l.$$intervalId]=v,l}var e={};return o.cancel=function(n){return n&&n.$$intervalId in e?(fl(e[n.$$intervalId].promise),e[n.$$intervalId].reject("canceled"),t.clearInterval(n.$$intervalId),delete e[n.$$intervalId],!0):!1},o}]}function eo(n){for(var t=n.split("/"),i=t.length;i--;)t[i]=yr(t[i].replace(/%2F/g,"/"));return t.join("/")}function vb(n,t){for(var i=n.split("/"),r=i.length;r--;)i[r]=decodeURIComponent(i[r]),t&&(i[r]=i[r].replace(/\//g,"%2F"));return i.join("/")}function hc(n,t){var i=fi(n);t.$$protocol=i.protocol;t.$$host=i.hostname;t.$$port=tt(i.port)||ab[i.protocol]||null}function lc(n,t,i){var u,r,f;if(cc.test(n))throw gr("badpath",'Invalid url "{0}".',n);u=n.charAt(0)!=="/";u&&(n="/"+n);r=fi(n);f=u&&r.pathname.charAt(0)==="/"?r.pathname.substring(1):r.pathname;t.$$path=vb(f,i);t.$$search=ee(r.search);t.$$hash=decodeURIComponent(r.hash);t.$$path&&t.$$path.charAt(0)!=="/"&&(t.$$path="/"+t.$$path)}function oo(n,t){return n.slice(0,t.length)===t}function dt(n,t){if(oo(t,n))return t.substr(n.length)}function ai(n){var t=n.indexOf("#");return t===-1?n:n.substr(0,t)}function nu(n){return n.replace(/(#.+)|#$/,"$1")}function yb(n){return n.substr(0,ai(n).lastIndexOf("/")+1)}function pb(n){return n.substring(0,n.indexOf("/",n.indexOf("//")+2))}function so(n,t,i){this.$$html5=!0;i=i||"";hc(n,this);this.$$parse=function(n){var i=dt(t,n);if(!h(i))throw gr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',n,t);lc(i,this,!0);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var n=oe(this.$$search),i=this.$$hash?"#"+yr(this.$$hash):"";this.$$url=eo(this.$$path)+(n?"?"+n:"")+i;this.$$absUrl=t+this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(u,f){if(f&&f[0]==="#")return this.hash(f.slice(1)),!0;var e,s,o;return r(e=dt(n,u))?(s=e,o=i&&r(e=dt(i,e))?t+(dt("/",e)||e):n+s):r(e=dt(t,u))?o=t+e:t===u+"/"&&(o=t),o&&this.$$parse(o),!!o}}function ho(n,t,i){hc(n,this);this.$$parse=function(r){function o(n,t,i){var u=/^\/[A-Z]:(\/.*)/,r;return(oo(t,i)&&(t=t.replace(i,"")),u.exec(t))?n:(r=u.exec(n),r?r[1]:n)}var e=dt(n,r)||dt(t,r),f;u(e)||e.charAt(0)!=="#"?this.$$html5?f=e:(f="",u(e)&&(n=r,this.replace())):(f=dt(i,e),u(f)&&(f=e));lc(f,this,!1);this.$$path=o(this.$$path,f,n);this.$$compose()};this.$$compose=function(){var t=oe(this.$$search),r=this.$$hash?"#"+yr(this.$$hash):"";this.$$url=eo(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+(this.$$url?i+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(t){return ai(n)===ai(t)?(this.$$parse(t),!0):!1}}function ac(n,t,i){this.$$html5=!0;ho.apply(this,arguments);this.$$parseLinkUrl=function(r,u){if(u&&u[0]==="#")return this.hash(u.slice(1)),!0;var f,e;return n===ai(r)?f=r:(e=dt(t,r))?f=n+i+e:t===r+"/"&&(f=t),f&&this.$$parse(f),!!f};this.$$compose=function(){var t=oe(this.$$search),r=this.$$hash?"#"+yr(this.$$hash):"";this.$$url=eo(this.$$path)+(t?"?"+t:"")+r;this.$$absUrl=n+i+this.$$url;this.$$urlUpdatedByLocation=!0}}function ff(n){return function(){return this[n]}}function yc(n,t){return function(i){return u(i)?this[n]:(this[n]=t(i),this.$$compose(),this)}}function wb(){var t="!",n={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(n){return r(n)?(t=n,this):t};this.html5Mode=function(t){return ni(t)?(n.enabled=t,this):o(t)?(ni(t.enabled)&&(n.enabled=t.enabled),ni(t.requireBase)&&(n.requireBase=t.requireBase),(ni(t.rewriteLinks)||h(t.rewriteLinks))&&(n.rewriteLinks=t.rewriteLinks),this):n};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(i,r,e,s,c){function d(n,t,i){var u=l.url(),f=l.$$state;try{r.url(n,t,i);l.$$state=r.state()}catch(e){l.url(u);l.$$state=f;throw e;}}function g(n,t){i.$broadcast("$locationChangeSuccess",l.absUrl(),n,l.$$state,t)}var l,p,b=r.baseHref(),a=r.url(),y,w,k,v;if(n.enabled){if(!b&&n.requireBase)throw gr("nobase","$location in HTML5 mode requires a <base> tag to be present!");y=pb(a)+(b||"/");p=e.history?so:ac}else y=ai(a),p=ho;w=yb(y);l=new p(y,w,"#"+t);l.$$parseLinkUrl(a,a);l.$$state=r.state();k=/^\s*(javascript|mailto):/i;s.on("click",function(t){var v=n.rewriteLinks,e,a,y;if(v&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&t.which!==2&&t.button!==2){for(e=f(t.target);vt(e[0])!=="a";)if(e[0]===s[0]||!(e=e.parent())[0])return;h(v)&&u(e.attr(v))||(a=e.prop("href"),y=e.attr("href")||e.attr("xlink:href"),o(a)&&a.toString()==="[object SVGAnimatedString]"&&(a=fi(a.animVal).href),k.test(a))||!a||e.attr("target")||t.isDefaultPrevented()||l.$$parseLinkUrl(a,y)&&(t.preventDefault(),l.absUrl()!==r.url()&&(i.$apply(),c.angular["ff-684208-preventDefault"]=!0))}});nu(l.absUrl())!==nu(a)&&r.url(l.absUrl(),!0);v=!0;r.onUrlChange(function(n,t){if(!oo(n,w)){c.location.href=n;return}i.$evalAsync(function(){var r=l.absUrl(),u=l.$$state,f;(n=nu(n),l.$$parse(n),l.$$state=t,f=i.$broadcast("$locationChangeStart",n,r,t,u).defaultPrevented,l.absUrl()===n)&&(f?(l.$$parse(r),l.$$state=u,d(r,!1,u)):(v=!1,g(r,u)))});i.$$phase||i.$digest()});return i.$watch(function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var t=nu(r.url()),f=nu(l.absUrl()),n=r.state(),o=l.$$replace,u=t!==f||l.$$html5&&e.history&&n!==l.$$state;(v||u)&&(v=!1,i.$evalAsync(function(){var r=l.absUrl(),f=i.$broadcast("$locationChangeStart",r,t,l.$$state,n).defaultPrevented;l.absUrl()===r&&(f?(l.$$parse(t),l.$$state=n):(u&&d(r,o,n===l.$$state?null:l.$$state),g(t,n)))}))}l.$$replace=!1}),l}]}function bb(){var n=!0,i=this;this.debugEnabled=function(t){return r(t)?(n=t,this):n};this.$get=["$window",function(r){function e(n){return ne(n)&&(n.stack&&f?n=n.message&&n.stack.indexOf(n.message)===-1?"Error: "+n.message+"\n"+n.stack:n.stack:n.sourceURL&&(n=n.message+"\n"+n.sourceURL+":"+n.line)),n}function u(n){var i=r.console||{},u=i[n]||i.log||s;return function(){var n=[];return t(arguments,function(t){n.push(e(t))}),Function.prototype.apply.call(u,i,n)}}var f=at||/\bEdge\//.test(r.navigator&&r.navigator.userAgent);return{log:u("log"),info:u("info"),warn:u("warn"),error:u("error"),debug:function(){var t=u("debug");return function(){n&&t.apply(i,arguments)}}()}}]}function wc(n){return n+""}function kb(n,t){return typeof n!="undefined"?n:t}function kc(n,t){return typeof n=="undefined"?t:typeof t=="undefined"?n:n+t}function db(n,t){var i=n(t);return!i.$stateful}function gb(n,t){switch(n.type){case i.MemberExpression:if(n.computed)return!1;break;case i.UnaryExpression:return co;case i.BinaryExpression:return n.operator!=="+"?co:!1;case i.CallExpression:return!1}return undefined===t?lo:t}function k(n,r,u){var f,o,s,e=n.isPure=gb(n,u);switch(n.type){case i.Program:f=!0;t(n.body,function(n){k(n.expression,r,e);f=f&&n.expression.constant});n.constant=f;break;case i.Literal:n.constant=!0;n.toWatch=[];break;case i.UnaryExpression:k(n.argument,r,e);n.constant=n.argument.constant;n.toWatch=n.argument.toWatch;break;case i.BinaryExpression:k(n.left,r,e);k(n.right,r,e);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.left.toWatch.concat(n.right.toWatch);break;case i.LogicalExpression:k(n.left,r,e);k(n.right,r,e);n.constant=n.left.constant&&n.right.constant;n.toWatch=n.constant?[]:[n];break;case i.ConditionalExpression:k(n.test,r,e);k(n.alternate,r,e);k(n.consequent,r,e);n.constant=n.test.constant&&n.alternate.constant&&n.consequent.constant;n.toWatch=n.constant?[]:[n];break;case i.Identifier:n.constant=!1;n.toWatch=[n];break;case i.MemberExpression:k(n.object,r,e);n.computed&&k(n.property,r,e);n.constant=n.object.constant&&(!n.computed||n.property.constant);n.toWatch=n.constant?[]:[n];break;case i.CallExpression:s=n.filter?db(r,n.callee.name):!1;f=s;o=[];t(n.arguments,function(n){k(n,r,e);f=f&&n.constant;o.push.apply(o,n.toWatch)});n.constant=f;n.toWatch=s?o:[n];break;case i.AssignmentExpression:k(n.left,r,e);k(n.right,r,e);n.constant=n.left.constant&&n.right.constant;n.toWatch=[n];break;case i.ArrayExpression:f=!0;o=[];t(n.elements,function(n){k(n,r,e);f=f&&n.constant;o.push.apply(o,n.toWatch)});n.constant=f;n.toWatch=o;break;case i.ObjectExpression:f=!0;o=[];t(n.properties,function(n){k(n.value,r,e);f=f&&n.value.constant;o.push.apply(o,n.value.toWatch);n.computed&&(k(n.key,r,!1),f=f&&n.key.constant,o.push.apply(o,n.key.toWatch))});n.constant=f;n.toWatch=o;break;case i.ThisExpression:n.constant=!1;n.toWatch=[];break;case i.LocalsExpression:n.constant=!1;n.toWatch=[]}}function dc(n){if(n.length===1){var i=n[0].expression,t=i.toWatch;return t.length!==1?t:t[0]!==i?t:undefined}}function gc(n){return n.type===i.Identifier||n.type===i.MemberExpression}function nl(n){if(n.body.length===1&&gc(n.body[0].expression))return{type:i.AssignmentExpression,left:n.body[0].expression,right:{type:i.NGValueParameter},operator:"="}}function nk(n){return n.body.length===0||n.body.length===1&&(n.body[0].expression.type===i.Literal||n.body[0].expression.type===i.ArrayExpression||n.body[0].expression.type===i.ObjectExpression)}function tk(n){return n.constant}function tl(n){this.$filter=n}function il(n){this.$filter=n}function ef(n,t,r){this.ast=new i(n,r);this.astCompiler=r.csp?new il(t):new tl(t)}function ao(n){return e(n.valueOf)?n.valueOf():pc.call(n)}function ik(){var u=p(),f={"true":!0,"false":!1,"null":null,undefined:undefined},n,i;this.addLiteral=function(n,t){f[n]=t};this.setIdentifierFns=function(t,r){return n=t,i=r,this};this.$get=["$filter",function(o){function v(n,t){var i,r,f,e;switch(typeof n){case"string":return n=n.trim(),r=n,i=u[r],i||(f=new iu(h),e=new ef(f,o,h),i=e.parse(n),i.constant?i.$$watchDelegate=k:i.oneTime?i.$$watchDelegate=i.literal?p:y:i.inputs&&(i.$$watchDelegate=l),u[r]=i),a(i,t);case"function":return a(n,t);default:return a(s,t)}}function b(n){var t=new iu(h),i=new ef(t,o,h);return i.getAst(n).ast}function c(n,t,i){return n==null||t==null?n===t:typeof n=="object"&&(n=ao(n),typeof n=="object"&&!i)?!1:n===t||n!==n&&t!==t}function l(n,t,i,r,u){var f=r.inputs,o,l,s,h,e,a;if(f.length===1)return l=c,f=f[0],n.$watch(function(n){var t=f(n);return c(t,l,f.isPure)||(o=r(n,undefined,undefined,[t]),l=t&&ao(t)),o},t,i,u);for(s=[],h=[],e=0,a=f.length;e<a;e++)s[e]=c,h[e]=null;return n.$watch(function(n){for(var i,u=!1,t=0,e=f.length;t<e;t++)i=f[t](n),(u||(u=!c(i,s[t],f[t].isPure)))&&(h[t]=i,s[t]=i&&ao(i));return u&&(o=r(n,undefined,undefined,h)),o},t,i,u)}function y(n,t,i,u,f){function c(n){return u(n)}function h(n,i,u){s=n;e(t)&&t(n,i,u);r(n)&&u.$$postDigest(function(){r(s)&&o()})}var o,s;return o=u.inputs?l(n,h,i,u,f):n.$watch(c,h,i)}function p(n,i,u,f){function h(n){var i=!0;return t(n,function(n){r(n)||(i=!1)}),i}var o,s;return o=n.$watch(function(n){return f(n)},function(n,t,r){s=n;e(i)&&i(n,t,r);h(n)&&r.$$postDigest(function(){h(s)&&o()})},u)}function k(n,t,i,r){var u=n.$watch(function(n){return u(),r(n)},t,i);return u}function a(n,t){if(!t)return n;var u=n.$$watchDelegate,f=!1,e=u!==p&&u!==y,i=e?function(i,r,u,e){var o=f&&e?e[0]:n(i,r,u,e);return t(o,i,r)}:function(i,u,f,e){var o=n(i,u,f,e),s=t(o,i,u);return r(o)?s:o};return f=!n.inputs,u&&u!==l?(i.$$watchDelegate=u,i.inputs=n.inputs):t.$stateful||(i.$$watchDelegate=l,i.inputs=n.inputs?n.inputs:[n]),i.inputs&&(i.inputs=i.inputs.map(function(n){return n.isPure===lo?function(t){return n(t)}:n})),i}var w=ti().noUnsafeEval,h={csp:w,literals:oi(f),isIdentifierStart:e(n)&&n,isIdentifierContinue:e(i)&&i};return v.$$getAst=b,v}]}function rk(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(t,i){return rl(function(n){t.$evalAsync(n)},i,n)}];this.errorOnUnhandledRejections=function(t){return r(t)?(n=t,this):n}}function uk(){var n=!0;this.$get=["$browser","$exceptionHandler",function(t,i){return rl(function(n){t.defer(n)},i,n)}];this.errorOnUnhandledRejections=function(t){return r(t)?(n=t,this):n}}function rl(n,i,r){function it(){return new et}function et(){var n=this.promise=new f;this.resolve=function(t){h(n,t)};this.reject=function(t){a(n,t)};this.notify=function(t){g(n,t)}}function f(){this.$$state={status:0}}function ot(t){var c,u,o,f,l;o=t.pending;t.processScheduled=!1;t.pending=undefined;try{for(f=0,l=o.length;f<l;++f){vo(t);u=o[f][0];c=o[f][t.status];try{e(c)?h(u,c(t.value)):t.status===1?h(u,t.value):a(u,t.value)}catch(s){a(u,s);s&&s.$$passToExceptionHandler===!0&&i(s)}}}finally{--y;r&&y===0&&n(rt)}}function rt(){for(var n,t;!y&&p.length;)n=p.shift(),ul(n)||(vo(n),t="Possibly unhandled rejection: "+fh(n.value),ne(n.value)?i(n.value,t):i(t))}function k(t){(!r||t.pending||t.status!==2||ul(t)||(y===0&&p.length===0&&n(rt),p.push(t)),!t.processScheduled&&t.pending)&&(t.processScheduled=!0,++y,n(function(){ot(t)}))}function h(n,t){n.$$state.status||(t===n?d(n,tt("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):ut(n,t))}function ut(n,t){function s(t){i||(i=!0,ut(n,t))}function u(t){i||(i=!0,d(n,t))}function h(t){g(n,t)}var r,i=!1;try{(o(t)||e(t))&&(r=t.then);e(r)?(n.$$state.status=-1,r.call(t,s,u,h)):(n.$$state.value=t,n.$$state.status=1,k(n.$$state))}catch(f){u(f)}}function a(n,t){n.$$state.status||d(n,t)}function d(n,t){n.$$state.value=t;n.$$state.status=2;k(n.$$state)}function g(t,r){var u=t.$$state.pending;t.$$state.status<=0&&u&&u.length&&n(function(){for(var t,f,n=0,o=u.length;n<o;n++){f=u[n][0];t=u[n][3];try{g(f,e(t)?t(r):r)}catch(s){i(s)}}})}function w(n){var t=new f;return a(t,n),t}function ft(n,t,i){var r=null;try{e(i)&&(r=i())}catch(u){return w(u)}return hu(r)?r.then(function(){return t(n)},w):t(n)}function b(n,t,i,r){var u=new f;return h(u,n),u.then(t,i,r)}function st(n){var i=new f,r=0,u=c(n)?[]:{};return t(n,function(n,t){r++;b(n).then(function(n){u[t]=n;--r||h(i,u)},function(n){a(i,n)})}),r===0&&h(i,u),i}function ht(n){var i=it();return t(n,function(n){b(n).then(i.resolve,i.reject)}),i.promise}function s(n){function i(n){h(t,n)}function r(n){a(t,n)}if(!e(n))throw tt("norslvr","Expected resolverFn, got '{0}'",n);var t=new f;return n(i,r),t}var tt=l("$q",TypeError),y=0,p=[],nt;return v(f.prototype,{then:function(n,t,i){if(u(n)&&u(t)&&u(i))return this;var r=new f;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,n,t,i]),this.$$state.status>0&&k(this.$$state),r},"catch":function(n){return this.then(null,n)},"finally":function(n,t){return this.then(function(t){return ft(t,nt,n)},function(t){return ft(t,w,n)},t)}}),nt=b,s.prototype=f.prototype,s.defer=it,s.reject=w,s.when=b,s.resolve=nt,s.all=st,s.race=ht,s}function ul(n){return!!n.pur}function vo(n){n.pur=!0}function fl(n){vo(n.$$state)}function fk(){this.$get=["$window","$timeout",function(n,t){var i=n.requestAnimationFrame||n.webkitRequestAnimationFrame,f=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.webkitCancelRequestAnimationFrame,r=!!i,u=r?function(n){var t=i(n);return function(){f(t)}}:function(n){var i=t(n,16.66,!1);return function(){t.cancel(i)}};return u.supported=r,u}]}function ek(){function h(n){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=su();this.$$ChildScope=null}return t.prototype=n,t}var r=10,f=l("$rootScope"),n=null,i=null;this.digestTtl=function(n){return arguments.length&&(r=n),r};this.$get=["$exceptionHandler","$parse","$browser",function(c,l,a){function et(n){n.currentScope.$$destroyed=!0}function b(n){at===9&&(n.$$childHead&&b(n.$$childHead),n.$$nextSibling&&b(n.$$nextSibling));n.$parent=n.$$nextSibling=n.$$prevSibling=n.$$childHead=n.$$childTail=n.$root=n.$$watchers=null}function p(){this.$id=su();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function tt(n){if(v.$$phase)throw f("inprog","{0} already in progress",v.$$phase);v.$$phase=n}function g(){v.$$phase=null}function nt(n,t){do n.$$watchersCount+=t;while(n=n.$parent)}function rt(n,t,i){do n.$$listenerCount[i]-=t,n.$$listenerCount[i]===0&&delete n.$$listenerCount[i];while(n=n.$parent)}function ut(){}function ft(){while(k.length)try{k.shift()()}catch(n){c(n)}i=null}function st(){i===null&&(i=a.defer(function(){v.$apply(ft)}))}p.prototype={constructor:p,$new:function(n,t){var i;return t=t||this,n?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=h(this)),i=new this.$$ChildScope),i.$parent=t,i.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=i,t.$$childTail=i):t.$$childHead=t.$$childTail=i,(n||t!==this)&&i.$on("$destroy",et),i},$watch:function(t,i,r,u){var o=l(t),c=e(i)?i:s;if(o.$$watchDelegate)return o.$$watchDelegate(this,c,r,o,t);var h=this,f=h.$$watchers,a={fn:c,last:ut,get:o,exp:u||t,eq:!!r};return n=null,f||(f=h.$$watchers=[],f.$$digestWatchIndex=-1),f.unshift(a),f.$$digestWatchIndex++,nt(this,1),function(){var t=cr(f,a);t>=0&&(nt(h,-1),t<f.$$digestWatchIndex&&f.$$digestWatchIndex--);n=null}},$watchGroup:function(n,i){function c(){o=!1;h?(h=!1,i(r,r,u)):i(r,f,u)}var f=new Array(n.length),r=new Array(n.length),e=[],u=this,o=!1,h=!0,s;return n.length?n.length===1?this.$watch(n[0],function(n,t,u){r[0]=n;f[0]=t;i(r,n===t?r:f,u)}):(t(n,function(n,t){var i=u.$watch(n,function(n,i){r[t]=n;f[t]=i;o||(o=!0,u.$evalAsync(c))});e.push(i)}),function(){while(e.length)e.shift()()}):(s=!0,u.$evalAsync(function(){s&&i(r,r,u)}),function(){s=!1})},$watchCollection:function(n,t){function y(n){var l,s,y,t,h,v;if(i=n,!u(i)){if(o(i))if(gt(i))for(r!==c&&(r=c,e=r.length=0,f++),l=i.length,e!==l&&(f++,r.length=e=l),v=0;v<l;v++)h=r[v],t=i[v],y=h!==h&&t!==t,y||h===t||(f++,r[v]=t);else{r!==a&&(r=a={},e=0,f++);l=0;for(s in i)ot.call(i,s)&&(l++,t=i[s],h=r[s],s in r?(y=h!==h&&t!==t,y||h===t||(f++,r[s]=t)):(e++,r[s]=t,f++));if(e>l){f++;for(s in r)ot.call(i,s)||(e--,delete r[s])}}else r!==i&&(r=i,f++);return f}}function b(){var n,r;if(v?(v=!1,t(i,i,h)):t(i,s,h),p)if(o(i))if(gt(i))for(s=new Array(i.length),n=0;n<i.length;n++)s[n]=i[n];else{s={};for(r in i)ot.call(i,r)&&(s[r]=i[r])}else s=i}y.$stateful=!0;var h=this,i,r,s,p=t.length>1,f=0,w=l(n,y),c=[],a={},v=!0,e=0;return this.$watch(w,b)},$digest:function(){var t,o,s,p,lt,h,l,et=r,ot,u,st=this,b=[],k,nt,rt;tt("$digest");a.$$checkUrlChange();this===v&&i!==null&&(a.defer.cancel(i),ft());n=null;do{for(l=!1,u=st,rt=0;rt<y.length;rt++){try{nt=y[rt];p=nt.fn;p(nt.scope,nt.locals)}catch(ct){c(ct)}n=null}y.length=0;n:do{if(h=u.$$watchers)for(h.$$digestWatchIndex=h.length;h.$$digestWatchIndex--;)try{if(t=h[h.$$digestWatchIndex],t)if(lt=t.get,(o=lt(u))===(s=t.last)||(t.eq?ht(o,s):it(o)&&it(s))){if(t===n){l=!1;break n}}else l=!0,n=t,t.last=t.eq?oi(o,null):o,p=t.fn,p(o,s===ut?o:s,u),et<5&&(k=4-et,b[k]||(b[k]=[]),b[k].push({msg:e(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:o,oldVal:s}))}catch(ct){c(ct)}if(!(ot=u.$$watchersCount&&u.$$childHead||u!==st&&u.$$nextSibling))while(u!==st&&!(ot=u.$$nextSibling))u=u.$parent}while(u=ot);if((l||y.length)&&!et--){g();throw f("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,b);}}while(l||y.length);for(g();d<w.length;)try{w[d++]()}catch(ct){c(ct)}w.length=d=0;a.$$checkUrlChange()},$destroy:function(){var n,t;if(!this.$$destroyed){n=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===v&&a.$$applicationDestroyed();nt(this,-this.$$watchersCount);for(t in this.$$listenerCount)rt(this,this.$$listenerCount[t],t);n&&n.$$childHead===this&&(n.$$childHead=this.$$nextSibling);n&&n.$$childTail===this&&(n.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=s;this.$on=this.$watch=this.$watchGroup=function(){return s};this.$$listeners={};this.$$nextSibling=null;b(this)}},$eval:function(n,t){return l(n)(this,t)},$evalAsync:function(n,t){v.$$phase||y.length||a.defer(function(){y.length&&v.$digest()});y.push({scope:this,fn:l(n),locals:t})},$$postDigest:function(n){w.push(n)},$apply:function(n){try{tt("$apply");try{return this.$eval(n)}finally{g()}}catch(t){c(t)}finally{try{v.$digest()}catch(t){c(t);throw t;}}},$applyAsync:function(n){function i(){t.$eval(n)}var t=this;n&&k.push(i);n=l(n);st()},$on:function(n,t){var r=this.$$listeners[n],i,u;r||(this.$$listeners[n]=r=[]);r.push(t);i=this;do i.$$listenerCount[n]||(i.$$listenerCount[n]=0),i.$$listenerCount[n]++;while(i=i.$parent);return u=this,function(){var i=r.indexOf(t);i!==-1&&(delete r[i],rt(u,1,n))}},$emit:function(n){var o=[],r,i=this,e=!1,u={name:n,targetScope:i,stopPropagation:function(){e=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},s=ar([u],arguments,1),t,f;do{for(r=i.$$listeners[n]||o,u.currentScope=i,t=0,f=r.length;t<f;t++){if(!r[t]){r.splice(t,1);t--;f--;continue}try{r[t].apply(null,s)}catch(h){c(h)}}if(e)break;i=i.$parent}while(i);return u.currentScope=null,u},$broadcast:function(n){var r=this,t=r,e=r,u={name:n,targetScope:r,preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},s,f,i,o;if(!r.$$listenerCount[n])return u;for(s=ar([u],arguments,1);t=e;){for(u.currentScope=t,f=t.$$listeners[n]||[],i=0,o=f.length;i<o;i++){if(!f[i]){f.splice(i,1);i--;o--;continue}try{f[i].apply(null,s)}catch(h){c(h)}}if(!(e=t.$$listenerCount[n]&&t.$$childHead||t!==r&&t.$$nextSibling))while(t!==r&&!(e=t.$$nextSibling))t=t.$parent}return u.currentScope=null,u}};var v=new p,y=v.$$asyncQueue=[],w=v.$$postDigestQueue=[],k=v.$$applyAsyncQueue=[],d=0;return v}]}function ok(){var n=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return r(t)?(n=t,this):n};this.imgSrcSanitizationWhitelist=function(n){return r(n)?(t=n,this):t};this.$get=function(){return function(i,r){var f=r?t:n,u;return(u=fi(i&&i.trim()).href,u!==""&&!u.match(f))?"unsafe:"+u:i}}}function yo(n){return n.replace(sk,sh)}function hk(n){if(n==="self")return n;if(h(n)){if(n.indexOf("***")>-1)throw ui("iwcard","Illegal sequence *** in string matcher.  String: {0}",n);return n=te(n).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+n+"$")}if(or(n))return new RegExp("^"+n.source+"$");throw ui("imatcher",'Matchers may only be "self", string patterns or RegExp objects');}function el(n){var i=[];return r(n)&&t(n,function(n){i.push(hk(n))}),i}function ck(){this.SCE_CONTEXTS=lt;var n=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(n=el(t)),n};this.resourceUrlBlacklist=function(n){return arguments.length&&(t=el(n)),t};this.$get=["$injector",function(i){function s(n,t){return n==="self"?sl(t):!!n.exec(t.href)}function h(i){for(var e=fi(i.toString()),f=!1,r=0,u=n.length;r<u;r++)if(s(n[r],e)){f=!0;break}if(f)for(r=0,u=t.length;r<u;r++)if(s(t[r],e)){f=!1;break}return f}function f(n){var t=function(n){this.$$unwrapTrustedValue=function(){return n}};return n&&(t.prototype=new n),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function c(n,t){var i=r.hasOwnProperty(n)?r[n]:null;if(!i)throw ui("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",n,t);if(t===null||u(t)||t==="")return t;if(typeof t!="string")throw ui("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",n);return new i(t)}function l(n){return n instanceof e?n.$$unwrapTrustedValue():n}function a(n,t){if(t===null||u(t)||t==="")return t;var i=r.hasOwnProperty(n)?r[n]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(n===lt.RESOURCE_URL){if(h(t))return t;throw ui("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString());}else if(n===lt.HTML)return o(t);throw ui("unsafe","Attempting to use an unsafe value in a safe context.");}var o=function(){throw ui("unsafe","Attempting to use an unsafe value in a safe context.");},e,r;return i.has("$sanitize")&&(o=i.get("$sanitize")),e=f(),r={},r[lt.HTML]=f(e),r[lt.CSS]=f(e),r[lt.URL]=f(e),r[lt.JS]=f(e),r[lt.RESOURCE_URL]=f(r[lt.URL]),{trustAs:c,getTrusted:a,valueOf:l}}]}function lk(){var n=!0;this.enabled=function(t){return arguments.length&&(n=!!t),n};this.$get=["$parse","$sceDelegate",function(i,r){var u;if(n&&at<8)throw ui("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");u=pt(lt);u.isEnabled=function(){return n};u.trustAs=r.trustAs;u.getTrusted=r.getTrusted;u.valueOf=r.valueOf;n||(u.trustAs=u.getTrusted=function(n,t){return t},u.valueOf=er);u.parseAs=function(n,t){var r=i(t);return r.literal&&r.constant?r:i(t,function(t){return u.getTrusted(n,t)})};var f=u.parseAs,e=u.getTrusted,o=u.trustAs;return t(lt,function(n,t){var i=a(t);u[yo("parse_as_"+i)]=function(t){return f(n,t)};u[yo("get_trusted_"+i)]=function(t){return e(n,t)};u[yo("trust_as_"+i)]=function(t){return o(n,t)}}),u}]}function ak(){this.$get=["$window","$document",function(n,t){var r={},h=n.nw&&n.nw.process,c=!h&&n.chrome&&(n.chrome.app&&n.chrome.app.runtime||!n.chrome.app&&n.chrome.runtime&&n.chrome.runtime.id),l=!c&&n.history&&n.history.pushState,e=tt((/android (\d+)/.exec(a((n.navigator||{}).userAgent))||[])[1]),v=/Boxee/i.test((n.navigator||{}).userAgent),f=t[0]||{},i=f.body&&f.body.style,o=!1,s=!1;return i&&(o=!!("transition"in i||"webkitTransition"in i),s=!!("animation"in i||"webkitAnimation"in i)),{history:!!(l&&!(e<4)&&!v),hasEvent:function(n){if(n==="input"&&at)return!1;if(u(r[n])){var t=f.createElement("div");r[n]="on"+n in t}return r[n]},csp:ti(),transitions:o,animations:s,android:e}}]}function vk(){var n;this.httpOptions=function(t){return t?(n=t,this):n};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,i,r,f,e){function o(s,l){function y(n){return l||(n=ol("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,n.status,n.statusText),t(n)),f.reject(n)}o.totalPendingRequests++;(!h(s)||u(i.get(s)))&&(s=e.getTrustedResourceUrl(s));var a=r.defaults&&r.defaults.transformResponse;return c(a)?a=a.filter(function(n){return n!==uo}):a===uo&&(a=null),r.get(s,v({cache:i,transformResponse:a},n)).finally(function(){o.totalPendingRequests--}).then(function(n){return i.put(s,n.data),n.data},y)}return o.totalPendingRequests=0,o}]}function yk(){this.$get=["$rootScope","$browser","$location",function(n,i,r){var u={};return u.findBindings=function(n,i,r){var f=n.getElementsByClassName("ng-binding"),u=[];return t(f,function(n){var f=ut.element(n).data("$binding");f&&t(f,function(t){if(r){var f=new RegExp("(^|\\s)"+te(i)+"(\\s|\\||$)");f.test(t)&&u.push(n)}else t.indexOf(i)!==-1&&u.push(n)})}),u},u.findModels=function(n,t,i){for(var u=["ng-","data-ng-","ng\\:"],r=0;r<u.length;++r){var e=i?"=":"*=",o="["+u[r]+"model"+e+'"'+t+'"]',f=n.querySelectorAll(o);if(f.length)return f}},u.getLocation=function(){return r.url()},u.setLocation=function(t){t!==r.url()&&(r.url(t),n.$digest())},u.whenStable=function(n){i.notifyWhenNoOutstandingRequests(n)},u}]}function pk(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(n,t,i,u,f){function h(h,c,l){e(h)||(l=c,c=h,h=s);var w=bi(arguments,3),p=r(l)&&!l,a=(p?u:i).defer(),v=a.promise,y;return y=t.defer(function(){try{a.resolve(h.apply(null,w))}catch(t){a.reject(t);f(t)}finally{delete o[v.$$timeoutId]}p||n.$apply()},c),v.$$timeoutId=y,o[y]=a,v}var o={};return h.cancel=function(n){return n&&n.$$timeoutId in o?(fl(o[n.$$timeoutId].promise),o[n.$$timeoutId].reject("canceled"),delete o[n.$$timeoutId],t.defer.cancel(n.$$timeoutId)):!1},h}]}function fi(n){var t=n;return at&&(d.setAttribute("href",t),t=d.href),d.setAttribute("href",t),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}function sl(n){var t=h(n)?fi(n):n;return t.protocol===po.protocol&&t.host===po.host}function wk(){this.$get=st(n)}function hl(n){function e(n){try{return n.cookie||""}catch(t){return""}}function r(n){try{return decodeURIComponent(n)}catch(t){return n}}var f=n[0]||{},t={},i="";return function(){var h,n,o,s,c,l=e(f);if(l!==i)for(i=l,h=i.split("; "),t={},o=0;o<h.length;o++)n=h[o],s=n.indexOf("="),s>0&&(c=r(n.substring(0,s)),u(t[c])&&(t[c]=r(n.substring(s+1))));return t}}function bk(){this.$get=hl}function cl(n){function i(u,f){if(o(u)){var e={};return t(u,function(n,t){e[t]=i(t,n)}),e}return n.factory(u+r,f)}var r="Filter";this.register=i;this.$get=["$injector",function(n){return function(t){return n.get(t+r)}}];i("currency",vl);i("date",kl);i("filter",kk);i("json",sd);i("limitTo",hd);i("lowercase",dl);i("number",yl);i("orderBy",na);i("uppercase",gl)}function kk(){return function(n,t,i,r){if(!gt(n)){if(n==null)return n;throw l("filter")("notarray","Expected array but received: {0}",n);}r=r||"$";var e=wo(t),u,f;switch(e){case"function":u=t;break;case"boolean":case"null":case"number":case"string":f=!0;case"object":u=dk(t,i,r,f);break;default:return n}return Array.prototype.filter.call(n,u)}}function dk(n,t,i,r){var f=o(n)&&i in n;return t===!0?t=ht:e(t)||(t=function(n,t){return u(n)?!1:n===null||t===null?n===t:o(t)||o(n)&&!gf(n)?!1:(n=a(""+n),t=a(""+t),n.indexOf(t)!==-1)}),function(u){return f&&!o(u)?yi(u,n[i],t,i,!1):yi(u,n,t,i,r)}}function yi(n,t,i,r,f,o){var y=wo(n),a=wo(t),s,h,l,v;if(a==="string"&&t.charAt(0)==="!")return!yi(n,t.substring(1),i,r,f);if(c(n))return n.some(function(n){return yi(n,t,i,r,f)});switch(y){case"object":if(f){for(s in n)if(s.charAt&&s.charAt(0)!=="$"&&yi(n[s],t,i,r,!0))return!0;return o?!1:yi(n,t,i,r,!1)}if(a==="object"){for(s in t)if((h=t[s],!e(h)&&!u(h))&&(l=s===r,v=l?n:n[s],!yi(v,h,i,r,l,l)))return!1;return!0}return i(n,t);case"function":return!1;default:return i(n,t)}}function wo(n){return n===null?"null":typeof n}function vl(n){var t=n.NUMBER_FORMATS;return function(n,i,r){u(i)&&(i=t.CURRENCY_SYM);u(r)&&(r=t.PATTERNS[1].maxFrac);var f=i?/\u00A4/g:/\s*\u00A4\s*/g;return n==null?n:pl(n,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(f,i)}}function yl(n){var t=n.NUMBER_FORMATS;return function(n,i){return n==null?n:pl(n,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,i)}}function gk(n){var e=0,r,t,i,f,u;for((t=n.indexOf(al))>-1&&(n=n.replace(al,"")),(i=n.search(/e/i))>0?(t<0&&(t=i),t+=+n.slice(i+1),n=n.substring(0,i)):t<0&&(t=n.length),i=0;n.charAt(i)===bo;i++);if(i===(u=n.length))r=[0],t=1;else{for(u--;n.charAt(u)===bo;)u--;for(t-=i,r=[],f=0;i<=u;i++,f++)r[f]=+n.charAt(i)}return t>ll&&(r=r.splice(0,ll-1),e=t-1,t=1),{d:r,e:e,i:t}}function nd(n,t,i,r){var f=n.d,o=f.length-n.i,e,a,s,h,c,l;if(t=u(t)?Math.min(Math.max(i,o),r):+t,e=t+n.i,a=f[e],e>0)for(f.splice(Math.max(n.i,e)),s=e;s<f.length;s++)f[s]=0;else for(o=Math.max(0,o),n.i=1,f.length=Math.max(1,e=t+1),f[0]=0,h=1;h<e;h++)f[h]=0;if(a>=5)if(e-1<0){for(c=0;c>e;c--)f.unshift(0),n.i++;f.unshift(1);n.i++}else f[e-1]++;for(;o<Math.max(0,t);o++)f.push(0);l=f.reduceRight(function(n,t,i,r){return t=t+n,r[i]=t%10,Math.floor(t/10)},0);l&&(f.unshift(l),n.i++)}function pl(n,t,i,r,u){var s;if(!(h(n)||g(n))||isNaN(n))return"";var y=!isFinite(n),a=!1,p=Math.abs(n)+"",e="",o;if(y)e="";else{o=gk(p);nd(o,u,t.minFrac,t.maxFrac);var f=o.d,c=o.i,v=o.e,l=[];for(a=f.reduce(function(n,t){return n&&!t},!0);c<0;)f.unshift(0),c++;for(c>0?l=f.splice(c,f.length):(l=f,f=[0]),s=[],f.length>=t.lgSize&&s.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)s.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&s.unshift(f.join(""));e=s.join(i);l.length&&(e+=r+l.join(""));v&&(e+="e+"+v)}return n<0&&!a?t.negPre+e+t.negSuf:t.posPre+e+t.posSuf}function of(n,t,i,r){var u="";for((n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,u="-")),n=""+n;n.length<t;)n=bo+n;return i&&(n=n.substr(n.length-t)),u+n}function nt(n,t,i,r,u){return i=i||0,function(f){var e=f["get"+n]();return(i>0||e>-i)&&(e+=i),e===0&&i===-12&&(e=12),of(e,t,r,u)}}function ru(n,t,i){return function(r,u){var f=r["get"+n](),e=(i?"STANDALONE":"")+(t?"SHORT":""),o=fr(e+n);return u[o][f]}}function td(n,t,i){var r=-1*i,u=r>=0?"+":"";return u+(of(Math[r>0?"floor":"ceil"](r/60),2)+of(Math.abs(r%60),2))}function wl(n){var t=new Date(n,0,1).getDay();return new Date(n,0,(t<=4?5:12)-t)}function id(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function bl(n){return function(t){var i=wl(t.getFullYear()),r=id(t),u=+r-+i,f=1+Math.round(u/6048e5);return of(f,n)}}function rd(n,t){return n.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function ko(n,t){return n.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ud(n,t){return n.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function kl(n){function r(n){var t;if(t=n.match(i)){var r=new Date(0),u=0,f=0,e=t[8]?r.setUTCFullYear:r.setFullYear,o=t[8]?r.setUTCHours:r.setHours;t[9]&&(u=tt(t[9]+t[10]),f=tt(t[9]+t[11]));e.call(r,tt(t[1]),tt(t[2])-1,tt(t[3]));var s=tt(t[4]||0)-u,h=tt(t[5]||0)-f,c=tt(t[6]||0),l=Math.round(parseFloat("0."+(t[7]||0))*1e3);return o.call(r,s,h,c,l),r}return n}var i=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(i,u,f){var l="",e=[],s,c,o;if(u=u||"mediumDate",u=n.DATETIME_FORMATS[u]||u,h(i)&&(i=od.test(i)?tt(i):r(i)),g(i)&&(i=new Date(i)),!ft(i)||!isFinite(i.getTime()))return i;while(u)c=ed.exec(u),c?(e=ar(e,c,1),u=e.pop()):(e.push(u),u=null);return o=i.getTimezoneOffset(),f&&(o=ks(f,o),i=fe(i,f,!0)),t(e,function(t){s=fd[t];l+=s?s(i,n.DATETIME_FORMATS,o):t==="''"?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function sd(){return function(n,t){return u(t)&&(t=2),vr(n,t)}}function hd(){return function(n,t,i){return(t=Math.abs(Number(t))===Infinity?Number(t):tt(t),it(t))?n:(g(n)&&(n=n.toString()),!gt(n))?n:(i=!i||isNaN(i)?0:tt(i),i=i<0?Math.max(0,n.length+i):i,t>=0?go(n,i,i+t):i===0?go(n,t,n.length):go(n,Math.max(0,i+t),i))}}function go(n,t,i){return h(n)?n.slice(t,i):wi.call(n,t,i)}function na(n){function r(t){return t.map(function(t){var r=1,i=er,u;return e(t)?i=t:h(t)&&((t.charAt(0)==="+"||t.charAt(0)==="-")&&(r=t.charAt(0)==="-"?-1:1,t=t.substring(1)),t!==""&&(i=n(t),i.constant&&(u=i(),i=function(n){return n[u]}))),{get:i,descending:r}})}function t(n){switch(typeof n){case"number":case"boolean":case"string":return!0;default:return!1}}function u(n){return e(n.valueOf)&&(n=n.valueOf(),t(n))?n:(gf(n)&&(n=n.toString(),t(n)),n)}function f(n,t){var i=typeof n;return n===null?(i="string",n="null"):i==="object"&&(n=u(n)),{value:n,type:i,index:t}}function i(n,t){var f=0,u=n.type,e=t.type,i,r;return u===e?(i=n.value,r=t.value,u==="string"?(i=i.toLowerCase(),r=r.toLowerCase()):u==="object"&&(o(i)&&(i=n.index),o(r)&&(r=t.index)),i!==r&&(f=i<r?-1:1)):f=u<e?-1:1,f}return function(n,t,u,o){function y(n,t){return{value:n,tieBreaker:{value:t,type:"number",index:t},predicateValues:s.map(function(i){return f(i.get(n),t)})}}function p(n,t){for(var u,r=0,f=s.length;r<f;r++)if(u=a(n.predicateValues[r],t.predicateValues[r]),u)return u*s[r].descending*h;return(a(n.tieBreaker,t.tieBreaker)||i(n.tieBreaker,t.tieBreaker))*h}if(n==null)return n;if(!gt(n))throw l("orderBy")("notarray","Expected array but received: {0}",n);c(t)||(t=[t]);t.length===0&&(t=["+"]);var s=r(t),h=u?-1:1,a=e(o)?o:i,v=Array.prototype.map.call(n,y);return v.sort(p),v.map(function(n){return n.value})}}function tr(n){return e(n)&&(n={link:n}),n.restrict=n.restrict||"AC",st(n)}function cd(n,t){n.$name=t}function hf(n,t,i,r,u){this.$$controls=[];this.$error={};this.$$success={};this.$pending=undefined;this.$name=u(t.name||t.ngForm||"")(i);this.$dirty=!1;this.$pristine=!0;this.$valid=!0;this.$invalid=!1;this.$submitted=!1;this.$$parentForm=sf;this.$$element=n;this.$$animate=r;fa(this)}function fa(n){n.$$classCache={};n.$$classCache[ka]=!(n.$$classCache[eu]=n.$$element.hasClass(eu))}function ea(n){function o(n,t,i,u){n[t]||(n[t]={});r(n[t],i,u)}function s(n,i,r,u){n[i]&&t(n[i],r,u);oa(n[i])&&(n[i]=undefined)}function i(n,t,i){i&&!n.$$classCache[t]?(n.$$animate.addClass(n.$$element,t),n.$$classCache[t]=!0):!i&&n.$$classCache[t]&&(n.$$animate.removeClass(n.$$element,t),n.$$classCache[t]=!1)}function f(n,t,r){t=t?"-"+ih(t,"-"):"";i(n,eu+t,r===!0);i(n,ka+t,r===!1)}var e=n.clazz,r=n.set,t=n.unset;e.prototype.$setValidity=function(n,e,h){u(e)?o(this,"$pending",n,h):s(this,"$pending",n,h);ni(e)?e?(t(this.$error,n,h),r(this.$$success,n,h)):(r(this.$error,n,h),t(this.$$success,n,h)):(t(this.$error,n,h),t(this.$$success,n,h));this.$pending?(i(this,ia,!0),this.$valid=this.$invalid=undefined,f(this,"",null)):(i(this,ia,!1),this.$valid=oa(this.$error),this.$invalid=!this.$valid,f(this,"",this.$valid));var c;c=this.$pending&&this.$pending[n]?undefined:this.$error[n]?!1:this.$$success[n]?!0:null;f(this,n,c);this.$$parentForm.$setValidity(n,c,this)}}function oa(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function is(n){n.$formatters.push(function(t){return n.$isEmpty(t)?t:t.toString()})}function kd(n,t,i,r,u,f){ir(n,t,i,r,u,f);is(r)}function ir(n,t,i,r,u,f){var h=a(t[0].type),s,e,o,c;if(!u.android){s=!1;t.on("compositionstart",function(){s=!0});t.on("compositionend",function(){s=!1;o()})}if(o=function(n){if(e&&(f.defer.cancel(e),e=null),!s){var u=t.val(),o=n&&n.type;h==="password"||i.ngTrim&&i.ngTrim==="false"||(u=y(u));(r.$viewValue!==u||u===""&&r.$$hasNativeValidators)&&r.$setViewValue(u,o)}},u.hasEvent("input"))t.on("input",o);else{c=function(n,t,i){e||(e=f.defer(function(){e=null;t&&t.value===i||o(n)}))};t.on("keydown",function(n){var t=n.keyCode;t===91||15<t&&t<19||37<=t&&t<=40||c(n,this,this.value)});if(u.hasEvent("paste"))t.on("paste cut drop",c)}t.on("change",o);if(aa[h]&&r.$$hasNativeValidators&&h===i.type)t.on(bd,function(n){if(!e){var t=this[hs],i=t.badInput,r=t.typeMismatch;e=f.defer(function(){e=null;(t.badInput!==i||t.typeMismatch!==r)&&o(n)})}});r.$render=function(){var n=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==n&&t.val(n)}}function dd(n,t){var i;if(ft(n))return n;if(h(n)&&(ns.lastIndex=0,i=ns.exec(n),i)){var r=+i[1],s=+i[2],u=0,f=0,e=0,o=0,c=wl(r),l=(s-1)*7;return t&&(u=t.getHours(),f=t.getMinutes(),e=t.getSeconds(),o=t.getMilliseconds()),new Date(r,0,c.getDate()+l,u,f,e,o)}return NaN}function cf(n,i){return function(r,u){var e,f;if(ft(r))return r;if(h(r)){if(r.charAt(0)==='"'&&r.charAt(r.length-1)==='"'&&(r=r.substring(1,r.length-1)),vd.test(r))return new Date(r);if(n.lastIndex=0,e=n.exec(r),e)return e.shift(),f=u?{yyyy:u.getFullYear(),MM:u.getMonth()+1,dd:u.getDate(),HH:u.getHours(),mm:u.getMinutes(),ss:u.getSeconds(),sss:u.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},t(e,function(n,t){t<i.length&&(f[i[t]]=+n)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,f.sss*1e3||0)}return NaN}}function fu(n,t,i,f){return function(e,o,s,h,c,l,a){function b(n){return n&&!(n.getTime&&n.getTime()!==n.getTime())}function k(n){return r(n)&&!ft(n)?i(n)||undefined:n}var v,y,p,w;rs(e,o,s,h);ir(e,o,s,h,c,l);v=h&&h.$options.getOption("timezone");h.$$parserName=n;h.$parsers.push(function(n){if(h.$isEmpty(n))return null;if(t.test(n)){var r=i(n,y);return v&&(r=fe(r,v)),r}return undefined});h.$formatters.push(function(n){if(n&&!ft(n))throw ou("datefmt","Expected `{0}` to be a date",n);return b(n)?(y=n,y&&v&&(y=fe(y,v,!0)),a("date")(n,f,v)):(y=null,"")});(r(s.min)||s.ngMin)&&(h.$validators.min=function(n){return!b(n)||u(p)||i(n)>=p},s.$observe("min",function(n){p=k(n);h.$validate()}));(r(s.max)||s.ngMax)&&(h.$validators.max=function(n){return!b(n)||u(w)||i(n)<=w},s.$observe("max",function(n){w=k(n);h.$validate()}))}}function rs(n,t,i,r){var u=t[0],f=r.$$hasNativeValidators=o(u.validity);f&&r.$parsers.push(function(n){var i=t.prop(hs)||{};return i.badInput||i.typeMismatch?undefined:n})}function va(n){n.$$parserName="number";n.$parsers.push(function(t){return n.$isEmpty(t)?null:wd.test(t)?parseFloat(t):undefined});n.$formatters.push(function(t){if(!n.$isEmpty(t)){if(!g(t))throw ou("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function rr(n){return r(n)&&!g(n)&&(n=parseFloat(n)),it(n)?undefined:n}function us(n){return(n|0)===n}function fs(n){var t=n.toString(),r=t.indexOf("."),i;return r===-1?-1<n&&n<1&&(i=/e-(\d+)$/.exec(t),i)?Number(i[1]):0:t.length-r-1}function ya(n,t,i){var r=Number(n),u=!us(r),f=!us(t),e=!us(i);if(u||f||e){var s=u?fs(r):0,h=f?fs(t):0,c=e?fs(i):0,l=Math.max(s,h,c),o=Math.pow(10,l);r=r*o;t=t*o;i=i*o;u&&(r=Math.round(r));f&&(t=Math.round(t));e&&(i=Math.round(i))}return(r-t)%i==0}function gd(n,t,i,f,e,o){var s,h,c;rs(n,t,i,f);va(f);ir(n,t,i,f,e,o);(r(i.min)||i.ngMin)&&(f.$validators.min=function(n){return f.$isEmpty(n)||u(s)||n>=s},i.$observe("min",function(n){s=rr(n);f.$validate()}));(r(i.max)||i.ngMax)&&(f.$validators.max=function(n){return f.$isEmpty(n)||u(h)||n<=h},i.$observe("max",function(n){h=rr(n);f.$validate()}));(r(i.step)||i.ngStep)&&(f.$validators.step=function(n,t){return f.$isEmpty(t)||u(c)||ya(t,s||0,c)},i.$observe("step",function(n){c=rr(n);f.$validate()}))}function ng(n,t,i,f,e,o){function v(n,r){t.attr(n,i[n]);i.$observe(n,r)}function k(n){if(h=rr(n),!it(f.$modelValue))if(s){var i=t.val();h>i&&(i=h,t.val(i));f.$setViewValue(i)}else f.$validate()}function d(n){if(c=rr(n),!it(f.$modelValue))if(s){var i=t.val();c<i&&(t.val(c),i=c<h?h:c);f.$setViewValue(i)}else f.$validate()}function g(n){(l=rr(n),it(f.$modelValue))||(s&&f.$viewValue!==t.val()?f.$setViewValue(t.val()):f.$validate())}rs(n,t,i,f);va(f);ir(n,t,i,f,e,o);var s=f.$$hasNativeValidators&&t[0].type==="range",h=s?0:undefined,c=s?100:undefined,l=s?1:undefined,a=t[0].validity,p=r(i.min),w=r(i.max),b=r(i.step),y=f.$render;f.$render=s&&r(a.rangeUnderflow)&&r(a.rangeOverflow)?function(){y();f.$setViewValue(t.val())}:y;p&&(f.$validators.min=s?function(){return!0}:function(n,t){return f.$isEmpty(t)||u(h)||t>=h},v("min",k));w&&(f.$validators.max=s?function(){return!0}:function(n,t){return f.$isEmpty(t)||u(c)||t<=c},v("max",d));b&&(f.$validators.step=s?function(){return!a.stepMismatch}:function(n,t){return f.$isEmpty(t)||u(l)||ya(t,h||0,l)},v("step",g))}function tg(n,t,i,r,u,f){ir(n,t,i,r,u,f);is(r);r.$$parserName="url";r.$validators.url=function(n,t){var i=n||t;return r.$isEmpty(i)||yd.test(i)}}function ig(n,t,i,r,u,f){ir(n,t,i,r,u,f);is(r);r.$$parserName="email";r.$validators.email=function(n,t){var i=n||t;return r.$isEmpty(i)||pd.test(i)}}function rg(n,t,i,r){var f=!i.ngTrim||y(i.ngTrim)!=="false",e;u(i.name)&&t.attr("name",su());e=function(n){var u;t[0].checked&&(u=i.value,f&&(u=y(u)),r.$setViewValue(u,n&&n.type))};t.on("click",e);r.$render=function(){var n=i.value;f&&(n=y(n));t[0].checked=n===r.$viewValue};i.$observe("value",r.$render)}function pa(n,t,i,u,f){var e;if(r(u)){if(e=n(u),!e.constant)throw ou("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",i,u);return e(t)}return f}function ug(n,t,i,r,u,f,e,o){var s=pa(o,n,"ngTrueValue",i.ngTrueValue,!0),h=pa(o,n,"ngFalseValue",i.ngFalseValue,!1),c=function(n){r.$setViewValue(t[0].checked,n&&n.type)};t.on("click",c);r.$render=function(){t[0].checked=r.$viewValue};r.$isEmpty=function(n){return n===!1};r.$formatters.push(function(n){return ht(n,s)});r.$parsers.push(function(n){return n?s:h})}function es(n,i){function s(n,t){var u,i,f,r;if(!n||!n.length)return[];if(!t||!t.length)return n;u=[];n:for(i=0;i<n.length;i++){for(f=n[i],r=0;r<t.length;r++)if(f===t[r])continue n;u.push(f)}return u}function r(n){return n&&n.split(" ")}function e(n){var t=n;return c(n)?t=n.map(e).join(" "):o(n)&&(t=Object.keys(n).filter(function(t){return n[t]}).join(" ")),t}function h(n){var t=n,i;return c(n)?t=n.map(h):o(n)&&(i=!1,t=Object.keys(n).filter(function(t){var r=n[t];return!i&&u(r)&&(i=!0),r}),i&&t.push(undefined)),t}n="ngClass"+n;var f;return["$parse",function(u){return{restrict:"AC",link:function(o,c,l){function it(n){n=y(r(n),1);l.$addClass(n)}function rt(n){n=y(r(n),-1);l.$removeClass(n)}function ut(n,t){var i=r(n),u=r(t),f=s(i,u),e=s(u,i),o=y(f,-1),h=y(e,1);l.$addClass(h);l.$removeClass(o)}function y(n,i){var r=[];return t(n,function(n){(i>0||a[n])&&(a[n]=(a[n]||0)+i,a[n]===+(i>0)&&r.push(n))}),r.join(" ")}function ft(n){n===i?it(v):rt(v);k=n}function et(n){var t=e(n);t!==v&&d(t)}function d(n){k===i&&ut(v,n);v=n}var w=l[n].trim(),b=w.charAt(0)===":"&&w.charAt(1)===":",g=b?h:e,nt=u(w,g),tt=b?et:d,a=c.data("$classCounts"),k=!0,v;a||(a=p(),c.data("$classCounts",a));n!=="ngClass"&&(f||(f=u("$index",function(n){return n&1})),o.$watch(f,ft));o.$watch(nt,tt,b)}}}]}function af(n,t,i,r,u,f,e,o,s){this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$$rawModelValue=undefined;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=undefined;this.$name=s(i.name||"",!1)(n);this.$$parentForm=sf;this.$options=vf;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=u(i.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=undefined;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:n});this.$$attr=i;this.$$element=r;this.$$animate=f;this.$$timeout=e;this.$$parse=u;this.$$q=o;this.$$exceptionHandler=t;fa(this);tn(this)}function tn(n){n.$$scope.$watch(function(t){var i=n.$$ngModelGet(t);return i!==n.$modelValue&&(n.$modelValue===n.$modelValue||i===i)&&n.$$setModelValue(i),i})}function ss(n){this.$$options=n}function uv(n,i){t(i,function(t,i){r(n[i])||(n[i]=t)})}function pi(n,t){n.prop("selected",t);n.attr("selected",t)}var yf={objectMaxDepth:5},av=/^\/(.+)\/([a-z]*)$/,hs="validity",ot=Object.prototype.hasOwnProperty,a=function(n){return h(n)?n.toLowerCase():n},fr=function(n){return h(n)?n.toUpperCase():n},vv=function(n){return h(n)?n.replace(/[A-Z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)|32)}):n},yv=function(n){return h(n)?n.replace(/[a-z]/g,function(n){return String.fromCharCode(n.charCodeAt(0)&-33)}):n},it,c,ys,y,te,ti,lr,bs,si,gs,th,se,eh,gi,oh,ch,hi,br,ke,de,wh,b,tf,ge,ic,no,to,ri,cc,vc,vi,pc,tu,bc,iu,i,co,lo,ol,d,po,dl,gl,ta,uu,ts,tv,vf,iv,rv;"i"!=="I".toLowerCase()&&(a=vv,fr=yv);var at,f,bt,wi=[].slice,pv=[].splice,wv=[].push,rt=Object.prototype.toString,cs=Object.getPrototypeOf,ei=l("ng"),ut=n.angular||(n.angular={}),wf,bv=0;at=n.document.documentMode;it=Number.isNaN||function(n){return n!==n};s.$inject=[];er.$inject=[];c=Array.isArray;ys=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;y=function(n){return h(n)?n.trim():n};te=function(n){return n.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};ti=function(){function u(){try{return new Function(""),!1}catch(n){return!0}}var i,t;return r(ti.rules)||(i=n.document.querySelector("[ng-csp]")||n.document.querySelector("[data-ng-csp]"),i?(t=i.getAttribute("ng-csp")||i.getAttribute("data-ng-csp"),ti.rules={noUnsafeEval:!t||t.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!t||t.indexOf("no-inline-style")!==-1}):ti.rules={noUnsafeEval:u(),noInlineStyle:!1}),ti.rules};lr=function(){if(r(lr.name_))return lr.name_;for(var i,e=si.length,u,f,t=0;t<e;++t)if(u=si[t],i=n.document.querySelector("["+u.replace(":","\\:")+"jq]"),i){f=i.getAttribute(u+"jq");break}return lr.name_=f};bs=/:/g;si=["ng-","data-ng-","ng:","x-ng-"];gs=ey(n.document);th=/[A-Z]/g;se=!1;var kt=1,ly=2,ii=3,wr=8,uh=9,ce=11;eh={full:"1.6.9",major:1,minor:6,dot:9,codeName:"fiery-basilisk"};w.expando="ng339";gi=w.cache={};oh=1;w._data=function(n){return this.cache[n[this.expando]]||{}};var wy=/-([a-z])/g,by=/^-ms-/,au={mouseleave:"mouseout",mouseenter:"mouseover"},le=l("jqLite");var dy=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gy=/<|&#?\w+;/,np=/<([\w:-]+)/,tp=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct={option:[1,'<select multiple="multiple">',"<\/select>"],thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};ct.optgroup=ct.option;ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead;ct.th=ct.td;ch=n.Node.prototype.contains||function(n){return!!(this.compareDocumentPosition(n)&16)};hi=w.prototype={ready:yh,toString:function(){var n=[];return t(this,function(t){n.push(""+t)}),"["+n.join(", ")+"]"},eq:function(n){return n>=0?f(this[n]):f(this[this.length+n])},length:0,push:wv,sort:[].sort,splice:[].splice};br={};t("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(n){br[a(n)]=n});ke={};t("input,select,option,textarea,button,form,details".split(","),function(n){ke[n]=!0});de={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};t({data:we,removeData:pe,hasData:ip,cleanData:function(n){for(var t=0,i=n.length;t<i;t++)pe(n[t])}},function(n,t){w[t]=n});t({data:we,inheritedData:du,scope:function(n){return f.data(n,"$scope")||du(n.parentNode||n,["$isolateScope","$scope"])},isolateScope:function(n){return f.data(n,"$isolateScope")||f.data(n,"$isolateScopeNoTemplate")},controller:ah,injector:function(n){return du(n,"$injector")},removeAttr:function(n,t){n.removeAttribute(t)},hasClass:wu,css:function(n,t,i){if(t=ky(t),r(i))n.style[t]=i;else return n.style[t]},attr:function(n,t,i){var u,o=n.nodeType,f,e;if(o!==ii&&o!==ly&&o!==wr&&n.getAttribute)if(f=a(t),e=br[f],r(i))i===null||i===!1&&e?n.removeAttribute(t):n.setAttribute(t,e?f:i);else return u=n.getAttribute(t),e&&u!==null&&(u=f),u===null?undefined:u},prop:function(n,t,i){if(r(i))n[t]=i;else return n[t]},text:function(){function n(n,t){if(u(t)){var i=n.nodeType;return i===kt||i===ii?n.textContent:""}n.textContent=t}return n.$dv="",n}(),val:function(n,i){if(u(i)){if(n.multiple&&vt(n)==="select"){var r=[];return t(n.options,function(n){n.selected&&r.push(n.value||n.text)}),r}return n.value}n.value=i},html:function(n,t){if(u(t))return n.innerHTML;yu(n,!0);n.innerHTML=t},empty:vh},function(n,t){w.prototype[t]=function(t,i){var r,h,e=this.length,f,l,s,c;if(n!==vh&&u(n.length===2&&n!==wu&&n!==ah?t:i)){if(o(t)){for(r=0;r<e;r++)if(n===we)n(this[r],t);else for(h in t)n(this[r],h,t[h]);return this}for(f=n.$dv,l=u(f)?Math.min(e,1):e,s=0;s<l;s++)c=n(this[s],t,i),f=f?f+c:c;return f}for(r=0;r<e;r++)n(this[r],t,i);return this}});t({removeData:pe,on:function(n,t,i,u){if(r(u))throw le("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ve(n)){var f=pu(n,!0),e=f.events,o=f.handle;o||(o=f.handle=op(n,e));for(var h=t.indexOf(" ")>=0?t.split(" "):[t],c=h.length,s=function(t,r,u){var f=e[t];f||(f=e[t]=[],f.specialHandlerWrapper=r,t==="$destroy"||u||n.addEventListener(t,o));f.push(i)};c--;)t=h[c],au[t]?(s(au[t],hp),s(t,undefined,!0)):s(t)}},off:lh,one:function(n,t,i){n=f(n);n.on(t,function r(){n.off(t,i);n.off(t,r)});n.on(t,i)},replaceWith:function(n,i){var r,u=n.parentNode;yu(n);t(new w(i),function(t){r?u.insertBefore(t,r.nextSibling):u.replaceChild(t,n);r=t})},children:function(n){var i=[];return t(n.childNodes,function(n){n.nodeType===kt&&i.push(n)}),i},contents:function(n){return n.contentDocument||n.childNodes||[]},append:function(n,t){var r=n.nodeType,i,u,f;if(r===kt||r===ce)for(t=new w(t),i=0,u=t.length;i<u;i++)f=t[i],n.appendChild(f)},prepend:function(n,i){if(n.nodeType===kt){var r=n.firstChild;t(new w(i),function(t){n.insertBefore(t,r)})}},wrap:function(n,t){up(n,f(t).eq(0).clone()[0])},remove:gu,detach:function(n){gu(n,!0)},after:function(n,t){var u=n,f=n.parentNode,i,e,r;if(f)for(t=new w(t),i=0,e=t.length;i<e;i++)r=t[i],f.insertBefore(r,u.nextSibling),u=r},addClass:ku,removeClass:bu,toggleClass:function(n,i,r){i&&t(i.split(" "),function(t){var i=r;u(i)&&(i=!wu(n,t));(i?ku:bu)(n,t)})},parent:function(n){var t=n.parentNode;return t&&t.nodeType!==ce?t:null},next:function(n){return n.nextElementSibling},find:function(n,t){return n.getElementsByTagName?n.getElementsByTagName(t):[]},clone:ye,triggerHandler:function(n,i,r){var u,f,e,o=i.type||i,h=pu(n),c=h&&h.events,l=c&&c[o];l&&(u={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:s,type:o,target:n},i.type&&(u=v(u,i)),f=pt(l),e=r?[u].concat(r):[u],t(f,function(t){u.isImmediatePropagationStopped()||t.apply(n,e)}))}},function(n,t){w.prototype[t]=function(t,i,e){for(var o,s=0,h=this.length;s<h;s++)u(o)?(o=n(this[s],t,i,e),r(o)&&(o=f(o))):be(o,n(this[s],t,i,e));return r(o)?o:this}});w.prototype.bind=w.prototype.on;w.prototype.unbind=w.prototype.off;wh=Object.create(null);bh.prototype={_idx:function(n){return n===this._lastKey?this._lastIndex:(this._lastKey=n,this._lastIndex=this._keys.indexOf(n),this._lastIndex)},_transformKey:function(n){return it(n)?wh:n},get:function(n){n=this._transformKey(n);var t=this._idx(n);if(t!==-1)return this._values[t]},set:function(n,t){n=this._transformKey(n);var i=this._idx(n);i===-1&&(i=this._lastIndex=this._keys.length);this._keys[i]=n;this._values[i]=t},"delete":function(n){n=this._transformKey(n);var t=this._idx(n);return t===-1?!1:(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var nf=bh,lp=[function(){this.$get=[function(){return nf}]}],ap=/^([^(]+?)=>/,vp=/^[^(]*\(\s*([^)]*)\)/m,yp=/,/,pp=/^\s*(_?)(\S+?)\1\s*$/,wp=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ci=l("$injector");kr.$$annotate=kp;var gh=l("$animate"),gp=1,nc="ng-animate";var iw=function(){this.$get=s},rw=function(){var n=new nf,i=[];this.$get=["$$AnimateRunner","$rootScope",function(r,u){function f(n,i,r){var u=!1;return i&&(i=h(i)?i.split(" "):c(i)?i:[],t(i,function(t){t&&(u=!0,n[t]=r)})),u}function e(){t(i,function(i){var f=n.get(i);if(f){var e=tw(i.attr("class")),r="",u="";t(f,function(n,t){var i=!!e[t];n!==i&&(n?r+=(r.length?" ":"")+t:u+=(u.length?" ":"")+t)});t(i,function(n){r&&ku(n,r);u&&bu(n,u)});n.delete(i)}});i.length=0}function o(t,r,o){var s=n.get(t)||{},h=f(s,r,!0),c=f(s,o,!1);(h||c)&&(n.set(t,s),i.push(t),i.length===1&&u.$$postDigest(e))}return{enabled:s,on:s,off:s,pin:s,push:function(n,t,i,u){u&&u();i=i||{};i.from&&n.css(i.from);i.to&&n.css(i.to);(i.addClass||i.removeClass)&&o(n,i.addClass,i.removeClass);var f=new r;return f.complete(),f}}}]},uw=["$provide",function(n){var r=this,t=null,i=null;this.$$registeredAnimations=Object.create(null);this.register=function(t,i){if(t&&t.charAt(0)!==".")throw gh("notcsel","Expecting class selector starting with '.' got '{0}'.",t);var u=t+"-animation";r.$$registeredAnimations[t.substr(1)]=u;n.factory(u,i)};this.customFilter=function(n){return arguments.length===1&&(i=e(n)?n:null),i};this.classNameFilter=function(n){if(arguments.length===1&&(t=n instanceof RegExp?n:null,t)){var i=new RegExp("[(\\s|\\/)]"+nc+"[(\\s|\\/)]");if(i.test(t.toString())){t=null;throw gh("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',nc);}}return t};this.$get=["$$animateQueue",function(n){function t(n,t,i){if(i){var r=nw(i);!r||r.parentNode||r.previousElementSibling||(i=null)}i?i.after(n):t.prepend(n)}return{on:n.on,off:n.off,pin:n.pin,enabled:n.enabled,cancel:function(n){n.end&&n.end()},enter:function(i,r,u,e){return r=r&&f(r),u=u&&f(u),r=r||u.parent(),t(i,r,u),n.push(i,"enter",li(e))},move:function(i,r,u,e){return r=r&&f(r),u=u&&f(u),r=r||u.parent(),t(i,r,u),n.push(i,"move",li(e))},leave:function(t,i){return n.push(t,"leave",li(i),function(){t.remove()})},addClass:function(t,i,r){return r=li(r),r.addClass=dr(r.addclass,i),n.push(t,"addClass",r)},removeClass:function(t,i,r){return r=li(r),r.removeClass=dr(r.removeClass,i),n.push(t,"removeClass",r)},setClass:function(t,i,r,u){return u=li(u),u.addClass=dr(u.addClass,i),u.removeClass=dr(u.removeClass,r),n.push(t,"setClass",u)},animate:function(t,i,r,u,f){return f=li(f),f.from=f.from?v(f.from,i):i,f.to=f.to?v(f.to,r):r,u=u||"ng-inline-animate",f.tempClasses=dr(f.tempClasses,u),n.push(t,"animate",f)}}}]}],fw=function(){this.$get=["$$rAF",function(n){function i(i){(t.push(i),t.length>1)||n(function(){for(var n=0;n<t.length;n++)t[n]();t=[]})}var t=[];return function(){var n=!1;return i(function(){n=!0}),function(t){n?t():i(t)}}}]},ew=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(n,i,r,u,f){function e(n){this.setHost(n);var t=r(),i=function(n){f(n,0,!1)};this._doneCallbacks=[];this._tick=function(n){u()?i(n):t(n)};this._state=0}var h=0,c=1,o=2;return e.chain=function(n,t){function r(){if(i===n.length){t(!0);return}n[i](function(n){if(n===!1){t(!1);return}i++;r()})}var i=0;r()},e.all=function(n,i){function f(t){r=r&&t;++u===n.length&&i(r)}var u=0,r=!0;t(n,function(n){n.done(f)})},e.prototype={setHost:function(n){this.host=n||{}},done:function(n){this._state===o?n():this._doneCallbacks.push(n)},progress:s,getPromise:function(){if(!this.promise){var t=this;this.promise=n(function(n,i){t.done(function(t){t===!1?i():n()})})}return this.promise},then:function(n,t){return this.getPromise().then(n,t)},"catch":function(n){return this.getPromise()["catch"](n)},"finally":function(n){return this.getPromise()["finally"](n)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(n){var t=this;t._state===h&&(t._state=c,t._tick(function(){t._resolve(n)}))},_resolve:function(n){this._state!==o&&(t(this._doneCallbacks,function(t){t(n)}),this._doneCallbacks.length=0,this._state=o)}},e}]},ow=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(n,t,i){return function(t,r){function o(){return n(function(){s();e||f.complete();e=!0}),f}function s(){u.addClass&&(t.addClass(u.addClass),u.addClass=null);u.removeClass&&(t.removeClass(u.removeClass),u.removeClass=null);u.to&&(t.css(u.to),u.to=null)}var u=r||{},e,f;return u.$$prepared||(u=oi(u)),u.cleanupStyles&&(u.from=u.to=null),u.from&&(t.css(u.from),u.from=null),f=new i,{start:o,end:o}}}]};b=l("$compile");tf=new aw;tc.$inject=["$provide","$$sanitizeUriProvider"];rf.prototype.isFirstChange=function(){return this.previousValue===tf};ge=/^((?:x|data)[:\-_])/i;ic=/[:\-_]+(.)/g;no=l("$controller");to=/^(\S+)(\s+as\s+([\w$]+))?$/;var kw=function(){this.$get=["$document",function(n){return function(t){return t?!t.nodeType&&t instanceof f&&(t=t[0]):t=n[0].body,t.offsetWidth+1}}]},fc="application/json",io={"Content-Type":fc+";charset=utf-8"},dw=/^\[|^\{(?!\{)/,gw={"[":/]$/,"{":/}$/},nb=/^\)]\}',?\n/,uf=l("$http");ri=ut.$interpolateMinErr=l("$interpolate");ri.throwNoconcat=function(n){throw ri("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",n);};ri.interr=function(n,t){return ri("interr","Can't interpolate: {0}\n{1}",n,t.toString())};var cb=function(){this.$get=function(){function i(n){var t=function(n){t.data=n;t.called=!0};return t.id=n,t}var t=ut.callbacks,n={};return{createCallback:function(){var r="_"+(t.$$counter++).toString(36),u="angular.callbacks."+r,f=i(r);return n[u]=t[r]=f,u},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(i){var r=n[i];delete t[r.id];delete n[i]}}}},lb=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,ab={http:80,https:443,ftp:21},gr=l("$location");cc=/^\s*[\\/]{2,}/;vc={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ff("$$absUrl"),url:function(n){if(u(n))return this.$$url;var t=lb.exec(n);return(t[1]||n==="")&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||n==="")&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ff("$$protocol"),host:ff("$$host"),port:ff("$$port"),path:yc("$$path",function(n){return n=n!==null?n.toString():"",n.charAt(0)==="/"?n:"/"+n}),search:function(n,i){switch(arguments.length){case 0:return this.$$search;case 1:if(h(n)||g(n))n=n.toString(),this.$$search=ee(n);else if(o(n))n=oi(n,{}),t(n,function(t,i){t==null&&delete n[i]}),this.$$search=n;else throw gr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");break;default:u(i)||i===null?delete this.$$search[n]:this.$$search[n]=i}return this.$$compose(),this},hash:yc("$$hash",function(n){return n!==null?n.toString():""}),replace:function(){return this.$$replace=!0,this}};t([ac,ho,so],function(n){n.prototype=Object.create(vc);n.prototype.state=function(t){if(!arguments.length)return this.$$state;if(n!==so||!this.$$html5)throw gr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=u(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});vi=l("$parse");pc={}.constructor.prototype.valueOf;tu=p();t("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(n){tu[n]=!0});bc={n:"\n",f:"\f",r:"\r",t:"\t",v:'\v',"'":"'",'"':'"'};iu=function(n){this.options=n};iu.prototype={constructor:iu,lex:function(n){var t,r;for(this.text=n,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var i=t+this.peek(),u=i+this.peek(2),o=tu[t],f=tu[i],e=tu[u];o||f||e?(r=e?u:f?i:t,this.tokens.push({index:this.index,text:r,operator:!0}),this.index+=r.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(n,t){return t.indexOf(n)!==-1},peek:function(n){var t=n||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(n){return"0"<=n&&n<="9"&&typeof n=="string"},isWhitespace:function(n){return n===" "||n==="\r"||n==="\t"||n==="\n"||n==='\v'||n===""},isIdentifierStart:function(n){return this.options.isIdentifierStart?this.options.isIdentifierStart(n,this.codePointAt(n)):this.isValidIdentifierStart(n)},isValidIdentifierStart:function(n){return"a"<=n&&n<="z"||"A"<=n&&n<="Z"||"_"===n||n==="$"},isIdentifierContinue:function(n){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(n,this.codePointAt(n)):this.isValidIdentifierContinue(n)},isValidIdentifierContinue:function(n,t){return this.isValidIdentifierStart(n,t)||this.isNumber(n)},codePointAt:function(n){return n.length===1?n.charCodeAt(0):(n.charCodeAt(0)<<10)+n.charCodeAt(1)-56613888},peekMultichar:function(){var n=this.text.charAt(this.index),t=this.peek(),i,r;return t?(i=n.charCodeAt(0),r=t.charCodeAt(0),i>=55296&&i<=56319&&r>=56320&&r<=57343)?n+t:n:n},isExpOperator:function(n){return n==="-"||n==="+"||this.isNumber(n)},throwError:function(n,t,i){i=i||this.index;var u=r(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,i)+"]":" "+i;throw vi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",n,u,this.text);},readNumber:function(){for(var n="",r=this.index,t,i;this.index<this.text.length;){if(t=a(this.text.charAt(this.index)),t==="."||this.isNumber(t))n+=t;else if(i=this.peek(),t==="e"&&this.isExpOperator(i))n+=t;else if(this.isExpOperator(t)&&i&&this.isNumber(i)&&n.charAt(n.length-1)==="e")n+=t;else if(!this.isExpOperator(t)||i&&this.isNumber(i)||n.charAt(n.length-1)!=="e")break;else this.throwError("Invalid exponent");this.index++}this.tokens.push({index:r,text:n,constant:!0,value:Number(n)})},readIdent:function(){var t=this.index,n;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){if(n=this.peekMultichar(),!this.isIdentifierContinue(n))break;this.index+=n.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(n){var f=this.index,t,r,o;this.index++;for(var i="",e=n,u=!1;this.index<this.text.length;){if(t=this.text.charAt(this.index),e+=t,u)t==="u"?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,i+=String.fromCharCode(parseInt(r,16))):(o=bc[t],i=i+(o||t)),u=!1;else if(t==="\\")u=!0;else{if(t===n){this.index++;this.tokens.push({index:f,text:e,constant:!0,value:i});return}i+=t}this.index++}this.throwError("Unterminated quote",f)}};i=function(n,t){this.lexer=n;this.options=t};i.Program="Program";i.ExpressionStatement="ExpressionStatement";i.AssignmentExpression="AssignmentExpression";i.ConditionalExpression="ConditionalExpression";i.LogicalExpression="LogicalExpression";i.BinaryExpression="BinaryExpression";i.UnaryExpression="UnaryExpression";i.CallExpression="CallExpression";i.MemberExpression="MemberExpression";i.Identifier="Identifier";i.Literal="Literal";i.ArrayExpression="ArrayExpression";i.Property="Property";i.ObjectExpression="ObjectExpression";i.ThisExpression="ThisExpression";i.LocalsExpression="LocalsExpression";i.NGValueParameter="NGValueParameter";i.prototype={ast:function(n){this.text=n;this.tokens=this.lexer.lex(n);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var n=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&n.push(this.expressionStatement()),!this.expect(";"))return{type:i.Program,body:n}},expressionStatement:function(){return{type:i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var n=this.expression();this.expect("|");)n=this.filter(n);return n},expression:function(){return this.assignment()},assignment:function(){var n=this.ternary();if(this.expect("=")){if(!gc(n))throw vi("lval","Trying to assign a value to a non l-value");n={type:i.AssignmentExpression,left:n,right:this.assignment(),operator:"="}}return n},ternary:function(){var n=this.logicalOR(),t,r;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(r=this.expression(),{type:i.ConditionalExpression,test:n,alternate:t,consequent:r}):n},logicalOR:function(){for(var n=this.logicalAND();this.expect("||");)n={type:i.LogicalExpression,operator:"||",left:n,right:this.logicalAND()};return n},logicalAND:function(){for(var n=this.equality();this.expect("&&");)n={type:i.LogicalExpression,operator:"&&",left:n,right:this.equality()};return n},equality:function(){for(var n=this.relational(),t;t=this.expect("==","!=","===","!==");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.relational()};return n},relational:function(){for(var n=this.additive(),t;t=this.expect("<",">","<=",">=");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.additive()};return n},additive:function(){for(var n=this.multiplicative(),t;t=this.expect("+","-");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.multiplicative()};return n},multiplicative:function(){for(var n=this.unary(),t;t=this.expect("*","/","%");)n={type:i.BinaryExpression,operator:t.text,left:n,right:this.unary()};return n},unary:function(){var n;return(n=this.expect("+","-","!"))?{type:i.UnaryExpression,operator:n.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var n,t;for(this.expect("(")?(n=this.filterChain(),this.consume(")")):this.expect("[")?n=this.arrayDeclaration():this.expect("{")?n=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?n=oi(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?n={type:i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?n=this.identifier():this.peek().constant?n=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)t.text==="("?(n={type:i.CallExpression,callee:n,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(n={type:i.MemberExpression,object:n,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?n={type:i.MemberExpression,object:n,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return n},filter:function(n){for(var t=[n],r={type:i.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var n=[];if(this.peekToken().text!==")")do n.push(this.filterChain());while(this.expect(","));return n},identifier:function(){var n=this.consume();return n.identifier||this.throwError("is not a valid identifier",n),{type:i.Identifier,name:n.text}},constant:function(){return{type:i.Literal,value:this.consume().value}},arrayDeclaration:function(){var n=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;n.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:i.ArrayExpression,elements:n}},object:function(){var t=[],n;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;n={type:i.Property,kind:"init"};this.peek().constant?(n.key=this.constant(),n.computed=!1,this.consume(":"),n.value=this.expression()):this.peek().identifier?(n.key=this.identifier(),n.computed=!1,this.peek(":")?(this.consume(":"),n.value=this.expression()):n.value=n.key):this.peek("[")?(this.consume("["),n.key=this.expression(),this.consume("]"),n.computed=!0,this.consume(":"),n.value=this.expression()):this.throwError("invalid key",this.peek());t.push(n)}while(this.expect(","));return this.consume("}"),{type:i.ObjectExpression,properties:t}},throwError:function(n,t){throw vi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,n,t.index+1,this.text,this.text.substring(t.index));},consume:function(n){if(this.tokens.length===0)throw vi("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(n);return t||this.throwError("is unexpected, expecting ["+n+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw vi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(n,t,i,r){return this.peekAhead(0,n,t,i,r)},peekAhead:function(n,t,i,r,u){if(this.tokens.length>n){var e=this.tokens[n],f=e.text;if(f===t||f===i||f===r||f===u||!t&&!i&&!r&&!u)return e}return!1},expect:function(n,t,i,r){var u=this.peek(n,t,i,r);return u?(this.tokens.shift(),u):!1},selfReferential:{"this":{type:i.ThisExpression},$locals:{type:i.LocalsExpression}}};co=1;lo=2;tl.prototype={compile:function(n){var i=this,r,f,u,e,o,s;return this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},k(n,i.$filter),r="",this.stage="assign",(f=nl(n))&&(this.state.computing="assign",u=this.nextId(),this.recurse(f,u),this.return_(u),r="fn.assign="+this.generateFunction("assign","s,v,l")),e=dc(n.body),i.stage="inputs",t(e,function(n,t){var r="fn"+t,u;i.state[r]={vars:[],body:[],own:{}};i.state.computing=r;u=i.nextId();i.recurse(n,u);i.return_(u);i.state.inputs.push({name:r,isPure:n.isPure});n.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(n),o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,wc,kb,kc),this.state=this.stage=undefined,s},USE:"use",STRICT:"strict",watchFns:function(){var n=[],i=this.state.inputs,r=this;return t(i,function(t){n.push("var "+t.name+"="+r.generateFunction(t.name,"s"));t.isPure&&n.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),i.length&&n.push("fn.inputs=["+i.map(function(n){return n.name}).join(",")+"];"),n.join("")},generateFunction:function(n,t){return"function("+t+"){"+this.varsPrefix(n)+this.body(n)+"};"},filterPrefix:function(){var n=[],i=this;return(t(this.state.filters,function(t,r){n.push(t+"=$filter("+i.escape(r)+")")}),n.length)?"var "+n.join(",")+";":""},varsPrefix:function(n){return this.state[n].vars.length?"var "+this.state[n].vars.join(",")+";":""},body:function(n){return this.state[n].body.join("")},recurse:function(n,u,f,e,o,h){var l,a,c=this,y,v,p;if(e=e||s,!h&&r(n.watchId)){u=u||this.nextId();this.if_("i",this.lazyAssign(u,this.computedMember("i",n.watchId)),this.lazyRecurse(n,u,f,e,o,!0));return}switch(n.type){case i.Program:t(n.body,function(t,i){c.recurse(t.expression,undefined,undefined,function(n){a=n});i!==n.body.length-1?c.current().body.push(a,";"):c.return_(a)});break;case i.Literal:v=this.escape(n.value);this.assign(u,v);e(u||v);break;case i.UnaryExpression:this.recurse(n.argument,undefined,undefined,function(n){a=n});v=n.operator+"("+this.ifDefined(a,0)+")";this.assign(u,v);e(v);break;case i.BinaryExpression:this.recurse(n.left,undefined,undefined,function(n){l=n});this.recurse(n.right,undefined,undefined,function(n){a=n});v=n.operator==="+"?this.plus(l,a):n.operator==="-"?this.ifDefined(l,0)+n.operator+this.ifDefined(a,0):"("+l+")"+n.operator+"("+a+")";this.assign(u,v);e(v);break;case i.LogicalExpression:u=u||this.nextId();c.recurse(n.left,u);c.if_(n.operator==="&&"?u:c.not(u),c.lazyRecurse(n.right,u));e(u);break;case i.ConditionalExpression:u=u||this.nextId();c.recurse(n.test,u);c.if_(u,c.lazyRecurse(n.alternate,u),c.lazyRecurse(n.consequent,u));e(u);break;case i.Identifier:u=u||this.nextId();f&&(f.context=c.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),f.computed=!1,f.name=n.name);c.if_(c.stage==="inputs"||c.not(c.getHasOwnProperty("l",n.name)),function(){c.if_(c.stage==="inputs"||"s",function(){o&&o!==1&&c.if_(c.isNull(c.nonComputedMember("s",n.name)),c.lazyAssign(c.nonComputedMember("s",n.name),"{}"));c.assign(u,c.nonComputedMember("s",n.name))})},u&&c.lazyAssign(u,c.nonComputedMember("l",n.name)));e(u);break;case i.MemberExpression:l=f&&(f.context=this.nextId())||this.nextId();u=u||this.nextId();c.recurse(n.object,l,undefined,function(){c.if_(c.notNull(l),function(){n.computed?(a=c.nextId(),c.recurse(n.property,a),c.getStringValue(a),o&&o!==1&&c.if_(c.not(c.computedMember(l,a)),c.lazyAssign(c.computedMember(l,a),"{}")),v=c.computedMember(l,a),c.assign(u,v),f&&(f.computed=!0,f.name=a)):(o&&o!==1&&c.if_(c.isNull(c.nonComputedMember(l,n.property.name)),c.lazyAssign(c.nonComputedMember(l,n.property.name),"{}")),v=c.nonComputedMember(l,n.property.name),c.assign(u,v),f&&(f.computed=!1,f.name=n.property.name))},function(){c.assign(u,"undefined")});e(u)},!!o);break;case i.CallExpression:u=u||this.nextId();n.filter?(a=c.filter(n.callee.name),y=[],t(n.arguments,function(n){var t=c.nextId();c.recurse(n,t);y.push(t)}),v=a+"("+y.join(",")+")",c.assign(u,v),e(u)):(a=c.nextId(),l={},y=[],c.recurse(n.callee,a,l,function(){c.if_(c.notNull(a),function(){t(n.arguments,function(t){c.recurse(t,n.constant?undefined:c.nextId(),undefined,function(n){y.push(n)})});v=l.name?c.member(l.context,l.name,l.computed)+"("+y.join(",")+")":a+"("+y.join(",")+")";c.assign(u,v)},function(){c.assign(u,"undefined")});e(u)}));break;case i.AssignmentExpression:a=this.nextId();l={};this.recurse(n.left,undefined,l,function(){c.if_(c.notNull(l.context),function(){c.recurse(n.right,a);v=c.member(l.context,l.name,l.computed)+n.operator+a;c.assign(u,v);e(u||v)})},1);break;case i.ArrayExpression:y=[];t(n.elements,function(t){c.recurse(t,n.constant?undefined:c.nextId(),undefined,function(n){y.push(n)})});v="["+y.join(",")+"]";this.assign(u,v);e(u||v);break;case i.ObjectExpression:y=[];p=!1;t(n.properties,function(n){n.computed&&(p=!0)});p?(u=u||this.nextId(),this.assign(u,"{}"),t(n.properties,function(n){n.computed?(l=c.nextId(),c.recurse(n.key,l)):l=n.key.type===i.Identifier?n.key.name:""+n.key.value;a=c.nextId();c.recurse(n.value,a);c.assign(c.member(u,l,n.computed),a)})):(t(n.properties,function(t){c.recurse(t.value,n.constant?undefined:c.nextId(),undefined,function(n){y.push(c.escape(t.key.type===i.Identifier?t.key.name:""+t.key.value)+":"+n)})}),v="{"+y.join(",")+"}",this.assign(u,v));e(u||v);break;case i.ThisExpression:this.assign(u,"s");e(u||"s");break;case i.LocalsExpression:this.assign(u,"l");e(u||"l");break;case i.NGValueParameter:this.assign(u,"v");e(u||"v")}},getHasOwnProperty:function(n,t){var i=n+"."+t,r=this.current().own;return r.hasOwnProperty(i)||(r[i]=this.nextId(!1,n+"&&("+this.escape(t)+" in "+n+")")),r[i]},assign:function(n,t){if(n)return this.current().body.push(n,"=",t,";"),n},filter:function(n){return this.state.filters.hasOwnProperty(n)||(this.state.filters[n]=this.nextId(!0)),this.state.filters[n]},ifDefined:function(n,t){return"ifDefined("+n+","+this.escape(t)+")"},plus:function(n,t){return"plus("+n+","+t+")"},return_:function(n){this.current().body.push("return ",n,";")},if_:function(n,t,i){if(n===!0)t();else{var r=this.current().body;r.push("if(",n,"){");t();r.push("}");i&&(r.push("else{"),i(),r.push("}"))}},not:function(n){return"!("+n+")"},isNull:function(n){return n+"==null"},notNull:function(n){return n+"!=null"},nonComputedMember:function(n,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?n+"."+t:n+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(n,t){return n+"["+t+"]"},member:function(n,t,i){return i?this.computedMember(n,t):this.nonComputedMember(n,t)},getStringValue:function(n){this.assign(n,"getStringValue("+n+")")},lazyRecurse:function(n,t,i,r,u,f){var e=this;return function(){e.recurse(n,t,i,r,u,f)}},lazyAssign:function(n,t){var i=this;return function(){i.assign(n,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)},escape:function(n){if(h(n))return"'"+n.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(g(n))return n.toString();if(n===!0)return"true";if(n===!1)return"false";if(n===null)return"null";if(typeof n=="undefined")return"undefined";throw vi("esc","IMPOSSIBLE");},nextId:function(n,t){var i="v"+this.state.nextId++;return n||this.current().vars.push(i+(t?"="+t:"")),i},current:function(){return this.state[this.state.computing]}};il.prototype={compile:function(n){var f=this,h,e,o,i,r,u;return k(n,f.$filter),(h=nl(n))&&(e=this.recurse(h)),o=dc(n.body),o&&(i=[],t(o,function(n,t){var r=f.recurse(n);r.isPure=n.isPure;n.input=r;i.push(r);n.watchId=t})),r=[],t(n.body,function(n){r.push(f.recurse(n.expression))}),u=n.body.length===0?s:n.body.length===1?r[0]:function(n,i){var u;return t(r,function(t){u=t(n,i)}),u},e&&(u.assign=function(n,t,i){return e(n,i,t)}),i&&(u.inputs=i),u},recurse:function(n,r,u){var o,e,s=this,f;if(n.input)return this.inputs(n.input,n.watchId);switch(n.type){case i.Literal:return this.value(n.value,r);case i.UnaryExpression:return e=this.recurse(n.argument),this["unary"+n.operator](e,r);case i.BinaryExpression:return o=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](o,e,r);case i.LogicalExpression:return o=this.recurse(n.left),e=this.recurse(n.right),this["binary"+n.operator](o,e,r);case i.ConditionalExpression:return this["ternary?:"](this.recurse(n.test),this.recurse(n.alternate),this.recurse(n.consequent),r);case i.Identifier:return s.identifier(n.name,r,u);case i.MemberExpression:return o=this.recurse(n.object,!1,!!u),n.computed||(e=n.property.name),n.computed&&(e=this.recurse(n.property)),n.computed?this.computedMember(o,e,r,u):this.nonComputedMember(o,e,r,u);case i.CallExpression:return f=[],t(n.arguments,function(n){f.push(s.recurse(n))}),n.filter&&(e=this.$filter(n.callee.name)),n.filter||(e=this.recurse(n.callee,!0)),n.filter?function(n,t,i,u){for(var s,h=[],o=0;o<f.length;++o)h.push(f[o](n,t,i,u));return s=e.apply(undefined,h,u),r?{context:undefined,name:undefined,value:s}:s}:function(n,t,i,u){var s=e(n,t,i,u),h,c,o;if(s.value!=null){for(c=[],o=0;o<f.length;++o)c.push(f[o](n,t,i,u));h=s.value.apply(s.context,c)}return r?{value:h}:h};case i.AssignmentExpression:return o=this.recurse(n.left,!0,1),e=this.recurse(n.right),function(n,t,i,u){var s=o(n,t,i,u),f=e(n,t,i,u);return s.context[s.name]=f,r?{value:f}:f};case i.ArrayExpression:return f=[],t(n.elements,function(n){f.push(s.recurse(n))}),function(n,t,i,u){for(var e=[],o=0;o<f.length;++o)e.push(f[o](n,t,i,u));return r?{value:e}:e};case i.ObjectExpression:return f=[],t(n.properties,function(n){n.computed?f.push({key:s.recurse(n.key),computed:!0,value:s.recurse(n.value)}):f.push({key:n.key.type===i.Identifier?n.key.name:""+n.key.value,computed:!1,value:s.recurse(n.value)})}),function(n,t,i,u){for(var o={},e=0;e<f.length;++e)f[e].computed?o[f[e].key(n,t,i,u)]=f[e].value(n,t,i,u):o[f[e].key]=f[e].value(n,t,i,u);return r?{value:o}:o};case i.ThisExpression:return function(n){return r?{value:n}:n};case i.LocalsExpression:return function(n,t){return r?{value:t}:t};case i.NGValueParameter:return function(n,t,i){return r?{value:i}:i}}},"unary+":function(n,t){return function(i,u,f,e){var o=n(i,u,f,e);return o=r(o)?+o:0,t?{value:o}:o}},"unary-":function(n,t){return function(i,u,f,e){var o=n(i,u,f,e);return o=r(o)?-o:-0,t?{value:o}:o}},"unary!":function(n,t){return function(i,r,u,f){var e=!n(i,r,u,f);return t?{value:e}:e}},"binary+":function(n,t,i){return function(r,u,f,e){var s=n(r,u,f,e),h=t(r,u,f,e),o=kc(s,h);return i?{value:o}:o}},"binary-":function(n,t,i){return function(u,f,e,o){var s=n(u,f,e,o),h=t(u,f,e,o),c=(r(s)?s:0)-(r(h)?h:0);return i?{value:c}:c}},"binary*":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)*t(r,u,f,e);return i?{value:o}:o}},"binary/":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)/t(r,u,f,e);return i?{value:o}:o}},"binary%":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)%t(r,u,f,e);return i?{value:o}:o}},"binary===":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)===t(r,u,f,e);return i?{value:o}:o}},"binary!==":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)!==t(r,u,f,e);return i?{value:o}:o}},"binary==":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)==t(r,u,f,e);return i?{value:o}:o}},"binary!=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)!=t(r,u,f,e);return i?{value:o}:o}},"binary<":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)<t(r,u,f,e);return i?{value:o}:o}},"binary>":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)>t(r,u,f,e);return i?{value:o}:o}},"binary<=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)<=t(r,u,f,e);return i?{value:o}:o}},"binary>=":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)>=t(r,u,f,e);return i?{value:o}:o}},"binary&&":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)&&t(r,u,f,e);return i?{value:o}:o}},"binary||":function(n,t,i){return function(r,u,f,e){var o=n(r,u,f,e)||t(r,u,f,e);return i?{value:o}:o}},"ternary?:":function(n,t,i,r){return function(u,f,e,o){var s=n(u,f,e,o)?t(u,f,e,o):i(u,f,e,o);return r?{value:s}:s}},value:function(n,t){return function(){return t?{context:undefined,name:undefined,value:n}:n}},identifier:function(n,t,i){return function(r,u){var f=u&&n in u?u:r,e;return i&&i!==1&&f&&f[n]==null&&(f[n]={}),e=f?f[n]:undefined,t?{context:f,name:n,value:e}:e}},computedMember:function(n,t,i,r){return function(u,f,e,o){var h=n(u,f,e,o),s,c;return h!=null&&(s=t(u,f,e,o),s=wc(s),r&&r!==1&&h&&!h[s]&&(h[s]={}),c=h[s]),i?{context:h,name:s,value:c}:c}},nonComputedMember:function(n,t,i,r){return function(u,f,e,o){var s=n(u,f,e,o),h;return r&&r!==1&&s&&s[t]==null&&(s[t]={}),h=s!=null?s[t]:undefined,i?{context:s,name:t,value:h}:h}},inputs:function(n,t){return function(i,r,u,f){return f?f[t]:n(i,r,u)}}};ef.prototype={constructor:ef,parse:function(n){var t=this.getAst(n),i=this.astCompiler.compile(t.ast);return i.literal=nk(t.ast),i.constant=tk(t.ast),i.oneTime=t.oneTime,i},getAst:function(n){var t=!1;return n=n.trim(),n.charAt(0)===":"&&n.charAt(1)===":"&&(t=!0,n=n.substring(2)),{ast:this.ast.ast(n),oneTime:t}}};var ui=l("$sce"),lt={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},sk=/_([a-z])/g;ol=l("$compile");d=n.document.createElement("a");po=fi(n.location.href);hl.$inject=["$document"];cl.$inject=["$provide"];var ll=22,al=".",bo="0";vl.$inject=["$locale"];yl.$inject=["$locale"];var fd={yyyy:nt("FullYear",4,0,!1,!0),yy:nt("FullYear",2,0,!0,!0),y:nt("FullYear",1,0,!1,!0),MMMM:ru("Month"),MMM:ru("Month",!0),MM:nt("Month",2,1),M:nt("Month",1,1),LLLL:ru("Month",!1,!0),dd:nt("Date",2),d:nt("Date",1),HH:nt("Hours",2),H:nt("Hours",1),hh:nt("Hours",2,-12),h:nt("Hours",1,-12),mm:nt("Minutes",2),m:nt("Minutes",1),ss:nt("Seconds",2),s:nt("Seconds",1),sss:nt("Milliseconds",3),EEEE:ru("Day"),EEE:ru("Day",!0),a:rd,Z:td,ww:bl(2),w:bl(1),G:ko,GG:ko,GGG:ko,GGGG:ud},ed=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,od=/^-?\d+$/;kl.$inject=["$locale"];dl=st(a);gl=st(fr);na.$inject=["$parse"];ta=st({restrict:"E",compile:function(n,t){if(!t.href&&!t.xlinkHref)return function(n,t){if(t[0].nodeName.toLowerCase()==="a"){var i=rt.call(t.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href";t.on("click",function(n){t.attr(i)||n.preventDefault()})}}}});uu={};t(br,function(n,t){function r(n,r,u){n.$watch(u[i],function(n){u.$set(t,!!n)})}if(n!=="multiple"){var i=wt("ng-"+t),u=r;n==="checked"&&(u=function(n,t,u){u.ngModel!==u[i]&&r(n,t,u)});uu[i]=function(){return{restrict:"A",priority:100,link:u}}}});t(de,function(n,t){uu[t]=function(){return{priority:100,link:function(n,i,r){if(t==="ngPattern"&&r.ngPattern.charAt(0)==="/"){var u=r.ngPattern.match(av);if(u){r.$set("ngPattern",new RegExp(u[1],u[2]));return}}n.$watch(r[t],function(n){r.$set(t,n)})}}}});t(["src","srcset","href"],function(n){var t=wt("ng-"+n);uu[t]=function(){return{priority:99,link:function(i,r,u){var e=n,f=n;n==="href"&&rt.call(r.prop("href"))==="[object SVGAnimatedString]"&&(f="xlinkHref",u.$attr[f]="xlink:href",e=null);u.$observe(t,function(t){if(!t){n==="href"&&u.$set(f,null);return}u.$set(f,t);at&&e&&r.prop(e,u[f])})}}}});var sf={$addControl:s,$$renameControl:cd,$removeControl:s,$setValidity:s,$setDirty:s,$setPristine:s,$setSubmitted:s},ia="ng-pending",ra="ng-submitted";hf.$inject=["$element","$attrs","$scope","$animate","$interpolate"];hf.prototype={$rollbackViewValue:function(){t(this.$$controls,function(n){n.$rollbackViewValue()})},$commitViewValue:function(){t(this.$$controls,function(n){n.$commitViewValue()})},$addControl:function(n){di(n.$name,"input");this.$$controls.push(n);n.$name&&(this[n.$name]=n);n.$$parentForm=this},$$renameControl:function(n,t){var i=n.$name;this[i]===n&&delete this[i];this[t]=n;n.$name=t},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name];t(this.$pending,function(t,i){this.$setValidity(i,null,n)},this);t(this.$error,function(t,i){this.$setValidity(i,null,n)},this);t(this.$$success,function(t,i){this.$setValidity(i,null,n)},this);cr(this.$$controls,n);n.$$parentForm=sf},$setDirty:function(){this.$$animate.removeClass(this.$$element,ur);this.$$animate.addClass(this.$$element,lf);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,ur,lf+" "+ra);this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;t(this.$$controls,function(n){n.$setPristine()})},$setUntouched:function(){t(this.$$controls,function(n){n.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,ra);this.$submitted=!0;this.$$parentForm.$setSubmitted()}};ea({clazz:hf,set:function(n,t,i){var r=n[t],u;r?(u=r.indexOf(i),u===-1&&r.push(i)):n[t]=[i]},unset:function(n,t,i){var r=n[t];r&&(cr(r,i),r.length===0&&delete n[t])}});var ua=function(n){return["$timeout","$parse",function(t,i){function r(n){return n===""?i('this[""]').assign:i(n).assign||s}return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:hf,compile:function(i,u){i.addClass(ur).addClass(eu);var f=u.name?"name":n&&u.ngForm?"ngForm":!1;return{pre:function(n,i,u,e){var o=e[0],c,l,h;if(!("action"in u)){c=function(t){n.$apply(function(){o.$commitViewValue();o.$setSubmitted()});t.preventDefault()};i[0].addEventListener("submit",c);i.on("$destroy",function(){t(function(){i[0].removeEventListener("submit",c)},0,!1)})}l=e[1]||o.$$parentForm;l.$addControl(o);h=f?r(o.$name):s;f&&(h(n,o),u.$observe(f,function(t){o.$name!==t&&(h(n,undefined),o.$$parentForm.$$renameControl(o,t),h=r(o.$name),h(n,o))}));i.on("$destroy",function(){o.$$parentForm.$removeControl(o);h(n,undefined);v(o,sf)})}}}}}]},ld=ua(),ad=ua(!0);var vd=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,yd=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,pd=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,wd=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,sa=/^(\d{4,})-(\d{2})-(\d{2})$/,ha=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ns=/^(\d{4,})-W(\d\d)$/,ca=/^(\d{4,})-(\d\d)$/,la=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,bd="keydown wheel mousedown",aa=p();t("date,datetime-local,month,time,week".split(","),function(n){aa[n]=!0});ts={text:kd,date:fu("date",sa,cf(sa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":fu("datetimelocal",ha,cf(ha,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:fu("time",la,cf(la,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:fu("week",ns,dd,"yyyy-Www"),month:fu("month",ca,cf(ca,["yyyy","MM"]),"yyyy-MM"),number:gd,url:tg,email:ig,radio:rg,range:ng,checkbox:ug,hidden:s,button:s,submit:s,reset:s,file:s};var wa=["$browser","$sniffer","$filter","$parse",function(n,t,i,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(u,f,e,o){o[0]&&(ts[a(e.type)]||ts.text)(u,f,e,o[0],t,n,i,r)}}}}],fg=/^(true|false|\d+)$/,eg=function(){function n(n,t,i){var u=r(i)?i:at===9?"":null;n.prop("value",u);t.$set("value",i)}return{restrict:"A",priority:100,compile:function(t,i){return fg.test(i.ngValue)?function(t,i,r){var u=t.$eval(r.ngValue);n(i,r,u)}:function(t,i,r){t.$watch(r.ngValue,function(t){n(i,r,t)})}}}},og=["$compile",function(n){return{restrict:"AC",compile:function(t){return n.$$addBindingClass(t),function(t,i,r){n.$$addBindingInfo(i,r.ngBind);i=i[0];t.$watch(r.ngBind,function(n){i.textContent=he(n)})}}}}],sg=["$interpolate","$compile",function(n,t){return{compile:function(i){return t.$$addBindingClass(i),function(i,r,f){var e=n(r.attr(f.$attr.ngBindTemplate));t.$$addBindingInfo(r,e.expressions);r=r[0];f.$observe("ngBindTemplate",function(n){r.textContent=u(n)?"":n})}}}}],hg=["$sce","$parse","$compile",function(n,t,i){return{restrict:"A",compile:function(r,u){var f=t(u.ngBindHtml),e=t(u.ngBindHtml,function(t){return n.valueOf(t)});return i.$$addBindingClass(r),function(t,r,u){i.$$addBindingInfo(r,u.ngBindHtml);t.$watch(e,function(){var i=f(t);r.html(n.getTrustedHtml(i)||"")})}}}}],cg=st({restrict:"A",require:"ngModel",link:function(n,t,i,r){r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)})}});var lg=es("",!0),ag=es("Odd",0),vg=es("Even",1),yg=tr({compile:function(n,t){t.$set("ngCloak",undefined);n.removeClass("ng-cloak")}}),pg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ba={},wg={blur:!0,focus:!0};t("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(n){var t=wt("ng-"+n);ba[t]=["$parse","$rootScope",function(i,r){return{restrict:"A",compile:function(u,f){var e=i(f[t]);return function(t,i){i.on(n,function(i){var u=function(){e(t,{$event:i})};wg[n]&&r.$$phase?t.$evalAsync(u):t.$apply(u)})}}}}]});var bg=["$animate","$compile",function(n,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(i,r,u,f,e){var h,s,o;i.$watch(u.ngIf,function(i){i?s||e(function(i,f){s=f;i[i.length++]=t.$$createComment("end ngIf",u.ngIf);h={clone:i};n.enter(i,r.parent(),r)}):(o&&(o.remove(),o=null),s&&(s.$destroy(),s=null),h&&(o=lu(h.clone),n.leave(o).done(function(n){n!==!1&&(o=null)}),h=null))})}}}],kg=["$templateRequest","$anchorScroll","$animate",function(n,t,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ut.noop,compile:function(u,f){var o=f.ngInclude||f.src,s=f.onload||"",e=f.autoscroll;return function(u,f,h,c,l){var p=0,a,v,y,w=function(){v&&(v.remove(),v=null);a&&(a.$destroy(),a=null);y&&(i.leave(y).done(function(n){n!==!1&&(v=null)}),v=y,y=null)};u.$watch(o,function(o){var v=function(n){n!==!1&&r(e)&&(!e||u.$eval(e))&&t()},h=++p;o?(n(o,!0).then(function(n){var t,r;u.$$destroyed||h===p&&(t=u.$new(),c.template=n,r=l(t,function(n){w();i.enter(n,null,f).done(v)}),a=t,y=r,a.$emit("$includeContentLoaded",o),u.$eval(s))},function(){u.$$destroyed||h===p&&(w(),u.$emit("$includeContentError",o))}),u.$emit("$includeContentRequested",o)):(w(),c.template=null)})}}}}],dg=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(i,r,u,f){if(rt.call(r[0]).match(/SVG/)){r.empty();t(hh(f.template,n.document).childNodes)(i,function(n){r.append(n)},{futureParentElement:r});return}r.html(f.template);t(r.contents())(i)}}}],gg=tr({priority:450,compile:function(){return{pre:function(n,t,i){n.$eval(i.ngInit)}}}}),nn=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(n,i,r,f){var e=r.ngList||", ",o=r.ngTrim!=="false",s=o?y(e):e,h=function(n){if(!u(n)){var i=[];return n&&t(n.split(s),function(n){n&&i.push(o?y(n):n)}),i}};f.$parsers.push(h);f.$formatters.push(function(n){return c(n)?n.join(e):undefined});f.$isEmpty=function(n){return!n||!n.length}}}},eu="ng-valid",ka="ng-invalid",ur="ng-pristine",lf="ng-dirty",os="ng-untouched",da="ng-touched",ga="ng-empty",nv="ng-not-empty",ou=l("ngModel");af.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"];af.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var i=this.$$parsedNgModel(t);return e(i)&&(i=n(t)),i};this.$$ngModelSet=function(n,i){e(this.$$parsedNgModel(n))?t(n,{$$$p:i}):this.$$parsedNgModelAssign(n,i)}}else if(!this.$$parsedNgModel.assign)throw ou("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,yt(this.$$element));},$render:s,$isEmpty:function(n){return u(n)||n===""||n===null||n!==n},$$updateEmptyClasses:function(n){this.$isEmpty(n)?(this.$$animate.removeClass(this.$$element,nv),this.$$animate.addClass(this.$$element,ga)):(this.$$animate.removeClass(this.$$element,ga),this.$$animate.addClass(this.$$element,nv))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,lf);this.$$animate.addClass(this.$$element,ur)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,ur);this.$$animate.addClass(this.$$element,lf);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,os,da)},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,da,os)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!it(this.$modelValue)){var i=this.$$lastCommittedViewValue,t=this.$$rawModelValue,r=this.$valid,u=this.$modelValue,f=this.$options.getOption("allowInvalid"),n=this;this.$$runValidators(t,i,function(i){f||r===i||(n.$modelValue=i?t:undefined,n.$modelValue!==u&&n.$$writeModelToScope())})}},$$runValidators:function(n,i,r){function c(){var n=f.$$parserName||"parse";if(u(f.$$parserValid))e(n,null);else return f.$$parserValid||(t(f.$validators,function(n,t){e(t,null)}),t(f.$asyncValidators,function(n,t){e(t,null)})),e(n,f.$$parserValid),f.$$parserValid;return!0}function l(){var r=!0;return(t(f.$validators,function(t,u){var f=Boolean(t(n,i));r=r&&f;e(u,f)}),!r)?(t(f.$asyncValidators,function(n,t){e(t,null)}),!1):!0}function a(){var r=[],u=!0;t(f.$asyncValidators,function(t,f){var o=t(n,i);if(!hu(o))throw ou("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",o);e(f,undefined);r.push(o.then(function(){e(f,!0)},function(){u=!1;e(f,!1)}))});r.length?f.$$q.all(r).then(function(){o(u)},s):o(!0)}function e(n,t){h===f.$$currentValidationRunId&&f.$setValidity(n,t)}function o(n){h===f.$$currentValidationRunId&&r(n)}this.$$currentValidationRunId++;var h=this.$$currentValidationRunId,f=this;if(!c()){o(!1);return}if(!l()){o(!1);return}a()},$commitViewValue:function(){var n=this.$viewValue;(this.$$timeout.cancel(this.$$pendingDebounce),this.$$lastCommittedViewValue!==n||n===""&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(n),this.$$lastCommittedViewValue=n,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){i.$modelValue!==f&&i.$$writeModelToScope()}var o=this.$$lastCommittedViewValue,n=o,i=this,t,f,r;if(this.$$parserValid=u(n)?undefined:!0,this.$$parserValid)for(t=0;t<this.$parsers.length;t++)if(n=this.$parsers[t](n),u(n)){this.$$parserValid=!1;break}it(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));f=this.$modelValue;r=this.$options.getOption("allowInvalid");this.$$rawModelValue=n;r&&(this.$modelValue=n,e());this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){r||(i.$modelValue=t?n:undefined,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);t(this.$viewChangeListeners,function(n){try{n()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(n,t){this.$viewValue=n;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(n){var t=this.$options.getOption("debounce"),i;g(t[n])?t=t[n]:g(t["default"])&&(t=t["default"]);this.$$timeout.cancel(this.$$pendingDebounce);i=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){i.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){i.$commitViewValue()})},$overrideModelOptions:function(n){this.$options=this.$options.createChild(n);this.$$setUpdateOnEvents()},$processModelValue:function(){var n=this.$$format();this.$viewValue!==n&&(this.$$updateEmptyClasses(n),this.$viewValue=this.$$lastCommittedViewValue=n,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,s))},$$format:function(){for(var t=this.$formatters,i=t.length,n=this.$modelValue;i--;)n=t[i](n);return n},$$setModelValue:function(n){this.$modelValue=this.$$rawModelValue=n;this.$$parserValid=undefined;this.$processModelValue()},$$setUpdateOnEvents:function(){if(this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents)this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(n){this.$$debounceViewValueCommit(n&&n.type)}};ea({clazz:af,set:function(n,t){n[t]=!0},unset:function(n,t){delete n[t]}});tv=["$rootScope",function(n){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:af,priority:1,compile:function(t){return t.addClass(ur).addClass(os).addClass(eu),{pre:function(n,t,i,r){var u=r[0],e=r[1]||u.$$parentForm,f=r[2];f&&(u.$options=f.$options);u.$$initGetterSetters();e.$addControl(u);i.$observe("name",function(n){u.$name!==n&&u.$$parentForm.$$renameControl(u,n)});n.$on("$destroy",function(){u.$$parentForm.$removeControl(u)})},post:function(t,i,r,u){function e(){f.$setTouched()}var f=u[0];f.$$setUpdateOnEvents();i.on("blur",function(){f.$touched||(n.$$phase?t.$evalAsync(e):t.$apply(e))})}}}}}];iv=/(\s+|^)default(\s+|$)/;ss.prototype={getOption:function(n){return this.$$options[n]},createChild:function(n){var i=!1;return n=v({},n),t(n,function(t,r){t==="$inherit"?r==="*"?i=!0:(n[r]=this.$$options[r],r==="updateOn"&&(n.updateOnDefault=this.$$options.updateOnDefault)):r==="updateOn"&&(n.updateOnDefault=!1,n[r]=y(t.replace(iv,function(){return n.updateOnDefault=!0," "})))},this),i&&(delete n["*"],uv(n,this.$$options)),uv(n,vf.$$options),new ss(n)}};vf=new ss({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});rv=function(){function n(n,t){this.$$attrs=n;this.$$scope=t}return n.$inject=["$attrs","$scope"],n.prototype={$onInit:function(){var n=this.parentCtrl?this.parentCtrl.$options:vf,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=n.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:n}};var rn=tr({terminal:!0,priority:1e3}),un=l("ngOptions"),fn=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,en=["$compile","$document","$parse",function(i,u,e){function h(n,t,i){function tt(n,t,i,r,u){this.selectValue=n;this.viewValue=t;this.label=i;this.group=r;this.disabled=u}function w(n){var t,i;if(!s&&gt(n))t=n;else{t=[];for(i in n)n.hasOwnProperty(i)&&i.charAt(0)!=="$"&&t.push(i)}return t}var r=n.match(fn);if(!r)throw un("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",n,yt(t));var o=r[5]||r[7],s=r[6],l=/ as /.test(r[0])&&r[1],u=r[9],b=e(r[2]?r[1]:o),k=l&&e(l),d=k||b,g=u&&e(u),h=u?function(n,t){return g(i,t)}:function(n){return nr(n)},a=function(n,t){return h(n,c(n,t))},v=e(r[2]||r[1]),nt=e(r[3]||""),y=e(r[4]||""),p=e(r[8]),f={},c=s?function(n,t){return f[s]=t,f[o]=n,f}:function(n){return f[o]=n,f};return{trackBy:u,getTrackByValue:a,getWatchables:e(p,function(n){var u=[],f,o,t,a,p;for(n=n||[],f=w(n),o=f.length,t=0;t<o;t++){var s=n===f?t:f[t],l=n[s],e=c(l,s),b=h(l,e);u.push(b);(r[2]||r[1])&&(a=v(i,e),u.push(a));r[4]&&(p=y(i,e),u.push(p))}return u}),getOptions:function(){for(var o=[],r={},f=p(i)||[],e=w(f),g=e.length,t=0;t<g;t++){var s=f===e?t:e[t],it=f[s],n=c(it,s),l=d(i,n),b=h(l,n),rt=v(i,n),ut=nt(i,n),ft=y(i,n),k=new tt(b,l,rt,ut,ft);o.push(k);r[b]=k}return{items:o,selectValueMap:r,getOptionFromViewValue:function(n){return r[a(n)]},getViewValueFromOption:function(n){return u?oi(n.viewValue):n.viewValue}}}}}function a(n,e,s,a){function it(n,t){var i=o.cloneNode(!1);t.appendChild(i);ft(n,i)}function ut(n){var t=y.getOptionFromViewValue(n),i=t&&t.element;return i&&!i.selected&&(i.selected=!0),t}function ft(n,t){n.element=t;t.disabled=n.disabled;n.label!==t.label&&(t.label=n.label,t.textContent=n.label);t.value=n.selectValue}function et(){var u=y&&v.readValue(),n,t,f,i,o;if(y)for(n=y.items.length-1;n>=0;n--)t=y.items[n],r(t.group)?gu(t.element.parentNode):gu(t.element);y=w.getOptions();f={};y.items.forEach(function(n){var t;r(n.group)?(t=f[n.group],t||(t=l.cloneNode(!1),k.appendChild(t),t.label=n.group===null?"null":n.group,f[n.group]=t),it(n,t)):it(n,k)});e[0].appendChild(k);p.$render();p.$isEmpty(u)||(i=v.readValue(),o=w.trackBy||g,(o?ht(u,i):u===i)||(p.$setViewValue(i),p.$render()))}for(var nt,tt,y,w,k,v=a[0],p=a[1],g=s.multiple,b=0,d=e.children(),rt=d.length;b<rt;b++)if(d[b].value===""){v.hasEmptyOption=!0;v.emptyOption=d.eq(b);break}e.empty();nt=!!v.emptyOption;tt=f(o.cloneNode(!1));tt.val("?");w=h(s.ngOptions,e,n);k=u[0].createDocumentFragment();v.generateUnknownOptionValue=function(){return"?"};g?(v.writeValue=function(n){if(y){var t=n&&n.map(ut)||[];y.items.forEach(function(n){n.element.selected&&!re(t,n)&&(n.element.selected=!1)})}},v.readValue=function(){var i=e.val()||[],n=[];return t(i,function(t){var i=y.selectValueMap[t];i&&!i.disabled&&n.push(y.getViewValueFromOption(i))}),n},w.trackBy&&n.$watchCollection(function(){if(c(p.$viewValue))return p.$viewValue.map(function(n){return w.getTrackByValue(n)})},function(){p.$render()})):(v.writeValue=function(n){if(y){var i=e[0].options[e[0].selectedIndex],t=y.getOptionFromViewValue(n);i&&i.removeAttribute("selected");t?(e[0].value!==t.selectValue&&(v.removeUnknownOption(),e[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):v.selectUnknownOrEmptyOption(n)}},v.readValue=function(){var n=y.selectValueMap[e.val()];return n&&!n.disabled?(v.unselectEmptyOption(),v.removeUnknownOption(),y.getViewValueFromOption(n)):null},w.trackBy&&n.$watch(function(){return w.getTrackByValue(p.$viewValue)},function(){p.$render()}));nt&&(i(v.emptyOption)(n),e.prepend(v.emptyOption),v.emptyOption[0].nodeType===wr?(v.hasEmptyOption=!1,v.registerOption=function(n,t){if(t.val()===""){v.hasEmptyOption=!0;v.emptyOption=t;v.emptyOption.removeClass("ng-scope");p.$render();t.on("$destroy",function(){var n=v.$isEmptyOptionSelected();v.hasEmptyOption=!1;v.emptyOption=undefined;n&&p.$render()})}}):v.emptyOption.removeClass("ng-scope"));n.$watchCollection(w.getWatchables,et)}var o=n.document.createElement("option"),l=n.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(n,t,i,r){r[0].registerOption=s},post:a}}}],on=["$locale","$interpolate","$log",function(n,i,r){var f=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(o,h,c){function d(n){h.text(n||"")}var p=c.count,w=c.$attr.when&&h.attr(c.$attr.when),b=c.offset||0,l=o.$eval(w)||{},k={},g=i.startSymbol(),nt=i.endSymbol(),tt=g+p+"-"+b+nt,v=ut.noop,y;t(c,function(n,t){var i=e.exec(t),r;i&&(r=(i[1]?"-":"")+a(i[2]),l[r]=h.attr(c.$attr[t]))});t(l,function(n,t){k[t]=i(n.replace(f,tt))});o.$watch(p,function(t){var i=parseFloat(t),e=it(i),f;e||i in l||(i=n.pluralCat(i-b));i===y||e&&it(y)||(v(),f=k[i],u(f)?(t!=null&&r.debug("ngPluralize: no rule defined for '"+i+"' in "+w),v=s,d()):v=o.$watch(f,d),y=i)})}}}],sn=["$parse","$animate","$compile",function(n,i,r){var f="$$NG_REMOVED",u=l("ngRepeat"),e=function(n,t,i,r,u,f,e){n[i]=r;u&&(n[u]=f);n.$index=t;n.$first=t===0;n.$last=t===e-1;n.$middle=!(n.$first||n.$last);n.$odd=!(n.$even=(t&1)==0)},o=function(n){return n.clone[0]},s=function(n){return n.clone[n.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(h,c){var w=c.ngRepeat,rt=r.$$createComment("end ngRepeat",w),l=w.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),b,v,k,d,tt,it,y;if(!l)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",w);var g=l[1],ut=l[2],a=l[3],nt=l[4];if(l=g.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!l)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);if(b=l[3]||l[1],v=l[2],a&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(a)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(a)))throw u("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",a);return y={$id:nr},nt?k=n(nt):(tt=function(n,t){return nr(t)},it=function(n){return n}),function(n,r,h,c,l){k&&(d=function(t,i,r){return v&&(y[v]=t),y[b]=i,y.$index=r,k(n,y)});var g=p();n.$watchCollection(ut,function(h){var c,pt,ht=r[0],ft,ct=p(),et,ut,st,k,yt,nt,y,lt,at,vt,wt;if(a&&(n[a]=h),gt(h))nt=h,yt=d||tt;else{yt=d||it;nt=[];for(vt in h)ot.call(h,vt)&&vt.charAt(0)!=="$"&&nt.push(vt)}for(et=nt.length,lt=new Array(et),c=0;c<et;c++)if(ut=h===nt?c:nt[c],st=h[ut],k=yt(ut,st,c),g[k])y=g[k],delete g[k],ct[k]=y,lt[c]=y;else if(ct[k]){t(lt,function(n){n&&n.scope&&(g[n.id]=n)});throw u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",w,k,st);}else lt[c]={id:k,scope:undefined,clone:undefined},ct[k]=!0;for(wt in g){if(y=g[wt],at=lu(y.clone),i.leave(at),at[0].parentNode)for(c=0,pt=at.length;c<pt;c++)at[c][f]=!0;y.scope.$destroy()}for(c=0;c<et;c++)if(ut=h===nt?c:nt[c],st=h[ut],y=lt[c],y.scope){ft=ht;do ft=ft.nextSibling;while(ft&&ft[f]);o(y)!==ft&&i.move(lu(y.clone),null,ht);ht=s(y);e(y.scope,c,b,st,v,ut,et)}else l(function(n,t){y.scope=t;var r=rt.cloneNode(!1);n[n.length++]=r;i.enter(n,null,ht);ht=r;y.clone=n;ct[y.id]=y;e(y.scope,c,b,st,v,ut,et)});g=ct})}}}}],fv="ng-hide",ev="ng-hide-animate",hn=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngShow,function(t){n[t?"removeClass":"addClass"](i,fv,{tempClasses:ev})})}}}],cn=["$animate",function(n){return{restrict:"A",multiElement:!0,link:function(t,i,r){t.$watch(r.ngHide,function(t){n[t?"addClass":"removeClass"](i,fv,{tempClasses:ev})})}}}],ln=tr(function(n,i,r){n.$watch(r.ngStyle,function(n,r){r&&n!==r&&t(r,function(n,t){i.css(t,"")});n&&i.css(n)},!0)}),an=["$animate","$compile",function(n,i){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(r,u,f,e){var l=f.ngSwitch||f.on,c=[],h=[],o=[],s=[],a=function(n,t){return function(i){i!==!1&&n.splice(t,1)}};r.$watch(l,function(r){for(var u,f,l,v;o.length;)n.cancel(o.pop());for(u=0,f=s.length;u<f;++u)l=lu(h[u].clone),s[u].$destroy(),v=o[u]=n.leave(l),v.done(a(o,u));h.length=0;s.length=0;(c=e.cases["!"+r]||e.cases["?"])&&t(c,function(t){t.transclude(function(r,u){var f,e;s.push(u);f=t.element;r[r.length++]=i.$$createComment("end ngSwitchWhen");e={clone:r};h.push(e);n.enter(r,f.parent(),f)})})})}}}],vn=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,i,r,u,f){var e=r.ngSwitchWhen.split(r.ngSwitchWhenSeparator).sort().filter(function(n,t,i){return i[t-1]!==n});t(e,function(n){u.cases["!"+n]=u.cases["!"+n]||[];u.cases["!"+n].push({transclude:f,element:i})})}}),yn=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(n,t,i,r,u){r.cases["?"]=r.cases["?"]||[];r.cases["?"].push({transclude:u,element:t})}}),pn=l("ngTransclude"),wn=["$compile",function(n){return{restrict:"EAC",compile:function(t){var i=n(t.contents());return t.empty(),function(n,t,r,u,f){function s(n,i){n.length&&h(n)?t.append(n):(o(),i.$destroy())}function o(){i(n,function(n){t.append(n)})}function h(n){for(var i,t=0,r=n.length;t<r;t++)if(i=n[t],i.nodeType!==ii||i.nodeValue.trim())return!0}if(!f)throw pn("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",yt(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var e=r.ngTransclude||r.ngTranscludeSlot;f(s,null,e);e&&!f.isSlotFilled(e)&&o()}}}}],bn=["$templateCache",function(n){return{restrict:"E",terminal:!0,compile:function(t,i){if(i.type==="text/ng-template"){var r=i.id,u=t[0].text;n.put(r,u)}}}}],kn={$setViewValue:s,$render:s};var dn=["$element","$scope",function(t,i){function l(){h||(h=!0,i.$$postDigest(function(){h=!1;u.ngModelCtrl.$render()}))}function o(n){c||(c=!0,i.$$postDigest(function(){i.$$destroyed||(c=!1,u.ngModelCtrl.$setViewValue(u.readValue()),n&&u.ngModelCtrl.$render())}))}var u=this,e=new nf,h,c;u.selectValueMap={};u.ngModelCtrl=kn;u.multiple=!1;u.unknownOption=f(n.document.createElement("option"));u.hasEmptyOption=!1;u.emptyOption=undefined;u.renderUnknownOption=function(n){var i=u.generateUnknownOptionValue(n);u.unknownOption.val(i);t.prepend(u.unknownOption);pi(u.unknownOption,!0);t.val(i)};u.updateUnknownOption=function(n){var i=u.generateUnknownOptionValue(n);u.unknownOption.val(i);pi(u.unknownOption,!0);t.val(i)};u.generateUnknownOptionValue=function(n){return"? "+nr(n)+" ?"};u.removeUnknownOption=function(){u.unknownOption.parent()&&u.unknownOption.remove()};u.selectEmptyOption=function(){u.emptyOption&&(t.val(""),pi(u.emptyOption,!0))};u.unselectEmptyOption=function(){u.hasEmptyOption&&pi(u.emptyOption,!1)};i.$on("$destroy",function(){u.renderUnknownOption=s});u.readValue=function(){var n=t.val(),i=n in u.selectValueMap?u.selectValueMap[n]:n;return u.hasOption(i)?i:null};u.writeValue=function(n){var r=t[0].options[t[0].selectedIndex],i,e;r&&pi(f(r),!1);u.hasOption(n)?(u.removeUnknownOption(),i=nr(n),t.val(i in u.selectValueMap?i:n),e=t[0].options[t[0].selectedIndex],pi(f(e),!0)):u.selectUnknownOrEmptyOption(n)};u.addOption=function(n,t){if(t[0].nodeType!==wr){di(n,'"option value"');n===""&&(u.hasEmptyOption=!0,u.emptyOption=t);var i=e.get(n)||0;e.set(n,i+1);l()}};u.removeOption=function(n){var t=e.get(n);t&&(t===1?(e.delete(n),n===""&&(u.hasEmptyOption=!1,u.emptyOption=undefined)):e.set(n,t-1))};u.hasOption=function(n){return!!e.get(n)};u.$hasEmptyOption=function(){return u.hasEmptyOption};u.$isUnknownOptionSelected=function(){return t[0].options[0]===u.unknownOption[0]};u.$isEmptyOptionSelected=function(){return u.hasEmptyOption&&t[0].options[t[0].selectedIndex]===u.emptyOption[0]};u.selectUnknownOrEmptyOption=function(n){n==null&&u.emptyOption?(u.removeUnknownOption(),u.selectEmptyOption()):u.unknownOption.parent().length?u.updateUnknownOption(n):u.renderUnknownOption(n)};h=!1;c=!1;u.registerOption=function(n,t,i,f,e){if(i.$attr.ngValue){var s,h=NaN;i.$observe("value",function(n){var i,f=t.prop("selected");r(h)&&(u.removeOption(s),delete u.selectValueMap[h],i=!0);h=nr(n);s=n;u.selectValueMap[h]=n;u.addOption(n,t);t.attr("value",h);i&&f&&o()})}else f?i.$observe("value",function(n){u.readValue();var i,f=t.prop("selected");r(s)&&(u.removeOption(s),i=!0);s=n;u.addOption(n,t);i&&f&&o()}):e?n.$watch(e,function(n,r){i.$set("value",n);var f=t.prop("selected");r!==n&&u.removeOption(r);u.addOption(n,t);r&&f&&o()}):u.addOption(i.value,t);i.$observe("disabled",function(n){(n==="true"||n&&t.prop("selected"))&&(u.multiple?o(!0):(u.ngModelCtrl.$setViewValue(null),u.ngModelCtrl.$render()))});t.on("$destroy",function(){var n=u.readValue(),t=i.value;u.removeOption(t);l();(u.multiple&&n&&n.indexOf(t)!==-1||n===t)&&o(!0)})}}],gn=function(){function n(n,i,r,u){var e=u[0],o=u[1],c,h;if(!o){e.registerOption=s;return}e.ngModelCtrl=o;i.on("change",function(){e.removeUnknownOption();n.$apply(function(){o.$setViewValue(e.readValue())})});r.multiple&&(e.multiple=!0,e.readValue=function(){var n=[];return t(i.find("option"),function(t){if(t.selected&&!t.disabled){var i=t.value;n.push(i in e.selectValueMap?e.selectValueMap[i]:i)}}),n},e.writeValue=function(n){t(i.find("option"),function(t){var i=!!n&&(re(n,t.value)||re(n,e.selectValueMap[t.value])),r=t.selected;i!==r&&pi(f(t),i)})},h=NaN,n.$watch(function(){h!==o.$viewValue||ht(c,o.$viewValue)||(c=pt(o.$viewValue),o.$render());h=o.$viewValue}),o.$isEmpty=function(n){return!n||n.length===0})}function i(n,t,i,r){var u=r[1],f;u&&(f=r[0],u.$render=function(){f.writeValue(u.$viewValue)})}return{restrict:"E",require:["select","?ngModel"],controller:dn,priority:1,link:{pre:n,post:i}}},ntt=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,i){var f,u;return r(i.ngValue)||(r(i.value)?f=n(i.value,!0):(u=n(t.text(),!0),u||i.$set("value",t.text()))),function(n,t,i){var r="$selectController",e=t.parent(),o=e.data(r)||e.parent().data(r);o&&o.registerOption(n,t,i,f,u)}}}}],ov=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){r&&(i.required=!0,r.$validators.required=function(n,t){return!i.required||!r.$isEmpty(t)},i.$observe("required",function(){r.$validate()}))}}},sv=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var f,e=i.ngPattern||i.pattern;i.$observe("pattern",function(n){if(h(n)&&n.length>0&&(n=new RegExp("^"+n+"$")),n&&!n.test)throw l("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",e,n,yt(t));f=n||undefined;r.$validate()});r.$validators.pattern=function(n,t){return r.$isEmpty(t)||u(f)||f.test(t)}}}}},hv=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=-1;i.$observe("maxlength",function(n){var t=tt(n);u=it(t)?-1:t;r.$validate()});r.$validators.maxlength=function(n,t){return u<0||r.$isEmpty(t)||t.length<=u}}}}},cv=function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){if(r){var u=0;i.$observe("minlength",function(n){u=tt(n)||0;r.$validate()});r.$validators.minlength=function(n,t){return r.$isEmpty(t)||t.length>=u}}}}};if(n.angular.bootstrap){n.console&&console.log("WARNING: Tried to load AngularJS more than once.");return}cy();yy(ut);ut.module("ngLocale",[],["$provide",function(n){function i(n){n=n+"";var t=n.indexOf(".");return t==-1?0:n.length-t-1}function r(n,t){var r=t,u,f;return undefined===r&&(r=Math.min(i(n),3)),u=Math.pow(10,r),f=(n*u|0)%u,{v:r,f:f}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};n.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(n,i){var u=n|0,f=r(n,i);return u==1&&f.v==0?t.ONE:t.OTHER}})}]);f(function(){oy(n.document,nh)})})(window);window.angular.$$csp().noInlineStyle||window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}<\/style>');
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function si(n,t,i){if(!n)throw nr("areq","Argument '{0}' is {1}",t||"?",i||"required");return n}function hi(n,t){return!n&&!t?"":n?t?(c(n)&&(n=n.join(" ")),c(t)&&(t=t.join(" ")),n+" "+t):n:t}function tr(n){var t={};return n&&(n.to||n.from)&&(t.to=n.to,t.from=n.from),t}function h(n,t,r){var u="";return n=c(n)?n:n&&o(n)&&n.length?n.split(/\s+/):[],i(n,function(n,i){n&&n.length>0&&(u+=i>0?" ":"",u+=r?t+n:n+t)}),u}function ir(n,t){var i=n.indexOf(t);t>=0&&n.splice(i,1)}function ci(n){if(n instanceof r)switch(n.length){case 0:return n;case 1:if(n[0].nodeType===b)return n;break;default:return r(vt(n))}if(n.nodeType===b)return r(n)}function vt(n){var t,i;if(!n[0])return n;for(t=0;t<n.length;t++)if(i=n[t],i.nodeType===b)return i}function rr(n,t,r){i(t,function(t){n.addClass(t,r)})}function ur(n,t,r){i(t,function(t){n.removeClass(t,r)})}function k(n){return function(t,i){i.addClass&&(rr(n,t,i.addClass),i.addClass=null);i.removeClass&&(ur(n,t,i.removeClass),i.removeClass=null)}}function d(n){if(n=n||{},!n.$$prepared){var t=n.domOperation||f;n.domOperation=function(){n.$$domOperationFired=!0;t();t=f};n.$$prepared=!0}return n}function y(n,t){li(n,t);ai(n,t)}function li(n,t){t.from&&(n.css(t.from),t.from=null)}function ai(n,t){t.to&&(n.css(t.to),t.to=null)}function g(n,t,i){var r=t.options||{},u=i.options||{},s=(r.addClass||"")+" "+(u.addClass||""),h=(r.removeClass||"")+" "+(u.removeClass||""),e=fr(n.attr("class"),s,h),o;return u.preparationClasses&&(r.preparationClasses=tt(u.preparationClasses,r.preparationClasses),delete u.preparationClasses),o=r.domOperation!==f?r.domOperation:null,dt(r,u),o&&(r.domOperation=o),r.addClass=e.addClass?e.addClass:null,r.removeClass=e.removeClass?e.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function fr(n,t,r){function s(n){o(n)&&(n=n.split(" "));var t={};return i(n,function(n){n.length&&(t[n]=!0)}),t}var e=1,h=-1,f={},u;return n=s(n),t=s(t),i(t,function(n,t){f[t]=e}),r=s(r),i(r,function(n,t){f[t]=f[t]===e?null:h}),u={addClass:"",removeClass:""},i(f,function(t,i){var r,f;t===e?(r="addClass",f=!n[i]||n[i+et]):t===h&&(r="removeClass",f=n[i]||n[i+ft]);f&&(u[r].length&&(u[r]+=" "),u[r]+=i)}),u}function u(n){return n instanceof r?n[0]:n}function er(n,t,i){var r="";t&&(r=h(t,ti,!0));i.addClass&&(r=tt(r,h(i.addClass,ft)));i.removeClass&&(r=tt(r,h(i.removeClass,et)));r.length&&(i.preparationClasses=r,n.addClass(r))}function or(n,t){t.preparationClasses&&(n.removeClass(t.preparationClasses),t.preparationClasses=null);t.activeClasses&&(n.removeClass(t.activeClasses),t.activeClasses=null)}function nt(n,t){var i=t?"-"+t+"s":"";return p(n,[v,i]),[v,i]}function yt(n,t){var i=t?"paused":"",r=s+di;return p(n,[r,i]),[r,i]}function p(n,t){var i=t[0],r=t[1];n.style[i]=r}function tt(n,t){return n?t?n+" "+t:n:t}function yr(n){return[at,n+"s"]}function pt(n,t){var i=t?lt:v;return[i,n+"s"]}function vi(n,t,r){var u=Object.create(null),f=n.getComputedStyle(t)||{};return i(r,function(n,t){var i=f[n],r;i&&(r=i.charAt(0),(r==="-"||r==="+"||r>=0)&&(i=pr(i)),i===0&&(i=null),u[t]=i)}),u}function pr(n){var t=0,r=n.split(/\s*,\s*/);return i(r,function(n){n.charAt(n.length-1)==="s"&&(n=n.substring(0,n.length-1));n=parseFloat(n)||0;t=t?Math.max(n,t):n}),t}function wt(n){return n===0||n!=null}function yi(n,t){var i=e,r=n+"s";return t?i+=ct:r+=" linear all",[i,r]}function pi(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var i=n[t];return i?i.total:0},get:function(t){var i=n[t];return i&&i.value},put:function(t,i){n[t]?n[t].total++:n[t]={total:1,value:i}}}}function wi(n,t,r){i(r,function(i){n[i]=gt(n[i])?n[i]:t.style.getPropertyValue(i)})}var b=1,ft="-add",et="-remove",ti="ng-",bi="-active",ki="-prepare",ii="ng-animate",ot="$$ngAnimateChildren",ri="",e,st,s,ht;n.ontransitionend===undefined&&n.onwebkittransitionend!==undefined?(ri="-webkit-",e="WebkitTransition",st="webkitTransitionEnd transitionend"):(e="transition",st="transitionend");n.onanimationend===undefined&&n.onwebkitanimationend!==undefined?(ri="-webkit-",s="WebkitAnimation",ht="webkitAnimationEnd animationend"):(s="animation",ht="animationend");var ct="Duration",ui="Property",fi="Delay",ei="TimingFunction",di="PlayState",gi=9999,lt=s+fi,at=s+ct,v=e+fi,oi=e+ct,nr=t.$$minErr("ng");var sr=["$$rAF",function(n){function r(n){i=i.concat(n);u()}function u(){var f,r;if(i.length){for(f=i.shift(),r=0;r<f.length;r++)f[r]();t||n(function(){t||u()})}}var i,t;return i=r.queue=[],r.waitUntilQuiet=function(i){t&&t();t=n(function(){t=null;i();u()})},r}],hr=["$interpolate",function(n){return{link:function(t,i,r){function f(n){n=n==="on"||n==="true";i.data(ot,n)}var u=r.ngAnimateChildren;o(u)&&u.length===0?i.data(ot,!0):(f(n(u)(t)),r.$observe("ngAnimateChildren",f))}}}],l="$$animateCss",w=1e3,cr=3,lr=1.5,ar={transitionDuration:oi,transitionDelay:v,transitionProperty:e+ui,animationDuration:at,animationDelay:lt,animationIterationCount:s+"IterationCount"},vr={transitionDuration:oi,transitionDelay:v,animationDuration:at,animationDelay:lt};var wr=["$animateProvider",function(){var n=pi(),t=pi();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(r,o,a,v,b,g,tt,it){function ot(n,t){var i="$$ngAnimateParentKey",r=n.parentNode,u=r[i]||(r[i]=++at);return u+"-"+n.getAttribute("class")+"-"+t}function vt(t,i,u,f){var e=n.get(u);return e||(e=vi(r,t,f),e.animationIterationCount==="infinite"&&(e.animationIterationCount=1)),n.put(u,e),e}function bt(i,u,f,e){var s,c;return n.count(f)>0&&(s=t.get(f),s||(c=h(u,"-stagger"),o.addClass(i,c),s=vi(r,i,e),s.animationDuration=Math.max(s.animationDuration,0),s.transitionDuration=Math.max(s.transitionDuration,0),o.removeClass(i,c),t.put(f,s))),s||{}}function ct(i){rt.push(i);tt.waitUntilQuiet(function(){var r,i;for(n.flush(),t.flush(),r=b(),i=0;i<rt.length;i++)rt[i](r);rt.length=0})}function lt(n,t,i){var r=vt(n,t,i,ar),u=r.animationDelay,f=r.transitionDelay;return r.maxDelay=u&&f?Math.max(u,f):u||f,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var ut=k(o),at=0,rt=[];return function(t,r){function or(){ni()}function uu(){ni(!0)}function ni(n){if(!ki&&(!hr||!ri)){ki=!0;ri=!1;b.$$skipPreparationClasses||o.removeClass(t,si);o.removeClass(t,iu);yt(tt,!1);nt(tt,!1);i(at,function(n){tt.style[n[0]]=""});ut(t,b);y(t,b);Object.keys(pi).length&&i(pi,function(n,t){n?tt.style.setProperty(t,n):tt.style.removeProperty(t)});b.onDone&&b.onDone();fi&&fi.length&&t.off(fi.join(" "),eu);var r=t.data(l);r&&(v.cancel(r[0].timer),t.removeData(l));hi&&hi.complete(!n)}}function fu(n){k.blockTransition&&nt(tt,n);k.blockKeyframeAnimation&&yt(tt,!!n)}function sr(){return hi=new a({end:or,cancel:uu}),ct(f),ni(),{$$willAnimate:!1,start:function(){return hi},end:or}}function eu(n){var t,i,r;(n.stopPropagation(),t=n.originalEvent||n,t.target===tt)&&(i=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed(cr)),Math.max(i-pr,0)>=rr&&r>=vt&&(hr=!0,ni()))}function cu(){function u(){var n,u,c,p;if(!ki){if(fu(!1),i(at,function(n){var t=n[0],i=n[1];tt.style[t]=i}),ut(t,b),o.addClass(t,iu),k.recalculateTimingStyles){if(di=tt.getAttribute("class")+" "+si,vi=ot(tt,di),rt=lt(tt,di,vi),gt=rt.maxDelay,ci=Math.max(gt,0),vt=rt.maxDuration,vt===0){ni();return}k.hasTransitions=rt.transitionDuration>0;k.hasAnimations=rt.animationDuration>0}k.applyAnimationDelay&&(gt=typeof b.delay!="boolean"&&wt(b.delay)?parseFloat(b.delay):gt,ci=Math.max(gt,0),rt.animationDelay=gt,ii=pt(gt,!0),at.push(ii),tt.style[ii[0]]=ii[1]);rr=ci*w;ar=vt*w;b.easing&&(u=b.easing,k.hasTransitions&&(n=e+ei,at.push([n,u]),tt.style[n]=u),k.hasAnimations&&(n=s+ei,at.push([n,u]),tt.style[n]=u));rt.transitionDuration&&fi.push(st);rt.animationDuration&&fi.push(ht);pr=Date.now();var a=rr+lr*ar,y=pr+a,r=t.data(l)||[],h=!0;if(r.length&&(c=r[0],h=y>c.expectedEndTime,h?v.cancel(c.timer):r.push(ni)),h&&(p=v(f,a,!1),r[0]={timer:p,expectedEndTime:y},r.push(ni),t.data(l,r)),fi.length)t.on(fi.join(" "),eu);b.to&&(b.cleanupStyles&&wi(pi,tt,Object.keys(b.to)),ai(t,b))}}function f(){var i=t.data(l),n;if(i){for(n=1;n<i.length;n++)i[n]();t.removeData(l)}}if(!ki){if(!tt.parentNode){ni();return}var n=function(n){if(hr)ri&&n&&(ri=!1,ni());else if(ri=!n,rt.animationDuration){var t=yt(tt,ri);ri?at.push(t):ir(at,t)}},r=er>0&&(rt.transitionDuration&&dt.transitionDuration===0||rt.animationDuration&&dt.animationDuration===0)&&Math.max(dt.animationDelay,dt.transitionDelay);r?v(u,Math.floor(r*er*w),!1):u();nr.resume=function(){n(!0)};nr.pause=function(){n(!1)}}}var b=r||{},pi,tt,vi,dt,br,fr,kr,dr,gr,er,nu,rt,gt,k,ii;if(b.$$prepared||(b=d(kt(b))),pi={},tt=u(t),!tt||!tt.parentNode||!it.enabled())return sr();var at=[],ou=t.attr("class"),tu=tr(b),ki,ri,hr,hi,nr,ci,rr,vt,ar,pr,fi=[];if(b.duration===0||!g.animations&&!g.transitions)return sr();var ur=b.event&&c(b.event)?b.event.join(" "):b.event,su=ur&&b.structural,wr="",oi="";su?wr=h(ur,ti,!0):ur&&(wr=ur);b.addClass&&(oi+=h(b.addClass,ft));b.removeClass&&(oi.length&&(oi+=" "),oi+=h(b.removeClass,et));b.applyClassesEarly&&oi.length&&ut(t,b);var si=[wr,oi].join(" ").trim(),di=ou+" "+si,iu=h(si,bi),ru=tu.to&&Object.keys(tu.to).length>0,hu=(b.keyframeStyle||"").length>0;return!hu&&!ru&&!si?sr():(b.stagger>0?(br=parseFloat(b.stagger),dt={transitionDelay:br,animationDelay:br,transitionDuration:0,animationDuration:0}):(vi=ot(tt,di),dt=bt(tt,si,vi,vr)),b.$$skipPreparationClasses||o.addClass(t,si),b.transitionStyle&&(kr=[e,b.transitionStyle],p(tt,kr),at.push(kr)),b.duration>=0&&(fr=tt.style[e].length>0,dr=yi(b.duration,fr),p(tt,dr),at.push(dr)),b.keyframeStyle&&(gr=[s,b.keyframeStyle],p(tt,gr),at.push(gr)),er=dt?b.staggerIndex>=0?b.staggerIndex:n.count(vi):0,nu=er===0,nu&&!b.skipBlocking&&nt(tt,gi),rt=lt(tt,di,vi),gt=rt.maxDelay,ci=Math.max(gt,0),vt=rt.maxDuration,k={},k.hasTransitions=rt.transitionDuration>0,k.hasAnimations=rt.animationDuration>0,k.hasTransitionAll=k.hasTransitions&&rt.transitionProperty==="all",k.applyTransitionDuration=ru&&(k.hasTransitions&&!k.hasTransitionAll||k.hasAnimations&&!k.hasTransitions),k.applyAnimationDuration=b.duration&&k.hasAnimations,k.applyTransitionDelay=wt(b.delay)&&(k.applyTransitionDuration||k.hasTransitions),k.applyAnimationDelay=wt(b.delay)&&k.hasAnimations,k.recalculateTimingStyles=oi.length>0,(k.applyTransitionDuration||k.applyAnimationDuration)&&(vt=b.duration?parseFloat(b.duration):vt,k.applyTransitionDuration&&(k.hasTransitions=!0,rt.transitionDuration=vt,fr=tt.style[e+ui].length>0,at.push(yi(vt,fr))),k.applyAnimationDuration&&(k.hasAnimations=!0,rt.animationDuration=vt,at.push(yr(vt)))),vt===0&&!k.recalculateTimingStyles)?sr():(b.delay!=null&&(typeof b.delay!="boolean"&&(ii=parseFloat(b.delay),ci=Math.max(ii,0)),k.applyTransitionDelay&&at.push(pt(ii)),k.applyAnimationDelay&&at.push(pt(ii,!0))),b.duration==null&&rt.transitionDuration>0&&(k.recalculateTimingStyles=k.recalculateTimingStyles||nu),rr=ci*w,ar=vt*w,b.skipBlocking||(k.blockTransition=rt.transitionDuration>0,k.blockKeyframeAnimation=rt.animationDuration>0&&dt.animationDelay>0&&dt.animationDuration===0),b.from&&(b.cleanupStyles&&wi(pi,tt,Object.keys(b.from)),li(t,b)),k.blockTransition||k.blockKeyframeAnimation?fu(vt):b.skipBlocking||nt(tt,!1),{$$willAnimate:!0,end:or,start:function(){if(!ki)return nr={end:or,cancel:uu,resume:null,pause:null},hi=new a(nr),ct(cu),hi}})}}]}],br=["$$animationProvider",function(n){function c(n){return n.parentNode&&n.parentNode.nodeType===11}n.drivers.push("$$animateCssDriver");var t="ng-animate-shim",s="ng-anchor",e="ng-anchor-out",h="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(n,l,a,v,y,p,w){function g(n){return n.replace(/\bng-\S+\b/g,"")}function nt(n,t){return o(n)&&(n=n.split(" ")),o(t)&&(t=t.split(" ")),n.filter(function(n){return t.indexOf(n)===-1}).join(" ")}function rt(f,o,c){function d(n){var t={},r=u(n).getBoundingClientRect();return i(["width","height","top","left"],function(n){var i=r[n];switch(n){case"top":i+=b.scrollTop;break;case"left":i+=b.scrollLeft}t[n]=Math.floor(i)+"px"}),t}function ut(){var t=n(v,{addClass:e,delay:!0,from:d(o)});return t.$$willAnimate?t:null}function tt(n){return n.attr("class")||""}function rt(){var t=g(tt(c)),r=nt(t,w),u=nt(w,t),i=n(v,{to:d(c),addClass:h+" "+r,removeClass:e+" "+u,delay:!0});return i.$$willAnimate?i:null}function p(){v.remove();o.removeClass(t);c.removeClass(t)}var v=r(u(o).cloneNode(!0)),w=g(tt(v)),l,y,k;return(o.addClass(t),c.addClass(t),v.addClass(s),it.append(v),y=ut(),!y&&(l=rt(),!l))?p():(k=y||l,{start:function(){function i(){n&&n.end()}var t,n=k.start();return n.done(function(){if(n=null,!l&&(l=rt(),l))return n=l.start(),n.done(function(){n=null;p();t.complete()}),n;p();t.complete()}),t=new a({end:i,cancel:i})}})}function ut(n,t,r,u){var e=d(n,f),o=d(t,f),s=[];if(i(u,function(n){var i=n.out,u=n["in"],t=rt(r,i,u);t&&s.push(t)}),e||o||s.length!==0)return{start:function(){function r(){i(n,function(n){n.end()})}var n=[],t;return e&&n.push(e.start()),o&&n.push(o.start()),i(s,function(t){n.push(t.start())}),t=new a({end:r,cancel:r}),a.all(n,function(n){t.complete(n)}),t}}}function d(t){var u=t.element,i=t.options||{},r;return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,t.event==="leave"&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=tt(i.event,i.preparationClasses)),r=n(u,i),r.$$willAnimate?r:null}if(!y.animations&&!y.transitions)return f;var b=w[0].body,k=u(v),it=r(c(k)||b.contains(k)?k:b);return function(n){return n.from&&n.to?ut(n.from,n.to,n.classes,n.anchors):d(n)}}]}],kr=["$animateProvider",function(n){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,r,u){function o(i){var f,e,r,u,o;for(i=c(i)?i:i.split(" "),f=[],e={},r=0;r<i.length;r++)u=i[r],o=n.$$registeredAnimations[u],o&&!e[u]&&(f.push(t.get(o)),e[u]=!0);return f}var e=k(u);return function(n,t,u,s){function b(){s.domOperation();e(n,s)}function tt(){k=!0;b();y(n,s)}function rt(n,t,i,u,e){var s,o;switch(i){case"animate":s=[t,u.from,u.to,e];break;case"setClass":s=[t,g,nt,e];break;case"addClass":s=[t,g,e];break;case"removeClass":s=[t,nt,e];break;default:s=[t,e]}if(s.push(u),o=n.apply(n,s),o)if(ni(o.start)&&(o=o.start()),o instanceof r)o.done(e);else if(ni(o))return o;return f}function c(n,t,u,e,o){var s=[];return i(e,function(i){var e=i[o];e&&s.push(function(){var i,s,h=!1,o=function(n){h||(h=!0,(s||f)(n),i.complete(!n))};return i=new r({end:function(){o()},cancel:function(){o(!0)}}),s=rt(e,n,t,u,function(n){var t=n===!1;o(t)}),i})}),s}function it(n,t,u,f,e){var o=c(n,t,u,f,e),s,h;if(o.length===0&&(e==="beforeSetClass"?(s=c(n,"removeClass",u,f,"beforeRemoveClass"),h=c(n,"addClass",u,f,"beforeAddClass")):e==="setClass"&&(s=c(n,"removeClass",u,f,"removeClass"),h=c(n,"addClass",u,f,"addClass")),s&&(o=o.concat(s)),h&&(o=o.concat(h))),o.length!==0)return function(n){var t=[];return o.length&&i(o,function(n){t.push(n())}),t.length?r.all(t,n):n(),function(n){i(t,function(t){n?t.cancel():t.end()})}}}var k=!1,p,w,h;arguments.length===3&&ut(u)&&(s=u,u=null);s=d(s);u||(u=n.attr("class")||"",s.addClass&&(u+=" "+s.addClass),s.removeClass&&(u+=" "+s.removeClass));var g=s.addClass,nt=s.removeClass,v=o(u),l,a;if(v.length&&(t==="leave"?(w="leave",p="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),p=t),t!=="enter"&&t!=="move"&&(l=it(n,t,s,v,w)),a=it(n,t,s,v,p)),l||a)return{$$willAnimate:!0,end:function(){return h?h.end():(tt(),h=new r,h.complete(!0)),h},start:function(){function i(n){tt(n);h.complete(n)}function u(n){k||((t||f)(n),i(n))}if(h)return h;h=new r;var t,n=[];return l&&n.push(function(n){t=l(n)}),n.length?n.push(function(n){b();n(!0)}):b(),a&&n.push(function(n){t=a(n)}),h.setHost({end:function(){u()},cancel:function(){u(!0)}}),r.chain(n,i),h}}}}]}],dr=["$$animationProvider",function(n){n.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(n,t){function r(t){var i=t.element,r=t.event,u=t.options,f=t.classes;return n(i,r,f,u)}return function(n){if(n.from&&n.to){var u=r(n.from),f=r(n.to);return!u&&!f?void 0:{start:function(){function e(){return function(){i(n,function(n){n.end()})}}function o(n){r.complete(n)}var n=[],r;return u&&n.push(u.start()),f&&n.push(f.start()),t.all(n,o),r=new t({end:e(),cancel:e()})}}}return r(n)}}]}],it="data-ng-animate",bt="$ngAnimatePin",gr=["$animateProvider",function(t){function w(n){if(!n)return null;var r=n.split(v),t=Object.create(null);return i(r,function(n){t[n]=!0}),t}function p(n,t){if(n&&t){var i=w(t);return n.split(v).some(function(n){return i[n]})}}function l(n,t,i){return f[n].some(function(n){return n(t,i)})}function s(n,t){var i=(n.addClass||"").length>0,r=(n.removeClass||"").length>0;return t?i&&r:i||r}var h=1,e=2,v=" ",f=this.rules={skip:[],cancel:[],join:[]};f.join.push(function(n){return!n.structural&&s(n)});f.skip.push(function(n){return!n.structural&&!s(n)});f.skip.push(function(n,t){return t.event==="leave"&&n.structural});f.skip.push(function(n,t){return t.structural&&t.state===e&&!n.structural});f.cancel.push(function(n,t){return t.structural&&n.structural});f.cancel.push(function(n,t){return t.state===e&&n.structural});f.cancel.push(function(n,t){if(t.structural)return!1;var i=n.addClass,r=n.removeClass,u=t.addClass,f=t.removeClass;return a(i)&&a(r)||a(u)&&a(f)?!1:p(i,f)||p(r,u)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(f,v,p,w,nt,tt,ft,et,st,ht,ct){function li(){var n=!1;return function(t){n?t():v.$$postDigest(function(){n=!0;t()})}}function ui(n,t){return g(n,t,{})}function wi(n,t,r){var u=[],f=at[r];return f&&i(f,function(i){fi.call(i.node,t)?u.push(i.callback):r==="leave"&&fi.call(i.node,n)&&u.push(i.callback)}),u}function ei(n,t,i){var r=vt(t);return n.filter(function(n){var t=n.node===r&&(!i||n.callback===i);return!t})}function oi(n,t){n!=="close"||t.parentNode||wt.off(t)}function bi(n,t,r){function ht(n,t,r,u){wt(function(){var n=wi(vt,p,t);n.length?f(function(){i(n,function(n){n(b,r,u)});oi(r,p)}):oi(r,p)});n.progress(t,r,u)}function it(n){or(b,a);ri(b,a);y(b,a);a.domOperation();nt.complete(!n)}var a=kt(r),b=ci(n),p=u(b),vt=p&&p.parentNode,nt,wt,k,dt,gt,ti,ot,st;if(a=d(a),nt=new ft,wt=li(),c(a.addClass)&&(a.addClass=a.addClass.join(" ")),a.addClass&&!o(a.addClass)&&(a.addClass=null),c(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.removeClass&&!o(a.removeClass)&&(a.removeClass=null),a.from&&!ut(a.from)&&(a.from=null),a.to&&!ut(a.to)&&(a.to=null),!pt||!p||!yi(p,t,r)||!pi(p,a))return it(),nt;var rt=["enter","move","leave"].indexOf(t)>=0,at=ct(),et=at||yt.get(p),w=!et&&lt.get(p)||{},bt=!!w.state;if(et||bt&&w.state===h||(et=!di(p,vt,t)),et)return at&&ht(nt,t,"start"),it(),at&&ht(nt,t,"close"),nt;if(rt&&ki(p),k={structural:rt,element:b,event:t,addClass:a.addClass,removeClass:a.removeClass,close:it,options:a,runner:nt},bt){if(dt=l("skip",k,w),dt)return w.state===e?(it(),nt):(g(b,w,k),w.runner);if(gt=l("cancel",k,w),gt)if(w.state===e)w.runner.end();else if(w.structural)w.close();else return g(b,w,k),w.runner;else if(ti=l("join",k,w),ti)if(w.state===e)ui(b,k);else return er(b,rt?t:null,a),t=k.event=w.event,a=g(b,w,k),w.runner}else ui(b,k);return(ot=k.structural,ot||(ot=k.event==="animate"&&Object.keys(k.options.to||{}).length>0||s(k)),!ot)?(it(),ni(p),nt):(st=(w.counter||0)+1,k.counter=st,hi(p,h,k),v.$$postDigest(function(){var i,r,o,u,f;if(b=ci(n),i=lt.get(p),r=!i,i=i||{},o=b.parent()||[],u=o.length>0&&(i.event==="animate"||i.structural||s(i)),r||i.counter!==st||!u){r&&(ri(b,a),y(b,a));(r||rt&&i.event!==t)&&(a.domOperation(),nt.end());u||ni(p);return}t=!i.structural&&s(i,!0)?"setClass":i.event;hi(p,e);f=tt(b,t,i.options);nt.setHost(f);ht(nt,t,"start",{});f.done(function(n){it(!n);var i=lt.get(p);i&&i.counter===st&&ni(p);ht(nt,t,"close",{})})}),nt)}function ki(n){var t=n.querySelectorAll("["+it+"]");i(t,function(n){var i=parseInt(n.getAttribute(it),10),t=lt.get(n);if(t)switch(i){case e:t.runner.end();case h:lt.delete(n)}})}function ni(n){n.removeAttribute(it);lt.delete(n)}function di(n,t){var v=w[0].body,y=u(p),o=n===v||n.nodeName==="HTML",i=n===y,s=!1,h=yt.get(n),f,e=r.data(n,bt),k,c,l,d;for(e&&(t=u(e));t;){if(i||(i=t===y),t.nodeType!==b)break;if(k=lt.get(t)||{},!s){if(c=yt.get(t),c===!0&&h!==!1){h=!0;break}else c===!1&&(h=!1);s=k.structural}if((a(f)||f===!0)&&(l=r.data(t,ot),gt(l)&&(f=l)),s&&f===!1)break;if(o||(o=t===v),o&&i)break;if(!i&&(e=r.data(t,bt),e)){t=u(e);continue}t=t.parentNode}return d=(!s||f)&&h!==!0,d&&i&&o}function hi(n,t,i){i=i||{};i.state=t;n.setAttribute(it,t);var r=lt.get(n),u=r?dt(r,i):i;lt.set(n,u)}var lt=new nt,yt=new nt,pt=null,ai=v.$watch(function(){return et.totalPendingRequests===0},function(n){n&&(ai(),v.$$postDigest(function(){v.$$postDigest(function(){pt===null&&(pt=!0)})}))}),at=Object.create(null),vi=t.customFilter(),ti=t.classNameFilter(),ii=function(){return!0},yi=vi||ii,pi=ti?function(n,t){var i=[n.getAttribute("class"),t.addClass,t.removeClass].join(" ");return ti.test(i)}:ii,ri=k(st),fi=n.Node.prototype.contains||function(n){return this===n||!!(this.compareDocumentPosition(n)&16)},wt={on:function(n,t,i){var u=vt(t);at[n]=at[n]||[];at[n].push({node:u,callback:i});r(t).on("$destroy",function(){var r=lt.get(u);r||wt.off(n,t,i)})},off:function(n,t,i){var r,u;if(arguments.length===1&&!o(arguments[0])){t=arguments[0];for(r in at)at[r]=ei(at[r],t);return}(u=at[n],u)&&(at[n]=arguments.length===1?null:ei(u,t,i))},pin:function(n,t){si(rt(n),"element","not an element");si(rt(t),"parentElement","not an element");n.data(bt,t)},push:function(n,t,i,r){return i=i||{},i.domOperation=r,bi(n,t,i)},enabled:function(n,t){var r=arguments.length,f,i;return r===0?t=!!pt:(f=rt(n),f?(i=u(n),r===1?t=!yt.get(i):yt.set(i,!t)):t=pt=!!n),t}};return wt}]}],nu=["$animateProvider",function(){function o(n,t){n.data(e,t)}function s(n){n.removeData(e)}function t(n){return n.data(e)}var n="ng-animate-ref",f=this.drivers=[],e="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,h,c,l,a,v){function b(n){function f(n){var e,i,t;if(n.processed)return n;for(n.processed=!0,e=n.domNode,i=e.parentNode,r.set(e,n);i;){if(t=r.get(i),t){t.processed||(t=f(t));break}i=i.parentNode}return(t||u).children.push(n),n}function e(n){for(var u=[],i=[],o,t=0;t<n.children.length;t++)i.push(n.children[t]);var f=i.length,e=0,r=[];for(t=0;t<i.length;t++)o=i[t],f<=0&&(f=e,e=0,u.push(r),r=[]),r.push(o.fn),o.children.forEach(function(n){e++;i.push(n)}),f--;return r.length&&u.push(r),u}for(var u={children:[]},r=new a,i,t=0;t<n.length;t++)i=n[t],r.set(i.domNode,n[t]={domNode:i.domNode,fn:i.fn,children:[]});for(t=0;t<n.length;t++)f(n[t]);return e(u)}var p=[],w=k(e);return function(a,k,g){function ot(t){var u="["+n+"]",f=t.hasAttribute(n)?[t]:t.querySelectorAll(u),r=[];return i(f,function(t){var i=t.getAttribute(n);i&&i.length&&r.push(t)}),r}function st(t){var f=[],e={},s,o;return i(t,function(t,o){var c=t.element,l=u(c),a=t.event,v=["enter","move"].indexOf(a)>=0,s=t.structural?ot(l):[],h;s.length?(h=v?"to":"from",i(s,function(t){var i=t.getAttribute(n);e[i]=e[i]||{};e[i][h]={animationID:o,element:r(t)}})):f.push(t)}),s={},o={},i(e,function(n){var i=n.from,e=n.to,h,c,a;if(!i||!e){h=i?i.animationID:e.animationID;c=h.toString();s[c]||(s[c]=!0,f.push(t[h]));return}var r=t[i.animationID],u=t[e.animationID],l=i.animationID.toString();o[l]||(a=o[l]={structural:!0,beforeStart:function(){r.beforeStart();u.beforeStart()},close:function(){r.close();u.close()},classes:ht(r.classes,u.classes),from:r,to:u,anchors:[]},a.classes.length?f.push(a):(f.push(r),f.push(u)));o[l].anchors.push({out:i.element,"in":e.element})}),f}function ht(n,t){var f,i,r,u;for(n=n.split(" "),t=t.split(" "),f=[],i=0;i<n.length;i++)if(r=n[i],r.substring(0,3)!=="ng-")for(u=0;u<t.length;u++)if(r===t[u]){f.push(r);break}return f.join(" ")}function ct(n){for(var t=f.length-1;t>=0;t--){var r=f[t],u=c.get(r),i=u(n);if(i)return i}}function lt(){a.addClass(ii);nt&&e.addClass(a,nt);it&&(e.removeClass(a,it),it=null)}function at(n,i){function r(n){var r=t(n);r&&r.setHost(i)}n.from&&n.to?(r(n.from.element),r(n.to.element)):r(n.element)}function et(){var n=t(a);n&&(k!=="leave"||!g.$$domOperationFired)&&n.end()}function rt(n){a.off("$destroy",et);s(a);w(a,g);y(a,g);g.domOperation();nt&&e.removeClass(a,nt);a.removeClass(ii);tt.complete(!n)}var ut,tt,ft,nt,it;if(g=d(g),ut=["enter","move","leave"].indexOf(k)>=0,tt=new l({end:function(){rt()},cancel:function(){rt(!0)}}),!f.length)return rt(),tt;o(a,tt);ft=hi(a.attr("class"),hi(g.addClass,g.removeClass));nt=g.tempClasses;nt&&(ft+=" "+nt,g.tempClasses=null);ut&&(it="ng-"+k+ki,e.addClass(a,it));p.push({element:a,classes:ft,event:k,structural:ut,options:g,beforeStart:lt,close:rt});a.on("$destroy",et);return p.length>1?tt:(h.$$postDigest(function(){var r=[],f,n;i(p,function(n){t(n.element)?r.push(n):n.close()});p.length=0;f=st(r);n=[];i(f,function(i){n.push({domNode:u(i.from?i.from.element:i.element),fn:function(){var n,r,e,u,f;i.beforeStart();r=i.close;e=i.anchors?i.from.element||i.to.element:i.element;t(e)&&(u=ct(i),u&&(n=u.start));n?(f=n(),f.done(function(n){r(!n)}),at(i,f)):r()}})});v(b(n))}),tt)}}]}],tu=["$animate","$rootScope",function(n){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,i,r,u,f){var o,e;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){o&&n.leave(o);e&&(e.$destroy(),e=null);(r||r===0)&&(e=t.$new(),f(e,function(t){o=t;n.enter(t,null,i)}))})}}}],kt,dt,i,c,gt,rt,ni,ut,o,a,r,f;t.module("ngAnimate",[],function(){f=t.noop;kt=t.copy;dt=t.extend;r=t.element;i=t.forEach;c=t.isArray;o=t.isString;ut=t.isObject;a=t.isUndefined;gt=t.isDefined;ni=t.isFunction;rt=t.isElement}).info({angularVersion:"1.6.9"}).directive("ngAnimateSwap",tu).directive("ngAnimateChildren",hr).factory("$$rAFScheduler",sr).provider("$$animateQueue",gr).provider("$$animation",nu).provider("$animateCss",wr).provider("$$animateCssDriver",br).provider("$$animateJs",kr).provider("$$animateJsDriver",dr)})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function l(n,t){var i,e,r;if(u(n))for(t=t||[],i=0,e=n.length;i<e;i++)t[i]=n[i];else if(f(n)){t=t||{};for(r in n)r.charAt(0)==="$"&&r.charAt(1)==="$"||(t[r]=n[r])}return t||n}function v(){function r(n,i){return t.extend(Object.create(n),i)}function s(n,t){var r=t.caseInsensitiveMatch,i={originalPath:n,regexp:n},u=i.keys=[];return n=n.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(n,t,i,r){var f=r==="?"||r==="*?"?"?":null,e=r==="*"||r==="*?"?"*":null;return u.push({name:i,optional:!!f}),t=t||"",""+(f?"":t)+"(?:"+(f?t:"")+(e&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([/$*])/g,"\\$1"),i.regexp=new RegExp("^"+n+"$",r?"i":""),i}u=t.isArray;f=t.isObject;e=t.isDefined;o=t.noop;var n={};this.when=function(i,r){var u=l(r),f;return t.isUndefined(u.reloadOnSearch)&&(u.reloadOnSearch=!0),t.isUndefined(u.caseInsensitiveMatch)&&(u.caseInsensitiveMatch=this.caseInsensitiveMatch),n[i]=t.extend(u,i&&s(i,u)),i&&(f=i[i.length-1]==="/"?i.substr(0,i.length-1):i+"/",n[f]=t.extend({redirectTo:i},s(f,u))),this};this.caseInsensitiveMatch=!1;this.otherwise=function(n){return typeof n=="string"&&(n={redirectTo:n}),this.when(null,n),this};i=!0;this.eagerInstantiationEnabled=function(n){return e(n)?(i=n,this):i};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(i,u,f,e,s,h,c,l){function g(n,t){var s=t.keys,e={},r,i,o,u,f;if(!t.regexp||(r=t.regexp.exec(n),!r))return null;for(i=1,o=r.length;i<o;++i)u=s[i-1],f=r[i],u&&f&&(e[u.name]=f);return e}function b(n){var r=y.current;v=ut();w=v&&r&&v.$$route===r.$$route&&t.equals(v.pathParams,r.pathParams)&&!v.reloadOnSearch&&!p;!w&&(r||v)&&i.$broadcast("$routeChangeStart",v,r).defaultPrevented&&n&&n.preventDefault()}function k(){var r=y.current,n=v,u;w?(r.params=n.params,t.copy(r.params,f),i.$broadcast("$routeUpdate",r)):(n||r)&&(p=!1,y.current=n,u=e.resolve(n),l.$$incOutstandingRequestCount(),u.then(nt).then(tt).then(function(e){return e&&u.then(it).then(function(u){n===y.current&&(n&&(n.locals=u,t.copy(n.params,f)),i.$broadcast("$routeChangeSuccess",n,r))})}).catch(function(t){n===y.current&&i.$broadcast("$routeChangeError",n,r,t)}).finally(function(){l.$$completeOutstandingRequest(o)}))}function nt(n){var i={route:n,hasRedirection:!1};if(n)if(n.redirectTo)if(t.isString(n.redirectTo))i.path=d(n.redirectTo,n.params),i.search=n.params,i.hasRedirection=!0;else{var f=u.path(),o=u.search(),r=n.redirectTo(n.pathParams,f,o);t.isDefined(r)&&(i.url=r,i.hasRedirection=!0)}else if(n.resolveRedirectTo)return e.resolve(s.invoke(n.resolveRedirectTo)).then(function(n){return t.isDefined(n)&&(i.url=n,i.hasRedirection=!0),i});return i}function tt(n){var i=!0,r,t;return n.route!==y.current?i=!1:n.hasRedirection&&(r=u.url(),t=n.url,t?u.url(t).replace():t=u.path(n.path).search(n.search).replace().url(),t!==r&&(i=!1)),i}function it(n){var i,r;if(n)return i=t.extend({},n.resolve),t.forEach(i,function(n,r){i[r]=t.isString(n)?s.get(n):s.invoke(n,null,null,r)}),r=rt(n),t.isDefined(r)&&(i.$template=r),e.all(i)}function rt(n){var r,i;return t.isDefined(r=n.template)?t.isFunction(r)&&(r=r(n.params)):t.isDefined(i=n.templateUrl)&&(t.isFunction(i)&&(i=i(n.params)),t.isDefined(i)&&(n.loadedTemplateUrl=c.valueOf(i),r=h(i))),r}function ut(){var f,i;return t.forEach(n,function(n){!i&&(f=g(u.path(),n))&&(i=r(n,{params:t.extend({},u.search(),f),pathParams:f}),i.$$route=n)}),i||n[null]&&r(n[null],{params:{},pathParams:{}})}function d(n,i){var r=[];return t.forEach((n||"").split(":"),function(n,t){if(t===0)r.push(n);else{var u=n.match(/(\w+)(?:[?*])?(.*)/),f=u[1];r.push(i[f]);r.push(u[2]||"");delete i[f]}}),r.join("")}var p=!1,v,w,y={routes:n,reload:function(){p=!0;var n={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;p=!1}};i.$evalAsync(function(){b(n);n.defaultPrevented||k()})},updateParams:function(n){if(this.current&&this.current.$$route)n=t.extend({},this.current.params,n),u.path(d(this.current.$$route.originalPath,n)),u.search(n);else throw a("norout","Tried updating route when with no current route");}};return i.$on("$locationChangeStart",b),i.$on("$locationChangeSuccess",k),y}]}function s(n){i&&n.get("$route")}function y(){this.$get=function(){return{}}}function h(n,i,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(u,f,e,o,s){function v(){c&&(r.cancel(c),c=null);h&&(h.$destroy(),h=null);l&&(c=r.leave(l),c.done(function(n){n!==!1&&(c=null)}),l=null)}function y(){var e=n.current&&n.current.locals,c=e&&e.$template;if(t.isDefined(c)){var o=u.$new(),y=n.current,w=s(o,function(n){r.enter(n,null,l||f).done(function(n){n!==!1&&t.isDefined(a)&&(!a||u.$eval(a))&&i()});v()});l=w;h=y.scope=o;h.$emit("$viewContentLoaded");h.$eval(p)}else v()}var h,l,c,a=e.autoscroll,p=e.onload||"";u.$on("$routeChangeSuccess",y);y()}}}function c(n,t,i){return{restrict:"ECA",priority:-400,link:function(r,u){var f=i.current,e=f.locals,s,o;u.html(e.$template);s=n(u.contents());f.controller&&(e.$scope=r,o=t(f.controller,e),f.controllerAs&&(r[f.controllerAs]=o),u.data("$ngControllerController",o),u.children().data("$ngControllerController",o));r[f.resolveAs||"$resolve"]=e;s(r)}}}var u,f,e,o,r=t.module("ngRoute",[]).info({angularVersion:"1.6.9"}).provider("$route",v).run(s),a=t.$$minErr("ngRoute"),i;s.$inject=["$injector"];r.provider("$routeParams",y);r.directive("ngView",h);r.directive("ngView",c);h.$inject=["$route","$anchorScroll","$animate"];c.$inject=["$compile","$controller","$route"]})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function i(n,i,r){function e(n,r,f){var s,e,o,h;return f=f||{},e=f.expires,s=t.isDefined(f.path)?f.path:u,t.isUndefined(r)&&(e="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(e)&&(e=new Date(e)),o=encodeURIComponent(n)+"="+encodeURIComponent(r),o+=s?";path="+s:"",o+=f.domain?";domain="+f.domain:"",o+=e?";expires="+e.toUTCString():"",o+=f.secure?";secure":"",h=o.length+1,h>4096&&i.warn("Cookie '"+n+"' possibly not set or overflowed because it was too large ("+h+" > 4096 bytes)!"),o}var u=r.baseHref(),f=n[0];return function(n,t,i){f.cookie=e(n,t,i)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.6.9"}).provider("$cookies",[function(){function i(i){return i?t.extend({},n,i):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,r){return{get:function(t){return n()[t]},getObject:function(n){var i=this.get(n);return i?t.fromJson(i):i},getAll:function(){return n()},put:function(n,t,u){r(n,t,i(u))},putObject:function(n,i,r){this.put(n,t.toJson(i),r)},remove:function(n,t){r(n,undefined,i(t))}}}]}]);t.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,i){n.putObject(t,i)},remove:function(t){n.remove(t)}}}]);i.$inject=["$document","$log","$browser"];t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function f(n){return n!=null&&n!==""&&n!=="hasOwnProperty"&&u.test("."+n)}function e(n,r){var e,u,o,s;if(!f(r))throw i("badmember",'Dotted member path "@{0}" is invalid.',r);for(e=r.split("."),u=0,o=e.length;u<o&&t.isDefined(n);u++)s=e[u],n=n!==null?n[s]:undefined;return n}function r(n,i){i=i||{};t.forEach(i,function(n,t){delete i[t]});for(var r in n)!n.hasOwnProperty(r)||r.charAt(0)==="$"&&r.charAt(1)==="$"||(i[r]=n[r]);return i}var i=t.$$minErr("$resource"),u=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).info({angularVersion:"1.6.9"}).provider("$resource",function(){var u=/^https?:\/\/\[[^\]]*][^/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(f,o,s,h){function w(t,i){this.template=t;this.defaults=l({},n.defaults,i);this.urlParams={}}function nt(t,u,d,g){function it(n,t){var i={};return t=l({},u,t),c(t,function(t,r){a(t)&&(t=t(n));i[r]=t&&t.charAt&&t.charAt(0)==="@"?e(n,t.substr(1)):t}),i}function rt(n){return n.resource}function nt(n){r(n||{},this)}var tt=new w(t,g);return d=l({},n.defaults.actions,d),nt.prototype.toJSON=function(){var n=l({},this);return delete n.$promise,delete n.$resolved,delete n.$cancelRequest,n},c(d,function(n,t){var w=n.hasBody===!0||n.hasBody!==!1&&/^(POST|PUT|PATCH)$/i.test(n.method),u=n.timeout,e=p(n.cancellable)?n.cancellable:tt.defaults.cancellable;u&&!k(u)&&(o.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete n.timeout,u=null);nt[t]=function(o,p,k,d){function bt(n){ut.catch(v);st!==null&&st.resolve(n)}var lt={},et,ot,ht,ut;switch(arguments.length){case 4:ht=d;ot=k;case 3:case 2:if(a(p)){if(a(o)){ot=o;ht=p;break}ot=p;ht=k}else{lt=o;et=p;ot=k;break}case 1:a(o)?ot=o:w?et=o:lt=o;break;case 0:break;default:throw i("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length);}var ct=this instanceof nt,g=ct?et:n.isArray?[]:new nt(et),ft={},wt=n.interceptor&&n.interceptor.response||rt,pt=n.interceptor&&n.interceptor.responseError||undefined,at=!!ht,vt=!!pt,st,yt;return(c(n,function(n,t){switch(t){default:ft[t]=b(n);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!ct&&e&&(st=s.defer(),ft.timeout=st.promise,u&&(yt=h(st.resolve,u))),w&&(ft.data=et),tt.setUrlParams(ft,l({},it(et,n.params||{}),lt),n.url),ut=f(ft).then(function(u){var f=u.data,e;if(f){if(y(f)!==!!n.isArray)throw i("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",t,n.isArray?"array":"object",y(f)?"array":"object",ft.method,ft.url);n.isArray?(g.length=0,c(f,function(n){typeof n=="object"?g.push(new nt(n)):g.push(n)})):(e=g.$promise,r(f,g),g.$promise=e)}return u.resource=g,u},function(n){return n.resource=g,s.reject(n)}),ut=ut["finally"](function(){g.$resolved=!0;!ct&&e&&(g.$cancelRequest=v,h.cancel(yt),st=yt=ft.timeout=null)}),ut=ut.then(function(n){var t=wt(n);return(ot||v)(t,n.headers,n.status,n.statusText),t},at||vt?function(n){return at&&!vt&&ut.catch(v),at&&ht(n),vt?pt(n):s.reject(n)}:undefined),!ct)?(g.$promise=ut,g.$resolved=!1,e&&(g.$cancelRequest=bt),g):ut};nt.prototype["$"+t]=function(n,i,r){a(n)&&(r=i,i=n,n={});var u=nt[t].call(this,n,this,i,r);return u.$promise||u}}),nt}var v=t.noop,c=t.forEach,l=t.extend,b=t.copy,y=t.isArray,p=t.isDefined,a=t.isFunction,k=t.isNumber,d=t.$$encodeUriQuery,g=t.$$encodeUriSegment;return w.prototype={setUrlParams:function(n,t,r){var e=this,f=r||e.template,o,s,h="",l=e.urlParams=Object.create(null);c(f.split(/\W/),function(n){if(n==="hasOwnProperty")throw i("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(n)&&n&&new RegExp("(^|[^\\\\]):"+n+"(\\W|$)").test(f)&&(l[n]={isQueryParamValue:new RegExp("\\?.*=:"+n+"(?:\\W|$)").test(f)})});f=f.replace(/\\:/g,":");f=f.replace(u,function(n){return h=n,""});t=t||{};c(e.urlParams,function(n,i){o=t.hasOwnProperty(i)?t[i]:e.defaults[i];p(o)&&o!==null?(s=n.isQueryParamValue?d(o,!0):g(o),f=f.replace(new RegExp(":"+i+"(\\W|$)","g"),function(n,t){return s+t})):f=f.replace(new RegExp("(/?):"+i+"(\\W|$)","g"),function(n,t,i){return i.charAt(0)==="/"?i:t+i})});e.defaults.stripTrailingSlashes&&(f=f.replace(/\/+$/,"")||"/");f=f.replace(/\/\.(?=\w+($|\?))/,".");n.url=h+f.replace(/\/(\\|%5C)\./,"/.");c(t,function(t,i){e.urlParams[i]||(n.params=n.params||{},n.params[i]=t)})}},nt}]})})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function a(){function a(n,t){for(var f={},u=n.split(","),i=0;i<u.length;i++)f[t?r(u[i]):u[i]]=!0;return f}function at(n,t){var r,e,i,f;if(n===null||n===undefined?n="":typeof n!="string"&&(n=""+n),r=w(n),!r)return"";e=5;do{if(e===0)throw u("uinput","Failed to sanitize html because the input is unstable");e--;n=r.innerHTML;r=w(n)}while(n!==r.innerHTML);for(i=r.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),vt(i.attributes));break;case 3:t.chars(i.textContent)}if(!(f=i.firstChild)&&(i.nodeType===1&&t.end(i.nodeName.toLowerCase()),f=v("nextSibling",i),!f))while(f==null){if(i=v("parentNode",i),i===r)break;f=v("nextSibling",i);i.nodeType===1&&t.end(i.nodeName.toLowerCase())}i=f}while(i=r.firstChild)r.removeChild(i)}function vt(n){for(var i,r={},t=0,u=n.length;t<u;t++)i=n[t],r[i.name]=i.value;return r}function nt(n){return n.replace(/&/g,"&amp;").replace(it,function(n){var t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(rt,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function yt(n,t){var u=!1,i=e(n,n.push);return{start:function(n,f){n=r(n);!u&&st[n]&&(u=n);u||p[n]!==!0||(i("<"),i(n),o(f,function(u,f){var e=r(f),o=n==="img"&&e==="src"||e==="background";lt[e]===!0&&(g[e]!==!0||t(u,o))&&(i(" "),i(f),i('="'),i(nt(u)),i('"'))}),i(">"))},end:function(n){n=r(n);u||p[n]!==!0||b[n]===!0||(i("<\/"),i(n),i(">"));n==u&&(u=!1)},chars:function(n){u||i(nt(n))}}}function tt(t){for(var r,i,u,f,e,o;t;){if(t.nodeType===n.Node.ELEMENT_NODE)for(r=t.attributes,i=0,u=r.length;i<u;i++)f=r[i],e=f.name.toLowerCase(),(e==="xmlns:ns1"||e.lastIndexOf("ns1:",0)===0)&&(t.removeAttributeNode(f),i--,u--);o=t.firstChild;o&&tt(o);t=v("nextSibling",t)}}function v(n,t){var i=t[n];if(i&&c.call(t,i))throw u("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return i}var y=!1,w;this.$get=["$$sanitizeUri",function(n){return y&&i(p,ot),function(t){var i=[];return l(t,f(i,function(t,i){return!/^unsafe:/.test(n(t,i))})),i.join("")}}];this.enableSvg=function(n){return s(n)?(y=n,this):y};e=t.bind;i=t.extend;o=t.forEach;s=t.isDefined;r=t.lowercase;h=t.noop;l=at;f=yt;c=n.Node.prototype.contains||function(n){return!!(this.compareDocumentPosition(n)&16)};var it=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rt=/([^#-~ |!])/g,b=a("area,br,col,hr,img,wbr"),k=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),d=a("rp,rt"),ut=i({},d,k),ft=i({},k,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),et=i({},d,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),ot=a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),st=a("script,style"),p=i({},b,ft,et,ut),g=a("background,cite,href,longdesc,src,xlink:href,xml:base"),ht=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),ct=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),lt=i({},g,ct,ht);w=function(n,t){function f(t){var i,r;t="<remove><\/remove>"+t;try{t=encodeURI(t)}catch(u){return undefined}return i=new n.XMLHttpRequest,i.responseType="document",i.open("GET","data:text/html;charset=utf-8,"+t,!1),i.send(null),r=i.response.body,r.firstChild.remove(),r}function e(t){t="<remove><\/remove>"+t;try{var i=(new n.DOMParser).parseFromString(t,"text/html").body;return i.firstChild.remove(),i}catch(r){return undefined}}function o(n){return i.innerHTML=n,t.documentMode&&tt(i),i}var r,i;if(t&&t.implementation)r=t.implementation.createHTMLDocument("inert");else throw u("noinert","Can't create an inert html document");return i=(r.documentElement||r.getDocumentElement()).querySelector("body"),i.innerHTML='<svg><g onload="this.parentNode.remove()"><\/g><\/svg>',i.querySelector("svg")?(i.innerHTML='<svg><p><style><img src="<\/style><img src=x onerror=alert(1)//">',i.querySelector("svg img")?e:o):f}(n,n.document)}function v(n){var t=[],i=f(t,h);return i.chars(n),t.join("")}var u=t.$$minErr("$sanitize"),e,i,o,s,r,h,c,l,f;t.module("ngSanitize",[]).provider("$sanitize",a).info({angularVersion:"1.6.9"});t.module("ngSanitize").filter("linky",["$sanitize",function(n){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,u=t.$$minErr("linky"),f=t.isDefined,e=t.isFunction,o=t.isObject,s=t.isString;return function(t,h,c){function b(n){n&&a.push(v(n))}function d(n,t){var i,r=k(n);a.push("<a ");for(i in r)a.push(i+'="'+r[i]+'" ');!f(h)||"target"in r||a.push('target="',h,'" ');a.push('href="',n.replace(/"/g,"&quot;"),'">');b(t);a.push("<\/a>")}if(t==null||t==="")return t;if(!s(t))throw u("notstring","Expected string but received: {0}",t);for(var k=e(c)?c:o(c)?function(){return c}:function(){return{}},l,y=t,a=[],p,w;l=y.match(i);)p=l[0],l[2]||l[4]||(p=(l[3]?"http://":"mailto:")+p),w=l.index,b(y.substr(0,w)),d(p,l[0].replace(r,"")),y=y.substring(w+l[0].length);return b(y),n(a.join(""))}}])})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function f(){function i(t,i,u,f){return function(e,o,s){var h=s.$normalize(i);!n[h]||r(o,u)||s[h]||e.$watch(s[t],function(n){n=f?!n:!!n;o.attr(i,n)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(i){n=t.extend(n,i)};this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:i}}}var u=t.module("ngAria",["ng"]).info({angularVersion:"1.6.9"}).provider("$aria",f),i=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],r=function(n,t){if(t.indexOf(n[0].nodeName)!==-1)return!0};u.directive("ngShow",["$aria",function(n){return n.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(n){return n.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(n){return n.$$watchExpr("ngValue","aria-checked",i,!1)}]).directive("ngChecked",["$aria",function(n){return n.$$watchExpr("ngChecked","aria-checked",i,!1)}]).directive("ngReadonly",["$aria",function(n){return n.$$watchExpr("ngReadonly","aria-readonly",i,!1)}]).directive("ngRequired",["$aria",function(n){return n.$$watchExpr("ngRequired","aria-required",i,!1)}]).directive("ngModel",["$aria",function(n){function t(t,u,f,e){return n.config(u)&&!f.attr(t)&&(e||!r(f,i))}function u(n,t){return!t.attr("role")&&t.attr("type")===n&&!r(t,i)}function f(n){var i=n.type,t=n.role;return(i||t)==="checkbox"||t==="menuitemcheckbox"?"checkbox":(i||t)==="radio"||t==="menuitemradio"?"radio":i==="range"||t==="progressbar"||t==="slider"?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(i,r){var e=f(r,i);return{post:function(i,r,f,o){function h(){return o.$modelValue}function c(){var n=f.value==o.$viewValue;r.attr("aria-checked",n)}function l(){r.attr("aria-checked",!o.$isEmpty(o.$viewValue))}var s=t("tabindex","tabindex",r,!1);switch(e){case"radio":case"checkbox":u(e,r)&&r.attr("role",e);t("aria-checked","ariaChecked",r,!1)&&i.$watch(h,e==="radio"?c:l);s&&r.attr("tabindex",0);break;case"range":if(u(e,r)&&r.attr("role","slider"),n.config("ariaValue")){var a=!r.attr("aria-valuemin")&&(f.hasOwnProperty("min")||f.hasOwnProperty("ngMin")),v=!r.attr("aria-valuemax")&&(f.hasOwnProperty("max")||f.hasOwnProperty("ngMax")),y=!r.attr("aria-valuenow");a&&f.$observe("min",function(n){r.attr("aria-valuemin",n)});v&&f.$observe("max",function(n){r.attr("aria-valuemax",n)});y&&i.$watch(h,function(n){r.attr("aria-valuenow",n)})}s&&r.attr("tabindex",0)}!f.hasOwnProperty("ngRequired")&&o.$validators.required&&t("aria-required","ariaRequired",r,!1)&&f.$observe("required",function(){r.attr("aria-required",!!f.required)});t("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return o.$invalid},function(n){r.attr("aria-invalid",!!n)})}}}}}]).directive("ngDisabled",["$aria",function(n){return n.$$watchExpr("ngDisabled","aria-disabled",i,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(n,t){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(n,t){return{restrict:"A",compile:function(u,f){var e=t(f.ngClick);return function(t,u,f){if(!r(u,i)&&(n.config("bindRoleForClick")&&!u.attr("role")&&u.attr("role","button"),n.config("tabindex")&&!u.attr("tabindex")&&u.attr("tabindex",0),n.config("bindKeydown")&&!f.ngKeydown&&!f.ngKeypress&&!f.ngKeyup))u.on("keydown",function(n){function r(){e(t,{$event:n})}var i=n.which||n.keyCode;(i===32||i===13)&&t.$apply(r)})}}}}]).directive("ngDblclick",["$aria",function(n){return function(t,u){!n.config("tabindex")||u.attr("tabindex")||r(u,i)||u.attr("tabindex",0)}}])})(window,window.angular);
/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(n,t){"use strict";function e(){function n(n,t){if(n)return u(n)?n.indexOf(t)>=0:n.hasOwnProperty(t)}return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(i,r,f,e,o){var h=r[0],a,y=f.ngMessage||f.when,c=f.ngMessageExp||f.whenExp,l=function(n){a=n?u(n)?n:n.split(/[\s,]+/):null;e.reRender()},s,v;c?(l(i.$eval(c)),i.$watchCollection(c,l)):l(y);e.register(h,v={test:function(t){return n(a,t)},attach:function(){s||o(function(n,i){t.enter(n,null,r);s=n;var u=s.$$attachId=e.getAttachId();s.on("$destroy",function(){s&&s.$$attachId===u&&(e.deregister(h),v.detach());i.$destroy()})})},detach:function(){if(s){var n=s;s=null;t.leave(n)}}});i.$on("$destroy",function(){e.deregister(h)})}}}]}var r,u,i,f;t.module("ngMessages",[],function(){r=t.forEach;u=t.isArray;i=t.isString;f=t.element}).info({angularVersion:"1.6.9"}).directive("ngMessages",["$animate",function(n){function f(n,t){return i(t)&&t.length===0||e(n.$eval(t))}function e(n){return i(n)?n.length:!!n}var t="ng-active",u="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(i,o,s){function y(n,t){for(var i=t,u=[],r;i&&i!==n;){if(r=i.$$ngMessageNode,r&&r.length)return c[r];i.childNodes.length&&u.indexOf(i)===-1?(u.push(i),i=i.childNodes[i.childNodes.length-1]):i.previousSibling?i=i.previousSibling:(i=i.parentNode,u.push(i))}}function w(n,t,i){var r=c[i],u;h.head?(u=y(n,t),u?(r.next=u.next,u.next=r):(r.next=h.head,h.head=r)):h.head=r}function b(n,t,i){var r=c[i],u;r&&(u=y(n,t),u?u.next=r.next:h.head=r.next)}var h=this,v=0,p=0,c,l,a;this.getAttachId=function(){return p++};c=this.messages={};this.render=function(c){var y,p;c=c||{};l=!1;a=c;for(var g=f(o,s.ngMessagesMultiple)||f(o,s.multiple),w=[],b={},v=h.head,k=!1,d=0;v!=null;)d++,y=v.message,p=!1,k||r(c,function(n,t){if(!p&&e(n)&&y.test(t)){if(b[t])return;b[t]=!0;p=!0;y.attach()}}),p?k=!g:w.push(y),v=v.next;r(w,function(n){n.detach()});w.length!==d?n.setClass(i,t,u):n.setClass(i,u,t)};o.$watchCollection(s.ngMessages||s["for"],h.render);this.reRender=function(){l||(l=!0,o.$evalAsync(function(){l&&a&&h.render(a)}))};this.register=function(n,t){var r=v.toString();c[r]={message:t};w(i[0],n,r);n.$$ngMessageNode=r;v++;h.reRender()};this.deregister=function(n){var t=n.$$ngMessageNode;delete n.$$ngMessageNode;b(i[0],n,t);delete c[t];h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(n,t,r){function u(n,i){var u=r.$$createComment?r.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),e=f(u);n.after(e);n.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,f,e){var o=e.ngMessagesInclude||e.src;n(o).then(function(n){t.$$destroyed||(i(n)&&!n.trim()?u(f,o):r(n)(t,function(n){f.after(n);u(f,o)}))})}}}]).directive("ngMessage",e()).directive("ngMessageExp",e())})(window,window.angular);
/**
 * @license angular-recaptcha build:2018-07-30
 * https://github.com/vividcortex/angular-recaptcha
 * Copyright (c) 2018 VividCortex
**/
!function(n){"use strict";n.module("vcRecaptcha",[])}(angular),function(n){"use strict";function t(){throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create');}n.module("vcRecaptcha").provider("vcRecaptchaService",function(){var r=this,i={};r.onLoadFunctionName="vcRecaptchaApiLoaded";r.setDefaults=function(t){n.copy(t,i)};r.setSiteKey=function(n){i.key=n};r.setTheme=function(n){i.theme=n};r.setStoken=function(n){i.stoken=n};r.setSize=function(n){i.size=n};r.setType=function(n){i.type=n};r.setLang=function(n){i.lang=n};r.setBadge=function(n){i.badge=n};r.setOnLoadFunctionName=function(n){r.onLoadFunctionName=n};r.$get=["$rootScope","$window","$q","$document","$interval",function(u,f,e,o,s){function b(){return h?e.when(h):k}function v(){if(!h)throw new Error("reCaptcha has not been loaded yet.");}function y(){return n.isFunction((f.grecaptcha||{}).render)}var h,p=e.defer(),k=p.promise,l={},a,w,c;return f.vcRecaptchaApiLoadedCallback=f.vcRecaptchaApiLoadedCallback||[],a=function(){h=f.grecaptcha;p.resolve(h)},(f.vcRecaptchaApiLoadedCallback.push(a),f[r.onLoadFunctionName]=function(){f.vcRecaptchaApiLoadedCallback.forEach(function(n){n()})},y())?a():f.document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]')?w=s(function(){y()&&(s.cancel(w),a())},25):(c=f.document.createElement("script"),c.async=!0,c.defer=!0,c.src="https://www.google.com/recaptcha/api.js?onload="+r.onLoadFunctionName+"&render=explicit",o.find("body")[0].appendChild(c)),{create:function(n,r){return r.sitekey=r.key||i.key,r.theme=r.theme||i.theme,r.stoken=r.stoken||i.stoken,r.size=r.size||i.size,r.type=r.type||i.type,r.hl=r.lang||i.lang,r.badge=r.badge||i.badge,r.sitekey||t(),b().then(function(t){var i=t.render(n,r);return l[i]=n,i})},reload:function(n){v();h.reset(n);u.$broadcast("reCaptchaReset",n)},execute:function(n){v();h.execute(n)},useLang:function(n,t){var u=l[n],i,r;if(!u)throw new Error("reCaptcha Widget ID not exists",n);if(i=u.querySelector("iframe"),!t)return i&&i.src&&/[?&]hl=\w+/.test(i.src)?i.src.replace(/.+[?&]hl=(\w+)([^\w].+)?/,"$1"):null;i&&i.src&&(r=i.src,/[?&]hl=/.test(r)?r=r.replace(/([?&]hl=)\w+/,"$1"+t):r+=(-1===r.indexOf("?")?"?":"&")+"hl="+t,i.src=r)},getResponse:function(n){return v(),h.getResponse(n)},getInstance:function(n){return l[n]},destroy:function(n){delete l[n]}}}]})}(angular),function(n){"use strict";n.module("vcRecaptcha").directive("vcRecaptcha",["$document","$timeout","vcRecaptchaService",function(t,i,r){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=?",stoken:"=?",theme:"=?",size:"=?",type:"=?",lang:"=?",badge:"=?",tabindex:"=?",required:"=?",onCreate:"&",onSuccess:"&",onExpire:"&",onError:"&"},link:function(u,f,e,o){function h(){o&&o.$setValidity("recaptcha",null);a()}function c(){i(function(){u.response="";s();u.onExpire({widgetId:u.widgetId})})}function l(){var n=arguments;i(function(){u.response="";s();u.onError({widgetId:u.widgetId,arguments:n})})}function s(){o&&o.$setValidity("recaptcha",!1===u.required?null:Boolean(u.response))}function a(){r.destroy(u.widgetId);n.element(t[0].querySelectorAll(".pls-container")).parent().remove()}u.widgetId=null;o&&n.isDefined(e.required)&&u.$watch("required",s);var v=u.$watch("key",function(t){var o=function(n){i(function(){u.response=n;s();u.onSuccess({response:n,widgetId:u.widgetId})})};r.create(f[0],{callback:o,key:t,stoken:u.stoken||e.stoken||null,theme:u.theme||e.theme||null,type:u.type||e.type||null,lang:u.lang||e.lang||null,tabindex:u.tabindex||e.tabindex||null,size:u.size||e.size||null,badge:u.badge||e.badge||null,"expired-callback":c,"error-callback":e.onError?l:void 0}).then(function(t){s();u.widgetId=t;u.onCreate({widgetId:t});u.$on("$destroy",h);u.$on("reCaptchaReset",function(i,r){(n.isUndefined(r)||t===r)&&(u.response="",s())})});v()})}}}])}(angular);
/**
 * State-based routing for AngularJS
 * @version v0.3.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(n,t,i){"use strict";function w(n,t){return u(new(u(function(){},{prototype:n})),t)}function g(n){return e(arguments,function(t){t!==n&&e(t,function(t,i){n.hasOwnProperty(i)||(n[i]=t)})}),n}function ri(n,t){var r=[];for(var i in n.path){if(n.path[i]!==t.path[i])break;r.push(n.path[i])}return r}function p(n){if(Object.keys)return Object.keys(n);var t=[];return e(n,function(n,i){t.push(i)}),t}function c(n,t){if(Array.prototype.indexOf)return n.indexOf(t,Number(arguments[2])||0);var r=n.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=r);i<r;i++)if(i in n&&n[i]===t)return i;return-1}function rt(n,t,i,r){var f,o=ri(i,r),h={},l=[],s,e;for(s in o)if(o[s]&&o[s].params&&(f=p(o[s].params),f.length))for(e in f)c(l,f[e])>=0||(l.push(f[e]),h[f[e]]=n[f[e]]);return u({},h,t)}function ut(n,t,i){var f,r,u;if(!i){i=[];for(f in n)i.push(f)}for(r=0;r<i.length;r++)if(u=i[r],n[u]!=t[u])return!1;return!0}function b(n,t){var i={};return e(n,function(n){i[n]=t[n]}),i}function ft(n){var t={},i=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return e(i,function(i){i in n&&(t[i]=n[i])}),t}function k(n){var i={},r=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var t in n)c(r,t)==-1&&(i[t]=n[t]);return i}function nt(n,t){var r=a(n),i=r?[]:{};return e(n,function(n,u){t(n,u)&&(i[r?i.length:u]=n)}),i}function y(n,t){var i=a(n)?[]:{};return e(n,function(n,r){i[r]=t(n,r)}),i}function d(n){return n.then(i,function(){})&&n}function et(n,t){var h=1,l=2,o={},a=[],v=o,y=u(n.when(o),{$$promises:o,$$values:o});this.study=function(o){function tt(n,i){if(d[i]!==l){if(b.push(i),d[i]===h)throw b.splice(0,c(b,i)),new Error("Cyclic dependency: "+b.join(" -> "));if(d[i]=h,f(n))w.push(i,[function(){return t.get(n)}],a);else{var r=t.annotate(n);e(r,function(n){n!==i&&o.hasOwnProperty(n)&&tt(o[n],n)});w.push(i,n,r)}b.pop();d[i]=l}}function it(n){return s(n)&&n.then&&n.$$promises}if(!s(o))throw new Error("'invocables' must be an object");var nt=p(o||{}),w=[],b=[],d={};return e(o,tt),o=b=d=null,function(f,o,h){function p(){--et||(rt||g(l,o.$$values),c.$$values=l,c.$$promises=c.$$promises||!0,delete c.$$inheritedValues,tt.resolve(l))}function d(n){c.$$failure=n;tt.reject(n)}function ft(i,u,o){function a(n){s.reject(n);d(n)}function y(){if(!r(c.$$failure))try{s.resolve(t.invoke(u,h,l));s.promise.then(function(n){l[i]=n;p()},a)}catch(n){a(n)}}var s=n.defer(),v=0;e(o,function(n){b.hasOwnProperty(n)&&!f.hasOwnProperty(n)&&(v++,b[n].then(function(t){l[n]=t;--v||y()},a))});v||y();b[i]=s.promise}var a,ut;if(it(f)&&h===i&&(h=o,o=f,f=null),f){if(!s(f))throw new Error("'locals' must be an object");}else f=v;if(o){if(!it(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()");}else o=y;var tt=n.defer(),c=tt.promise,b=c.$$promises={},l=u({},f),et=1+w.length/3,rt=!1;if(r(o.$$failure))return d(o.$$failure),c;for(o.$$inheritedValues&&g(l,k(o.$$inheritedValues,nt)),u(b,o.$$promises),o.$$values?(rt=g(l,k(o.$$values,nt)),c.$$inheritedValues=k(o.$$values,nt),p()):(o.$$inheritedValues&&(c.$$inheritedValues=k(o.$$inheritedValues,nt)),o.then(p,d)),a=0,ut=w.length;a<ut;a+=3)f.hasOwnProperty(w[a])?p():ft(w[a],w[a+1],w[a+2]);return c}};this.resolve=function(n,t,i,r){return this.study(n)(t,i,r)}}function ot(n,t,i){this.fromConfig=function(n,t,i){return r(n.template)?this.fromString(n.template,t):r(n.templateUrl)?this.fromUrl(n.templateUrl,t):r(n.templateProvider)?this.fromProvider(n.templateProvider,t,i):null};this.fromString=function(n,t){return h(n)?n(t):n};this.fromUrl=function(i,r){return h(i)&&(i=i(r)),null==i?null:n.get(i,{cache:t,headers:{Accept:"text/html"}}).then(function(n){return n.data})};this.fromProvider=function(n,t,r){return i.invoke(n,null,r||{params:t})}}function v(n,t,r){function d(t,i,r,u){if(it.push(t),tt[t])return tt[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+n+"'");if(b[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+n+"'");return b[t]=new l.Param(t,i,r,u),b[t]}function g(n,t,i,r){var u=["",""],f=n.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return f;switch(i){case!1:u=["(",")"+(r?"?":"")];break;case!0:f=f.replace(/\/$/,"");u=["(?:/(",")|/)?"];break;default:u=["("+i+"|",")?"]}return f+u[0]+t+u[1]}function nt(r,u){var e,f,s,h,c;return e=r[2]||r[3],c=t.params[e],s=n.substring(o,r.index),f=u?r[4]:r[4]||("*"==r[1]?".*":null),f&&(h=l.type(f)||w(l.type("string"),{pattern:new RegExp(f,t.caseInsensitive?"i":i)})),{id:e,regexp:f,segment:s,type:h,cfg:c}}var f,h,e,c,k;t=u({params:{}},s(t)?t:{});var a,v=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,rt=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,y="^",o=0,p=this.segments=[],tt=r?r.params:{},b=this.params=r?r.params.$$new():new l.ParamSet,it=[];for(this.source=n;(a=v.exec(n))&&(f=nt(a,!1),!(f.segment.indexOf("?")>=0));)h=d(f.id,f.type,f.cfg,"path"),y+=g(f.segment,h.type.pattern.source,h.squash,h.isOptional),p.push(f.segment),o=v.lastIndex;if(e=n.substring(o),c=e.indexOf("?"),c>=0){if(k=this.sourceSearch=e.substring(c),e=e.substring(0,c),this.sourcePath=n.substring(0,o+c),k.length>0)for(o=0;a=rt.exec(k);)f=nt(a,!0),h=d(f.id,f.type,f.cfg,"search"),o=v.lastIndex}else this.sourcePath=n,this.sourceSearch="";y+=g(e)+(t.strict===!1?"/?":"")+"$";p.push(e);this.regexp=new RegExp(y,t.caseInsensitive?"i":i);this.prefix=p[0];this.$$paramNames=it}function o(n){u(this,n)}function st(){function rt(n){return null!=n?n.toString().replace(/(~|\/)/g,function(n){return{"~":"~~","/":"~2F"}[n]}):n}function ht(n){return null!=n?n.toString().replace(/(~~|~2F)/g,function(n){return{"~~":"~","~2F":"/"}[n]}):n}function ct(){return{strict:g,caseInsensitive:d}}function ut(n){return h(n)||a(n)&&h(n[n.length-1])}function ft(){for(;it.length;){var i=it.shift();if(i.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(n[i.name],b.invoke(i.def))}}function k(n){u(this,n||{})}l=this;var b,d=!1,g=!0,tt=!1,n={},et=!0,it=[],ot={string:{encode:rt,decode:ht,is:function(n){return null==n||!r(n)||"string"==typeof n},pattern:/[^\/]*/},int:{encode:rt,decode:function(n){return parseInt(n,10)},is:function(n){return r(n)&&this.decode(n.toString())===n},pattern:/\d+/},bool:{encode:function(n){return n?1:0},decode:function(n){return 0!==parseInt(n,10)},is:function(n){return n===!0||n===!1},pattern:/0|1/},date:{encode:function(n){return this.is(n)?[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"):i},decode:function(n){if(this.is(n))return n;var t=this.capture.exec(n);return t?new Date(t[1],t[2]-1,t[3]):i},is:function(n){return n instanceof Date&&!isNaN(n.valueOf())},equals:function(n,t){return this.is(n)&&this.is(t)&&n.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};st.$$getDefaultValue=function(n){if(!ut(n.value))return n.value;if(!b)throw new Error("Injectable functions cannot be called at configuration time");return b.invoke(n.value)};this.caseInsensitive=function(n){return r(n)&&(d=n),d};this.strictMode=function(n){return r(n)&&(g=n),g};this.defaultSquashPolicy=function(n){if(!r(n))return tt;if(n!==!0&&n!==!1&&!f(n))throw new Error("Invalid squash policy: "+n+". Valid policies: false, true, arbitrary-string");return tt=n,n};this.compile=function(n,t){return new v(n,u(ct(),t))};this.isMatcher=function(n){if(!s(n))return!1;var t=!0;return e(v.prototype,function(i,u){h(i)&&(t=t&&r(n[u])&&h(n[u]))}),t};this.type=function(t,i,f){if(!r(i))return n[t];if(n.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return n[t]=new o(u({name:t},i)),f&&(it.push({name:t,def:f}),et||ft()),this};e(ot,function(t,i){n[i]=new o(u({name:i},t))});n=w(n,{});this.$get=["$injector",function(t){return b=t,et=!1,ft(),e(ot,function(t,i){n[i]||(n[i]=new o(t))}),this}];this.Param=function(e,h,l,v){function it(n){var t=s(n)?p(n):[],i=c(t,"value")===-1&&c(t,"type")===-1&&c(t,"squash")===-1&&c(t,"array")===-1;return i&&(n={value:n}),n.$$fn=ut(n.value)?n.value:function(){return n.value},n}function rt(i,r,u){if(i.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:i.type?t.isString(i.type)?n[i.type]:i.type instanceof o?i.type:new o(i.type):"config"===u?n.any:n.string}function ft(){var n={array:"search"===v&&"auto"},t=e.match(/\[\]$/)?{array:!0}:{};return u(n,t,l).array}function et(n,t){var i=n.squash;if(!t||i===!1)return!1;if(!r(i)||null==i)return tt;if(i===!0||f(i))return i;throw new Error("Invalid squash policy: '"+i+"'. Valid policies: false, true, or arbitrary string");}function ot(n,t,r,u){var e,o,s=[{from:"",to:r||t?i:""},{from:null,to:r||t?i:""}];return e=a(n.replace)?n.replace:[],f(u)&&e.push({from:u,to:i}),o=y(e,function(n){return n.from}),nt(s,function(n){return c(o,n.from)===-1}).concat(e)}function st(){if(!b)throw new Error("Injectable functions cannot be called at configuration time");var n=b.invoke(l.$$fn);if(null!==n&&n!==i&&!k.type.is(n))throw new Error("Default value ("+n+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return n}function ht(n){function t(n){return function(t){return t.from===n}}function i(n){var i=y(nt(k.replace,t(n)),function(n){return n.to});return i.length?i[0]:n}return n=i(n),r(n)?k.type.$normalize(n):st()}function ct(){return"{Param:"+e+" "+h+" squash: '"+g+"' optional: "+d+"}"}var k=this,w;l=it(l);h=rt(l,h,v);w=ft();h=w?h.$asArray(w,"search"===v):h;"string"!==h.name||w||"path"!==v||l.value!==i||(l.value="");var d=l.value!==i,g=et(l,d),lt=ot(l,w,d,g);u(this,{id:e,type:h,location:v,array:w,squash:g,replace:lt,isOptional:d,value:ht,dynamic:i,config:l,toString:ct})};k.prototype={$$new:function(){return w(this,u(new k,{$$parent:this}))},$$keys:function(){for(var t=[],i=[],n=this,r=p(k.prototype);n;)i.push(n),n=n.$$parent;return i.reverse(),e(i,function(n){e(p(n),function(n){c(t,n)===-1&&c(r,n)===-1&&t.push(n)})}),t},$$values:function(n){var t={},i=this;return e(i.$$keys(),function(r){t[r]=i[r].value(n&&n[r])}),t},$$equals:function(n,t){var i=!0,r=this;return e(r.$$keys(),function(u){var f=n&&n[u],e=t&&t[u];r[u].type.equals(f,e)||(i=!1)}),i},$$validates:function(n){for(var r,f,e,o,s=this.$$keys(),u=0;u<s.length&&(r=this[s[u]],f=n[s[u]],f!==i&&null!==f||!r.isOptional);u++)if((e=r.type.$normalize(f),!r.type.is(e))||(o=r.type.encode(e),t.isString(o)&&!r.type.pattern.exec(o)))return!1;return!0},$$parent:i};this.ParamSet=k}function ht(n,e){function p(n){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(n.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function w(n,t){return n.replace(/\$(\$|\d{1,2})/,function(n,i){return t["$"===i?0:Number(i)]})}function c(n,t,i){if(!i)return!1;var u=n.invoke(t,t,{$match:i});return!r(u)||u}function l(r,u,e,h,c){function k(n,t,i){return"/"===a?n:t?a.slice(0,-1)+n:i?a.slice(1)+n:n}function w(n){function u(n){var t=n(e,r);return!!t&&(f(t)&&r.replace().url(t),!0)}if(!n||!n.defaultPrevented){l&&r.url()===l;l=i;for(var h=o.length,t=0;t<h;t++)if(u(o[t]))return;s&&u(s)}}function b(){return v=v||u.$on("$locationChangeSuccess",w)}var l,a=h.baseHref(),p=r.url();return y||b(),{sync:function(){w()},listen:function(){return b()},update:function(n){return n?void(p=r.url()):void(r.url()!==p&&(r.url(p),r.replace()))},push:function(n,t,u){var f=n.format(t||{});null!==f&&t&&t["#"]&&(f+="#"+t["#"]);r.url(f);l=u&&u.$$avoidResync?r.url():i;u&&u.replace&&r.replace()},href:function(i,u,f){var o,e,h,s;return i.validates(u)?(o=n.html5Mode(),t.isObject(o)&&(o=o.enabled),o=o&&c.history,e=i.format(u),f=f||{},o||null===e||(e="#"+n.hashPrefix()+e),null!==e&&u&&u["#"]&&(e+="#"+u["#"]),e=k(e,o,f.absolute),!f.absolute||!e)?e:(h=!o&&e?"/":"",s=r.port(),s=80===s||443===s?"":":"+s,[r.protocol(),"://",r.host(),s,h,e].join("")):null}}}var v,o=[],s=null,y=!1;this.rule=function(n){if(!h(n))throw new Error("'rule' must be a function");return o.push(n),this};this.otherwise=function(n){if(f(n)){var t=n;n=function(){return t}}else if(!h(n))throw new Error("'rule' must be a function");return s=n,this};this.when=function(n,t){var i,r=f(t),l,o,s;if(f(n)&&(n=e.compile(n)),!r&&!h(t)&&!a(t))throw new Error("invalid 'handler' in when()");l={matcher:function(n,t){return r&&(i=e.compile(t),t=["$match",function(n){return i.format(n)}]),u(function(i,r){return c(i,t,n.exec(r.path(),r.search()))},{prefix:f(n.prefix)?n.prefix:""})},regex:function(n,t){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(i=t,t=["$match",function(n){return w(i,n)}]),u(function(i,r){return c(i,t,n.exec(r.path()))},{prefix:p(n)})}};o={matcher:e.isMatcher(n),regex:n instanceof RegExp};for(s in o)if(o[s])return this.rule(l[s](n,t));throw new Error("invalid 'what' in when()");};this.deferIntercept=function(n){n===i&&(n=!0);y=n};this.$get=l;l.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function ct(n,o){function ct(n){return 0===n.indexOf(".")||0===n.indexOf("^")}function k(n,t){var s;if(!n)return i;var h=f(n),u=h?n:n.name,c=ct(u);if(c){if(!t)throw new Error("No reference point given for path '"+u+"'");t=k(t);for(var r=u.split("."),e=0,l=r.length,o=t;e<l;e++)if(""!==r[e]||0!==e){if("^"!==r[e])break;if(!o.parent)throw new Error("Path '"+u+"' not valid for state '"+t.name+"'");o=o.parent}else o=t;r=r.slice(e).join(".");u=o.name+(o.name&&r?".":"")+r}return s=tt[u],!s||!h&&(h||s!==n&&s.self!==n)?i:s}function lt(n,t){et[n]||(et[n]=[]);et[n].push(t)}function at(n){for(var t=et[n]||[];t.length;)ot(t.shift())}function ot(t){var i,u,r;if(t=w(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}}),i=t.name,!f(i)||i.indexOf("@")>=0)throw new Error("State must have a valid name");if(tt.hasOwnProperty(i))throw new Error("State '"+i+"' is already defined");if(u=i.indexOf(".")!==-1?i.substring(0,i.lastIndexOf(".")):f(t.parent)?t.parent:s(t.parent)&&f(t.parent.name)?t.parent.name:"",u&&!tt[u])return lt(u,t.self);for(r in g)h(g[r])&&(t[r]=g[r](t,g.$delegates[r]));return tt[i]=t,!t[ht]&&t.url&&n.when(t.url,["$match","$stateParams",function(n,i){v.$current.navigable==t&&ut(n,i)||v.transitionTo(t,n,{inherit:!0,location:!1})}]),at(i),t}function vt(n){return n.indexOf("*")>-1}function yt(n){for(var t=n.split("."),i=v.$current.name.split("."),r=0,u=t.length;r<u;r++)"*"===t[r]&&(i[r]="*");return"**"===t[0]&&(i=i.slice(c(i,t[1])),i.unshift("**")),"**"===t[t.length-1]&&(i.splice(c(i,t[t.length-2])+1,Number.MAX_VALUE),i.push("**")),t.length==i.length&&i.join("")===t.join("")}function pt(n,t){return f(n)&&!r(t)?g[n]:h(t)&&f(n)?(g[n]&&!g.$delegates[n]&&(g.$delegates[n]=g[n]),g[n]=t,this):this}function wt(n,t){return s(n)?t=n:t.name=n,ot(t),this}function st(n,o,c,l,g,ft,et){function at(t,i,r,u){var e=n.$broadcast("$stateNotFound",t,i,r),f;return e.defaultPrevented?(et.update(),ct):e.retry?u.$retry?(et.update(),lt):(f=v.transition=o.when(e.retry),f.then(function(){return f!==v.transition?(n.$broadcast("$stateChangeCancel",t.to,t.toParams,i,r),ot):(t.options.$retry=!0,v.transitionTo(t.to,t.toParams,t.options))},function(){return ct}),et.update(),f):null}function pt(n,i,r,u,f,s){function p(){var i=[];return e(n.views,function(r,u){var e=r.resolve&&r.resolve!==n.resolve?r.resolve:{};e.$template=[function(){return c.load(u,{view:r,locals:f.globals,params:y,notify:s.notify})||""}];i.push(g.resolve(e,f.globals,f.resolve,n).then(function(i){if(h(r.controllerProvider)||a(r.controllerProvider)){var o=t.extend({},e,f.globals);i.$$controller=l.invoke(r.controllerProvider,null,o)}else i.$$controller=r.controller;i.$$state=n;i.$$controllerAs=r.controllerAs;i.$$resolveAs=r.resolveAs;f[u]=i}))}),o.all(i).then(function(){return f.globals})}var y=r?i:b(n.params.$$keys(),i),w={$stateParams:y},v;return f.resolve=g.resolve(n.resolve,w,f.resolve,n),v=[f.resolve.then(function(n){f.globals=n})],u&&v.push(u),o.all(v).then(p).then(function(){return f})}var st=new Error("transition superseded"),ot=d(o.reject(st)),wt=d(o.reject(new Error("transition prevented"))),ct=d(o.reject(new Error("transition aborted"))),lt=d(o.reject(new Error("transition failed")));return nt.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:nt.self,$current:nt,transition:null},v.reload=function(n){return v.transitionTo(v.current,ft,{reload:n||!0,inherit:!1,notify:!0})},v.go=function(n,t,i){return v.transitionTo(n,t,u({inherit:!0,relative:v.$current},i))},v.transitionTo=function(t,i,e){var ut,gt,ni,kt,ct,dt;i=i||{};e=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},e||{});var ti,a=v.$current,y=v.params,tt=a.path,p=k(t,e.relative),vt=i["#"];if(!r(p)){if(ut={to:t,toParams:i,options:e},gt=at(ut,a.self,y,e),gt)return gt;if(t=ut.to,i=ut.toParams,e=ut.options,p=k(t,e.relative),!r(p)){if(!e.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+e.relative+"'");}}if(p[ht])throw new Error("Cannot transition to abstract state '"+t+"'");if(e.inherit&&(i=rt(ft,i||{},v.$current,p)),!p.params.$$validates(i))return lt;i=p.params.$$values(i);t=p;var d=t.path,c=0,h=d[c],g=nt.locals,yt=[];if(e.reload){if(f(e.reload)||s(e.reload)){if(s(e.reload)&&!e.reload.name)throw new Error("Invalid reload state object");if(ni=e.reload===!0?tt[0]:k(e.reload),e.reload&&!ni)throw new Error("No such reload state '"+(f(e.reload)?e.reload:e.reload.name)+"'");for(;h&&h===tt[c]&&h!==ni;)g=yt[c]=h.locals,c++,h=d[c]}}else for(;h&&h===tt[c]&&h.ownParams.$$equals(i,y);)g=yt[c]=h.locals,c++,h=d[c];if(bt(t,i,a,y,g,e))return vt&&(i["#"]=vt),v.params=i,it(v.params,ft),it(b(t.params.$$keys(),ft),t.locals.globals.$stateParams),e.location&&t.navigable&&t.navigable.url&&(et.push(t.navigable.url,i,{$$avoidResync:!0,replace:"replace"===e.location}),et.update(!0)),v.transition=null,o.when(v.current);if(i=b(t.params.$$keys(),i||{}),vt&&(i["#"]=vt),e.notify&&n.$broadcast("$stateChangeStart",t.self,i,a.self,y,e).defaultPrevented)return n.$broadcast("$stateChangeCancel",t.self,i,a.self,y),null==v.transition&&et.update(),wt;for(kt=o.when(g),ct=c;ct<d.length;ct++,h=d[ct])g=yt[ct]=w(g),kt=pt(h,i,h===t,kt,g,e);return dt=v.transition=kt.then(function(){var r,u,f;if(v.transition!==dt)return n.$broadcast("$stateChangeCancel",t.self,i,a.self,y),ot;for(r=tt.length-1;r>=c;r--)f=tt[r],f.self.onExit&&l.invoke(f.self.onExit,f.self,f.locals.globals),f.locals=null;for(r=c;r<d.length;r++)u=d[r],u.locals=yt[r],u.self.onEnter&&l.invoke(u.self.onEnter,u.self,u.locals.globals);return v.transition!==dt?(n.$broadcast("$stateChangeCancel",t.self,i,a.self,y),ot):(v.$current=t,v.current=t.self,v.params=i,it(v.params,ft),v.transition=null,e.location&&t.navigable&&et.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===e.location}),e.notify&&n.$broadcast("$stateChangeSuccess",t.self,i,a.self,y),et.update(!0),v.current)}).then(null,function(r){return r===st?ot:v.transition!==dt?(n.$broadcast("$stateChangeCancel",t.self,i,a.self,y),ot):(v.transition=null,ti=n.$broadcast("$stateChangeError",t.self,i,a.self,y,r),ti.defaultPrevented||et.update(),o.reject(r))})},v.is=function(n,t,f){f=u({relative:v.$current},f||{});var e=k(n,f.relative);return r(e)?v.$current===e&&(!t||ut(e.params.$$values(t),ft)):i},v.includes=function(n,t,e){var o,c,s,h,l;if(e=u({relative:v.$current},e||{}),f(n)&&vt(n)){if(!yt(n))return!1;n=v.$current.name}if(o=k(n,e.relative),!r(o))return i;if(!r(v.$current.includes[o.name]))return!1;if(!t)return!0;for(c=p(t),s=0;s<c.length;s++)if(h=c[s],l=o.params[h],l&&!l.type.equals(ft[h],t[h]))return!1;return!0},v.href=function(n,t,f){var e,o;return(f=u({lossy:!0,inherit:!0,absolute:!1,relative:v.$current},f||{}),e=k(n,f.relative),!r(e))?null:(f.inherit&&(t=rt(ft,t||{},v.$current,e)),o=e&&f.lossy?e.navigable:e,o&&o.url!==i&&null!==o.url?et.href(o.url,b(e.params.$$keys().concat("#"),t||{}),{absolute:f.absolute}):null)},v.get=function(n,t){if(0===arguments.length)return y(p(tt),function(n){return tt[n].self});var i=k(n,t||v.$current);return i&&i.self?i.self:null},v}function bt(n,t,i,r,u,f){function e(n,t,i){function r(t){return"search"!=n.params[t].location}var u=n.params.$$keys().filter(r),f=ft.apply({},[n.params].concat(u)),e=new l.ParamSet(f);return e.$$equals(t,i)}if(!f.reload&&n===i&&(u===i.locals||n.self.reloadOnSearch===!1&&e(i,r,t)))return!0}var nt,v,tt={},et={},ht="abstract",g={parent:function(n){if(r(n.parent)&&n.parent)return k(n.parent);var t=/^(.+)\.[^.]+$/.exec(n.name);return t?k(t[1]):nt},data:function(n){return n.parent&&n.parent.data&&(n.data=n.self.data=w(n.parent.data,n.data)),n.data},url:function(n){var t=n.url,i={params:n.params||{}};if(f(t))return"^"==t.charAt(0)?o.compile(t.substring(1),i):(n.parent.navigable||nt).url.concat(t,i);if(!t||o.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+n+"'");},navigable:function(n){return n.url?n:n.parent?n.parent.navigable:null},ownParams:function(n){var t=n.url&&n.url.params||new l.ParamSet;return e(n.params||{},function(n,i){t[i]||(t[i]=new l.Param(i,null,n,"config"))}),t},params:function(n){var t=ft(n.ownParams,n.ownParams.$$keys());return n.parent&&n.parent.params?u(n.parent.params.$$new(),t):new l.ParamSet},views:function(n){var t={};return e(r(n.views)?n.views:{"":n},function(i,r){r.indexOf("@")<0&&(r+="@"+n.parent.name);i.resolveAs=i.resolveAs||n.resolveAs||"$resolve";t[r]=i}),t},path:function(n){return n.parent?n.parent.path.concat(n):[]},includes:function(n){var t=n.parent?u({},n.parent.includes):{};return t[n.name]=!0,t},$delegates:{}};nt=ot({name:"",url:"^",views:null,abstract:!0});nt.navigable=null;this.decorator=pt;this.state=wt;this.$get=st;st.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function lt(){function n(n,t){return{load:function(n,i){var r;return i=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},i),i.view&&(r=t.fromConfig(i.view,i.params,i.locals)),r}}}this.$get=n;n.$inject=["$rootScope","$templateFactory"]}function ui(){var n=!1;this.useAnchorScroll=function(){n=!0};this.$get=["$anchorScroll","$timeout",function(t,i){return n?t:function(n){return i(function(){n[0].scrollIntoView()},0,!1)}}]}function at(n,i,r,u,f){function h(){return i.has?function(n){return i.has(n)?i.get(n):null}:function(n){try{return i.get(n)}catch(n){return null}}}function c(n,i){var u=function(){return{enter:function(n,t,i){t.after(n);i()},leave:function(n,t){n.remove();t()}}},r;return e?{enter:function(n,i,r){t.version.minor>2?e.enter(n,null,i).then(r):e.enter(n,null,i,r)},leave:function(n,i){t.version.minor>2?e.leave(n).then(i):e.leave(n,i)}}:o?(r=o&&o(i,n),{enter:function(n,t,i){r.enter(n,null,t);i()},leave:function(n,t){r.leave(n);t()}}):u()}var s=h(),o=s("$animator"),e=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(i,e,o){return function(i,e,s){function b(){if(a&&(a.remove(),a=null),h&&(h.$destroy(),h=null),l){var n=l.data("$uiViewAnim");w.leave(l,function(){n.$$animLeave.resolve();a=null});a=l;l=null}}function y(c){var y,a=yt(i,s,e,u),g=a&&n.$current&&n.$current.locals[a],d;(c||g!==p)&&(y=i.$new(),p=n.$current.locals[a],y.$emit("$viewContentLoading",a),d=o(y,function(n){var u=f.defer(),o=f.defer(),s={$animEnter:u.promise,$animLeave:o.promise,$$animLeave:o};n.data("$uiViewAnim",s);w.enter(n,e,function(){u.resolve();h&&h.$emit("$viewContentAnimationEnded");(t.isDefined(v)&&!v||i.$eval(v))&&r(n)});b()}),l=d,h=y,h.$emit("$viewContentLoaded",a),h.$eval(k))}var a,l,h,p,k=s.onload||"",v=s.autoscroll,w=c(s,i);e.inheritedData("$uiView");i.$on("$stateChangeSuccess",function(){y(!1)});y(!0)}}}}function vt(n,i,r,u){return{restrict:"ECA",priority:-400,compile:function(f){var e=f.html();return function(f,o,s){var v=r.$current,y=yt(f,s,o,u),c=v&&v.locals[y],a,p,l;c&&(o.data("$uiView",{name:y,state:c.$$state}),o.html(c.$template?c.$template:e),a=t.extend({},c),f[c.$$resolveAs]=a,p=n(o.contents()),c.$$controller&&(c.$scope=f,c.$element=o,l=i(c.$$controller,c),c.$$controllerAs&&(f[c.$$controllerAs]=l,f[c.$$controllerAs][c.$$resolveAs]=a),h(l.$onInit)&&l.$onInit(),o.data("$ngControllerController",l),o.children().data("$ngControllerController",l)),p(f))}}}}function yt(n,t,i,r){var u=r(t.uiView||t.name||"")(n),f=i.inheritedData("$uiView");return u.indexOf("@")>=0?u:u+"@"+(f?f.state.name:"")}function pt(n,t){var i,r=n.match(/^\s*({[^}]*})\s*$/);if(r&&(n=t+"("+r[1]+")"),i=n.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!i||4!==i.length)throw new Error("Invalid state ref '"+n+"'");return{state:i[1],paramExpr:i[3]||null}}function wt(n){var t=n.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function bt(n){var i="[object SVGAnimatedString]"===Object.prototype.toString.call(n.prop("href")),t="FORM"===n[0].nodeName;return{attr:t?"action":i?"xlink:href":"href",isAnchor:"A"===n.prop("tagName").toUpperCase(),clickable:!t}}function kt(n,t,i,r,u){return function(f){var h=f.which||f.button,e=u(),o,s;h>1||f.ctrlKey||f.metaKey||f.shiftKey||n.attr("target")||(o=i(function(){t.go(e.state,e.params,e.options)}),f.preventDefault(),s=r.isAnchor&&!e.href?1:0,f.preventDefault=function(){s--<=0&&i.cancel(o)})}}function fi(n,t){return{relative:wt(n)||t.$current,inherit:!0}}function dt(n,i){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,f,e,o){var c,h=pt(e.uiSref,n.current.name),s={state:h.state,href:null,params:null},l=bt(f),y=o[1]||o[0],a=null,v;s.options=u(fi(f,n),e.uiSrefOpts?r.$eval(e.uiSrefOpts):{});v=function(i){i&&(s.params=t.copy(i));s.href=n.href(h.state,s.params,s.options);a&&a();y&&(a=y.$$addStateInfo(h.state,s.params));null!==s.href&&e.$set(l.attr,s.href)};h.paramExpr&&(r.$watch(h.paramExpr,function(n){n!==s.params&&v(n)},!0),s.params=t.copy(r.$eval(h.paramExpr)));v();l.clickable&&(c=kt(f,n,i,l,function(){return s}),f[f.on?"on":"bind"]("click",c),r.$on("$destroy",function(){f[f.off?"off":"unbind"]("click",c)}))}}}function gt(n,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,u,f){function c(t){e.state=t[0];e.params=t[1];e.options=t[2];e.href=n.href(e.state,e.params,e.options);h&&h();l&&(h=l.$$addStateInfo(e.state,e.params));e.href&&u.$set(s.attr,e.href)}var o,s=bt(r),l=f[1]||f[0],v=[u.uiState,u.uiStateParams||null,u.uiStateOpts||null],a="["+v.map(function(n){return n||"null"}).join(", ")+"]",e={state:null,params:null,options:null,href:null},h=null;i.$watch(a,c,!0);c(i.$eval(a));s.clickable&&(o=kt(r,n,t,s,function(){return e}),r[r.on?"on":"bind"]("click",o),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",o)}))}}}function tt(n,t,i){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,u,o){function y(t,i,u){var o=n.get(t,wt(r)),f=b(t,i),e={state:o||{name:t},params:i,hash:f};return h.push(e),v[f]=u,function(){var n=h.indexOf(e);n!==-1&&h.splice(n,1)}}function b(n,i){if(!f(n))throw new Error("state should be a string");return s(i)?n+ii(i):(i=t.$eval(i),s(i)?n+ii(i):n)}function l(){for(var n=0;n<h.length;n++)k(h[n].state,h[n].params)?p(r,v[h[n].hash]):w(r,v[h[n].hash]),d(h[n].state,h[n].params)?p(r,a):w(r,a)}function p(n,t){o(function(){n.addClass(t)})}function w(n,t){n.removeClass(t)}function k(t,i){return n.includes(t.name,i)}function d(t,i){return n.is(t.name,i)}var a,c,h=[],v={};a=i(u.uiSrefActiveEq||"",!1)(t);try{c=t.$eval(u.uiSrefActive)}catch(n){}c=c||i(u.uiSrefActive||"",!1)(t);s(c)&&e(c,function(i,r){if(f(i)){var u=pt(i,n.current.name);y(u.state,t.$eval(u.paramExpr),r)}});this.$$addStateInfo=function(n,t){if(!(s(c)&&h.length>0)){var i=y(n,t,c);return l(),i}};t.$on("$stateChangeSuccess",l);l()}]}}function ni(n){var t=function(t,i){return n.is(t,i)};return t.$stateful=!0,t}function ti(n){var t=function(t,i,r){return n.includes(t,i,r)};return t.$stateful=!0,t}var r=t.isDefined,h=t.isFunction,f=t.isString,s=t.isObject,a=t.isArray,e=t.forEach,u=t.extend,it=t.copy,ii=t.toJson,l;t.module("ui.router.util",["ng"]);t.module("ui.router.router",["ui.router.util"]);t.module("ui.router.state",["ui.router.router","ui.router.util"]);t.module("ui.router",["ui.router.state"]);t.module("ui.router.compat",["ui.router"]);et.$inject=["$q","$injector"];t.module("ui.router.util").service("$resolve",et);ot.$inject=["$http","$templateCache","$injector"];t.module("ui.router.util").service("$templateFactory",ot);v.prototype.concat=function(n,t){var i={caseInsensitive:l.caseInsensitive(),strict:l.strictMode(),squash:l.defaultSquashPolicy()};return new v(this.sourcePath+n+this.sourceSearch,u(i,t),this)};v.prototype.toString=function(){return this.source};v.prototype.exec=function(n,t){function a(n){function t(n){return n.split("").reverse().join("")}function i(n){return n.replace(/\\-/g,"-")}var r=t(n).split(/-(?!\\)/),u=y(r,t);return y(u,i).reverse()}var h=this.regexp.exec(n),u,i;if(!h)return null;t=t||{};var o,f,e,c=this.parameters(),v=c.length,l=this.segments.length-1,s={};if(l!==h.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(o=0;o<l;o++){for(e=c[o],u=this.params[e],i=h[o+1],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);i&&u.array===!0&&(i=a(i));r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}for(;o<v;o++){for(e=c[o],s[e]=this.params[e].value(t[e]),u=this.params[e],i=t[e],f=0;f<u.replace.length;f++)u.replace[f].from===i&&(i=u.replace[f].to);r(i)&&(i=u.type.decode(i));s[e]=u.value(i)}return s};v.prototype.parameters=function(n){return r(n)?this.params[n]||null:this.$$paramNames};v.prototype.validates=function(n){return this.params.$$validates(n)};v.prototype.format=function(n){function d(n){return encodeURIComponent(n).replace(/-/g,function(n){return"%5C%"+n.charCodeAt(0).toString(16).toUpperCase()})}var s,b,k;n=n||{};var h=this.segments,c=this.parameters(),g=this.params;if(!this.validates(n))return null;for(var l=!1,v=h.length-1,nt=c.length,i=h[0],r=0;r<nt;r++){var tt=r<v,o=c[r],u=g[o],p=u.value(n[o]),w=u.isOptional&&u.type.equals(u.value(),p),e=!!w&&u.squash,t=u.type.encode(p);if(tt)s=h[r+1],b=r+1===v,e===!1?(null!=t&&(i+=a(t)?y(t,d).join("-"):encodeURIComponent(t)),i+=s):e===!0?(k=i.match(/\/$/)?/\/?(.*)/:/(.*)/,i+=s.match(k)[1]):f(e)&&(i+=e+s),b&&u.squash===!0&&"/"===i.slice(-1)&&(i=i.slice(0,-1));else{if(null==t||w&&e!==!1)continue;if(a(t)||(t=[t]),0===t.length)continue;t=y(t,encodeURIComponent).join("&"+o+"=");i+=(l?"&":"?")+(o+"="+t);l=!0}}return i};o.prototype.is=function(){return!0};o.prototype.encode=function(n){return n};o.prototype.decode=function(n){return n};o.prototype.equals=function(n,t){return n==t};o.prototype.$subPattern=function(){var n=this.pattern.toString();return n.substr(1,n.length-2)};o.prototype.pattern=/.*/;o.prototype.toString=function(){return"{Type:"+this.name+"}"};o.prototype.$normalize=function(n){return this.is(n)?n:this.decode(n)};o.prototype.$asArray=function(n,t){function u(n,t){function u(n,t){return function(){return n[t].apply(n,arguments)}}function e(n){return a(n)?n:r(n)?[n]:[]}function o(n){switch(n.length){case 0:return i;case 1:return"auto"===t?n[0]:n;default:return n}}function s(n){return!n}function f(n,t){return function(i){if(a(i)&&0===i.length)return i;i=e(i);var r=y(i,n);return t===!0?0===nt(r,s).length:o(r)}}function h(n){return function(t,i){var u=e(t),f=e(i),r;if(u.length!==f.length)return!1;for(r=0;r<u.length;r++)if(!n(u[r],f[r]))return!1;return!0}}this.encode=f(u(n,"encode"));this.decode=f(u(n,"decode"));this.is=f(u(n,"is"),!0);this.equals=h(u(n,"equals"));this.pattern=n.pattern;this.$normalize=f(u(n,"$normalize"));this.name=n.name;this.$arrayMode=t}if(!n)return this;if("auto"===n&&!t)throw new Error("'auto' array mode is for query parameters only");return new u(this,n)};t.module("ui.router.util").provider("$urlMatcherFactory",st);t.module("ui.router.util").run(["$urlMatcherFactory",function(){}]);ht.$inject=["$locationProvider","$urlMatcherFactoryProvider"];t.module("ui.router.router").provider("$urlRouter",ht);ct.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",ct).run(["$injector",function(n){n.get("$state.runtime").autoinject&&n.get("$state")}]);lt.$inject=[];t.module("ui.router.state").provider("$view",lt);t.module("ui.router.state").provider("$uiViewScroll",ui);at.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"];vt.$inject=["$compile","$controller","$state","$interpolate"];t.module("ui.router.state").directive("uiView",at);t.module("ui.router.state").directive("uiView",vt);dt.$inject=["$state","$timeout"];gt.$inject=["$state","$timeout"];tt.$inject=["$state","$stateParams","$interpolate"];t.module("ui.router.state").directive("uiSref",dt).directive("uiSrefActive",tt).directive("uiSrefActiveEq",tt).directive("uiState",gt);ni.$inject=["$state"];ti.$inject=["$state"];t.module("ui.router.state").filter("isState",ni).filter("includedByState",ti)}(window,window.angular);
/*!
   angular-block-ui v0.2.1
   (c) 2015 (null) McNull https://github.com/McNull/angular-block-ui
   License: MIT
*/
!function(n){function r(t){try{n.module(t)}catch(i){return!1}return!0}function u(n,t,i){function u(){n.$on("$locationChangeStart",function(n){t.$_blockLocationChange&&t.state().blockCount>0&&n.preventDefault()});n.$on("$locationChangeSuccess",function(){t.$_blockLocationChange=i.blockBrowserNavigation})}if(i.blockBrowserNavigation)if(r("ngRoute"))var f=n.$on("$viewContentLoaded",function(){f();u()});else u()}var t=n.module("blockUI",[]),i;t.config(["$provide","$httpProvider",function(n,t){n.decorator("$exceptionHandler",["$delegate","$injector",function(n,t){var i,r;return function(u,f){if(r=r||t.get("blockUIConfig"),r.resetOnException)try{i=i||t.get("blockUI");i.instances.reset()}catch(e){console.log("$exceptionHandler",u)}n(u,f)}}]);t.interceptors.push("blockUIHttpInterceptor")}]);t.run(["$document","blockUIConfig","$templateCache",function(n,t,i){t.autoInjectBodyBlock&&n.find("body").attr("block-ui","main");t.template&&(t.templateUrl="$$block-ui-template$$",i.put(t.templateUrl,t.template))}]);t.config(["$provide",function(n){n.decorator("$location",i)}]);i=["$delegate","blockUI","blockUIConfig",function(t,i,r){function u(n){var r=t[n];t[n]=function(){var n=r.apply(t,arguments);return n===t&&(i.$_blockLocationChange=!1),n}}if(r.blockBrowserNavigation){i.$_blockLocationChange=!0;n.forEach(["url","path","search","hash","state"],u)}return t}];t.directive("blockUiContainer",["blockUIConfig","blockUiContainerLinkFn",function(n,t){return{scope:!0,restrict:"A",templateUrl:n.templateUrl,compile:function(){return t}}}]).factory("blockUiContainerLinkFn",["blockUI","blockUIUtils",function(){return function(n,t){var i=t.inheritedData("block-ui");if(!i)throw new Error("No parent block-ui service instance located.");n.state=i.state()}}]);t.directive("blockUi",["blockUiCompileFn",function(n){return{scope:!0,restrict:"A",compile:n}}]).factory("blockUiCompileFn",["blockUiPreLinkFn",function(n){return function(t){return t.append('<div block-ui-container class="block-ui-container"><\/div>'),{pre:n}}}]).factory("blockUiPreLinkFn",["blockUI","blockUIUtils","blockUIConfig",function(n,t,i){return function(r,f,e){var s,o,h,c,l;f.hasClass("block-ui")||f.addClass(i.cssClass);e.$observe("blockUiMessageClass",function(n){r.$_blockUiMessageClass=n});s=e.blockUi||"_"+r.$id;o=n.instances.get(s);"main"===s?u(r,o,i):(h=f.inheritedData("block-ui"),h&&(o._parent=h));r.$on("$destroy",function(){o.release()});o.addRef();r.$_blockUiState=o.state();r.$watch("$_blockUiState.blocking",function(n){f.attr("aria-busy",!!n);f.toggleClass("block-ui-visible",!!n)});r.$watch("$_blockUiState.blockCount > 0",function(n){f.toggleClass("block-ui-active",!!n)});c=e.blockUiPattern;c&&(l=t.buildRegExp(c),o.pattern(l));f.data("block-ui",o)}}]);t.constant("blockUIConfig",{templateUrl:"angular-block-ui/angular-block-ui.ng.html",delay:250,message:"Loading ...",autoBlock:!0,resetOnException:!0,requestFilter:n.noop,autoInjectBodyBlock:!0,cssClass:"block-ui block-ui-anim-fade",blockBrowserNavigation:!1});t.factory("blockUIHttpInterceptor",["$q","$injector","blockUIConfig","$templateCache",function(n,t,i,r){function f(){u=u||t.get("blockUI")}function e(n){i.autoBlock&&n&&!n.$_noBlock&&n.$_blocks&&(f(),n.$_blocks.stop())}function o(t){try{e(t.config)}catch(i){console.log("httpRequestError",i)}return n.reject(t)}var u;return{request:function(n){if(i.autoBlock&&("GET"!=n.method||!r.get(n.url))){var t=i.requestFilter(n);t===!1?n.$_noBlock=!0:(f(),n.$_blocks=u.instances.locate(n),n.$_blocks.start(t))}return n},requestError:o,response:function(n){return n&&e(n.config),n},responseError:o}}]);t.factory("blockUI",["blockUIConfig","$timeout","blockUIUtils","$document",function(t,i,r,u){function s(f){var l,s=this,c={id:f,blockCount:0,message:t.message,blocking:!1},a=[];this._id=f;this._refs=0;this.start=function(f){function a(){l=null;c.blocking=!0}f=f||{};n.isString(f)?f={message:f}:n.forEach(h,function(n){if(f[n])throw new Error("The property "+n+" is reserved for the block state.");});n.extend(c,f);c.message=c.blockCount>0?f.message||c.message||t.message:f.message||t.message;c.blockCount++;var e=n.element(u[0].activeElement);e.length&&r.isElementInBlockScope(e,s)&&(s._restoreFocus=e[0],i(function(){s._restoreFocus&&s._restoreFocus!==o[0]&&s._restoreFocus.blur()}));l||0===t.delay?0===t.delay&&a():l=i(a,t.delay)};this._cancelStartTimeout=function(){l&&(i.cancel(l),l=null)};this.stop=function(){c.blockCount=Math.max(0,--c.blockCount);0===c.blockCount&&s.reset(!0)};this.isBlocking=function(){return c.blocking};this.message=function(n){c.message=n};this.pattern=function(n){return void 0!==n&&(s._pattern=n),s._pattern};this.reset=function(t){if(s._cancelStartTimeout(),c.blockCount=0,c.blocking=!1,s._restoreFocus&&(!u[0].activeElement||u[0].activeElement===o[0])){try{s._restoreFocus.focus()}catch(r){!function(){var n=s._restoreFocus;i(function(){if(n)try{n.focus()}catch(t){}},100)}()}s._restoreFocus=null}try{t&&n.forEach(a,function(n){n()})}finally{a.length=0}};this.done=function(n){a.push(n)};this.state=function(){return c};this.addRef=function(){s._refs+=1};this.release=function(){--s._refs<=0&&e.instances._destroy(s)}}var o=u.find("body"),h=["id","blockCount","blocking"],f=[],e;return f.get=function(n){if(!isNaN(n))throw new Error("BlockUI id cannot be a number");var t=f[n];return t||(t=f[n]=new s(n),f.push(t)),t},f._destroy=function(t){if(n.isString(t)&&(t=f[t]),t){t.reset();var i=r.indexOf(f,t);f.splice(i,1);delete f[t.state().id]}},f.locate=function(n){var t=[],i,u,o;for(r.forEachFnHook(t,"start"),r.forEachFnHook(t,"stop"),i=f.length;i--;)u=f[i],o=u._pattern,o&&o.test(n.url)&&t.push(u);return 0===t.length&&t.push(e),t},r.forEachFnHook(f,"reset"),e=f.get("main"),e.addRef(),e.instances=f,e}]);t.factory("blockUIUtils",function(){var i=n.element,t={buildRegExp:function(n){var t=n.match(/^\/(.*)\/([gim]*)$/);if(!t)throw Error("Incorrect regular expression format: "+n);return new RegExp(t[1],t[2])},forEachFn:function(n,t,i){for(var u,r=n.length;r--;)u=n[r],u[t].apply(u,i)},forEachFnHook:function(n,i){n[i]=function(){t.forEachFn(this,i,arguments)}},isElementInBlockScope:function(n,t){for(var i=n.inheritedData("block-ui");i;){if(i===t)return!0;i=i._parent}return!1},findElement:function(n,r,u){var f=null,e,o;if(r(n))f=n;else for(e=u?n.parent():n.children(),o=e.length;!f&&o--;)f=t.findElement(i(e[o]),r,u);return f},indexOf:function(n,t,i){for(var r=i||0,u=n.length;u>r;r++)if(n[r]===t)return r;return-1}};return t});n.module("blockUI").run(["$templateCache",function(n){n.put("angular-block-ui/angular-block-ui.ng.html",'<div class="block-ui-overlay"><\/div><div class="block-ui-message-container" aria-live="assertive" aria-atomic="true"><div class="block-ui-message" ng-class="$_blockUiMessageClass">{{ state.message }}<\/div><\/div>')}])}(angular);
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.19.3 - 2016-08-17T06:16:41.345Z
 * License: MIT
 */
(function(){"use strict";var n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var i=t.which;switch(i){case n.COMMAND:case n.SHIFT:case n.CTRL:case n.ALT:return!0}return t.metaKey||t.ctrlKey||t.altKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&n<=123},isVerticalMovement:function(t){return~[n.UP,n.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[n.LEFT,n.RIGHT,n.BACKSPACE,n.DELETE].indexOf(t)},toSeparator:function(t){var i={ENTER:"\n",TAB:"\t",SPACE:" "}[t];return i?i:n[t]?undefined:t}},i,t;angular.element.prototype.querySelectorAll===undefined&&(angular.element.prototype.querySelectorAll=function(n){return angular.element(this[0].querySelectorAll(n))});angular.element.prototype.closest===undefined&&(angular.element.prototype.closest=function(n){for(var t=this[0],i=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(i.bind(t)(n))return t;t=t.parentElement}return!1});i=0;t=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",selectAllEnabled:!0,searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return i++},appendToBody:!1}).service("uiSelectMinErr",function(){var n=angular.$$minErr("ui.select");return function(){var t=n.apply(this,arguments),i=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(i)}}).directive("uisTranscludeAppend",function(){return{link:function(n,t,i,r,u){u(n,function(n){t.append(n)})}}}).filter("highlight",function(){function n(n){return(""+n).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,i){return i&&t?(""+t).replace(new RegExp(n(i),"gi"),'<span class="ui-select-highlight">$&<\/span>'):t}}).factory("uisOffset",["$document","$window",function(n,t){return function(i,r){var u=i[0].getBoundingClientRect(),f;return r?(f=$(i).position(),{width:u.width||i.prop("offsetWidth"),height:u.height||i.prop("offsetHeight"),top:f.top,left:f.left}):{width:u.width||i.prop("offsetWidth"),height:u.height||i.prop("offsetHeight"),top:u.top+(t.pageYOffset||n[0].documentElement.scrollTop),left:u.left+(t.pageXOffset||n[0].documentElement.scrollLeft)}}}]);t.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(n,t,i,r,u){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var i=t.parent().attr("theme")||n.theme;return i+"/choices.tpl.html"},compile:function(r,f){var s,l,h,c,e,o,a;if(!f.repeat)throw i("repeat","Expected 'repeat' expression.");if(s=f.groupBy,l=f.groupFilter,s){if(h=r.querySelectorAll(".ui-select-choices-group"),h.length!==1)throw i("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",t.getGroupNgRepeatExpression())}if(c=t.parse(f.repeat),e=r.querySelectorAll(".ui-select-choices-row"),e.length!==1)throw i("rows","Expected 1 .ui-select-choices-row but got '{0}'.",e.length);if(e.attr("ng-repeat",c.repeatExpression(s)).attr("ng-if","$select.open"),o=r.querySelectorAll(".ui-select-choices-row-inner"),o.length!==1)throw i("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",o.length);return o.attr("uis-transclude-append",""),a=u.document.addEventListener?e:o,a.attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,i,r,u){u.parseRepeatAttr(r.repeat,s,l);u.disableChoiceExpression=r.uiDisableChoice;u.onHighlightCallback=r.onHighlight;u.dropdownPosition=r.position?r.position.toLowerCase():n.dropdownPosition;t.$on("$destroy",function(){e.remove()});t.$watch("$select.search",function(n){n&&!u.open&&u.multiple&&u.items&&u.items.length!=0&&u.activate(!1,!0);u.activeIndex=u.tagging.isActivated?-1:0;!r.minimumInputLength||u.search.length>=r.minimumInputLength?u.refresh(r.refresh):u.items=[]});r.$observe("refreshDelay",function(){var i=t.$eval(r.refreshDelay);u.refreshDelay=i!==undefined?i:n.refreshDelay})}}}}]);t.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(t,i,r,u,f,e,o,s,h,c,l){function it(n,t,i){var u,f,e,r;if(n.findIndex)return n.findIndex(t,i);for(u=Object(n),f=u.length>>>0,r=0;r<f;r++)if(e=u[r],t.call(i,e,r,u))return r;return-1}function w(){a.resetSearchInput&&(a.search=p,a.selected&&a.items.length&&!a.multiple&&(a.activeIndex=it(a.items,function(n){return angular.equals(this,n)},a.selected)))}function rt(n,t){for(var i,u=[],r=0;r<t.length;r++)for(i=0;i<n.length;i++)n[i].name==[t[r]]&&u.push(n[i]);return u}function ut(n,t){var i=v.indexOf(n);t&&i===-1&&v.push(n);!t&&i>-1&&v.splice(i,1)}function nt(n){return v.indexOf(n)>-1}function ft(n){function i(n,i){var r=t.indexOf(n);i&&r===-1&&t.push(n);!i&&r>-1&&t.splice(r,0)}function r(n){return t.indexOf(n)>-1}if(n){var t=[];a.isLocked=function(n,t){var u=!1,f=a.selected[t];return f&&(n?(u=!!n.$eval(a.lockChoiceExpression),i(f,u)):u=r(f)),u}}}function et(t){var i=!0;switch(t){case n.DOWN:!a.open&&a.multiple?a.activate(!1,!0):a.activeIndex<a.items.length-1&&a.activeIndex++;break;case n.UP:!a.open&&a.multiple?a.activate(!1,!0):(a.activeIndex>0||a.search.length===0&&a.tagging.isActivated&&a.activeIndex>-1||a.selectAllEnabled&&a.activeIndex>-1)&&a.activeIndex--;break;case n.TAB:a.open&&a.activeIndex==-1?(a.toggleSelectAll(0),a.close()):(!a.multiple||a.open)&&a.select(a.items[a.activeIndex],!0);break;case n.ENTER:a.open&&a.activeIndex==-1?(a.toggleSelectAll(0),a.close()):a.open&&(a.tagging.isActivated||a.activeIndex>=0)?a.select(a.items[a.activeIndex],a.skipFocusser):a.activate(!1,!0);break;case n.ESC:a.close();break;default:i=!1}return i}function tt(){var n=i.querySelectorAll(".ui-select-choices-content"),u=n.querySelectorAll(".ui-select-choices-row");if(u.length<1)throw o("choices","Expected multiple .ui-select-choices-row but got '{0}'.",u.length);if(!(a.activeIndex<0)){var t=u[a.activeIndex],r=t.offsetTop+t.clientHeight-n[0].scrollTop,f=n[0].offsetHeight;r>f?n[0].scrollTop+=r-f:r<t.clientHeight&&(a.isGrouped&&a.activeIndex===0?n[0].scrollTop=0:n[0].scrollTop-=t.clientHeight-r)}}var a=this,p="",k,d,v,y,b,g;if(a.placeholder=s.placeholder,a.searchEnabled=s.searchEnabled,a.sortable=s.sortable,a.refreshDelay=s.refreshDelay,a.paste=s.paste,a.resetSearchInput=s.resetSearchInput,a.removeSelected=s.removeSelected,a.closeOnSelect=!0,a.skipFocusser=!1,a.search=p,a.activeIndex=0,a.items=[],a.open=!1,a.focus=!1,a.disabled=!1,a.selected=undefined,a.dropdownPosition="auto",a.focusser=undefined,a.multiple=undefined,a.disableChoiceExpression=undefined,a.tagging={isActivated:!1,fct:undefined},a.taggingTokens={isActivated:!1,tokens:undefined},a.lockChoiceExpression=undefined,a.clickTriggeredSelect=!1,a.$filter=u,a.$element=i,a.$animate=function(){try{return c.get("$animate")}catch(n){return null}}(),a.searchInput=i.querySelectorAll("input.ui-select-search"),a.searchInput.length!==1)throw o("searchInput","Expected 1 input.ui-select-search but got '{0}'.",a.searchInput.length);a.isEmpty=function(){return angular.isUndefined(a.selected)||a.selected===null||a.selected===""||a.multiple&&a.selected.length===0};a.activate=function(n,u){var e,o,f;if(a.disabled||a.open)a.open&&!a.searchEnabled&&a.close();else if(u||w(),t.$broadcast("uis:activate"),a.open=!0,a.selectAllEnabled?a.activeIndex=-1:(a.activeIndex=a.activeIndex>=a.items.length?0:a.activeIndex,a.activeIndex===-1&&a.taggingLabel!==!1&&(a.activeIndex=0)),e=i.querySelectorAll(".ui-select-choices-content"),o=i.querySelectorAll(".ui-select-search"),a.$animate&&a.$animate.on&&a.$animate.enabled(e[0]))if(f=function(t,i){i==="start"&&a.items.length===0?(a.$animate.off("removeClass",o[0],f),r(function(){a.focusSearchInput(n)})):i==="close"&&(a.$animate.off("enter",e[0],f),r(function(){a.focusSearchInput(n)}))},a.items.length>0)a.$animate.on("enter",e[0],f);else a.$animate.on("removeClass",o[0],f);else r(function(){a.focusSearchInput(n);!a.tagging.isActivated&&a.items.length>1&&tt()})};a.focusSearchInput=function(n){a.search=n||a.search;a.searchInput[0].focus()};a.findGroupByName=function(n){return a.groups&&a.groups.filter(function(t){return t.name===n})[0]};a.parseRepeatAttr=function(n,i,r){function s(n){var f=t.$eval(i),u;a.groups=[];angular.forEach(n,function(n){var t=angular.isFunction(f)?f(n):n[f],i=a.findGroupByName(t);i?i.items.push(n):a.groups.push({name:t,items:[n]})});r&&(u=t.$eval(r),angular.isFunction(u)?a.groups=u(a.groups):angular.isArray(u)&&(a.groups=rt(a.groups,u)));a.items=[];a.groups.forEach(function(n){a.items=a.items.concat(n.items)})}function c(n){a.items=n}a.setItemsFn=i?s:c;a.parserResult=e.parse(n);a.isGrouped=!!i;a.itemProperty=a.parserResult.itemName;var u=a.parserResult.source,f=function(){var n=u(t);t.$uisSource=Object.keys(n).map(function(t){var i={};return i[a.parserResult.keyName]=t,i.value=n[t],i})};a.parserResult.keyName&&(f(),a.parserResult.source=h("$uisSource"+a.parserResult.filters),t.$watch(u,function(n,t){n!==t&&f()},!0));a.refreshItems=function(n){var i,r;n=n||a.parserResult.source(t);i=a.selected;!a.isEmpty()&&(!angular.isArray(i)||i.length)&&a.multiple&&a.removeSelected?n!==undefined&&n!==null&&(r=n.filter(function(n){return angular.isArray(i)?i.every(function(t){return!angular.equals(n,t)}):!angular.equals(n,i)}),a.setItemsFn(r)):a.setItemsFn(n);(a.dropdownPosition==="auto"||a.dropdownPosition==="up")&&t.calculateDropdownPos();t.$broadcast("uis:refresh")};t.$watchCollection(a.parserResult.source,function(n){if(n===undefined||n===null)a.items=[];else if(angular.isArray(n))a.refreshItems(n),angular.isDefined(a.ngModel.$modelValue)&&(a.ngModel.$modelValue=null);else throw o("items","Expected an array but got '{0}'.",n);})};a.refresh=function(n){n!==undefined&&(k&&r.cancel(k),k=r(function(){t.$eval(n)},a.refreshDelay))};a.isActive=function(n){if(!a.open)return!1;var i=a.items.indexOf(n[a.itemProperty]),t=i==a.activeIndex;return!t||i<0?!1:(t&&!angular.isUndefined(a.onHighlightCallback)&&n.$eval(a.onHighlightCallback),t)};d=function(n){return a.selected&&angular.isArray(a.selected)&&a.selected.filter(function(t){return angular.equals(t,n)}).length>0};v=[];a.isDisabled=function(n){if(a.open){var i=n[a.itemProperty],r=a.items.indexOf(i),t=!1;if(r>=0&&(angular.isDefined(a.disableChoiceExpression)||a.multiple)){if(i.isTag)return!1;a.multiple&&(t=d(i));!t&&angular.isDefined(a.disableChoiceExpression)&&(t=!!n.$eval(a.disableChoiceExpression));ut(i,t)}return t}};a.toggleSelectAll=function(n){if(n==2)t.$broadcast("uis:unselectall");else{var i=a.items;angular.forEach(a.selected,function(n){i.push(n)});t.$broadcast("uis:selectall",i)}};a.select=function(n,i,u){if(n===undefined||!nt(n)){if(!a.items&&!a.search&&!a.tagging.isActivated)return;if(!n||!nt(n)){if(a.clickTriggeredSelect=!1,u&&u.type==="click"&&n&&(a.clickTriggeredSelect=!0),a.tagging.isActivated&&a.clickTriggeredSelect===!1){if(a.taggingLabel===!1)if(a.activeIndex<0){if(n===undefined&&(n=a.tagging.fct!==undefined?a.tagging.fct(a.search):a.search),!n||angular.equals(a.items[0],n))return}else n=a.items[a.activeIndex];else if(a.activeIndex===0){if(n===undefined)return;if(a.tagging.fct!==undefined&&typeof n=="string"){if(n=a.tagging.fct(n),!n)return}else typeof n=="string"&&(n=n.replace(a.taggingLabel,"").trim())}if(d(n)){a.close(i);return}}w();t.$broadcast("uis:select",n);var f={};f[a.parserResult.itemName]=n;r(function(){a.onSelectCallback(t,{$item:n,$model:a.parserResult.modelMapper(t,f)})});a.closeOnSelect&&a.close(i)}}};a.close=function(n){a.open&&(a.ngModel&&a.ngModel.$setTouched&&a.ngModel.$setTouched(),a.open=!1,w(),t.$broadcast("uis:close",n))};a.setFocus=function(){a.focus||a.focusInput[0].focus()};a.clear=function(n){a.select(undefined);n.stopPropagation();r(function(){a.focusser[0].focus()},0,!1)};a.toggle=function(n){a.open?(a.close(),n.preventDefault(),n.stopPropagation()):a.activate()};a.isLocked=function(){return!1};t.$watch(function(){return angular.isDefined(a.lockChoiceExpression)&&a.lockChoiceExpression!==""},ft);y=null;b=!1;a.sizeSearchInput=function(){var n=a.searchInput[0],f=a.searchInput.parent().parent()[0],i=function(){return f.clientWidth*!!n.offsetParent},u=function(t){if(t===0)return!1;var i=t-n.offsetLeft-10;return i<50&&(i=t),a.searchInput.css("width",i+"px"),!0};a.searchInput.css("width","10px");r(function(){y!==null||u(i())||(y=t.$watch(function(){b||(b=!0,t.$$postDigest(function(){b=!1;u(i())&&(y(),y=null)}))},angular.noop))})};a.searchInput.on("keydown",function(i){var u=i.which;~[n.ENTER,n.ESC].indexOf(u)&&(i.preventDefault(),i.stopPropagation());t.$apply(function(){var f=!1,t;if((a.items.length>0||a.tagging.isActivated)&&(et(u)||a.searchEnabled||(i.preventDefault(),i.stopPropagation()),a.taggingTokens.isActivated)){for(t=0;t<a.taggingTokens.tokens.length;t++)a.taggingTokens.tokens[t]===n.MAP[i.keyCode]&&a.search.length>0&&(f=!0);f&&r(function(){a.searchInput.triggerHandler("tagged");var t=a.search.replace(n.MAP[i.keyCode],"").trim();a.tagging.fct&&(t=a.tagging.fct(t));t&&a.select(t,!0)})}});n.isVerticalMovement(u)&&a.items.length>0&&tt();(u===n.ENTER||u===n.ESC)&&(i.preventDefault(),i.stopPropagation())});a.searchInput.on("paste",function(t){var i,r,u,f,e;if(i=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),i=a.search+i,i&&i.length>0)if(a.taggingTokens.isActivated){for(r=[],u=0;u<a.taggingTokens.tokens.length;u++)if(f=n.toSeparator(a.taggingTokens.tokens[u])||a.taggingTokens.tokens[u],i.indexOf(f)>-1){r=i.split(f);break}r.length===0&&(r=[i]);e=a.search;angular.forEach(r,function(n){var t=a.tagging.fct?a.tagging.fct(n):n;t&&a.select(t,!0)});a.search=e||p;t.preventDefault();t.stopPropagation()}else a.paste&&(a.paste(i),a.search=p,t.preventDefault(),t.stopPropagation())});a.searchInput.on("tagged",function(){r(function(){w()})});g=f(function(){a.sizeSearchInput()},50);angular.element(l).bind("resize",g);t.$on("$destroy",function(){a.searchInput.off("keyup keydown tagged blur paste");angular.element(l).off("resize",g)})}]);t.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(n,t,i,r,u,f,e){return{restrict:"EA",templateUrl:function(n,i){var r=i.theme||t.theme;return r+(angular.isDefined(i.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(u,o){var s=/{(.*)}\s*{(.*)}/.exec(o.ngClass),h;return s&&(h="{"+s[1]+", "+s[2]+"}",o.ngClass=h,u.attr("ng-class",h)),angular.isDefined(o.multiple)?u.append("<ui-select-multiple/>").removeAttr("multiple"):u.append("<ui-select-single/>"),o.inputId&&(u.querySelectorAll("input.ui-select-search")[0].id=o.inputId),function(u,o,s,h,c){function b(n){var i,t,f,r;l.open&&(i=!1,i=window.jQuery?window.jQuery.contains(o[0],n.target):o[0].contains(n.target),i||l.clickTriggeredSelect||(l.skipFocusser?t=!0:(f=["input","button","textarea","select"],r=angular.element(n.target).controller("uiSelect"),t=r&&r!==l,t||(t=~f.indexOf(n.target.tagName.toLowerCase()))),l.close(t),u.$digest()),l.clickTriggeredSelect=!1)}function it(){var t=r(o,s.appendParent),i;v=angular.element('<div class="ui-select-placeholder"><\/div>');v[0].style.width=t.width+"px";v[0].style.height=t.height+"px";o.after(v);w=o[0].style.width;i=n.find(s.appendParent||"body");i.append(o);o[0].style.position="absolute";o[0].style.left=t.left+"px";o[0].style.top=t.top+"px";o[0].style.width=t.width+"px"}function k(){v!==null&&(v.replaceWith(o),v=null,o[0].style.position="",o[0].style.left="",o[0].style.top="",o[0].style.width=w,l.setFocus())}var l=h[0],tt=h[1],p,v,w,a,y;l.generatedId=t.generateId();l.baseTitle=s.title||"Select box";l.focusserTitle=l.baseTitle+" focus";l.focusserId="focusser-"+l.generatedId;l.selectAllEnabledAttr=(s.uiSelectAllEnabled||"true")=="true";l.closeOnSelect=function(){return angular.isDefined(s.closeOnSelect)?f(s.closeOnSelect)():t.closeOnSelect}();u.$watch("skipFocusser",function(){var n=u.$eval(s.skipFocusser);l.skipFocusser=n!==undefined?n:t.skipFocusser});l.onSelectCallback=f(s.onSelect);l.onRemoveCallback=f(s.onRemove);l.ngModel=tt;l.selectAllEnabled=t.selectAllEnabled&&l.selectAllEnabledAttr&&l.multiple;l.selectedType=0;l.choiceGrouped=function(n){return l.isGrouped&&n&&n.name};s.tabindex&&s.$observe("tabindex",function(n){l.focusInput.attr("tabindex",n);o.removeAttr("tabindex")});u.$watch(function(){return u.$eval(s.searchEnabled)},function(n){l.searchEnabled=n!==undefined?n:t.searchEnabled});u.$watch("sortable",function(){var n=u.$eval(s.sortable);l.sortable=n!==undefined?n:t.sortable});s.$observe("limit",function(){l.limit=angular.isDefined(s.limit)?parseInt(s.limit,10):undefined});u.$watch("removeSelected",function(){var n=u.$eval(s.removeSelected);l.removeSelected=n!==undefined?n:t.removeSelected});s.$observe("disabled",function(){l.disabled=s.disabled!==undefined?s.disabled:!1;l.disabled&&(l.selectAllEnabled=!1)});s.$observe("resetSearchInput",function(){var n=u.$eval(s.resetSearchInput);l.resetSearchInput=n!==undefined?n:!0});s.$observe("paste",function(){l.paste=u.$eval(s.paste)});s.$observe("tagging",function(){if(s.tagging!==undefined){var n=u.$eval(s.tagging);l.tagging={isActivated:!0,fct:n!==!0?n:undefined}}else l.tagging={isActivated:!1,fct:undefined}});s.$observe("taggingLabel",function(){s.tagging!==undefined&&(l.taggingLabel=s.taggingLabel==="false"?!1:s.taggingLabel!==undefined?s.taggingLabel:"(new)")});s.$observe("taggingTokens",function(){if(s.tagging!==undefined){var n=s.taggingTokens!==undefined?s.taggingTokens.split("|"):[",","ENTER"];l.taggingTokens={isActivated:!0,tokens:n}}});angular.isDefined(s.autofocus)&&e(function(){l.setFocus()});angular.isDefined(s.focusOn)&&u.$on(s.focusOn,function(){e(function(){l.setFocus()})});n.on("click",b);u.$on("$destroy",function(){n.off("click",b)});c(u,function(n){var f=angular.element("<div>").append(n),r=f.querySelectorAll(".ui-select-match"),t,u;if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),r.length!==1)throw i("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);if(o.querySelectorAll(".ui-select-match").replaceWith(r),t=f.querySelectorAll(".ui-select-choices"),t.removeAttr("ui-select-choices"),t.removeAttr("data-ui-select-choices"),t.length!==1)throw i("transcluded","Expected 1 .ui-select-choices but got '{0}'.",t.length);o.querySelectorAll(".ui-select-choices").replaceWith(t);u=f.querySelectorAll(".ui-select-no-choice");u.removeAttr("ui-select-no-choice");u.removeAttr("data-ui-select-no-choice");u.length==1&&o.querySelectorAll(".ui-select-no-choice").replaceWith(u)});p=u.$eval(s.appendToBody);(p!==undefined?p:t.appendToBody)&&(u.$watch("$select.open",function(n){n?it():k()}),u.$on("$destroy",function(){k()}));v=null;w="";a=null;y="direction-up";u.$watch("$select.open",function(){(l.dropdownPosition==="auto"||l.dropdownPosition==="up")&&u.calculateDropdownPos()});var d=function(n,t){n=n||r(o);t=t||r(a);a[0].style.position="absolute";a[0].style.top=t.height*-1+"px";o.addClass(y)},rt=function(n,t){o.removeClass(y);n=n||r(o);t=t||r(a);a[0].style.position="";a[0].style.top=""},g=function(){e(function(){if(l.dropdownPosition==="up")d();else{o.removeClass(y);var t=r(o),i=r(a),u=n[0].documentElement.scrollTop||n[0].body.scrollTop;t.top+t.height+i.height>u+n[0].documentElement.clientHeight?d(t,i):rt(t,i)}a[0].style.opacity=1})},nt=!1;u.calculateDropdownPos=function(){if(l.open){if(a=angular.element(o).querySelectorAll(".ui-select-dropdown"),a.length===0)return;if(l.search!==""||nt||(a[0].style.opacity=0,nt=!0),!r(a).height&&l.$animate&&l.$animate.on&&l.$animate.enabled(a)){var n=!0;l.$animate.on("enter",a,function(t,i){i==="close"&&n&&(g(),n=!1)})}else g()}else{if(a===null||a.length===0)return;a[0].style.opacity=0;a[0].style.position="";a[0].style.top="";o.removeClass(y)}}}}}}]);t.directive("uiSelectMatch",["uiSelectConfig",function(n){function t(n,t){return n[0].hasAttribute(t)?n.attr(t):n[0].hasAttribute("data-"+t)?n.attr("data-"+t):n[0].hasAttribute("x-"+t)?n.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(i){i.addClass("ui-select-match");var r=i.parent(),u=t(r,"theme")||n.theme,f=angular.isDefined(t(r,"multiple"));return u+(f?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,i,r,u){function f(n){u.allowClear=angular.isDefined(n)?n===""?!0:n.toLowerCase()==="true":!1}u.lockChoiceExpression=r.uiLockChoice;r.$observe("placeholder",function(t){u.placeholder=t!==undefined?t:n.placeholder});r.$observe("allowClear",f);f(r.allowClear);u.multiple&&u.sizeSearchInput()}}}]);t.directive("uiSelectMultiple",["uiSelectMinErr","$timeout","uiSelectConfig",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(n,t){var r=this,i=n.$select,u;angular.isUndefined(i.selected)&&(i.selected=[]);n.$evalAsync(function(){u=n.ngModel});r.activeMatchIndex=-1;r.updateModel=function(){u.$setViewValue(Date.now());r.refreshComponent();r.setFormDirty()};r.refreshComponent=function(){i.refreshItems&&i.refreshItems();i.sizeSearchInput&&i.sizeSearchInput()};r.setFormDirty=function(){t(function(){var f=i.searchInput,u=f.parents("form"),t=n.$parent,r=u&&u.attr("name");t&&r&&t[r]&&(t[r].$dirty=!0)})};r.removeChoice=function(u){if(i.isLocked(null,u))return!1;var f=i.selected[u],e={};return e[i.parserResult.itemName]=f,i.selected.splice(u,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(n,{$item:f,$model:i.parserResult.modelMapper(n,e)})}),r.updateModel(),i.selected.length>0&&i.items.length>0&&(i.selectedType=1),!0};r.getPlaceholder=function(){if(!i.selected||!i.selected.length)return i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,u,f,e){function a(n){return angular.isNumber(n.selectionStart)?n.selectionStart:n.value.length}function v(t){function l(){switch(t){case n.LEFT:return~s.activeMatchIndex?f:r;case n.RIGHT:return~s.activeMatchIndex&&i!==r?c:(o.activate(),!1);case n.BACKSPACE:return~s.activeMatchIndex?s.removeChoice(i)?f:i:r;case n.DELETE:return~s.activeMatchIndex?(s.removeChoice(s.activeMatchIndex),i):!1}}var e=a(o.searchInput[0]),h=o.selected.length,r=h-1,i=s.activeMatchIndex,c=s.activeMatchIndex+1,f=s.activeMatchIndex-1,u=i;return e>0||o.search.length&&t==n.RIGHT?!1:(o.close(),u=l(),s.activeMatchIndex=o.selected.length&&u!==!1?Math.min(r,Math.max(0,u)):-1,!0)}function c(n){if(n===undefined||o.search===undefined)return!1;return n.filter(function(n){return o.search.toUpperCase()===undefined||n===undefined?!1:n.toUpperCase()===o.search.toUpperCase()}).length>0}function l(n,t){var f=-1,r,i,u;if(angular.isArray(n))for(r=angular.copy(n),i=0;i<r.length;i++)o.tagging.fct===undefined?r[i]+" "+o.taggingLabel===t&&(f=i):(u=r[i],angular.isObject(u)&&(u.isTag=!0),angular.equals(u,t)&&(f=i));return f}var o=e[0],h=r.ngModel=e[1],s=r.$selectMultiple;o.multiple=!0;o.focusInput=o.searchInput;h.$isEmpty=function(n){return!n||n.length===0};h.$parsers.unshift(function(){for(var n={},i,u=[],t=o.selected.length-1;t>=0;t--)n={},n[o.parserResult.itemName]=o.selected[t],i=o.parserResult.modelMapper(r,n),u.unshift(i);return u});h.$formatters.unshift(function(n){var e=o.parserResult&&o.parserResult.source(r,{$select:{search:""}}),s={},u,t,f,i;if(!e)return n;if(t=[],f=function(n,i){var f,h,e;if(n&&n.length){for(f=n.length-1;f>=0;f--)if((s[o.parserResult.itemName]=n[f],u=o.parserResult.modelMapper(r,s),o.parserResult.trackByExp&&(h=/(\w*)\./.exec(o.parserResult.trackByExp),e=/\.([^\s]+)/.exec(o.parserResult.trackByExp),h&&h.length>0&&h[1]==o.parserResult.itemName&&e&&e.length>0&&u[e[1]]==i[e[1]]))||angular.equals(u,i))return t.unshift(n[f]),!0;return!1}},!n)return t;for(i=n.length-1;i>=0;i--)f(o.selected,n[i])||f(e,n[i])||t.unshift(n[i]);return t});r.$watchCollection(function(){return h.$modelValue},function(n,t){t!=n&&(angular.isDefined(h.$modelValue)&&(h.$modelValue=null),s.refreshComponent())});h.$render=function(){if(!angular.isArray(h.$viewValue))if(angular.isUndefined(h.$viewValue)||h.$viewValue===null)h.$viewValue=[];else throw t("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);o.selected=h.$viewValue;s.refreshComponent();r.$evalAsync();o.selectedType=0};r.$on("uis:select",function(n,t){o.selected.length>=o.limit||(o.selected.push(t),o.selected.length>0&&o.items.length>0&&(o.selectedType=1),s.updateModel())});r.$on("uis:selectall",function(n,t){o.selected=[];angular.forEach(t,function(n){o.selected.push(n)});s.updateModel();o.selectedType=2});r.$on("uis:unselectall",function(){o.selected=[];s.updateModel();o.selectedType=0});r.$on("uis:activate",function(){s.activeMatchIndex=-1});r.$watch("$select.disabled",function(n,t){t&&!n&&o.sizeSearchInput()});o.searchInput.on("keydown",function(t){var i=t.which;r.$apply(function(){var r=!1;n.isHorizontalMovement(i)&&(r=v(i));r&&i!=n.TAB&&(t.preventDefault(),t.stopPropagation())})});o.searchInput.on("keyup",function(t){if(n.isVerticalMovement(t.which)||r.$evalAsync(function(){o.activeIndex=o.taggingLabel===!1?-1:0}),o.tagging.isActivated&&o.search.length>0){if(t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||n.isVerticalMovement(t.which))return;if(o.activeIndex=o.taggingLabel===!1?-1:0,o.taggingLabel===!1)return;var i=angular.copy(o.items),u=angular.copy(o.items),f,v,s=!1,a=-1,e,h;if(o.tagging.fct!==undefined){if(e=o.$filter("filter")(i,{isTag:!0}),e.length>0&&(h=e[0]),i.length>0&&h&&(s=!0,i=i.slice(1,i.length),u=u.slice(1,u.length)),f=o.tagging.fct(o.search),u.some(function(n){return angular.equals(n,f)})||o.selected.some(function(n){return angular.equals(n,f)})){r.$evalAsync(function(){o.activeIndex=0;o.items=i});return}f&&(f.isTag=!0)}else{if(e=o.$filter("filter")(i,function(n){return n.match(o.taggingLabel)}),e.length>0&&(h=e[0]),v=i[0],v!==undefined&&i.length>0&&h&&(s=!0,i=i.slice(1,i.length),u=u.slice(1,u.length)),f=o.search+" "+o.taggingLabel,l(o.selected,o.search)>-1)return;if(c(u.concat(o.selected))){s&&(i=u,r.$evalAsync(function(){o.activeIndex=0;o.items=i}));return}if(c(u)){s&&(o.items=u.slice(1,u.length));return}}s&&(a=l(o.selected,f));a>-1?i=i.slice(a+1,i.length-1):(i=[],f&&i.push(f),i=i.concat(u));r.$evalAsync(function(){if(o.activeIndex=0,o.items=i,o.isGrouped){var n=f?i.slice(1):i;o.setItemsFn(n);f&&(o.items.unshift(f),o.groups.unshift({name:"",items:[f],tagging:!0}))}})}});o.searchInput.on("blur",function(){i(function(){s.activeMatchIndex=-1})})}}}]);t.directive("uiSelectNoChoice",["uiSelectConfig",function(n){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");var i=t.parent().attr("theme")||n.theme;return i+"/no-choice.tpl.html"}}}]);t.directive("uiSelectSingle",["$timeout","$compile",function(t,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,u,f,e){var o=e[0],h=e[1],s;h.$parsers.unshift(function(n){var t={};return t[o.parserResult.itemName]=n,o.parserResult.modelMapper(r,t)});h.$formatters.unshift(function(n){var i=o.parserResult&&o.parserResult.source(r,{$select:{search:""}}),f={},e,u,t;if(i){if(u=function(t){return f[o.parserResult.itemName]=t,e=o.parserResult.modelMapper(r,f),e===n},o.selected&&u(o.selected))return o.selected;for(t=i.length-1;t>=0;t--)if(u(i[t]))return i[t]}return n});r.$watch("$select.selected",function(n){h.$viewValue!==n&&h.$setViewValue(n)});h.$render=function(){o.selected=h.$viewValue};r.$on("uis:select",function(n,t){o.selected=t});r.$on("uis:close",function(n,i){t(function(){o.focusser.prop("disabled",!1);i||o.focusser[0].focus()},0,!1)});r.$on("uis:activate",function(){s.prop("disabled",!0)});s=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");i(s)(r);o.focusser=s;o.focusInput=s;u.parent().append(s);s.bind("focus",function(){r.$evalAsync(function(){o.focus=!0})});s.bind("blur",function(){r.$evalAsync(function(){o.focus=!1})});s.bind("keydown",function(t){if(t.which===n.BACKSPACE){t.preventDefault();t.stopPropagation();o.select(undefined);r.$apply();return}t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||((t.which==n.DOWN||t.which==n.UP||t.which==n.ENTER||t.which==n.SPACE)&&(t.preventDefault(),t.stopPropagation(),o.activate()),r.$digest())});s.bind("keyup input",function(t){t.which===n.TAB||n.isControl(t)||n.isFunctionKey(t)||t.which===n.ESC||t.which==n.ENTER||t.which===n.BACKSPACE||(o.activate(s.val()),s.val(""),r.$digest())})}}}]);t.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(n,t,i){return{require:["^^uiSelect","^ngModel"],link:function(t,r,u,f){if(t[u.uiSelectSort]===null)throw i("sort","Expected a list to sort");var a=f[0],w=f[1],b=angular.extend({axis:"horizontal"},t.$eval(u.uiSelectSortOptions)),v=b.axis,h="dragging",c="dropping",o="dropping-before",s="dropping-after";t.$watch(function(){return a.sortable},function(n){n?r.attr("draggable",!0):r.removeAttr("draggable")});r.on("dragstart",function(n){r.addClass(h);(n.dataTransfer||n.originalEvent.dataTransfer).setData("text",t.$index.toString())});r.on("dragend",function(){e(h)});var k=function(n,t){this.splice(t,0,this.splice(n,1)[0])},e=function(n){angular.forEach(a.$element.querySelectorAll("."+n),function(t){angular.element(t).removeClass(n)})},y=function(n){n.preventDefault();var t=v==="vertical"?n.offsetY||n.layerY||(n.originalEvent?n.originalEvent.offsetY:0):n.offsetX||n.layerX||(n.originalEvent?n.originalEvent.offsetX:0);t<this[v==="vertical"?"offsetHeight":"offsetWidth"]/2?(e(s),r.addClass(o)):(e(o),r.addClass(s))},p,l=function(t){t.preventDefault();var i=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);n.cancel(p);p=n(function(){d(i)},20)},d=function(n){var i=t.$eval(u.uiSelectSort),h=i[n],f=null;f=r.hasClass(o)?n<t.$index?t.$index-1:t.$index:n<t.$index?t.$index:t.$index+1;k.apply(i,[n,f]);w.$setViewValue(Date.now());t.$apply(function(){t.$emit("uiSelectSort:change",{array:i,item:h,from:n,to:f})});e(c);e(o);e(s);r.off("drop",l)};r.on("dragenter",function(){if(!r.hasClass(h)){r.addClass(c);r.on("dragover",y);r.on("drop",l)}});r.on("dragleave",function(n){n.target==r&&(e(c),e(o),e(s),r.off("dragover",y),r.off("drop",l))})}}}]);t.factory("$$uisDebounce",["$timeout",function(n){return function(t,i){var r;return function(){var u=this,f=Array.prototype.slice.call(arguments);r&&n.cancel(r);r=n(function(){t.apply(u,f)},i)}}}]);t.directive("uisOpenClose",["$parse","$timeout",function(n,t){return{restrict:"A",require:"uiSelect",link:function(i,r,u,f){f.onOpenCloseCallback=n(u.uisOpenClose);i.$watch("$select.open",function(n,r){n!==r&&t(function(){f.onOpenCloseCallback(i,{isOpen:n})})})}}}]);t.service("uisRepeatParser",["uiSelectMinErr","$parse",function(n,t){var i=this;i.parse=function(i){var r,u,f,e;if(r=i.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw n("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",i);return u=r[5],f="",r[3]&&(u=r[5].replace(/(^\()|(\)$)/g,""),e=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/),e&&e[1].trim()&&(f=e[1],u=u.replace(f,""))),{itemName:r[4]||r[2],keyName:r[3],source:t(u),filters:f,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(n){var t=this.itemName+" in "+(n?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}};i.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])})();angular.module("ui.select").run(["$templateCache",function(n){n.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"><\/div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"><\/div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"><\/span><\/div><\/li><\/ul>');n.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;<\/span> <span uis-transclude-append=""><\/span><\/span><\/span><\/span>');n.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""><\/span> <i class="caret pull-right" ng-click="$select.toggle($event)"><\/i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"><\/i><\/a><\/span><\/div>');n.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""><\/li><\/ul>');n.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"><\/div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"><\/div><div class="ui-select-choices"><\/div><div class="ui-select-no-choice"><\/div><\/div>');n.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"><\/div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"><\/div><div class="ui-select-no-choice"><\/div><\/div>');n.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-select-all" ng-class="{\'select2-highlighted\': $select.activeIndex==-1,\'select2-disabled\': $select.isDisabled(this)}" ng-if="$select.selectAllEnabled"><div class="select2-select-all" ng-if="$select.selectedType != 2" ng-click="$select.toggleSelectAll(0)">Select All<\/div><\/li><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"><\/div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this),\'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"><\/div><\/li><\/ul><\/li><\/ul>');n.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""><\/span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"><\/a><\/li><\/span>');n.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""><\/span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"><\/abbr> <span class="select2-arrow ui-select-toggle"><b><\/b><\/span><\/a>');n.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""><\/div><\/div><\/div>');n.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"><\/span><li class="select2-search-field"><span class="clear-all" ng-if="$select.selectAllEnabled" title="Remove Selected" ng-show="$select.selected.length > 0" ng-click="$select.toggleSelectAll(2)"><\/span><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"><\/li><\/ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"><\/div><\/div><\/div>');n.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"><\/div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"><\/div><div class="ui-select-choices"><\/div><div class="ui-select-no-choice"><\/div><\/div><\/div>');n.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"><\/div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""><\/div><\/div><\/div><\/div><\/div>');n.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}<\/span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""><\/span><\/div>');n.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""><\/div><\/div><\/div>');n.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"><\/div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"><\/div><div class="ui-select-choices"><\/div><div class="ui-select-no-choice"><\/div><\/div>')}]);angular.module("infinite-scroll",[]).value("THROTTLE_MILLISECONDS",null).directive("infiniteScroll",["$rootScope","$window","$interval","THROTTLE_MILLISECONDS",function(n,t,i,r){return{scope:{infiniteScroll:"&",infiniteScrollContainer:"=",infiniteScrollDistance:"=",infiniteScrollDisabled:"=",infiniteScrollUseDocumentBottom:"=",infiniteScrollListenForEvent:"@"},link:function(u,f,e){var y,h,l,o,w,b,k,d,s,c,g,a,nt,tt,p,ut,v,it,rt;return rt=angular.element(t),tt=null,p=null,l=null,o=null,g=!0,it=!1,v=null,h=!1,c=function(n){return n=n[0]||n,isNaN(n.offsetHeight)?n.document.documentElement.clientHeight:n.offsetHeight},a=function(n){if(n[0].getBoundingClientRect&&!n.css("none"))return n[0].getBoundingClientRect().top+nt(n)},nt=function(n){return n=n[0]||n,isNaN(window.pageYOffset)?n.document.documentElement.scrollTop:n.ownerDocument.defaultView.pageYOffset},s=function(){var r,e,t,s,v;return o===rt?(r=c(o)+nt(o[0].document.documentElement),t=a(f)+c(f)):(r=c(o),e=0,void 0!==a(o)&&(e=a(o)),t=a(f)-e+c(f)),it&&(t=c((f[0].ownerDocument||f[0].document).documentElement)),s=t-r,v=s<=c(o)*tt+1,v?(l=!0,p?u.$$phase||n.$$phase?u.infiniteScroll():u.$apply(u.infiniteScroll):void 0):(h&&i.cancel(h),l=!1)},ut=function(n,t){var f,u,r;return r=null,u=0,f=function(){return u=(new Date).getTime(),i.cancel(r),r=null,n.call()},function(){var e,o;return e=(new Date).getTime(),o=t-(e-u),o<=0?(i.cancel(r),r=null,u=e,n.call()):r?void 0:r=i(f,o,1)}},null!=r&&(s=ut(s,r)),u.$on("$destroy",function(){if(o.unbind("scroll",s),null!=v&&(v(),v=null),h)return i.cancel(h)}),k=function(n){return tt=parseFloat(n)||0},u.$watch("infiniteScrollDistance",k),k(u.infiniteScrollDistance),b=function(n){if(p=!n,p&&l)return l=!1,s()},u.$watch("infiniteScrollDisabled",b),b(u.infiniteScrollDisabled),d=function(n){return it=n},u.$watch("infiniteScrollUseDocumentBottom",d),d(u.infiniteScrollUseDocumentBottom),y=function(n){if(null!=o&&o.unbind("scroll",s),o=n,null!=n)return o.bind("scroll",s)},y(rt),u.infiniteScrollListenForEvent&&(v=n.$on(u.infiniteScrollListenForEvent,s)),w=function(n){if(null!=n&&0!==n.length){if(n.nodeType&&1===n.nodeType?n=angular.element(n):"function"==typeof n.append?n=angular.element(n[n.length-1]):"string"==typeof n&&(n=angular.element(document.querySelector(n))),null!=n)return y(n);throw new Error("invalid infinite-scroll-container attribute.");}},u.$watch("infiniteScrollContainer",w),w(u.infiniteScrollContainer||[]),null!=e.infiniteScrollParent&&y(angular.element(f.parent())),null!=e.infiniteScrollImmediateCheck&&(g=u.$eval(e.infiniteScrollImmediateCheck)),h=i(function(){return g&&s(),i.cancel(h)})}}}]);"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="infinite-scroll");typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="checklist-model");angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(n,t){function i(n,t,i){if(angular.isArray(n))for(var r=n.length;r--;)if(i(n[r],t))return!0;return!1}function r(n,t,r){return n=angular.isArray(n)?n:[],i(n,t,r)||n.push(t),n}function u(n,t,i){if(angular.isArray(n))for(var r=n.length;r--;)if(i(n[r],t)){n.splice(r,1);break}return n}function f(f,e,o){function nt(){k();d();g()}function c(){return o.checklistValue?n(o.checklistValue)(f.$parent):o.value}function w(n,t){var i=s(f.$parent);angular.isFunction(s.assign)&&(t===!0?s.assign(f.$parent,r(i,n,h)):s.assign(f.$parent,u(i,n,h)))}function b(n){if(a&&a(f)===!1){w(c(),v(f));return}v.assign(f,i(n,c(),h))}var l=o.checklistModel,y;o.$set("checklistModel",null);t(e)(f);o.$set("checklistModel",l);var s=n(l),p=n(o.checklistChange),a=n(o.checklistBeforeChange),v=n(o.ngModel),h=angular.equals;o.hasOwnProperty("checklistComparator")&&(o.checklistComparator[0]=="."?(y=o.checklistComparator.substring(1),h=function(n,t){return n[y]===t[y]}):h=n(o.checklistComparator)(f.$parent));var k=f.$watch(o.ngModel,function(n,t){if(n!==t){if(a&&a(f)===!1){v.assign(f,i(s(f.$parent),c(),h));return}w(c(),n);p&&p(f)}}),d=f.$watch(c,function(n,t){if(n!=t&&angular.isDefined(t)&&f[o.ngModel]===!0){var i=s(f.$parent);s.assign(f.$parent,u(i,t,h));s.assign(f.$parent,r(i,n,h))}},!0),g=f.$on("$destroy",nt);angular.isFunction(f.$parent.$watchCollection)?f.$parent.$watchCollection(l,b):f.$parent.$watch(l,b,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(n,t){if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),f}}}]);
/*! ng-dialog - v1.2.0 (https://github.com/likeastore/ngDialog) */
!function(n,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(n.angular)}(this,function(n){"use strict";var s=n.module("ngDialog",[]),t=n.element,r=n.isDefined,u=(document.body||document.documentElement).style,p=r(u.animation)||r(u.WebkitAnimation)||r(u.MozAnimation)||r(u.MsAnimation)||r(u.OAnimation),l="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",w="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",b="ngdialog-disabled-animation",h={html:!1,body:!1},e={},i=[],o=[],c=!1,a=!1,f=[],v="legacy",y="1.0.0+";return s.provider("ngDialog",function(){var s=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,onOpenCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(n){h.html=n||!1};this.setForceBodyReload=function(n){h.body=n||!1};this.setDefaults=function(t){n.extend(s,t)};this.setOpenOnePerName=function(n){a=n||!1};var u,d=0,r=0,k={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(g,nt,tt,it,rt,ut,ft,et,ot,st){var ct=[],ht={onDocumentKeydown:function(n){27===n.keyCode&&lt.close("$escape")},activate:function(n){var t=n.data("$ngDialogOptions");t.trapFocus&&(n.on("keydown",ht.onTrapFocusKeydown),ct.body.on("keydown",ht.onTrapFocusKeydown))},deactivate:function(n){n.off("keydown",ht.onTrapFocusKeydown);ct.body.off("keydown",ht.onTrapFocusKeydown)},deactivateAll:function(t){n.forEach(t,function(t){var i=n.element(t);ht.deactivate(i)})},setBodyPadding:function(n){var t=parseInt(ct.body.css("padding-right")||0,10);ct.body.css("padding-right",t+n+"px");ct.body.data("ng-dialog-original-padding",t);ut.$broadcast("ngDialog.setPadding",n)},resetBodyPadding:function(){var n=ct.body.data("ng-dialog-original-padding");n?ct.body.css("padding-right",n+"px"):ct.body.css("padding-right","");ut.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(n,t){var a=n.data("$ngDialogOptions"),f=n.attr("id"),o=e[f],s,h;(ht.deactivate(n),o)&&("undefined"!=typeof et.Hammer?(s=o.hammerTime,s.off("tap",u),s.destroy&&s.destroy(),delete o.hammerTime):n.unbind("click"),1===r&&ct.body.unbind("keydown",ht.onDocumentKeydown),n.hasClass("ngdialog-closing")||(r-=1),h=n.data("$ngDialogPreviousFocus"),h&&h.focus&&h.focus(),ut.$broadcast("ngDialog.closing",n,t),r=r<0?0:r,p&&!a.disableAnimation?(o.$destroy(),n.unbind(l).bind(l,function(){ht.closeDialogElement(n,t)}).addClass("ngdialog-closing")):(o.$destroy(),ht.closeDialogElement(n,t)),k[f]&&(k[f].resolve({id:f,value:t,$dialog:n,remainingDialogs:r}),delete k[f]),e[f]&&delete e[f],i.splice(i.indexOf(f),1),i.length||(ct.body.unbind("keydown",ht.onDocumentKeydown),c=!1),0==r&&(u=void 0))},closeDialogElement:function(n,t){var i=n.data("$ngDialogOptions");n.remove();o.splice(o.indexOf(i.bodyClassName),1);o.indexOf(i.bodyClassName)===-1&&(ct.html.removeClass(i.bodyClassName),ct.body.removeClass(i.bodyClassName));0===r&&ht.resetBodyPadding();ut.$broadcast("ngDialog.closed",n,t)},closeDialog:function(t,i){var u=t.data("$ngDialogPreCloseCallback"),r;if(u&&n.isFunction(u))if(r=u.call(t,i),n.isObject(r))r.closePromise?r.closePromise.then(function(){ht.performCloseDialog(t,i)},function(){return!1}):r.then(function(){ht.performCloseDialog(t,i)},function(){return!1});else{if(r===!1)return!1;ht.performCloseDialog(t,i)}else ht.performCloseDialog(t,i)},onTrapFocusKeydown:function(t){var i,r=n.element(t.currentTarget),u,f;if(r.hasClass("ngdialog"))i=r;else if(i=ht.getActiveDialog(),null===i)return;u=9===t.keyCode;f=t.shiftKey===!0;u&&ht.handleTab(i,t,f)},handleTab:function(n,t,i){var r=ht.getFocusableElements(n);if(0===r.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var o=document.activeElement,u=Array.prototype.indexOf.call(r,o),e=u===-1,s=0===u,h=u===r.length-1,f=!1;i?(e||s)&&(r[r.length-1].focus(),f=!0):(e||h)&&(r[0].focus(),f=!0);f&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(n){var e=n[0],i=e.querySelector("*[autofocus]"),r,u,f;if(null===i||(i.focus(),document.activeElement!==i)){if(r=ht.getFocusableElements(n),r.length>0)return void r[0].focus();u=ht.filterVisibleElements(e.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));u.length>0&&(f=u[0],t(f).attr("tabindex","-1").css("outline","0"),f.focus())}},getFocusableElements:function(n){var t=n[0],i=t.querySelectorAll(w),r=ht.filterTabbableElements(i);return ht.filterVisibleElements(r)},filterTabbableElements:function(n){for(var u,r=[],i=0;i<n.length;i++)u=n[i],"-1"!==t(u).attr("tabindex")&&r.push(u);return r},filterVisibleElements:function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],(i.offsetWidth>0||i.offsetHeight>0)&&r.push(i);return r},getActiveDialog:function(){var n=document.querySelectorAll(".ngdialog");return 0===n.length?null:t(n[n.length-1])},applyAriaAttributes:function(n,t){if(t.ariaAuto){if(!t.ariaRole){var i=ht.getFocusableElements(n).length>0?"dialog":"alertdialog";t.ariaRole=i}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6");t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&n.attr("role",t.ariaRole);ht.applyAriaAttribute(n,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector);ht.applyAriaAttribute(n,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(n,i,r,u){var o,e,f;return r?void n.attr(i,r):u?(o=n.attr("id"),e=n[0].querySelector(u),!e)?void 0:(f=o+"-"+i,t(e).attr("id",f),n.attr(i,f),f):void 0},detectUIRouter:function(){return st.has("$transitions")?y:!!st.has("$state")&&v},getRouterLocationEventName:function(){return ht.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},lt={__PRIVATE__:ht,open:function(h){function at(t,i){var i=i||{};return i.headers=i.headers||{},n.extend(i.headers,{Accept:"text/html"}),ut.$broadcast("ngDialog.templateLoading",t),rt.get(t,i).then(function(n){return ut.$broadcast("ngDialog.templateLoaded",t),n.data||""})}function wt(t){return t?n.isString(t)&&l.plain?t:"boolean"!=typeof l.cache||l.cache?at(t,{cache:nt}):at(t,{cache:!1}):"Empty template"}var p=null,l,vt,yt,y,v,pt,w,g;if(h=h||{},!(a&&h.name&&(p=h.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(p))))return l=n.copy(s),vt=++d,p=p||"ngdialog"+vt,i.push(p),"undefined"!=typeof l.data&&("undefined"==typeof h.data&&(h.data={}),h.data=n.merge(n.copy(l.data),h.data)),n.extend(l,h),k[p]=yt=it.defer(),e[p]=y=n.isObject(l.scope)?l.scope.$new():ut.$new(),g=n.extend({},l.resolve),n.forEach(g,function(t,i){g[i]=n.isString(t)?st.get(t):st.invoke(t,null,null,i)}),it.all({template:wt(l.template||l.templateUrl),locals:it.all(g)}).then(function(i){var s=i.template,g=i.locals,a,h,k,e,d;if(l.showClose&&(s+='<button aria-label="Dismiss" class="ngdialog-close"><\/button>'),a=l.overlay?"":" ngdialog-no-overlay",(v=t('<div id="'+p+'" class="ngdialog'+a+'"><\/div>'),v.html(l.overlay?'<div class="ngdialog-overlay"><\/div><div class="ngdialog-content" role="document">'+s+"<\/div>":'<div class="ngdialog-content" role="document">'+s+"<\/div>"),v.data("$ngDialogOptions",l),y.ngDialogId=p,l.data&&n.isString(l.data))?(h=l.data.replace(/^\s*/,"")[0],y.ngDialogData="{"===h||"["===h?n.fromJson(l.data):new String(l.data),y.ngDialogData.ngDialogId=p):l.data&&n.isObject(l.data)&&(y.ngDialogData=l.data,y.ngDialogData.ngDialogId=p),(l.className&&v.addClass(l.className),l.appendClassName&&v.addClass(l.appendClassName),l.width&&(w=v[0].querySelector(".ngdialog-content"),w.style.width=n.isString(l.width)?l.width:l.width+"px"),l.height&&(w=v[0].querySelector(".ngdialog-content"),w.style.height=n.isString(l.height)?l.height:l.height+"px"),l.disableAnimation&&v.addClass(b),pt=l.appendTo&&n.isString(l.appendTo)?n.element(document.querySelector(l.appendTo)):ct.body,ht.applyAriaAttributes(v,l),[{name:"$ngDialogPreCloseCallback",value:l.preCloseCallback},{name:"$ngDialogOnOpenCallback",value:l.onOpenCallback}].forEach(function(t){if(t.value){var i;n.isFunction(t.value)?i=t.value:n.isString(t.value)&&y&&(n.isFunction(y[t.value])?i=y[t.value]:y.$parent&&n.isFunction(y.$parent[t.value])?i=y.$parent[t.value]:ut&&n.isFunction(ut[t.value])&&(i=ut[t.value]));i&&v.data(t.name,i)}}),y.closeThisDialog=function(n){ht.closeDialog(v,n)},l.controller&&(n.isString(l.controller)||n.isArray(l.controller)||n.isFunction(l.controller)))&&(l.controllerAs&&n.isString(l.controllerAs)&&(k=l.controllerAs),e=ot(l.controller,n.extend(g,{$scope:y,$element:v}),!0,k),l.bindToController&&n.extend(e.instance,{ngDialogId:y.ngDialogId,ngDialogData:y.ngDialogData,closeThisDialog:y.closeThisDialog,confirm:y.confirm}),"function"==typeof e?v.data("$ngDialogControllerController",e()):v.data("$ngDialogControllerController",e)),ft(function(){var u=document.querySelectorAll(".ngdialog"),r,i,t;ht.deactivateAll(u);tt(v)(y);r=et.innerWidth-ct.body.prop("clientWidth");ct.html.addClass(l.bodyClassName);ct.body.addClass(l.bodyClassName);o.push(l.bodyClassName);i=r-(et.innerWidth-ct.body.prop("clientWidth"));i>0&&ht.setBodyPadding(i);pt.append(v);ht.activate(v);l.trapFocus&&ht.autoFocus(v);l.name?ut.$broadcast("ngDialog.opened",{dialog:v,name:l.name}):ut.$broadcast("ngDialog.opened",v);t=v.data("$ngDialogOnOpenCallback");t&&n.isFunction(t)&&t.call(v)}),c||(ct.body.bind("keydown",ht.onDocumentKeydown),c=!0),l.closeByNavigation&&f.push(v),l.preserveFocus&&v.data("$ngDialogPreviousFocus",document.activeElement),u=function(n){var r=!!l.closeByDocument&&t(n.target).hasClass("ngdialog-overlay"),i=t(n.target).hasClass("ngdialog-close");(r||i)&&lt.close(v.attr("id"),i?"$closeButton":"$document")},"undefined"!=typeof et.Hammer){d=y.hammerTime=et.Hammer(v[0]);d.on("tap",u)}else v.bind("click",u);return r+=1,lt}),{id:p,closePromise:yt.promise,close:function(n){ht.closeDialog(v,n)}}},openConfirm:function(i){var u=it.defer(),r=n.copy(s),f;return i=i||{},"undefined"!=typeof r.data&&("undefined"==typeof i.data&&(i.data={}),i.data=n.merge(n.copy(r.data),i.data)),n.extend(r,i),r.scope=n.isObject(r.scope)?r.scope.$new():ut.$new(),r.scope.confirm=function(n){u.resolve(n);var i=t(document.getElementById(f.id));ht.performCloseDialog(i,n)},f=lt.open(r),f?(f.closePromise.then(function(n){return n?u.reject(n.value):u.reject()}),u.promise):void 0},isOpen:function(n){var i=t(document.getElementById(n));return i.length>0},close:function(n,r){var u=t(document.getElementById(n)),f;return u.length?ht.closeDialog(u,r):"$escape"===n?(f=i[i.length-1],u=t(document.getElementById(f)),u.data("$ngDialogOptions").closeByEscape&&ht.closeDialog(u,"$escape")):lt.closeAll(r),lt},closeAll:function(n){for(var u,r=document.querySelectorAll(".ngdialog"),i=r.length-1;i>=0;i--)u=r[i],ht.closeDialog(t(u),n)},getOpenDialogs:function(){return i},getDefaults:function(){return s}},at,vt,yt;if(n.forEach(["html","body"],function(n){if(ct[n]=g.find(n),h[n]){var t=ht.getRouterLocationEventName();ut.$on(t,function(){ct[n]=g.find(n)})}}),at=ht.detectUIRouter(),at===y){vt=st.get("$transitions");vt.onStart({},function(){for(;f.length>0;){var n=f.pop();if(ht.closeDialog(n)===!1)return!1}})}else yt=at===v?"$stateChangeStart":"$locationChangeStart",ut.$on(yt,function(n){for(;f.length>0;){var t=f.pop();ht.closeDialog(t)===!1&&n.preventDefault()}});return lt}]}),s.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(i,r,u){r.on("click",function(r){var e,f;r.preventDefault();e=n.isDefined(i.ngDialogScope)?i.ngDialogScope:"noScope";n.isDefined(u.ngDialogClosePrevious)&&t.close(u.ngDialogClosePrevious);f=t.getDefaults();t.open({template:u.ngDialog,className:u.ngDialogClass||f.className,appendClassName:u.ngDialogAppendClass,controller:u.ngDialogController,controllerAs:u.ngDialogControllerAs,bindToController:u.ngDialogBindToController,disableAnimation:u.ngDialogDisableAnimation,scope:e,data:u.ngDialogData,showClose:"false"!==u.ngDialogShowClose&&("true"===u.ngDialogShowClose||f.showClose),closeByDocument:"false"!==u.ngDialogCloseByDocument&&("true"===u.ngDialogCloseByDocument||f.closeByDocument),closeByEscape:"false"!==u.ngDialogCloseByEscape&&("true"===u.ngDialogCloseByEscape||f.closeByEscape),overlay:"false"!==u.ngDialogOverlay&&("true"===u.ngDialogOverlay||f.overlay),preCloseCallback:u.ngDialogPreCloseCallback||f.preCloseCallback,onOpenCallback:u.ngDialogOnOpenCallback||f.onOpenCallback,bodyClassName:u.ngDialogBodyClass||f.bodyClassName})})}}}]),s});!function(){"use strict";function n(n,t,i,r,u,f,e){function p(){return o.length}function w(n){if(1!==arguments.length||n)if(n)c(n.toastId);else for(var t=0;t<o.length;t++)c(o[t].toastId)}function b(n,t,i){var r=h().iconClasses.error;return l(r,n,t,i)}function k(n,t,i){var r=h().iconClasses.info;return l(r,n,t,i)}function d(n,t,i){var r=h().iconClasses.success;return l(r,n,t,i)}function g(n,t,i){var r=h().iconClasses.warning;return l(r,n,t,i)}function nt(n,t){n&&n.isOpened&&o.indexOf(n)>=0&&n.scope.refreshTimer(t)}function c(t,i){function u(n){for(var t=0;t<o.length;t++)if(o[t].toastId===n)return o[t]}function h(){return!o.length}var r=u(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,n.leave(r.el).then(function(){var t,n;r.scope.options.onHidden&&r.scope.options.onHidden(!!i,r);r.scope.$destroy();t=o.indexOf(r);delete v[r.scope.message];o.splice(t,1);n=f.maxOpened;n&&o.length>=n&&o[n-1].open.resolve();h()&&(s.remove(),s=null,a=e.defer())}))}function l(n,t,i,r){return angular.isObject(i)&&(r=i,i=null),it({iconClass:n,message:t,optionsOverride:r,title:i})}function h(){return angular.extend({},f)}function tt(t){if(s)return a.promise;s=angular.element("<div><\/div>");s.attr("id",t.containerId);s.addClass(t.positionClass);s.css({"pointer-events":"auto"});var i=angular.element(document.querySelector(t.target));if(!i||!i.length)throw"Target for toasts doesn't exist";return n.enter(s,i).then(function(){a.resolve()}),a.promise}function it(i){function w(){return f.autoDismiss&&f.maxOpened&&o.length>f.maxOpened}function b(n,t,i){function r(t){if(i[t])return function(){i[t](n)}}i.allowHtml?(n.scope.allowHtml=!0,n.scope.title=u.trustAsHtml(t.title),n.scope.message=u.trustAsHtml(t.message)):(n.scope.title=t.title,n.scope.message=t.message);n.scope.toastType=n.iconClass;n.scope.toastId=n.toastId;n.scope.extraData=i.extraData;n.scope.options={extendedTimeOut:i.extendedTimeOut,messageClass:i.messageClass,onHidden:i.onHidden,onShown:r("onShown"),onTap:r("onTap"),progressBar:i.progressBar,tapToDismiss:i.tapToDismiss,timeOut:i.timeOut,titleClass:i.titleClass,toastClass:i.toastClass};i.closeButton&&(n.scope.options.closeHtml=i.closeHtml)}function k(){function t(n){for(var i=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],t=0,r=i.length;t<r;t++)delete n[i[t]];return n}var n={toastId:rt++,isOpened:!1,scope:r.$new(),open:e.defer()};return n.iconClass=i.iconClass,i.optionsOverride&&(angular.extend(f,t(i.optionsOverride)),n.iconClass=i.optionsOverride.iconClass||n.iconClass),b(n,i,f),n.el=d(n.scope),n}function d(n){var i=angular.element("<div toast><\/div>"),r=t.get("$compile");return r(i)(n)}function g(){return f.maxOpened&&o.length<=f.maxOpened||!f.maxOpened}function nt(){var n=f.preventDuplicates&&i.message===y,t=f.preventOpenDuplicates&&v[i.message];return!(!n&&!t)||(y=i.message,v[i.message]=!0,!1)}var f=h(),l;if(!nt()){if(l=k(),o.push(l),w())for(var p=o.slice(0,o.length-f.maxOpened),a=0,it=p.length;a<it;a++)c(p[a].toastId);return g()&&l.open.resolve(),l.open.promise.then(function(){tt(f).then(function(){if(l.isOpened=!0,f.newestOnTop)n.enter(l.el,s).then(function(){l.scope.init()});else{var t=s[0].lastChild?angular.element(s[0].lastChild):null;n.enter(l.el,s,t).then(function(){l.scope.init()})}})}),l}}var s,rt=0,o=[],y="",v={},a=e.defer();return{active:p,clear:w,error:b,info:k,remove:c,success:d,warning:g,refreshTimer:nt}}angular.module("toastr",[]).factory("toastr",n);n.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;<\/button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function n(n){function t(n,t,i,r){function o(){var n=(e-(new Date).getTime())/f*100;t.css("width",n+"%")}var u,f,e;r.progressBar=n;n.start=function(n){u&&clearInterval(u);f=parseFloat(n);e=(new Date).getTime()+f;u=setInterval(o,10)};n.stop=function(){u&&clearInterval(u)};n.$on("$destroy",function(){clearInterval(u)})}return{require:"^toast",templateUrl:function(){return n.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",n);n.$inject=["toastrConfig"]}(),function(){"use strict";function n(){this.progressBar=null;this.startProgressBar=function(n){this.progressBar&&this.progressBar.start(n)};this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",n)}(),function(){"use strict";function n(n,t,i,r){function u(i,u,f,e){function h(n){return e.startProgressBar(n),t(function(){e.stopProgressBar();r.remove(i.toastId)},n,1)}function l(){i.progressBar=!1;e.stopProgressBar()}function a(){return i.options.closeHtml}var o,s,c;(i.toastClass=i.options.toastClass,i.titleClass=i.options.titleClass,i.messageClass=i.options.messageClass,i.progressBar=i.options.progressBar,a())&&(s=angular.element(i.options.closeHtml),c=n.get("$compile"),s.addClass("toast-close-button"),s.attr("ng-click","close(true, $event)"),c(s)(i),u.children().prepend(s));i.init=function(){i.options.timeOut&&(o=h(i.options.timeOut));i.options.onShown&&i.options.onShown()};u.on("mouseenter",function(){l();o&&t.cancel(o)});i.tapToast=function(){angular.isFunction(i.options.onTap)&&i.options.onTap();i.options.tapToDismiss&&i.close(!0)};i.close=function(n,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation();r.remove(i.toastId,n)};i.refreshTimer=function(n){o&&(t.cancel(o),o=h(n||i.options.timeOut))};u.on("mouseleave",function(){0===i.options.timeOut&&0===i.options.extendedTimeOut||(i.$apply(function(){i.progressBar=i.options.progressBar}),o=h(i.options.extendedTimeOut))})}return{templateUrl:function(){return i.templates.toast},controller:"ToastController",link:u}}angular.module("toastr").directive("toast",n);n.$inject=["$injector","$interval","toastrConfig","toastr"]}();angular.module("toastr").run(["$templateCache",function(n){n.put("directives/progressbar/progressbar.html",'<div class="toast-progress"><\/div>\n');n.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}<\/div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}<\/div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"><\/div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"><\/div>\n  <\/div>\n  <progress-bar ng-if="progressBar"><\/progress-bar>\n<\/div>\n')}]);!function(){var n=angular.module("toggle-switch",["ng"]);n.provider("toggleSwitchConfig",[function(){this.onLabel="On";this.offLabel="Off";this.knobLabel=" ";var n=this;this.$get=function(){return{onLabel:n.onLabel,offLabel:n.offLabel,knobLabel:n.knobLabel}}}]);n.directive("toggleSwitch",["toggleSwitchConfig",function(n){return{restrict:"EA",replace:!0,require:"ngModel",scope:{disabled:"@",onLabel:"@",offLabel:"@",knobLabel:"@"},template:'<div role="radio" class="toggle-switch" ng-class="{ \'disabled\': disabled }"><div class="toggle-switch-animate" ng-class="{\'switch-off\': !model, \'switch-on\': model}"><span class="switch-left" ng-bind="onLabel"><\/span><span class="knob" ng-bind="knobLabel"><\/span><span class="switch-right" ng-bind="offLabel"><\/span><\/div><\/div>',compile:function(t,i){return i.onLabel||(i.onLabel=n.onLabel),i.offLabel||(i.offLabel=n.offLabel),i.knobLabel||(i.knobLabel=n.knobLabel),this.link},link:function(n,t,i,r){var u=32;t.on("click",function(){n.$apply(n.toggle)});t.on("keydown",function(t){var i=t.which?t.which:t.keyCode;i===u&&n.$apply(n.toggle)});r.$formatters.push(function(n){return n});r.$parsers.push(function(n){return n});r.$viewChangeListeners.push(function(){n.$eval(i.ngChange)});r.$render=function(){n.model=r.$viewValue};n.toggle=function(){n.disabled||(n.model=!n.model,r.$setViewValue(n.model))}}}}])}(),function(){"use strict";var n=angular.module("vi.avatar",[]);n.directive("viAvatar",["viAvatar",function(n){return{restrict:"E",replace:!0,scope:{src:"@",name:"@"},link:function(t,i){var u="",r=t.src;r||(r=n.generateAvatar(t.name));u='<div class="avatar"><img src="'+r+'" alt="Avatar"><\/div>';i.append(u)}}}]);n.factory("viAvatar",[function(){function n(n){var r=64,f=64,e="#E2E7EA",o="#939EA7",u=document.createElement("canvas");u.width=r;u.height=f;var s=r/2,h=t(n||""),i=u.getContext("2d");return i.fillStyle=e,i.fillRect(0,0,r,f),i.font=s+"px sans-serif",i.textAlign="center",i.fillStyle=o,i.fillText(h,r/2,f/1.5),u.toDataURL("image/png")}function t(n){for(var r="",i=n.split(" "),u=2,t=0;t<i.length;t++)if(i[t]!==""){if(u===0)break;r+=i[t][0].toUpperCase();u--}return r}return{generateAvatar:n}}])}();angular.module("validation",["validation.provider","validation.directive"]);angular.module("validation.provider",[]);angular.module("validation.directive",["validation.provider"]),function(){function n(){var i,n,s,r,u,t=this,h=function(t){i=t;n=i.get("$rootScope");s=i.get("$http");r=i.get("$q");u=i.get("$timeout")},f={},e=null,o={};this.setExpression=function(n){return angular.extend(f,n),t};this.getExpression=function(n){return f[n]};this.setDefaultMsg=function(n){return angular.extend(o,n),t};this.getDefaultMsg=function(n){return o[n]};this.setValidMethod=function(n){e=n};this.getValidMethod=function(){return e};this.setErrorHTML=function(n){if(n.constructor===Function)return t.getErrorHTML=n,t};this.getErrorHTML=function(n){return'<p class="validation-invalid">'+n+"<\/p>"};this.setSuccessHTML=function(n){if(n.constructor===Function)return t.getSuccessHTML=n,t};this.getSuccessHTML=function(n){return'<p class="validation-valid">'+n+"<\/p>"};this.showSuccessMessage=!0;this.showErrorMessage=!0;this.checkValid=function(n){return!!(n&&n.$valid)};this.validate=function(i){var f=r.defer(),o=0,s,e;if(i===undefined)return console.error("This is not a regular Form name scope"),f.reject("This is not a regular Form name scope"),f.promise;if(i.validationId)n.$broadcast(i.$name+"submit-"+i.validationId,o++);else if(i.constructor===Array)for(s in i)n.$broadcast(i[s].$name+"submit-"+i[s].validationId,o++);else for(e in i)e[0]!=="$"&&i[e].hasOwnProperty("$dirty")&&n.$broadcast(e+"submit-"+i[e].validationId,o++);return f.promise.success=function(n){return f.promise.then(function(t){n(t)}),f.promise},f.promise.error=function(n){return f.promise.then(null,function(t){n(t)}),f.promise},u(function(){t.checkValid(i)?f.resolve("success"):f.reject("error")}),f.promise};this.validCallback=null;this.invalidCallback=null;this.resetCallback=null;this.reset=function(t){var r,i;if(t===undefined){console.error("This is not a regular Form name scope");return}if(t.validationId)n.$broadcast(t.$name+"reset-"+t.validationId);else if(t.constructor===Array)for(r in t)n.$broadcast(t[r].$name+"reset-"+t[r].validationId);else for(i in t)i[0]!=="$"&&t[i].hasOwnProperty("$dirty")&&n.$broadcast(i+"reset-"+t[i].validationId)};this.addMsgElement=function(n){return n.after("<span><\/span>")};this.getMsgElement=function(n){return n.next()};this.$get=["$injector",function(n){return h(n),{setValidMethod:this.setValidMethod,getValidMethod:this.getValidMethod,setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,resetCallback:this.resetCallback,reset:this.reset,addMsgElement:this.addMsgElement,getMsgElement:this.getMsgElement}}]}angular.module("validation.provider").provider("$validation",n)}.call(this),function(){function n(n){var t=n.get("$validation"),i=n.get("$timeout"),r=n.get("$parse");return{link:function(n,u,f){var e=r(f.validationReset)(n);i(function(){u.on("click",function(n){n.preventDefault();t.reset(e)})})}}}angular.module("validation.directive").directive("validationReset",n);n.$inject=["$injector"]}.call(this),function(){function n(n){var i=n.get("$validation"),r=n.get("$timeout"),t=n.get("$parse");return{priority:1,require:"?ngClick",link:function(n,u,f){var e=t(f.validationSubmit)(n);r(function(){u.off("click");u.on("click",function(r){r.preventDefault();i.validate(e).success(function(){t(f.ngClick)(n)})})})}}}angular.module("validation.directive").directive("validationSubmit",n);n.$inject=["$injector"]}.call(this),function(){function n(n){function r(n,t,i){for(var u=document.querySelectorAll("*[validation-group="+t+"]"),r=0,o=u.length;r<o;r++){var f=u[r],s=f.form.name,e=f.name;n[s][e].$setValidity(e,i)}}function y(n){var t={};return n&&n.length>0?(t=n[0],angular.isObject(t)||(t={result:t,message:""})):t={result:!1,message:""},t}var t=n.get("$validation"),l=n.get("$q"),o=n.get("$timeout"),s=n.get("$compile"),h=n.get("$parse"),i={},a=function(n,i,r,u,f,e){var c=i||t.getDefaultMsg(r).success,v=h(e.validCallback),l=e.messageId,a=e.validationGroup,o;return o=l||a?angular.element(document.querySelector("#"+(l||a))):t.getMsgElement(n),n.attr("no-validation-message")?o.css("display","none"):t.showSuccessMessage&&c?(o.html("").append(s(t.getSuccessHTML(c,n,e))(u)),o.css("display","")):o.css("display","none"),f.$setValidity(f.$name,!0),v(u,{message:c}),t.validCallback&&t.validCallback(n),!0},v=function(n,i,r,u,f,e){var c=i||t.getDefaultMsg(r).error,v=h(e.invalidCallback),l=e.messageId,a=e.validationGroup,o;return o=l||a?angular.element(document.querySelector("#"+(l||a))):t.getMsgElement(n),n.attr("no-validation-message")?o.css("display","none"):t.showErrorMessage&&c?(o.html("").append(s(t.getErrorHTML(c,n,e))(u)),o.css("display","")):o.css("display","none"),f.$setValidity(f.$name,!1),v(u,{message:c}),t.invalidCallback&&t.invalidCallback(n),!1},c=function(n){var t=i[n];return Object.keys(t).some(function(n){return t[n]})},f={},u=function(n,f,e,o,s,h){if(s.length!=1||s[0].trim().length!=0){var tt=s.slice(0),k=tt[0].trim(),d=k.indexOf("="),w=d===-1?k:k.substr(0,d),it=d===-1?null:k.substr(d+1),g=tt.slice(1),rt=w+"SuccessMessage",ut=w+"ErrorMessage",nt=t.getExpression(w),p=e.validationGroup,b={success:function(t){return a(f,t||e[rt],w,n,o,e),g.length?u(n,f,e,o,g,h):!0},error:function(t){return v(f,t||e[ut],w,n,o,e)}};if(nt===undefined)return(console.error('You are using undefined validator "%s"',w),g.length)?u(n,f,e,o,g,h):void 0;if(nt.constructor===Function)return l.all([t.getExpression(w)(h,n,f,e,it)]).then(function(t){var f=y(t),u=f.message;if(f.result)return p&&(i[p][o.$name]=!0,r(n,p,!0)),b.success(u);if(p)if(i[p][o.$name]=!1,c(p))r(n,p,!0);else return r(n,p,!1),b.error(u);else return b.error(u)},function(){return b.error()});if(nt.constructor===RegExp){if(h!==undefined&&h!==null){if(t.getExpression(w).test(h))return p&&(i[p][o.$name]=!0,r(n,p,!0)),b.success();if(p)if(i[p][o.$name]=!1,c(p))r(n,p,!0);else return r(n,p,!1),b.error();else return b.error()}}else return b.error()}},e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},p=function(){return e()+e()+e()+e()};return{restrict:"A",require:"ngModel",link:function(n,r,e,s){var d=e.validator,c=e.messageId,h=e.validationGroup,l=e.validMethod,v=e.ngModel,y=function(){},a=d.split(","),w=s.validationId=p(),b=null,k=void 0;if(typeof e.initialValidity=="boolean"&&(k=e.initialValidity),e.$observe("validator",function(n){a=n.split(",")}),h&&(i[h]||(i[h]={}),i[h][s.$name]=!1),c||h||t.addMsgElement(r),s.$setValidity(s.$name,k),n.$on(s.$name+"reset-"+w,function(){y();o(function(){s.$setViewValue(b);s.$setPristine();s.$setValidity(s.$name,undefined);s.$render();c||h?angular.element(document.querySelector("#"+(c||h))).html(""):t.getMsgElement(r).html("");t.resetCallback&&t.resetCallback(r)})}),l=angular.isUndefined(l)?t.getValidMethod():l,n.$on(s.$name+"submit-"+w,function(t,i){var p=s.$viewValue,h=!1,c;h=u(n,r,e,s,a,p);l==="submit"&&(y(),y=n.$watch(function(){return n.$eval(v)},function(t,i){t!==i&&((t===undefined||t===null)&&(t=""),h=u(n,r,e,s,a,t))}));c=function(n){n?delete f[i]:(f[i]=r[0],o(function(){f[Math.min.apply(null,Object.keys(f))].focus()},0))};h.constructor===Object?h.then(c):c(h)}),l==="blur"){r.bind("blur",function(){var t=n.$eval(v);n.$apply(function(){u(n,r,e,s,a,t)})});return}l!=="submit"&&l!=="submit-only"&&(n.$watch(function(){return n.$eval(v)},function(i){if(s.$pristine&&s.$viewValue)b=s.$viewValue||"",s.$setViewValue(s.$viewValue);else if(s.$pristine){c||h?angular.element(document.querySelector("#"+(c||h))).html(""):t.getMsgElement(r).html("");return}u(n,r,e,s,a,i)}),o(function(){e.$observe("noValidationMessage",function(n){var i;i=c||h?angular.element(document.querySelector("#"+(c||h))):t.getMsgElement(r);n==="true"||n===!0?i.css("display","none"):(n==="false"||n===!1)&&i.css("display","block")})}))}}}angular.module("validation.directive").directive("validator",n);n.$inject=["$injector"]}.call(this),function(){angular.module("validation.rule",["validation"]).config(["$validationProvider",function(n){var t={required:function(n){return!!n},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/,phone:/^\(\d{3}\)\s\d{3}-\d{4}$/,minlength:function(n,t,i,r,u){return n&&n.length>=u},maxlength:function(n,t,i,r,u){return!n||n.length<=u}};n.setExpression(t).setDefaultMsg({required:{error:"This field is required."},url:{error:"This field is a URL."},email:{error:"This field is an Email address."},number:{error:"This field is a Number."},phone:{error:"This field is a Phone."},minlength:{error:"This field length is too short."},maxlength:{error:"This field length is too long."}})}])}.call(this);
/*!
 * angular-ui-indeterminate
 * https://github.com/angular-ui/ui-indeterminate
 * Version: 1.0.0 - 2015-06-30T09:28:55.152Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.indeterminate",[]).directive("uiIndeterminate",[function(){return{compile:function(n,t){return t.type&&"checkbox"===t.type.toLowerCase()?function(n,t,i){n.$watch(i.uiIndeterminate,function(n){t[0].indeterminate=!!n})}:angular.noop}}}])}();
/*!
 * angular-ui-mask
 * https://github.com/angular-ui/ui-mask
 * Version: 1.8.7 - 2016-07-26T15:59:07.992Z
 * License: MIT
 */
!function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",function(){var n={};this.maskDefinitions=function(t){return n.maskDefinitions=t};this.clearOnBlur=function(t){return n.clearOnBlur=t};this.clearOnBlurPlaceholder=function(t){return n.clearOnBlurPlaceholder=t};this.eventsToHandle=function(t){return n.eventsToHandle=t};this.addDefaultPlaceholder=function(t){return n.addDefaultPlaceholder=t};this.allowInvalidValue=function(t){return n.allowInvalidValue=t};this.$get=["uiMaskConfig",function(t){var r=t;for(var i in n)angular.isObject(n[i])&&!angular.isArray(n[i])?angular.extend(r[i],n[i]):r[i]=n[i];return r}]}).directive("uiMask",["uiMask.Config",function(n){function t(n){return n===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(n.type||n.href||~n.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var i=angular.copy(n);return function(n,r,u,f){function ct(n){return angular.isDefined(n)?(oi(n),l?(ii(),ri(),!0):vt()):vt()}function lt(n){n&&(h=n,!l||0===r.val().length&&angular.isDefined(u.placeholder)||r.val(v(a(r.val()))))}function ni(){return ct(u.uiMask)}function at(n){return l?(o=a(n||""),c=nt(o),f.$setValidity("mask",c),o.length&&(c||s.allowInvalidValue)?v(o):void 0):n}function ti(n){return l?(o=a(n||""),c=nt(o),f.$viewValue=o.length?v(o):"",f.$setValidity("mask",c),c||s.allowInvalidValue?st?f.$viewValue:o:void 0):n}function vt(){return l=!1,ui(),angular.isDefined(ot)?r.attr("placeholder",ot):r.removeAttr("placeholder"),angular.isDefined(gt)?r.attr("maxlength",gt):r.removeAttr("maxlength"),r.val(f.$modelValue),f.$viewValue=f.$modelValue,!1}function ii(){o=et=a(f.$modelValue||"");kt=ft=v(o);c=nt(o);u.maxlength&&r.attr("maxlength",2*e[e.length-1]);!ot&&s.addDefaultPlaceholder&&r.attr("placeholder",h);for(var n=f.$modelValue,t=f.$formatters.length;t--;)n=f.$formatters[t](n);f.$viewValue=n||"";f.$render()}function ri(){g||(r.bind("blur",yt),r.bind("mousedown mouseup",p),r.bind("keydown",pt),r.bind(s.eventsToHandle.join(" "),y),g=!0)}function ui(){g&&(r.unbind("blur",yt),r.unbind("mousedown",p),r.unbind("mouseup",p),r.unbind("keydown",pt),r.unbind("input",y),r.unbind("keyup",y),r.unbind("click",y),r.unbind("focus",y),g=!1)}function nt(n){return n.length?n.length>=ut:!0}function a(n){var t,f,e="",s=r[0],i=rt.slice(),u=k,c=u+b(s),o="";return n=n.toString(),t=0,f=n.length-h.length,angular.forEach(bt,function(i){var r=i.position;r>=u&&c>r||(r>=u&&(r+=f),n.substring(r,r+i.value.length)===i.value&&(o+=n.slice(t,r),t=r+i.value.length))}),n=o+n.slice(t),angular.forEach(n.split(""),function(n){i.length&&i[0].test(n)&&(e+=n,i.shift())}),e}function v(n){var t="",i=e.slice();return angular.forEach(h.split(""),function(r,u){n.length&&u===i[0]?(t+=n.charAt(0)||"_",n=n.substr(1),i.shift()):t+=r}),t}function fi(n){var t,i=angular.isDefined(u.uiMaskPlaceholder)?u.uiMaskPlaceholder:u.placeholder;return angular.isDefined(i)&&i[n]?i[n]:(t=angular.isDefined(u.uiMaskPlaceholderChar)&&u.uiMaskPlaceholderChar?u.uiMaskPlaceholderChar:"_","space"===t.toLowerCase()?" ":t[0])}function ei(){var t,n,r=h.split(""),i;return e&&!isNaN(e[0])&&angular.forEach(e,function(n){r[n]="_"}),t=r.join(""),n=t.replace(/[_]+/g,"_").split("_"),n=n.filter(function(n){return""!==n}),i=0,n.map(function(n){var r=t.indexOf(n,i);return i=r+1,{value:n,position:r}})}function oi(n){var t=0;if(e=[],rt=[],h="",angular.isString(n)){ut=0;var i=!1,u=0,f=n.split(""),r=!1;angular.forEach(f,function(n,f){r?(r=!1,h+=n,t++):s.escChar===n?r=!0:s.maskDefinitions[n]?(e.push(t),h+=fi(f-u),rt.push(s.maskDefinitions[n]),t++,i||ut++,i=!1):"?"===n?(i=!0,u++):(h+=n,t++)})}e.push(e.slice().pop()+1);bt=ei();l=e.length>1?!0:!1}function yt(){if((s.clearOnBlur||s.clearOnBlurPlaceholder&&0===o.length&&u.placeholder)&&(k=0,d=0,c&&0!==o.length||(kt="",r.val(""),n.$apply(function(){f.$pristine||f.$setViewValue("")}))),o!==ht){var t=r.val(),i=""===o&&t&&angular.isDefined(u.uiMaskPlaceholderChar)&&"space"===u.uiMaskPlaceholderChar;i&&r.val("");si(r[0]);i&&r.val(t)}ht=o}function si(n){var t;if(angular.isFunction(window.Event)&&!n.fireEvent)try{t=new Event("change",{view:window,bubbles:!0,cancelable:!1})}catch(i){t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0)}finally{n.dispatchEvent(t)}else"createEvent"in document?(t=document.createEvent("HTMLEvents"),t.initEvent("change",!1,!0),n.dispatchEvent(t)):n.fireEvent&&n.fireEvent("onchange")}function p(n){"mousedown"===n.type?r.bind("mouseout",tt):r.unbind("mouseout",tt)}function tt(){d=b(this);r.unbind("mouseout",tt)}function pt(n){var i=8===n.which,t=wt(this)-1||0,u=90===n.which&&n.ctrlKey;if(i){for(;t>=0;){if(w(t)){it(this,t+1);break}t--}dt=-1===t}u&&(r.val(""),n.preventDefault())}function y(t){var u,o,ht;if(t=t||{},u=t.which,o=t.type,16!==u&&91!==u){var y,l=r.val(),nt=ft,tt=!1,s=a(l),ct=et,i=wt(this)||0,rt=k||0,lt=i-rt,c=e[0],p=e[s.length]||e.slice().shift(),g=d||0,yt=b(this)>0,at=g>0,vt=l.length>nt.length||g&&l.length>nt.length-g,ut=l.length<nt.length||g&&l.length===nt.length-g,pt=u>=37&&40>=u&&t.shiftKey,bt=37===u,ot=8===u||"keyup"!==o&&ut&&-1===lt,kt=46===u||"keyup"!==o&&ut&&0===lt&&!at,st=(bt||ot||"click"===o)&&i>c;if(d=b(this),!pt&&(!yt||"click"!==o&&"keyup"!==o&&"focus"!==o)){if(ot&&dt)return r.val(h),n.$apply(function(){f.$setViewValue("")}),void it(this,rt);if("input"===o&&ut&&!at&&s===ct){for(;ot&&i>c&&!w(i);)i--;for(;kt&&p>i&&-1===e.indexOf(i);)i++;ht=e.indexOf(i);s=s.substring(0,ht)+s.substring(ht+1);s!==ct&&(tt=!0)}for(y=v(s),ft=y,et=s,!tt&&l.length>y.length&&(tt=!0),r.val(y),tt&&n.$apply(function(){f.$setViewValue(y)}),vt&&c>=i&&(i=c+1),st&&i--,i=i>p?p:c>i?c:i;!w(i)&&i>c&&p>i;)i+=st?-1:1;(st&&p>i||vt&&!w(rt))&&i++;k=i;it(this,i)}}}function w(n){return e.indexOf(n)>-1}function wt(n){if(!n)return 0;if(void 0!==n.selectionStart)return n.selectionStart;if(document.selection&&t(r[0])){n.focus();var i=document.selection.createRange();return i.moveStart("character",n.value?-n.value.length:0),i.text.length}return 0}function it(n,i){if(!n)return 0;if(0!==n.offsetWidth&&0!==n.offsetHeight)if(n.setSelectionRange)t(r[0])&&(n.focus(),n.setSelectionRange(i,i));else if(n.createTextRange){var u=n.createTextRange();u.collapse(!0);u.moveEnd("character",i);u.moveStart("character",i);u.select()}}function b(n){return n?void 0!==n.selectionStart?n.selectionEnd-n.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}var e,rt,h,bt,ut,o,kt,c,ft,et,k,d,dt,l=!1,g=!1,ot=u.placeholder,gt=u.maxlength,hi=f.$isEmpty,st,s,ht;f.$isEmpty=function(n){return hi(l?a(n||""):n)};st=!1;u.$observe("modelViewValue",function(n){"true"===n&&(st=!0)});u.$observe("allowInvalidValue",function(n){s.allowInvalidValue=""===n?!0:!!n;at(f.$modelValue)});s={};u.uiOptions?(s=n.$eval("["+u.uiOptions+"]"),s=angular.isObject(s[0])?function(n,t){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(void 0===t[i]?t[i]=angular.copy(n[i]):angular.isObject(t[i])&&!angular.isArray(t[i])&&(t[i]=angular.extend({},n[i],t[i])));return t}(i,s[0]):i):s=i;u.$observe("uiMask",ct);angular.isDefined(u.uiMaskPlaceholder)?u.$observe("uiMaskPlaceholder",lt):u.$observe("placeholder",lt);angular.isDefined(u.uiMaskPlaceholderChar)&&u.$observe("uiMaskPlaceholderChar",ni);f.$formatters.unshift(at);f.$parsers.unshift(ti);ht=r.val();r.bind("mousedown mouseup",p);Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var u,r,t,i;if(null===this)throw new TypeError;if((u=Object(this),r=u.length>>>0,0===r)||(t=0,arguments.length>1&&(t=Number(arguments[1]),t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=r))return-1;for(i=t>=0?t:Math.max(r-Math.abs(t),0);r>i;i++)if(i in u&&u[i]===n)return i;return-1})}}}}])}(),function(){"use strict";function n(n,t){function i(n,i,r){var f=n.$eval(r.niceOption),u=$(i).niceScroll(f),e=$(i).getNiceScroll();r.niceScrollObject&&t(r.niceScrollObject).assign(n,e);u.onscrollend=function(t){this.newscrolly>=this.page.maxh&&r.niceScrollEnd&&n.$evalAsync(r.niceScrollEnd);t.end.y<=0&&r.niceScrollTopEnd&&n.$evalAsync(r.niceScrollTopEnd)};n.$on("$destroy",function(){angular.isDefined(u.version)&&u.remove()})}return{link:i}}angular.module("angular-nicescroll",[]).directive("ngNicescroll",n);n.$inject=["$rootScope","$parse"]}();
/*! Copyright (c) 2014 Hidenari Nozaki and contributors | Licensed under the MIT license */
(function(n,t){"use strict";typeof module!="undefined"&&module.exports?module.exports=t(require("angular")):typeof define=="function"&&define.amd?define(["angular"],t):t(n.angular)})(window,function(n){"use strict";n.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(n,t,i,r,u,f,e){function tt(t,f,e,l){function ri(n,i){n&&(typeof n=="object"?(t.searchStr=vt(n),ht({originalObject:n})):typeof n=="string"&&n.length>0?t.searchStr=n:console&&console.error&&console.error("Tried to set "+(!i?"":"initial")+" value of angucomplete to",n,"which is an invalid value"),ut(!0))}function ui(n){rt=null;t.hideResults(n);document.body.removeEventListener("click",ui)}function fi(n){return n.which?n.which:n.keyCode}function ht(n){typeof t.selectedObject=="function"?t.selectedObject(n,t.selectedObjectData):t.selectedObject=n;n?ut(!0):ut(!1)}function bi(n){return function(i){return t[n]?t[n](i):i}}function ki(n){ht({originalObject:n});t.clearSelected&&(t.searchStr=null);et()}function vt(n){return t.titleField.split(",").map(function(t){return st(n,t)}).join(" ")}function st(n,t){var u,i,r;if(t)for(u=t.split("."),i=n,r=0;r<u.length;r++)i=i[u[r]];else i=n;return i}function ei(n,i){var e,u,f;if(f=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),n)return n.match&&n.replace||(n=n.toString()),u=n.match(f),e=u?n.replace(f,'<span class="'+t.matchClass+'">'+u[0]+"<\/span>"):n,r.trustAsHtml(e)}function ut(n){t.notEmpty=n;at=t.searchStr;t.fieldRequired&&l&&t.inputName&&l[t.inputName].$setValidity(wt,n)}function di(n){var i=fi(n);if(i!==v&&i!==a)if(i===s||i===c)n.preventDefault();else if(i===o)n.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=it&&(yi(),t.searching=!0,pi(t.searchStr));else if(i===h)et(),t.$apply(function(){ft.val(t.searchStr)});else{if(it===0&&!t.searchStr)return;t.searchStr&&t.searchStr!==""?t.searchStr.length>=it&&(yi(),lt&&u.cancel(lt),t.searching=!0,lt=u(function(){pi(t.searchStr)},t.pause)):t.showDropdown=!1;at&&at!==t.searchStr&&!t.clearSelected&&t.$apply(function(){ht()})}}function yt(n){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(n&&n.preventDefault(),u.cancel(lt),ct(),ki(t.searchStr))}function gi(n){var t=getComputedStyle(n);return n.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function nr(){return tt.getBoundingClientRect().top+parseInt(getComputedStyle(tt).maxHeight,10)}function oi(){return f[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function tr(){return oi().getBoundingClientRect().top-(tt.getBoundingClientRect().top+parseInt(getComputedStyle(tt).paddingTop,10))}function si(n){tt.scrollTop=tt.scrollTop+n}function hi(){var n=t.results[t.currentIndex];t.matchClass?ft.val(vt(n.originalObject)):ft.val(n.title)}function ir(n){var i=fi(n),r=null,u=null;i===c&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(n.preventDefault(),t.selectResult(t.results[t.currentIndex])):(yt(n),et()),t.$apply()):i===o&&t.results?(n.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++;hi()}),kt&&(r=oi(),nr()<r.getBoundingClientRect().bottom&&si(gi(r))))):i===s&&t.results?(n.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--;hi()}),kt&&(u=tr(),u<0&&si(u-1))):t.currentIndex===0&&t.$apply(function(){t.currentIndex=-1;ft.val(t.searchStr)})):i===y?t.results&&t.results.length>0&&t.showDropdown?t.currentIndex===-1&&t.overrideSuggestions?yt():(t.currentIndex===-1&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&yt():i===h&&n.preventDefault()}function ci(n){return function(i,r,u,f){r||u||f||!i.data||(i=i.data);t.searching=!1;dt(st(gt(i),t.remoteUrlDataField),n)}}function li(n,i,r,u){(t.searching=bt,i||r||u||(i=n.status),i!==0&&i!==-1)&&(t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(n,i,r,u):console&&console.error&&console.error("http error"))}function ct(){ot&&ot.resolve()}function ai(r){var u={},f=t.remoteUrl+encodeURIComponent(r);t.remoteUrlRequestFormatter&&(u={params:t.remoteUrlRequestFormatter(r)},f=t.remoteUrl);!t.remoteUrlRequestWithCredentials||(u.withCredentials=!0);ct();ot=n.defer();u.timeout=ot.promise;bt=!0;i.get(f,u).then(ci(r)).catch(li).finally(function(){bt=!1})}function vi(i){ct();ot=n.defer();t.remoteApiHandler(i,ot.promise).then(ci(i)).catch(li)}function et(){t.showDropdown=!1;t.results=[];tt&&(tt.scrollTop=0)}function yi(){t.showDropdown=ti;t.currentIndex=t.focusFirst?0:-1;t.results=[]}function rr(n){var i,r,u,e,o=t.searchFields.split(","),f=[];for(typeof t.parseInput()!="undefined"&&(n=t.parseInput()(n)),i=0;i<t.localData.length;i++){for(r=!1,u=0;u<o.length;u++)e=st(t.localData[i],o[u])||"",r=r||e.toString().toLowerCase().indexOf(n.toString().toLowerCase())>=0;r&&(f[f.length]=t.localData[i])}return f}function ur(n,i,r){if(!r)return!1;for(var u in i)if(i[u].toLowerCase()===r.toLowerCase())return t.selectResult(n),!0;return!1}function pi(n){!n||n.length<it||(t.localData?t.$apply(function(){var i;i=typeof t.localSearch()!="undefined"?t.localSearch()(n,t.localData):rr(n);t.searching=!1;dt(i,n)}):t.remoteApiHandler?vi(n):ai(n))}function dt(n,i){var r,u,f,e,o,s;if(n&&n.length>0)for(t.results=[],r=0;r<n.length;r++)t.titleField&&t.titleField!==""&&(e=o=vt(n[r])),u="",t.descriptionField&&(u=s=st(n[r],t.descriptionField)),f="",t.imageField&&(f=st(n[r],t.imageField)),t.matchClass&&(o=ei(e,i),s=ei(u,i)),t.results[t.results.length]={title:o,description:s,image:f,originalObject:n[r]};else t.results=[];t.showDropdown=t.autoMatch&&t.results.length===1&&ur(t.results[0],{title:e,desc:u||""},t.searchStr)?!1:t.results.length!==0||ii?!0:!1}function wi(){t.localData?(t.searching=!1,dt(t.localData,"")):t.remoteApiHandler?(t.searching=!0,vi("")):(t.searching=!0,ai(""))}var ft=f.find("input"),it=p,lt=null,pt,wt=d,gt,at=null,ot=null,bt=!1,tt=f[0].querySelector(".angucomplete-dropdown"),kt=!1,rt=null,ni,ti,ii;f.on("mousedown",function(n){n.target.id?(rt=n.target.id,rt===t.id+"_dropdown"&&document.body.addEventListener("click",ui)):rt=n.target.className});t.currentIndex=t.focusFirst?0:null;t.searching=!1;ni=t.$watch("initialValue",function(n){n&&(ni(),ri(n,!0))});t.$watch("fieldRequired",function(n,i){n!==i&&(n?at&&t.currentIndex!==-1?ut(!0):ut(!1):l[t.inputName].$setValidity(wt,!0))});t.$on("angucomplete-alt:clearInput",function(n,i){i&&i!==t.id||(t.searchStr=null,ht(),ut(!1),et())});t.$on("angucomplete-alt:changeInput",function(n,i,r){!i||i!==t.id||ri(r)});t.onFocusHandler=function(){t.focusIn&&t.focusIn();it!==0||t.searchStr&&t.searchStr.length!==0||(t.currentIndex=t.focusFirst?0:t.currentIndex,t.showDropdown=!0,wi())};t.hideResults=function(){rt&&(rt===t.id+"_dropdown"||rt.indexOf("angucomplete")>=0)?rt=null:(pt=u(function(){et();t.$apply(function(){t.searchStr&&t.searchStr.length>0&&ft.val(t.searchStr)})},k),ct(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&t.currentIndex===-1&&yt())};t.resetHideResults=function(){pt&&u.cancel(pt)};t.hoverRow=function(n){t.currentIndex=n};t.selectResult=function(n){t.matchClass&&(n.title=vt(n.originalObject),n.description=st(n.originalObject,t.descriptionField));t.searchStr=t.clearSelected?null:n.title;ht(n);et()};t.inputChangeHandler=function(n){return n.length<it?(ct(),et()):n.length===0&&it===0&&wi(),t.inputChanged&&(n=t.inputChanged(n)),n};t.fieldRequiredClass&&t.fieldRequiredClass!==""&&(wt=t.fieldRequiredClass);t.minlength&&t.minlength!==""&&(it=parseInt(t.minlength,10));t.pause||(t.pause=b);t.clearSelected||(t.clearSelected=!1);t.overrideSuggestions||(t.overrideSuggestions=!1);t.fieldRequired&&l&&(t.initialValue?ut(!0):ut(!1));t.inputType=e.type?e.type:"text";t.textSearching=e.textSearching?e.textSearching:g;t.textNoResults=e.textNoResults?e.textNoResults:nt;ti=t.textSearching==="false"?!1:!0;ii=t.textNoResults==="false"?!1:!0;t.maxlength=e.maxlength?e.maxlength:w;ft.on("keydown",ir);ft.on("keyup compositionend",di);gt=bi("remoteUrlResponseFormatter");u(function(){var n=getComputedStyle(tt);kt=n.maxHeight&&n.overflowY==="auto"})}var o=40,a=39,s=38,v=37,h=27,c=13,y=9,p=3,w=524288,b=500,k=200,d="autocomplete-required",g="Searching...",nt="No results found",l="/angucomplete-alt/index.html";return f.put(l,'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" tabindex="{{fieldTabindex}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"><\/div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"><\/div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"><\/div>      <\/div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"><\/div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}<\/div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"><\/div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}<\/div>    <\/div>  <\/div><\/div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",selectedObjectData:"=",disableInput:"=",initialValue:"=",localData:"=",localSearch:"&",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",textSearching:"@",textNoResults:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"=",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",fieldTabindex:"@",inputName:"@",focusFirst:"@",parseInput:"&"},templateUrl:function(n,t){return t.templateUrl||l},compile:function(n){var t=e.startSymbol(),i=e.endSymbol(),r;return t==="{{"&&i==="}}"||(r=n.html().replace(/\{\{/g,t).replace(/\}\}/g,i),n.html(r)),tt}}}])}),function(n,t){function r(n){return t.isUndefined(n)||n===""||n===null||n!==n||typeof n==undefined}var i=t.module("viValidation",[]);MessageUtil={ERROR_MESSAGES:{required:"This field is required.",min:"This field should not be smaller than min value.",max:"This field should not be larger than max value.",minlength:"This field length should not be smaller than minimum.",maxlength:"This field length should not be larger than maximum.",pattern:"This field doesn't match the format.",email:"This field doesn't match the email format.",mask:"This field doesn't match the format.",datetimerange:"This field should be in the range of minimum and maximum.",datetimeformat:"This field doesn't match the format.",disallowHtml:"You cannot use HTML or ASP.NET code in the field.",multipleEmails:"This field contains invalid email address."},buildMessagesHTML:function(n){var r=t.extend({},this.ERROR_MESSAGES,n||{}),i="";return t.forEach(r,function(n,t){i+='<div ng-message="'+t+'">'+n+"<\/div>"}),i},defaultMessagesHTML:""};MessageUtil.defaultMessagesHTML=MessageUtil.buildMessagesHTML();i.directive("validateinput",["$compile","$parse","$timeout",function(n,i,r){return{restrict:"A",require:"^form",link:function(i,u,f,e){var h=f.validateinputErrorMessage||"",c=f.validateinputMessageElement?t.element(f.validateinputMessageElement):u,l=u.find(f.validateinputTarget||"[ng-model]"),s,o;l.addClass("error-target").attr("error-target","");s=null;o=null;r(function(){var t,v,l,y;f.validateinputFieldName&&(o=i.$eval(f.validateinputFieldName)||f.validateinputFieldName);f.validateinputErrorMessagesExpr&&(s=f.validateinputErrorMessagesExpr);t=u.find("[ng-model][name]");t.length>0&&(s||(s=t.attr("error-messages-expr")),o||(o=t.attr("name")+"",o.length>2&&o.substr(0,2)=="{{"&&(o=o.substr(2,o.length-4),o=i.$eval(o))));var r="",a=u.attr("validate-hide-message"),p=typeof a!=typeof undefined&&a!==!1;p||(s?(v=i.$eval(s),r=MessageUtil.buildMessagesHTML(v)):r=h?'<div ng-messages-include="'+h+'"><\/div>':MessageUtil.defaultMessagesHTML,l=e.$name+"."+o,y='<div ng-messages="'+l+'.$error" ng-show="'+l+".$dirty || "+e.$name+'.$submitted">'+r+"<\/div>",c.append(n(y)(i)));i.$watch(function(){if(o&&e[o])return e[o].$invalid&&(e[o].$dirty||e.$submitted)},function(n){n?u.addClass("has-error"):u.removeClass("has-error")})})}}}]);i.directive("ngMin",["$timeout",function(n){return{restrict:"A",require:"ngModel",link:function(t,i,u,f){t.$watch(u.ngMin,function(){n(function(){f.$validate()})});f.$validators.min=function(n){var i=parseInt(u.ngMin)||t.$eval(u.ngMin)||-Infinity;return!r(n)&&parseInt(n)<i?!1:!0}}}}]);i.directive("ngMax",["$timeout",function(n){return{restrict:"A",require:"ngModel",link:function(t,i,u,f){t.$watch(u.ngMax,function(){n(function(){f.$validate()})});f.$validators.max=function(n){var i=parseInt(u.ngMax)||t.$eval(u.ngMax)||Infinity;return!r(n)&&parseInt(n)>i?!1:!0}}}}]);i.directive("viDatetimerange",["$timeout",function(n){return{restrict:"A",require:"ngModel",link:function(t,i,r,u){u.$validators.datetimerange=function(n){var i;if(u.$isEmpty(n))return!0;var o=new Date(n),e=!1,f=t.$eval(r.kMax)||new Date(2099,11,31);return f&&(f=new Date(f.toString()),o>f&&(e=!0)),i=t.$eval(r.kMin)||new Date(1900,0,1),i&&(i=new Date(i.toString()),o<i&&(e=!0)),!e};t.$watch(r.kMax,function(){n(function(){u.$validate()})});t.$watch(r.kMin,function(){n(function(){u.$validate()})});t.$watch(r.viUseDateOnly,function(){var n=t.$parent.$parent.field.meta;n.settingObj&&n.settingObj.datetimeRangeMax&&n.settingObj.datetimeRangeMax.length<12&&(n.settingObj.datetimeRangeMax=$.formatDate($.parseDate(n.settingObj.datetimeRangeMax),"MM/dd/yyyy hh:mm tt"));n.settingObj&&n.settingObj.datetimeRangeMin&&n.settingObj.datetimeRangeMax.length<12&&(n.settingObj.datetimeRangeMin=$.formatDate($.parseDate(n.settingObj.datetimeRangeMin),"MM/dd/yyyy hh:mm tt"));n.defaultValueDatetime&&n.defaultValueDatetime.length<12&&(n.defaultValueDatetime=$.formatDate($.parseDate(n.defaultValueDatetime),"MM/dd/yyyy hh:mm tt"))})}}}]);i.directive("viDatetimeformat",["$timeout",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){var u=function(n){var t,i;if(r.$isEmpty(n))return!0;t=!1;try{i=Date.parse(n);isNaN(i)&&(t=!0)}catch(u){t=!0}return!t};r.$formatters.push(function(n){return n});r.$parsers.push(function(n){return n});r.$validators.datetimeformat=function(n){return u(n)};i.$observe("viDatetimeformat",function(n){r.$setValidity("datetimeformat",u(n))})}}}]);i.directive("viCompareWithStartDate",["$timeout",function(n){return{restrict:"A",require:"?ngModel",link:function(i,r,u,f){var e=function(n,t){return n&&t?(t instanceof Date||(t=new Date(t)),n instanceof Date||(n=new Date(n)),n>=t):!0},o=function(n,i){var n;if(n&&i.length==2){var r=i[1].split(":"),u=t.element(r[1]).controller("ngModel").$modelValue,f=u&&r[0]=="startAllDay",e=u&&r[0]=="endAllDay";f&&(n=new Date(n),n.setHours(0,0,0,0));e&&(n=new Date(n),n.setHours(23,59,0,0))}return n};n(function(){for(var r=u.viCompareWithStartDate.split(","),n=0;n<r.length;n++)(function(n,u){var h=u.split("|"),c=h[0],s=t.element("[ng-model='"+c+"']"),l=s.controller("ngModel"),a;i.$watch(function(){return f.$modelValue},function(){f.$validate()});i.$watch(function(){return l.$modelValue},function(){f.$validate()});a=r.length==1?"checkStartDate":"checkStartDate_"+n;f.$validators[a]=function(n){var i,r;return s.controller("ngModel")||(s=t.element("[ng-model='"+c+"']"),l=s.controller("ngModel")),i=s.controller("ngModel").$modelValue,i=o(i,h),r=n,e(r,i)}})(n,r[n])},100)}}}]);i.directive("viCompareWithEndDate",["$timeout",function(n){return{restrict:"A",require:"?ngModel",link:function(i,r,u,f){var e=function(n,t){return n&&t?(t instanceof Date||(t=new Date(t)),n instanceof Date||(n=new Date(n)),n>=t):!0},o=function(n,i){var n;if(n&&i.length==2){var r=i[1].split(":"),u=t.element(r[1]).controller("ngModel").$modelValue,f=u&&r[0]=="startAllDay",e=u&&r[0]=="endAllDay";f&&(n=new Date(n),n.setHours(0,0,0,0));e&&(n=new Date(n),n.setHours(23,59,0,0))}return n};n(function(){for(var r=u.viCompareWithEndDate.split(","),n=0;n<r.length;n++)(function(n,u){var h=u.split("|"),c=h[0],s=t.element("[ng-model='"+c+"']"),l=s.controller("ngModel"),a;i.$watch(function(){return f.$modelValue},function(){f.$validate()});i.$watch(function(){return l.$modelValue},function(){f.$validate()});a=r.length==1?"checkEndDate":"checkEndDate_"+n;f.$validators[a]=function(n){var i,r;return s.controller("ngModel")||(s=t.element("[ng-model='"+c+"']"),l=s.controller("ngModel")),i=s.controller("ngModel").$modelValue,i=o(i,h),r=n,e(i,r)}})(n,r[n])},100)}}}]);i.directive("viAllowHtml",["$timeout",function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){var u=n.$eval(i.viAllowHtml||"true");r.$validators.disallowHtml=function(n){return!u&&n?!/<(S*?)[^>]*>.*?|<.*?\/>/ig.test(n):!0}}}}]);i.directive("ngMaxlength",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i){var f=[8,9,13,16,17,18,19,20,27],u=$(t),e=n.$eval(i.viNotAllowInput||"true");u.on("keyup",function(t){if($.inArray(f,t.keyCode)>-1)return!0;var s=parseInt(i.ngMaxlength)||n.$eval(i.ngMaxlength)||Infinity,o=u.val();if(e&&!r(o)&&o.length>s)return u.val(o.substr(0,o.length-1)),!1})}}});i.directive("viMultipleEmails",["$timeout",function(){return{restrict:"A",require:"?ngModel",link:function(n,t,i,r){var f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,u=function(n){var t,r,i;if(!n)return!0;for(t=[],(n.indexOf(";")>-1||n.indexOf(",")>-1)&&(t=t.concat(n.split(/[;,]/))),t.length==0&&t.push(n),r=!0,i=0;i<t.length;i++)if(t[i]=$.trim(t[i]),t[i]==""){r=!1;break}else r=f.test(t[i]);return r};n.$watch(function(){return r.$viewValue},function(){r.$setValidity("multipleEmails",u(r.$viewValue))});r.$validators.multipleEmails=function(n){return u(n)}}}}])}(window,angular),function(n,t){var i=t.module("vi.common",["ngSanitize"]);n.visionApps&&i.constant("frontendCoreConfig",{cmsEndPoint:n.visionOptions.virtualApplicationPath}).config(["$httpProvider",function(n){n.interceptors.push("viCommonAPIInterceptor")}]).service("viCommonAPIInterceptor",[function(){var t=this;t.request=function(t){if(n.visionApps.token){if(!n.InterceptorNextExtendingMinTime||(new Date).getTime()>n.InterceptorNextExtendingMinTime){n.InterceptorNextExtendingMinTime=(new Date).getTime()+6e4;var i=$.vision?$.vision():$.frontendSessionManager?$.frontendSessionManager():null;i&&i.extendSessionTimeout(function(){},!0)}t.headers.Authorization||(t.headers.Authorization="Bearer "+n.visionApps.token)}return t}}])}(window,angular,jQuery),function(){"use strict";var n=angular.module("vi.fe.common",[]),t=angular.extend({loginPage:"",popupLoginPage:"",photoBaseUrl:"",photoBaseUrlForPeople:"",token:"",cmsUserLogged:!1,anonymousAvatar:"",loginUser:{name:"",avatar:"",userID:0,firstName:"",lastName:"",imageID:null,email:""}},window.frontendCommonConfig||{});n.constant("commonConfig",t)}(),function(n,t){var i=t.module("vi.common");i.directive("viFePoshytip",["$timeout",function(n){return{link:function(t,i){var r=$(i);$(function(){$.fn.poshytip&&n(function(){r.poshytip();r.hasClass("click-show")&&r.bind("click",function(){var n=$(this),t=n.data("poshytip");t&&t.$tip.data("active")?n.poshytip("hide"):n.poshytip("show")})},0)})}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.common");i.directive("viSysFormatDate",["$compile","viUIDateTimeFormatConfig","viUIDateTimeConverter",function(n,i,r){return{restrict:"EA",template:'<span title="{{formattedValue}}" ng-if="showTitle">{{formattedValue}}<\/span><span ng-if="!showTitle">{{formattedValue}}<\/span>',scope:{curVal:"=",settingStr:"=",settingObj:"=",showTitle:"="},link:function(n){var i=n.settingObj||t.fromJson(n.settingStr||'""');n.formattedValue=n.curVal?i&&i.datetimeUseDateOnly?r.dateToString(null,r.stringToDate(null,n.curVal,!0)):r.dateTimeToString(null,r.stringToDateTime(null,n.curVal," ",!0),null):""}}}])}(window,window.angular,jQuery),function(n,t){var i=t.module("vi.common");i.directive("viSysFormatPhone",["$compile",function(){return{restrict:"EA",template:'<span ng-if="showTitle" title="{{FormattedValue}}">{{FormattedValue}}<\/span><span ng-if="!showTitle">{{FormattedValue}}<\/span>',scope:{curVal:"=",showTitle:"="},link:function(t){var i=n.visionApps.cms_core,r=i.PhoneFormat.replace(/9/g,"0");$.viFormatPhone||$.extend($,{viFormatPhone:function(n,t){if(n){var u=(""+n).replace(/\D/g,""),i=u.match(/^(\d{3})(\d{3})(\d{4})$/),r=t.replace("{0:","").replace("}","").replace(/\\/g,"");return i?r?r.indexOf("9")>=0?r.replace("999",i[1]).replace("999",i[2]).replace("9999",i[3]):r.replace("000",i[1]).replace("000",i[2]).replace("0000",i[3]):"("+i[1]+") "+i[2]+"-"+i[3]:""}return""}});t.FormattedValue=t.curVal?$.viFormatPhone(t.curVal,r):""}}}])}(window,window.angular,jQuery),function(n,t){var i=t.module("vi.common");i.directive("viEnter",function(){return function(n,t,i){t.bind("keydown keypress",function(t){t.which===13&&(n.$apply(function(){n.$eval(i.viEnter)}),t.preventDefault())})}})}(window,angular),function(n,t){var i=t.module("vi.common");i.directive("viPagination",["$parse",function(){return{scope:{totalItems:"=",pageSize:"=",pageNumber:"=",changePage:"&",initApi:"&"},replace:!0,restrict:"EA",template:'<div class="list-pager" ng-show="totalPages > 1"><a href="javascript:void(0);" ng-click="selectPage(1, $event)" ng-class="noPrevious() ? \'disabled\' : \'pg-normal\'" class="pg-button pg-first-button">  First <\/a><a href="javascript:void(0);" ng-click="selectPage(currentPage - 1, $event)" ng-class="noPrevious() ? \'disabled\' : \'pg-normal\'" class="pg-button pg-prev-button">  Previous <\/a> | <a ng-repeat="page in pages track by $index" href="javascript:void(0);" ng-click="selectPage(page, $event)" ng-class="page==currentPage ? \'pg-selected\' : \'pg-normal\'">{{page}}<\/a> | <a href="javascript:void(0);" ng-click="selectPage(currentPage + 1, $event)" ng-class="noNext() ? \'disabled\' : \'pg-normal\'" class="pg-button pg-next-button"> Next  <\/a><a href="javascript:void(0);" ng-click="selectPage(totalPages, $event)" ng-class="noNext() ? \'disabled\' : \'pg-normal\'" class="pg-button pg-first-button"> Last  <\/a><\/div>',link:function(n){function i(){var i=r(n.currentPage,n.totalPages);n.pages.splice(0,n.pages.length);t.forEach(i,function(t){n.pages.push(t)})}function r(n,t){var e=[],r=1,u=t,i=10,f,o;for(i<t&&(r=Math.max(n-Math.floor(i/2),1),u=r+i-1,u>t&&(u=t,r=u-i+1)),f=r;f<=u;f++)o=f,e.push(o);return e}n.initApi({api:{toFirst:function(){n.selectPage(1,null)}}});n.currentPage=n.pageNumber||1;n.totalPages=Math.floor((n.totalItems+n.pageSize-1)/n.pageSize);n.pages=[];n.selectPage=function(r,u){if(u){var f=t.element(u.target);if(f.hasClass("disabled")||f.hasClass("pg-selected"))return}n.currentPage=r;i();n.changePage({number:n.currentPage})};n.noPrevious=function(){return n.currentPage==1};n.noNext=function(){return n.currentPage==n.totalPages};n.$watch(function(){return n.currentPage==n.totalPages});n.$watch(function(){return n.totalItems},function(){n.totalPages=Math.floor((n.totalItems+n.pageSize-1)/n.pageSize);i();n.currentPage>n.totalPages&&(n.currentPage=n.totalPages||1,n.changePage({number:n.currentPage}))});n.$watch(function(){return n.pageSize},function(){n.totalPages=Math.floor((n.totalItems+n.pageSize-1)/n.pageSize);i();n.currentPage>n.totalPages&&(n.currentPage=n.totalPages||1,n.changePage({number:n.currentPage}))});i()}}}])}(window,angular),function(n,t){var i=t.module("vi.common"),r="?navid=",u=n.visionOptions.loggedIn?"home/showimage":"home/showpublishedimage",f="home/showdocument",e=/(href\s*=\s*[\"'])(\s*\/?\?\s*navid\s*=)(.*?[\"'])/ig,o=/(href\s*=\s*[\"'])(?!(http[s]?:))[^'\"]*?home\/showdocument\s*(\?.*?[\"'])/ig,s=/(src\s*=\s*[\"'])(?!(http[s]?:))[^'\"]*?home\/showimage\s*(\?.*?[\"'])/ig,h=/(href\s*=\s*[\"'])?((http|https|ftp)\:\/\/([a-zA-Z0-9\.\-]+(\:[a-zA-Z0-9\.&amp;%\$\-]+)*@)?((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9])\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0)\.(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9\-]+\.)*[a-zA-Z0-9\-]+\.[a-zA-Z]{2,4})(\:[0-9]+)?[^\s`'\"<>]*)['\"]?/ig,c=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]+\b([-a-zA-Z0-9@:%_\+.~#?&//=/(/)]*)/ig;i.filter("maskTextToStore",[function(){return function(n){var t=n;return(t=="<br />"||t=="<br/>"||t=="<br>")&&(t=""),t=t.replace(s,"$1"+u+"$3"),t=t.replace(o,"$1"+f+"$3"),t.replace(e,"$1"+r+"$3")}}]).filter("maskText",[function(){return function(i,c,l){var a,v;return t.isString(i)?(c=c||!1,l=l||!1,a=n.visionOptions.virtualApplicationPath,a.endsWith("/")||(a+="/"),c&&(a=n.location.origin+a),i=i.replace(s,"$1"+a+u+"$3"),i=i.replace(o,"$1"+a+f+"$3"),i=i.replace(e,"$1"+a+r+"$3"),l&&(v=n.visionOptions.enableSplashUrl,v&&(i=i.replace(h,"$1"+a+'?splash=$2&____isexternal=true"'))),i):i}}]);i.filter("textToHtml",[function(){return function(n){return n&&t.isString(n)?n.replace(/\r\n|\r|\n/g,"<br/>"):n}}]);i.filter("distinctLength",["viUtils",function(){return function(n,t){n=n||[];var i=Enumerable.From(n),r=[];return r=t?i.SelectMany("value,index=>value."+t):i,r.Distinct().Count()}}]).filter("lengthCountLeft",["viUtils",function(){return function(n,i,r){if(n=n||"",r=r||!1,r){var f=n.match(c),u=n.length;return t.forEach(f,function(n){u=u-n.length+23}),i-u}return i-n.length}}]).filter("hasFlag",function(){return function(n,t){return(n&t)>0}}).filter("replaceMultiEmptyLine",function(){return function(n){return n?n.replace(/(<br\/>[\n\s]*)+/ig,"<br/>"):n}}).filter("to_trusted",["$sce",function(n){return function(t){return n.trustAsHtml(t)}}]).filter("disableAllLinks",[function(){return function(n){return n.replace(/href="([^\'\"]+)/ig,"href='javascript: void(0)'")}}])}(window,window.angular),function(n,t){"use strict";function r(){function n(n,t,i,r){var u=n||"";if(i=i||!0,r=r||!0,u.length>0){if(u=$("<div><\/div>").html(u).text(),r)for(u=u.trim();u.indexOf("  ")>0;)u=u.replace(/  /g," ");t&&u.Length>t&&t>3&&(u=u.Substring(0,t-3)+"...")}return u}return{formatHtmlToText:n}}var i=t.module("vi.fe.common");i.factory("feUtils",r)}(window,angular,jQuery),function(n,t){var r=t.module("vi.common"),i=function(n,t){this._http=n;this._coreConfig=t};i.prototype={defaultClasses:[],registerAll:function(n){var t=this;t.defaultClasses.forEach(function(i){t.registerClassForObject(n,i)})},registerClassForObject:function(n,t){var i=t.split(".");return this.registerObject(n,i,t)},registerClass:function(n){return this.IEBrowserService||(this.IEBrowserService={}),this.registerClassForObject(this.IEBrowserService,n)},registerObject:function(n,t,i){var f=this,r,u;return t.length>0&&(r=t[0],t.splice(0,1),n[r]===undefined&&(t.length==0?(u=i.replace(/\./g,"/"),n[r]=function(n){function e(n){var t="",i=!0;for(var r in n)t+=(i?"":"&")+r+"="+n[r],i=!1;return t}var i=r.startsWith("$")?"GET":"POST",t=e(n);return t.length>0&&(t="?"+t),u=i==="POST"?u:u.replace(/\/\$get/ig,"")+t,f.http({url:u,data:n,method:i})}):n[r]={}),this.registerObject(n[r],t,i)),this},isIEBrowser:function(n){return n=n||navigator.userAgent,n.indexOf("MSIE ")>-1||n.indexOf("Trident/")>-1},normalizeCmsURL:function(n){return n&&/^((http[s]?:\/\/)|(\/))/i.test(n)===!1?this._coreConfig.cmsEndPoint+n:n},http:function(n){var t=n;return t.url=this.normalizeCmsURL(t.url),this._http(t)},IEBrowserService:null,getService:function(){var n=this;return n.isIEBrowser()?(n.IEBrowserService||(n.IEBrowserService={},n.registerAll(n.IEBrowserService)),n.IEBrowserService):new Proxy(function(){return{next:function(n){n.toUpperCase()=="$GET"||n.toUpperCase()=="$POST"?this.methodType=n.substring(1):(typeof this.methodName=="undefined"&&(this.methodName=""),this.methodName.length>0&&(this.methodName+="/"),this.methodName+=""+n)},execute:function(t){return n.execute(this.methodName,t,this.methodType)}}},this.recursiveHandler)},_generateParams:function(n,t,i){var u,f,r;if(params={},qsParams="",t.length>0&&typeof t[0]=="object"){u=t[0];f=!0;for(r in u)r&&typeof u[r]!="undefined"&&u[r]&&(params[r]=u[r],f||(qsParams+="&"),qsParams+=r+"="+u[r],f=!1)}return i=="POST"?{url:n,data:params}:{url:n+"?"+qsParams}},execute:function(n,t,i){var r=i||"POST",u=this._generateParams(n,t,r);return this.http({url:u.url,data:u.data,method:r})},recursiveHandler:{get:function(n,t){var r=this,i=n();return i.next(t),new Proxy(function(){return i},r)},apply:function(n,t,i){var r=n();return r.execute(i)}}};r.factory("viFrontendCoreService",["$http","frontendCoreConfig",function(n,t){return new i(n,t)}])}(window,window.angular),function(n,t){"use strict";function i(n){function i(t){var i={enable:!1,key:"",avatar:n.anonymousAvatar||"",name:"(Anonymous)"};$.extend(i,t);this.enable=i.enable;this.key=i.key;this.avatar=i.avatar;this.name=i.name}i.prototype.getID=function(){var n,t;return this.enable&&localStorage&&this.key?(n=localStorage.getItem(this.key),n||(t=Math.floor(Math.random()*1e7+1).toString(),localStorage.setItem(this.key,t),n=localStorage.getItem(this.key)),n):null};var t=[];return{anonymous:function(n,t){this.data(t).enable=n},data:function(n){var r=(n||"cms6_anonymous_id").toString(),u=t[r];return u?u:(t[r]=new i({key:r}),t[r])}}}var r=t.module("vi.fe.common");r.factory("anonymousUser",i);i.$inject=["commonConfig","$window"]}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.common");i.factory("currentUser",["commonConfig","$window",function(i,r){function u(){var n={name:"",avatar:"",userID:0,firstName:"",lastName:"",imageID:null,email:"",loggedIn:function(){return this.userID&&this.userID>0}};return t.extend(n,i.loginUser||{}),n}function f(t,u){var f,e;if(n.visionOptions.loggedIn){alert("Please log out your CMS user account first and try again.");return}f=!t||r.confirm(u||"Please login to your account or create a new one to support public comments.");f&&(e=i.loginPage+"?returnUrl="+encodeURIComponent(r.location.href),r.location.href=e)}function e(u,f,e){if(n.visionOptions.loggedIn){alert("It's not available for CMS User.");return}if(!f||r.confirm(e||"Please login to your account or create a new one to support attachment."))var o=this.profile(),s=$.viClientDialog({title:"Login",url:i.popupLoginPage,useFrame:!1,onClosed:function(n){n&&(t.extend(i.loginUser,n||{}),u&&u())}}).open()}function o(){var n=this.profile();return{userID:n.userID,email:n.email,imageID:n.imageID,firstName:n.firstName,lastName:n.lastName}}return{profile:u,login:f,popupLogin:e,buildUserParams:o}}])}(window,angular),function(n,t){var i=t.module("vi.common");i.factory("viUtils",["$http",function(){var n={};return n.isEmail=function(n){return/^.+@.+([\.][a-z]+)+$/i.test(n)},n.viInitWatchList=function(n,i,r){r=r||"";r.length>0&&(r=r+".");i=i||n;var u=i._watchList||[];t.forEach(u,function(t,i){n.$watch(r+i,t)})},n.cascadeVal=function(n,i,r){var e=i.split("."),o,u,f;if(t.isDefined(r))o=n,u=o,t.forEach(e,function(n,t){u[n]=t<e.length-1?u[n]||{}:r;u=u[n]});else return f=n,t.forEach(e,function(n){f=f[n]}),f},n.standardizedArray=function(n){return t.forEach(n,function(n){n.Value&&n.Key&&!n.ID&&(n.ID=n.Value,n.Name=n.Key)}),n},n}])}(window,window.angular),function(n,t){var i=t.module("vi.frontend.list.module",["vi.common"])}(window,angular,jQuery),function(n,t){var i=t.module("vi.frontend.list.module");i.directive("viFrontendDetail",["$templateCache","$http","$compile",function(){return{restrict:"EA",replace:!1,scope:{detail:"=",formatter:"=sysConfig"},templateUrl:function(n,t){return t.templateurl||visionOptions.virtualApplicationPath+"Scripts/angularjs-plugins/vi.frontend.list/directives/viFrontendDetail.html"},link:function(){}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.frontend.list.module");i.directive("viFrontendList",[function(){return{restrict:"EA",replace:!0,scope:{listBuilder:"=builder",formatter:"="},templateUrl:function(n,t){return t.templateurl||visionOptions.virtualApplicationPath+"Scripts/angularjs-plugins/vi.frontend.list/directives/viFrontendList.html"},link:function(){}}}]);i.directive("viFrontendListEmpty",[function(){return{restrict:"EA",replace:!0,scope:{builder:"="},template:"<div class='content_area no-padding-left' ng-show='builder.records.length==0 && builder.dataBag.dataLoaded'>No results found.<\/div>",link:function(){}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.frontend.list.module");i.directive("viFrontendListFilters",[function(){return{restrict:"EA",replace:!0,scope:{builder:"="},link:function(){}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.frontend.list.module");i.directive("viFrontendListPagination",[function(){return{restrict:"EA",replace:!1,scope:{pageBuilder:"="},template:"<div class='list-pager' ng-if='pageBuilder.matchCount > 0'>   <a class=\"{{ pageBuilder.buildClass(null, 'first') }} pg-button pg-first-button\" ng-href=\"{{ pageBuilder.buildLink(null, 'first') }} \">  First <\/a>   <a class=\"{{ pageBuilder.buildClass(null, 'prev') }} pg-button pg-prev-button\" ng-href=\"{{ pageBuilder.buildLink(null, 'prev') }} \" >  Prev <\/a>   <a ng-if='pageBuilder.hasLeft()' ng-href=\"{{ pageBuilder.buildLink(null, 'left')}}\">...<\/a> |   <span ng-repeat='index in pageBuilder.pages()'><a class='{{ pageBuilder.buildClass(index) }}' href='{{ pageBuilder.buildLink(index) }}'> {{ index  }} <\/a> | <\/span>     <a ng-if='pageBuilder.hasRight()' ng-href=\"{{ pageBuilder.buildLink(null, 'right')}}\">...<\/a>   <a class=\"{{ pageBuilder.buildClass(null, 'next') }} pg-button pg-next-button\" ng-href=\"{{ pageBuilder.buildLink(null, 'next') }}\"> Next  <\/a>   <a class=\"{{ pageBuilder.buildClass(null, 'next') }} pg-button pg-next-button\" ng-href=\"{{ pageBuilder.buildLink(null, 'last') }} \" > Last  <\/a>   <span class='pager-info'>       {{  pageBuilder.getFooterInfo() }}    <\/span><\/div>",link:function(){}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.frontend.list.module");i.directive("viFrontendListSearchBox",[function(){return{restrict:"EA",replace:!0,scope:{builder:"="},template:"<div class=\"clearfix common-search-box\" ng-if='builder.searchable() || builder.allSelects.length > 0' ><div class='frontend-search-area' ng-if='builder.searchable()'><input class='search_option searchinput' type='text' title='Search {{ builder.componentInfo.pluralText }}' placeholder='Search {{ builder.componentInfo.pluralText }}' ng-model='builder.gridListInput.searchText' ng-keydown='builder.keyDown($event)'><a class='searchicon' href='{{ builder.buidSearchLink() }}' >search<\/a><a class='settingicon' href='javascript:void(0);' title='"+Vision.Resources.FrontEnd_ContentFilterWidget_Settingicon_Title+"' >settings<\/a><div class='common-search-settings-pane' ><ol class='formlist'><li><label for='input-flexible-search-separators'>"+Vision.Resources.FrontEnd_ContentFilterWidget_SearchSeparators_Label+"<\/label><input id='input-flexible-search-separators' class='wordseperatorinput search_option' type='text' ng-model='builder.gridListInput.searchSeparator' ng-keydown='builder.keyDown($event)' ><\/li><li><label >"+Vision.Resources.FrontEnd_ContentFilterWidget_SearchFieldName_Label+"<\/label><select class='searchFieldSelect search_option' ng-options='seachCol as seachCol.title for seachCol in builder.searchableHeaders() track by seachCol.uniqueName' ng-model='builder.bindSearchField'><\/select><\/li><\/ol><\/div><\/div><div class='flex-list-filters' ng-class='builder.searchable() ? \"\" : \"no-search-box\"' ng-if='builder.allSelects.length > 0' ><div class='list-filter'><select onchange='return RedirectAfterDropDownListSelectedChanged(this);' ng-repeat='currSelect in builder.allSelects' title='{{currSelect.label}}'><option value='' data-url='{{currSelect.selectAllLink}}'>(All {{currSelect.label}})<\/option><option ng-if='currSelect.isDropdownList' ng-repeat='currValue in currSelect.source' value='{{currValue.value}}' data-url='{{currValue.url}}' ng-selected='currValue.selected'  >{{currValue.text}}<\/option><option ng-if='!currSelect.isDropdownList'  ng-repeat='currValue in currSelect.source' value='{{currValue.value}}' data-url='{{currValue.url}}' ng-selected='currValue.selected'  vi-frontend-lookup lookup-format='currSelect.settingObj.displayFormat' lookup-record='currValue'><\/option><\/select><\/div><\/div><\/div>",link:function(){}}}])}(window,angular,jQuery),function(n,t){"use strict";var i=t.module("vi.frontend.list.module");i.directive("viFrontendLookup",["$compile",function(n){return{restrict:"EA",replace:!0,scope:{format:"=lookupFormat",m:"=lookupRecord"},link:function(t,i){t.$watch(function(){return t.format},function(){i.html(t.format);n(i.contents())(t)})}}}])}(window,window.angular),function(n,t){"use strict";function i(i,r,u,f,e){function s(n){var t={detailInput:{id:n.id,componentGuid:n.componentGuid,listUniqueName:n.listUniqueName},dataPromise:n.dataPromise,fields:[],record:null,fieldTypeManager:null,loadDetail:function(){var n=this;n.detailInput.componentGuid!=""&&n.detailInput.listUniqueName!=""&&this.dataPromise(n.detailInput).then(function(t){var i=t.data,r=Enumerable.From(n.fieldTypeManager.fieldTypeDataList).Where("$.name=='RichHtml'").FirstOrDefault().id,u=Enumerable.From(i.Fields).Select("{meta: $.meta, data: $.data, viOrder: $.meta.fieldTypeID=="+r+"?1:0}").ToArray();n.fields=Enumerable.From(u).OrderBy("$.viOrder").ThenBy("$.meta.order").ToArray();n.record=i.Record;n.richtextFormatMaskText()}).catch(function(){})},richtextFormatMaskText:function(){var n=this;n.fields&&n.fields.forEach(function(t){t.meta&&t.meta.fieldTypeID==8&&(n.record[t.meta.uniqueName]=u("maskText")(n.record[t.meta.uniqueName],!1,!0))})},getCssClass:function(n){var t=this,i=Enumerable.From(t.fieldTypeManager.fieldTypeDataList).Where("$.id=="+n.meta.fieldTypeID).FirstOrDefault();return i.css},getTemplateUrl:function(n){var t=this.fieldTypeManager.getFieldType(n.meta.fieldTypeID);return t?t.getFrontendDisplaySrc():""}};return n&&n.dataPromise&&t.loadDetail(),t}function o(n){return{matchCount:n.matchCount||0,pageSize:n.pageSize||10,pageNumber:n.pageNumber||1,pageLink:n.pageLink||"",pageIndex:n.pageIndex||1,displayPageCount:5,getFooterInfo:function(){if(this.matchCount==0)return"";var t=(this.pageNumber-1)*this.pageSize+1,n=t+this.pageSize-1;return n>this.matchCount&&(n=this.matchCount),t+" - "+n+" of "+this.matchCount+" items"},fromPage:null,toPage:null,pageCount:null,allPages:[],pages:function(){var t,i,n;if(this.allPages.length>0)return this.allPages;for(this.pageCount=Math.ceil(this.matchCount/this.pageSize),t=this.pageNumber%this.displayPageCount==0,this.fromPage=t&&this.pageNumber>0?(Math.floor(this.pageNumber/this.displayPageCount)-1)*this.displayPageCount+1:Math.floor(this.pageNumber/this.displayPageCount)*this.displayPageCount+1,this.toPage=t&&this.pageNumber>0?Math.floor(this.pageNumber/this.displayPageCount)*this.displayPageCount:Math.floor(this.pageNumber/this.displayPageCount)*this.displayPageCount+this.displayPageCount,this.toPage>this.pageCount&&(this.toPage=this.pageCount),i=[],n=this.fromPage;n<=this.toPage;n++)i.push(n);return this.allPages=i,this.allPages},hasRight:function(){return this.toPage<this.pageCount},hasLeft:function(){return this.fromPage>1},buildLink:function(n,t){var i=Math.ceil(this.matchCount/this.pageSize);if(n){if(n===this.pageNumber)return""}else if(t=="prev"){if(this.pageNumber==1)return"";n=this.pageNumber-1}else if(t=="next"){if(this.pageNumber==i)return"";n=this.pageNumber+1}else if(t=="first"){if(this.pageNumber==1)return"";n=1}else if(t=="last"){if(this.pageNumber==i)return"";n=i}else t=="left"?n=this.fromPage-1:t=="right"&&(n=this.toPage+1);return this.pageLink.replace(this.pageIndex,n)},buildClass:function(n,t){var i=Math.ceil(this.matchCount/this.pageSize);if(n){if(n===this.pageNumber)return"pg-selected"}else{if(t=="prev")return this.pageNumber==1?"disabled":"pg-normal";if(t=="next")return this.pageNumber==i?"disabled":"pg-normal";if(t=="first")return this.pageNumber==1?"disabled":"pg-normal";if(t=="last")return this.pageNumber==i?"disabled":"pg-normal"}return""}}}function h(i){var r={init:function(){var t=i.listViewInfo,n=this,r;t&&(t.currentInfo&&(t.currentInfo.sortName&&(r=t.currentInfo.sortDirection&&t.currentInfo.sortDirection==="asc"?0:1,n.gridListInput.sortOptions=[{direction:r,field:t.currentInfo.sortName}]),t.currentInfo.searchText&&(n.gridListInput.searchText=t.currentInfo.searchText),t.currentInfo.searchSeparator&&(n.gridListInput.searchSeparator=t.currentInfo.searchSeparator),t.currentInfo.searchField&&(n.bindSearchField={uniqueName:t.currentInfo.searchField},n.gridListInput.searchFields=[t.currentInfo.searchField]),n.gridListInput.pageSize=t.currentInfo.pageSize,t.currentInfo.curPageStr&&(n.gridListInput.pageNumber=t.currentInfo.curPageStr),n.gridListInput.totalNumberToDisplay=t.currentInfo.totalNumberToDisplay),n.sortInfo=t.sortInfo,n.searchInfo=t.searchInfo,n.pageInfo=t.pageInfo,n.filterInfo=t.filterInfo);n.fieldTypeManager||(this.fieldTypeManager=i.fieldTypeManager);n._dropdownFiedType=Enumerable.From(this.fieldTypeManager.fieldTypeDataList).Where("$.name=='SingleDropdown'").FirstOrDefault();n._lookupFiedType=Enumerable.From(this.fieldTypeManager.fieldTypeDataList).Where("$.name=='Lookup'").FirstOrDefault();i.listUniqueName&&i.componentGuid&&i.getFilters({ComponentGuid:i.componentGuid,ListUniqueName:i.listUniqueName,TypeIDs:[n._dropdownFiedType.id,n._lookupFiedType.id],LookupFieldTypeID:n._lookupFiedType.id,SelectedValueProperty:"selectedSourceValue"}).then(function(i){var r=i.data;n.gridListInput.defaultSortOption.field=r.sortFeField;n.gridListInput.defaultSortOption.direction=r.sortFeBy;n.allFilters||(n.allFilters=r.filters);n.allLookupSource||(n.allLookupSource=r.allSouces);r.filters.length>0?n.getAllSelects(t.filterInfo):n.loadListInfo()}).catch(function(){})},dataPromise:i.dataPromise,gridListInput:{pageSize:10,pageNumber:1,sortOptions:[],searchText:"",searchFields:[],searchOperator:"OR",totalNumberToDisplay:null,searchSeparator:",",Data:{componentGuid:i.componentGuid,listUniqueName:i.listUniqueName},filterOptions:[],defaultSortOption:{field:null,direction:"DESC"}},componentInfo:null,loadListInfo:function(){var n=this;n.gridListInput.Data&&n.gridListInput.Data.componentGuid==""||n.gridListInput.Data.listUniqueName==""||n.dataPromise(n.gridListInput).then(function(t){var r=t.data,u;n.headers=r.headers;n.records=r.records.items;n.componentInfo=r.componentInfo;u={matchCount:r.records.matchCount,pageSize:n.gridListInput.pageSize,pageNumber:n.gridListInput.pageNumber,pageLink:n.pageInfo.fullLinkPaging,pageIndex:n.pageInfo.currentPageNeedChanged};n.buildPagination=o(u);n.gridListInput=r.gridListOutput;n.sortOption=Enumerable.From(n.gridListInput.sortOptions).FirstOrDefault();i.setupData&&i.setupData(r);n.dataBag.dataLoaded=!0}).then(function(){i.setLookupDataForList(n.records,n.headers,n.allLookupSource)}).catch(function(){})},dataBag:{},headers:null,allFilters:null,records:[],sortOption:null,buildHeaderClass:function(n){function i(n,t){return n.uniqueName===t}var t=this;return t.sortOption&&i(n,t.sortOption.field)?t.sortOption.direction===0?"sort_asc":"sort_desc":""},_cachedSearchable:null,searchable:function(){return!this._cachedSearchable&&this.headers&&(this._cachedSearchable=Enumerable.From(this.headers).Where("c => c.allowSearch").Any()),this._cachedSearchable},_cachedSeachableHeaders:null,searchableHeaders:function(){if(!this._cachedSeachableHeaders){var n=Enumerable.From(this.headers).Where("c => c.allowSearch").Select("c => { title : (c.title == '' ? c.label : c.title), uniqueName : c.uniqueName}").ToArray();n.splice(0,0,{title:"(All)",uniqueName:""});this._cachedSeachableHeaders=n}return this._cachedSeachableHeaders},sortInfo:{fullLinkSorting:"",sortNameValueNeedChanged:"",sortDirectionValueNeedChanged:""},searchInfo:{fullLinkSearching:"",searchTextNeedChanged:"",searchFieldNeedChanged:"",searchSepeNeedChanged:""},pageInfo:{fullLinkPaging:"",currentPageNeedChanged:""},buidSearchLink:function(){var n=this,t=encodeURI(n.gridListInput.searchText).replace(/#/g,"%23").replace(/&/g,"%26").replace(/'/g,"%27").replace(/\?/g,"%3F");return n.searchInfo.fullLinkSearching.replace(n.searchInfo.searchTextNeedChanged,t).replace(n.searchInfo.searchFieldNeedChanged,n.bindSearchField.uniqueName).replace(n.searchInfo.searchSepeNeedChanged,n.gridListInput.searchSeparator)},bindSearchField:{uniqueName:""},keyDown:function(i){var u=i.which||i.keyCode,r;u===13&&(r=t.element(i.target).closest(".common-search-box").find(".searchicon")[0].attributes.href.value,n.visionOptions&&n.visionOptions.loggedIn?n.parent.location.href=r:n.location.href=r)},buildTitleLink:function(n){function u(n,t){return n.uniqueName===t}function f(n){return n.uniqueName}var t=this,i,r;return n.sortable?(i="",t.gridListInput.sortOptions.length==0?i="asc":u(n,t.gridListInput.sortOptions[0].field)?t.gridListInput.sortOptions[0].direction===0?i="desc":t.gridListInput.sortOptions[0].direction===1&&(i=""):i="asc",r=i==""?"":f(n),t.sortInfo.fullLinkSorting.replace(t.sortInfo.sortNameValueNeedChanged,r).replace(t.sortInfo.sortDirectionValueNeedChanged,i)):""},buildPagination:null,fieldTypeManager:null,getTemplateUrl:function(n,t){var i=this.fieldTypeManager.getFieldType(t.fieldTypeID);return i?i.getFrontendListDisplaySrc():""},getCssClass:function(n){var t=Enumerable.From(this.fieldTypeManager.fieldTypeDataList).Where("$.id=="+n.fieldTypeID).FirstOrDefault();return t.css},setTdsLoaded:function(n){n&&(this.dataBag.tdsLoaded=!0)},_dropdownFiedType:null,_lookupFiedType:null,allSelects:null,allLookupSource:null,getAllSelects:function(n){var r=this,u=i.listViewInfo.filterInfo.flexSettingPrefix;r.allSelects||(r.allSelects=Enumerable.From(r.allFilters).Where("$.fieldTypeID=="+r._dropdownFiedType.id+" || $.fieldTypeID=="+r._lookupFiedType.id).Where(function(n){var t=r.filterInfo[u+n.uniqueName];return t?t.isShowed:!1}).ToArray(),r.allSelects.forEach(function(i){function tt(n,t){return t.CreatedDate=t.CreatedDate.replace("T"," "),n.CreatedDate=n.CreatedDate.replace("T"," "),new Date(n.CreatedDate).valueOf()-new Date(t.CreatedDate).valueOf()}function it(n,t){return n.CreatedDate=n.CreatedDate.replace("T"," "),t.CreatedDate=t.CreatedDate.replace("T"," "),new Date(t.CreatedDate).valueOf()-new Date(n.CreatedDate).valueOf()}function rt(n,t){var i=e(n);return i({m:t})}var h,p,a,w,b,k,o,d,g;i.settingObj=i.setting&&t.fromJson(i.setting);var v=r.filterInfo[u+i.uniqueName],c=n[u+i.uniqueName],l=r._dropdownFiedType.id==i.fieldTypeID;if(i.isDropdownList=l,l)i.source=i.settingObj.sourceTypeID==0?i.settingObj.customSource:i.settingObj.sourceTypeID==1?Enumerable.From(f.states).Where("$.Country=='US'").Select("c => {value : c.Abbreviation, text : c.Name }").ToArray():Enumerable.From(f.states).Where("$.Country=='CA'").Select("c => {value : c.Abbreviation, text : c.Name}").ToArray();else{if(h=Enumerable.From(r.allLookupSource).Where("$.data=="+i.settingObj.selectedSourceValue).FirstOrDefault(),h!=null){var s=h.items,nt=i.settingObj.sortBy||"",y=i.settingObj.displayFormat;if(nt=="0")s.sort(it);else if(nt=="1")s.sort(tt);else if(p=new RegExp("{{([a-zA-Z0-9.]*?)}}","g"),p.test(y)){for(a=Enumerable.From(s),w=y.match(p),o=0;o<w.length;o++)b=w[o].replace("{{","").replace("m.","").replace("}}",""),a=o==0?a.OrderBy("$."+b):a.ThenBy("$."+b);s=a.ToArray()}if(k=[],s)for(o=0;o<s.length;o++)d=s[o],k.push($.extend(d,{text:rt(y,d)}));h.items=k}i.source=h?Enumerable.From(h.items).ToArray():[]}i.source.forEach(function(n,t){var i=l?t:n.ID;n.url=v.fullLinkFiltering.replace(v.currentFilterNeedChanged,i);n.selected=c&&c.currentFilterValue==i;l||(n.value=n.ID)});i.selectAllLink=v.selectAllLinkFiltering;c&&c.currentFilterValue&&(g=parseInt(c.currentFilterValue),r.gridListInput.filterOptions.push({field:i.uniqueName,value:l?i.source[g].value:g}))}),r.loadListInfo())}};return i.dataPromise&&r.init(),r}return{builder:h,detail:s,buildPagination:o}}var r=t.module("vi.frontend.list.module");r.factory("viFrontendListService",i);i.$inject=["$http","builderConfig","$filter","jsonDataUtil","$interpolate"]}(window,angular),function(n,t){n.viPredefinedModules&&n.viPredefinedModules.push("vi.fe.vision.search2");var i=t.module("vi.fe.vision.search2",["vi.fe.common","ngSanitize","blockUI","angucomplete-alt"]);i.config(["blockUIConfig",function(n){n.requestFilter=function(n){return!/^.*?\/_search($|\/)/.test(n.url)}}])}(window,angular,jQuery),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.controller("visionSearch2Controller",["$scope","visionService2Service","visionService2Model",function(n,i,r){n.init=function(n){i.init(n)};n.model=r;n.service=i;n.handleDepartmentAllSelect=function(i){var u=$(i.target),r=u.prop("checked");t.forEach(n.model.setting.Departments,function(n){n.selected=r});n.model.advanced.selectedAllDepartments=r};n.handleDepartmentItemSelect=function(t){var u=$(t.target),r=n.model.setting.Departments.length,i=$.grep(n.model.setting.Departments,function(n){return n.selected}).length;n.model.advanced.selectedAllDepartments=i>0&&i==r};n.handleContentTypeAllSelect=function(i){var u=$(i.target),r=u.prop("checked");t.forEach(n.model.setting.ContentTypes,function(n){n.selected=r});n.model.advanced.selectedAllContentTypes=r};n.handleContentTypeItemSelect=function(t){var u=$(t.target),r=n.model.setting.ContentTypes.length,i=$.grep(n.model.setting.ContentTypes,function(n){return n.selected}).length;n.model.advanced.selectedAllContentTypes=i>0&&i==r}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.controller("visionSearch2HomeController",["$scope","visionService2HomeService","visionService2HomeModel",function(n,t,i){n.init=function(n){t.init(n)};n.model=i;n.service=t}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2Item",["$compile","visionService2Model","viUIDateTimeConverter",function(n,t,i){return{restrict:"EA",replace:!0,scope:{item:"="},link:function(r,u){r.model=t;r.dateTimeToString=function(n,t){return i.dateTimeToString(null,i.stringToDateTime(null,n)," ",t)};u.html("<div vision-search2-item-"+r.item._source.CTNAME.toLowerCase()+' class="vision-search2-item"><\/div>');n(u.contents())(r)}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemBlog",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Blog Posts";n.item._source.PostDate&&(n.item.preline="Published "+n.dateTimeToString(n.item._source.PostDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemBusinessdirectory",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Businesses";n.item.titleSub=n.item._source.FullAddress}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemDocument",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Documents";var t=(n.item._source.Extension||"").replace(".","");t!="txt"&&t!="rtf"&&t!="doc"&&t!="docx"&&t!="xls"&&t!="xlsx"&&t!="pdf"&&t!="csv"&&t!="zip"&&t!="ppt"&&t!="pptx"&&(t="documents");n.item.imageSrc=n.model.setting.Cms6RootPath+"/DefaultContent/Default/_gfx/search2/"+t+".svg"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemEvent",["$compile","visionSearch2Templates","viUIDateTimeConverter",function(n,t,i){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Events";n.item.preline=n.item._source.DateText;n.item.imageSrc="";var t=i.stringToDate(null,n.item._source.StartDate),r=$.formatDate(t,"MMM"),u=$.formatDate(t,"dd");n.item.customFrame='<div class="vision-search2-item-Event-date"><div class="vision-search2-item-Event-month">'+r+'<\/div><div class="vision-search2-item-Event-day">'+u+"<\/div><\/div>"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemFacilitydirectory",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Facilities";n.item.titleSub=n.item._source.FullAddress}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemFaq",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="FAQs"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemForm",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Surveys";var t="",i="",r="";n.item._source.OpenDate&&(t="Start "+n.dateTimeToString(n.item._source.OpenDate),r=t);n.item._source.CloseDate&&(i="Close "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemFormbuilder",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Forms";var t="",i="",r="";n.item._source.StartDate&&(t="Start "+n.dateTimeToString(n.item._source.StartDate),r=t);n.item._source.CloseDate&&(i="End "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemJob",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Job Posts";n.item._source.ExpireDate&&(n.item.preline="Ending "+n.dateTimeToString(n.item._source.ExpireDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemMeetingagenda",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Agendas";n.item._source.MeetingDate&&(n.item.preline=n.dateTimeToString(n.item._source.MeetingDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemMeetingitem",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Items"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemMeetingminutes",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Minutes";n.item._source.MeetingDate&&(n.item.preline=n.dateTimeToString(n.item._source.MeetingDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemNews",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="News";n.item._source.PublishDate&&(n.item.preline=n.dateTimeToString(n.item._source.PublishDate,!0))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemOnlinepolls",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Polls"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemPage",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Pages";n.item.titleSub=n.item.href}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemPhotoalbum",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Albums"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemRfp",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="RFP Posts";var t="",r="",u="",i="",f="RFP No. "+n.item._source.Number;n.item._source.StartDate&&(t="Start "+n.dateTimeToString(n.item._source.StartDate),i=t);n.item._source.ClosingDate&&(r="End "+n.dateTimeToString(n.item._source.ClosingDate),i=t?t+" - "+r:r);u=f;i&&(u=f+" | "+i);n.item.preline=u}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemServicedirectory",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Services"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemStaffdirectory",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Staffs";n.item.preline=n.item._source.StaffTitle}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.directive("visionSearch2ItemTopic",["$compile","visionSearch2Templates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Topics";var t="",i="",r="";n.item._source.OpenDate&&(t="Open "+n.dateTimeToString(n.item._source.OpenDate),r=t);n.item._source.CloseDate&&(i="Closed "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.service("visionService2HomeModel",[function(){return{text:"",displayImage:!0,page:{size:10,number:1,total:0},sort:"",setting:{},itemsLoaded:!1,items:[],suggestion:{},advanced:{extractWordOrPhrase:null,withAllOfTheWords:null,withoutTheWords:null}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.service("visionService2HomeService",["$http","$q","visionService2HomeModel","visionService2Service","$timeout",function(i,r,u,f,e){var o=u;return{init:function(n){var t=this,i;t._resolveQuery(n.query);i=t._decodeStatus();o.setting=n.setting;o.page.size=o.setting.AutocompleteResultsMaximum;i&&t._applySettingStatus();(i||o.text)&&e(function(){t.initSearching=!0;t._searchForHomeWidget()})},search:function(){o.text&&this._searchForHomeWidget()},topSearchClick:function(n){o.text=n;o.text&&this._searchForHomeWidget()},autoCompleteSelected:function(n){var t=this.$parent.service;typeof n!="undefined"&&(o.text=n.title,t.search())},changeModelText:function(n){o.text=n},keydownsuggest:function(n){if(n.keyCode==13&&n.target){o.text=n.target.value;this.search();return}},suggestion:function(n){if(o.text=n,o.text&&o.text.length>2&&o.setting.DisplayAutocomplete&&!o.setting.CMSUserLoginned){o.page.number=1;var t=this.$parent.service,r=t._buildSearchUrl(),u=t._buildSearchParams(!0);return i({url:r,data:u,method:"POST",headers:{Authorization:"Bearer "+o.setting.Token}})}},_searchForHomeWidget:function(){o.setting.CMSUserLoginned||(this._encodeStatus(),this.initSearching=!1)},_encodeStatus:function(){var r=this;try{if(!r.initSearching){var u=t.extend({},o,{setting:{},items:[]}),i=this._makeStatusKey(),f={key:i,value:u},e=encodeURIComponent(JSON.stringify(f));localStorage.VisionSearch2Status=e;o.setting.SearchResultRedirectPage&&o.setting.SearchResultRedirectPage!=""?n.location=o.setting.SearchResultRedirectPage+"#"+i:(n.location.hash=i,n.location.reload())}}catch(s){n.location.hash=""}},_decodeStatus:function(){if(n.location.hash)try{var r=n.location.hash.replace(/^#!/,"").replace(/^#/,""),u=localStorage.VisionSearch2Status,f=decodeURIComponent(u),i=JSON.parse(f);return i.key==r?(o=t.extend(o,i.value),!0):!1}catch(e){return!1}},_makeStatusKey:function(){return f._makeStatusKey()},_applySettingStatus:function(){try{t.forEach(o.setting.Departments,function(n){n.selected=$.inArray(n.ID,o.advanced.departments)>-1});t.forEach(o.setting.ContentTypes,function(n){n.selected=$.inArray(n.ID,o.advanced.contentTypes)>-1})}catch(n){}},_resolveQuery:function(n){n&&(o.text=n.q||"")},_buildSearchUrl:function(){var n=o.setting.SearchIndices.join(","),t=o.setting.SearchServiceUrl;return t+"/api/search/"+n+"/_search"},_buildSearchParams:function(n){var l=this,c=["Title","Content","KeyWords"],s=["Title^5.0","Content^1.0","KeyWords^1.0"],h,i,r,u,f,e;return n&&(c=["Title"],s=["Title"]),h={from:(o.page.number-1)*o.page.size,size:o.page.size,sort:o.sort=="MostRecent"?[{LastModifiedDate:{order:"desc"}}]:["_score"],_source:{exclude:["Content"]},highlight:{fields:{Title:{},Content:{}},fragment_size:300,no_match_size:300,encoder:"html",pre_tags:"<b>",post_tags:"<\/b>",number_of_fragments:1,order:"score"}},i={bool:{must:[],must_not:[],filter:{bool:{must:[],must_not:[],should:[]}}}},o.text&&i.bool.must.push({multi_match:{query:o.text,analyzer:"synonym",fields:s,type:"phrase_prefix"}}),o.setting.Departments.length&&o.setting.DepartmentRestricted&&i.bool.filter.bool.must.push({terms:{Departments:$.map(o.setting.Departments,function(n){return n.ID})}}),o.setting.ContentTypes.length&&i.bool.filter.bool.must.push({terms:{CTID:$.map(o.setting.ContentTypes,function(n){return n.ID})}}),o.setting.MemberGroups.length?(i.bool.filter.bool.should.push({terms:{MemberGroups:$.map(o.setting.MemberGroups,function(n){return n.ID})}}),i.bool.filter.bool.should.push({bool:{must_not:[{exists:{field:"MemberGroups"}}]}})):i.bool.filter.bool.must_not.push({exists:{field:"MemberGroups"}}),r={bool:{must:[]}},u={},o.setting.ShowAdvancedSearchLink&&o.setting.DisplayDepartmentFilter&&(f=$.map($.grep(o.setting.Departments,function(n){return n.selected}),function(n){return n.ID}),f.length&&r.bool.must.push({terms:{Departments:f}}),u.dpt_number_of_items={terms:{field:"Departments",order:{_count:"desc"}}}),o.setting.ShowAdvancedSearchLink&&o.setting.DisplayContentType2Filter&&(e=$.map($.grep(o.setting.ContentTypes,function(n){return n.selected}),function(n){return n.ID}),e.length&&r.bool.must.push({terms:{CTID:e}}),u.ct_number_of_items={terms:{field:"CTID",order:{_count:"desc"}}}),t.extend(h,{query:i,post_filter:r,aggs:u})}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.service("visionService2Model",[function(){return{text:"",displayImage:!0,page:{size:10,number:1,total:0},sort:"",setting:{},itemsLoaded:!1,items:[],suggestion:{},advanced:{extractWordOrPhrase:null,withAllOfTheWords:null,withoutTheWords:null}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.service("visionService2Service",["$http","$q","visionService2Model","$timeout",function(i,r,u,f){var e=u;return{init:function(n){var t=this,i;t.pagerAPI={};t._resolveQuery(n.query);i=t._decodeStatus();e.setting=n.setting;i&&t._applySettingStatus();(i||e.text)&&f(function(){t.initSearching=!0;t._search()})},initPagerAPI:function(n){this.pagerAPI=n||{}},changePage:function(n){e.page.number=n;this._search()},changeSort:function(){this.pagerAPI.toFirst&&this.pagerAPI.toFirst()},search:function(){(e.text||e.advanced.exactWordOrPhrase||e.advanced.withAllOfTheWords||e.advanced.withoutTheWords)&&(this.pagerAPI.toFirst?this.pagerAPI.toFirst():(e.page.number=1,this._search()))},autoCompleteSelected:function(n){var t=this.$parent.service;typeof n!="undefined"&&(e.text=n.title,t.search())},changeModelText:function(n){e.text=n},keydownsuggest:function(n){if(n.keyCode==13&&n.target){e.text=n.target.value;this.search();return}},suggestion:function(n){if(e.text=n,e.text&&e.text.length>2&&e.setting.DisplayAutocomplete&&!e.setting.CMSUserLoginned&&e.setting.SearchIndices.length!=0){var t=this.$parent.service,u=t._buildSearchUrl(),f=t._buildSearchParams(!0);return i({url:u,data:f,method:"POST",headers:{Authorization:"Bearer "+e.setting.Token}})}return r.resolve({data:{hits:{hits:[]}}})},clearAllAdvanceFilter:function(){e.advanced.selectedAllContentTypes=!1;e.advanced.selectedAllDepartments=!1;e.advanced.exactWordOrPhrase=null;e.advanced.withAllOfTheWords=null;e.advanced.withoutTheWords=null;t.forEach(e.setting.Departments,function(n){n.selected=!1});t.forEach(e.setting.ContentTypes,function(n){n.selected=!1})},viewMore:function(n){var f=n.target,i=$(f).closest(".box"),u=i.find(".icon"),t=i.find(".view-more"),r=i.find(".box-items > ul"),e=r.find("li.hidden").length;e?(r.find("li.hidden").removeClass("hidden"),u.removeClass("arrow-down-icon").addClass("arrow-up-icon"),t.html(t.html().replace("more","less"))):(r.find("li.more").addClass("hidden"),u.removeClass("arrow-up-icon").addClass("arrow-down-icon"),t.html(t.html().replace("less","more")))},getNumberOfPage:function(){var n=(e.page.number-1)*e.page.size+1,t=(e.page.number-1)*e.page.size+e.items.length;return n+" - "+t},_search:function(){if(!e.setting.CMSUserLoginned&&e.setting.SearchIndices.length!=0){var r=this,u=this._buildSearchUrl(),f=this._buildSearchParams();e.itemsLoaded=!1;i({url:u,data:f,method:"POST",headers:{Authorization:"Bearer "+e.setting.Token}}).then(function(i){r._getThumbnailInfos(i).then(function(u){var f,o,s;i.data&&i.data.hits?(e.page.total=i.data.hits.total,e.items.splice(0,e.items.length),f=r._toItems(i.data.hits.hits,u),t.forEach(f,function(n){e.items.push(n)}),i.data.aggregations&&i.data.aggregations.ct_number_of_items&&(o=i.data.aggregations.ct_number_of_items.buckets||[],t.forEach(e.setting.ContentTypes,function(n){n.ctItemsCount=r._getItemsCountByBucket(o,n.ID)})),i.data.aggregations&&i.data.aggregations.dpt_number_of_items&&(s=i.data.aggregations.dpt_number_of_items.buckets||[],t.forEach(e.setting.Departments,function(n){n.dptItemsCount=r._getItemsCountByBucket(s,n.ID)})),r._encodeStatus(),r.initSearching=!1):(e.page.total=0,e.items.splice(0,e.items.length));e.itemsLoaded=!0;$(n).scrollTop(0)}).catch(function(n){console.log("search response failed to resolve:",n)})}).catch(function(){})}},_getThumbnailInfos:function(n){if(n.data&&n.data.hits&&n.data.hits.hits){var t=$.map($.grep(n.data.hits.hits,function(n){return n._source.ThumbnailImageID}),function(n){return n._source.ThumbnailImageID});if(t&&t.length!=0)return i({url:e.setting.ThumbnailInfoUrl,data:{imageIDs:t},method:"POST"}).then(function(n){return n&&n.data?n.data:[]})}return r.resolve([])},_getThumbnailAlt:function(n,t){for(var i=0;i<t.length;i++)if(t[i].id==n)return t[i].alt;return""},_getItemsCountByBucket:function(n,t){for(var r=0,i=0;i<n.length;i++)if(n[i].key==t){r=n[i].doc_count;break}return r},_toItems:function(n,i){var r=this;return n&&n.length!=0&&t.forEach(n,function(n){if(n._source.ThumbnailImageID&&(n.imageSrc=$.generateShowImageLink(n._source.ThumbnailImageID),n.imageAlt=r._getThumbnailAlt(n._source.ThumbnailImageID,i)),n.href=r._getContentTypeDetailUrl(n._source.CTNAME,n._source.NavID||n._source.GuidForUrl||n._source.ID),n.contentTypeDisplayName=r._getContentTypeDisplayName(n._source.CTNAME),n.highlight&&n.highlight.Title&&n.highlight.Title.length!=0&&(n._source.Title=n.highlight.Title[0]),n.highlight&&n.highlight.Content&&n.highlight.Content.length!=0)n._source.Content=n.highlight.Content[0],n._source.Content&&(n._source.Content=r._htmlDecode(n._source.Content));else{n._source.Content&&(n._source.Content=r._htmlDecode(n._source.Content));var t=n._source.Content;t&&t.length>300&&(n._source.Content=t.substring(0,300)+"...")}n.highlight&&n.highlight.FullAddress&&n.highlight.FullAddress.length!=0&&(n._source.FullAddress=n.highlight.FullAddress[0]);n.highlight&&n.highlight.StaffTitle&&n.highlight.StaffTitle.length!=0&&(n._source.StaffTitle=n.highlight.StaffTitle[0]);n.highlight&&n.highlight.Number&&n.highlight.Number.length!=0&&(n._source.Number=n.highlight.Number[0]);n.tid=n._id+Math.floor(Math.random()*1e5+1)}),n},_htmlDecode:function(n){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return n.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,i){return t[i]})},_encodeStatus:function(){var r=this;try{if(!r.initSearching){var u=t.extend({},e,{setting:{},items:[]}),i=this._makeStatusKey(),f={key:i,value:u},o=encodeURIComponent(JSON.stringify(f));localStorage.VisionSearch2Status=o;n.location.hash=i}}catch(s){n.location.hash=""}},_decodeStatus:function(){if(n.location.hash)try{var r=n.location.hash.replace(/^#!/,"").replace(/^#/,""),u=localStorage.VisionSearch2Status,f=decodeURIComponent(u),i=JSON.parse(f);return i.key==r?(e=t.extend(e,i.value),!0):!1}catch(o){return!1}},_makeStatusKey:function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<10;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},_applySettingStatus:function(){try{t.forEach(e.setting.Departments,function(n){n.selected=$.inArray(n.ID,e.advanced.departments)>-1});t.forEach(e.setting.ContentTypes,function(n){n.selected=$.inArray(n.ID,e.advanced.contentTypes)>-1})}catch(n){}},_resolveQuery:function(n){n&&(e.text=n.q||"")},_buildSearchUrl:function(){var n=e.setting.SearchIndices.join(","),t=e.setting.SearchServiceUrl;return t+"/api/search/"+n+"/_search"},_buildSearchParams:function(n){var s=this,a=e.page.size,v=(e.page.number-1)*e.page.size,y=["Title","Content","FullAddress","KeyWords","MetaKeywords","SubTitle","StaffTitle","Number","Details"],u=["Title^3.0","Content^1.0","FullAddress^1.0","KeyWords^15.0","MetaKeywords^15.0","SubTitle^2.0","StaffTitle^1.0","Number^1.0","Details^1.0"],p,i,r,h,f,o,c,l;return n&&(y=["Title"],u=["Title"],a=e.setting.AutocompleteResultsMaximum,v=0),p={from:v,size:a,sort:e.sort=="MostRecent"?[{LastModifiedDate:{order:"desc"}}]:["_score"],_source:{excludes:["Content"]},highlight:{fields:{Title:{},Content:{},FullAddress:{},StaffTitle:{},Number:{}},fragment_size:300,no_match_size:300,encoder:"html",pre_tags:"<b>",post_tags:"<\/b>",number_of_fragments:1,order:"score"}},i={bool:{must:[],must_not:[],filter:{bool:{must:[],must_not:[],should:[]}}}},n?e.text&&i.bool.must.push({multi_match:{query:e.text,analyzer:"synonym",fields:u,type:"phrase_prefix"}}):e.text&&(r=s._handleSearchStringSpecialChar(e.text),i.bool.must.push({multi_match:{query:r,analyzer:"synonym",fields:u,type:"cross_fields"}})),e.advanced.withAllOfTheWords&&(r=s._handleSearchStringSpecialChar(e.advanced.withAllOfTheWords),i.bool.must.push({multi_match:{query:r,type:"cross_fields",analyzer:"synonym",fields:u,operator:"and"}})),e.advanced.exactWordOrPhrase&&(r=s._handleSearchStringSpecialChar(e.advanced.exactWordOrPhrase),i.bool.must.push({multi_match:{query:r,fields:u,analyzer:"synonym",type:"phrase"}})),e.advanced.withoutTheWords&&i.bool.must_not.push({multi_match:{query:e.advanced.withoutTheWords,fields:y,analyzer:"synonym"}}),e.setting.Departments.length&&e.setting.DepartmentRestricted&&i.bool.filter.bool.must.push({terms:{Departments:$.map(e.setting.Departments,function(n){return n.ID})}}),e.setting.ContentTypes.length&&i.bool.filter.bool.must.push({terms:{CTID:$.map(e.setting.ContentTypes,function(n){return n.ID})}}),e.setting.Websites.length&&(h=$.map(e.setting.Websites,function(n){return n.ID}),h.push(-1),i.bool.filter.bool.must.push({terms:{SID:h}})),e.setting.MemberGroups.length?(i.bool.filter.bool.should.push({terms:{MemberGroups:$.map(e.setting.MemberGroups,function(n){return n.ID})}}),i.bool.filter.bool.should.push({bool:{must_not:[{exists:{field:"MemberGroups"}}]}})):i.bool.filter.bool.must_not.push({exists:{field:"MemberGroups"}}),f={bool:{must:[]}},o={},e.setting.ShowAdvancedSearchLink&&e.setting.DisplayDepartmentFilter&&e.setting.Departments.length>0&&(c=$.map($.grep(e.setting.Departments,function(n){return n.selected}),function(n){return n.ID}),c.length&&f.bool.must.push({terms:{Departments:c}}),o.dpt_number_of_items={terms:{field:"Departments",order:{_count:"desc"},size:e.setting.Departments.length}}),e.setting.ShowAdvancedSearchLink&&e.setting.DisplayContentType2Filter&&e.setting.ContentTypes.length>0&&(l=$.map($.grep(e.setting.ContentTypes,function(n){return n.selected}),function(n){return n.ID}),l.length&&f.bool.must.push({terms:{CTID:l}}),o.ct_number_of_items={terms:{field:"CTID",order:{_count:"desc"},size:e.setting.ContentTypes.length}}),t.extend(p,{query:i,post_filter:f,aggs:o})},_handleSearchStringSpecialChar:function(n){return n&&(n=n.replace(/\+|-|&|\||!|\(|\)|\{|}|\[|]|\^|\*|\?|:|;|\~|\/|\\/ig," ")),n},_getContentTypeDisplayName:function(n){var i=n;return t.forEach(e.setting.ContentTypes,function(t){if(n==t.Name){i=t.DisplayName;return}}),i},_getContentTypeDetailUrl:function(n,i){var r="";return t.forEach(e.setting.ContentTypeDetailUrls,function(t){if(n==t.Name){r=t.Url.replace(e.setting.ContentIDPlaceHolder,i);return}}),r}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.fe.vision.search2");i.service("visionSearch2Templates",[function(){var n={leftPart:'<div class="vision-search2-item-left" ng-show="model.displayImage && (item.imageSrc || item.customFrame)"><a class="vision-search2-item-frame" href="{{item.href}}" title=""><div class="vision-search2-item-frame-image2" ng-if="item.imageSrc"><img alt="{{item.imageAlt}}" ng-src="{{item.imageSrc}}"/><\/div><div class="vision-search2-item-frame-image" ng-if="!item.imageSrc" ng-bind-html="item.customFrame"><\/div><\/a><\/div>',rightPart:'<div class="vision-search2-item-right"><div class="vision-search2-item-title"><a class="vision-search2-item-title-link" href="{{item.href}}" title=""><span class="vision-search2-item-title-text" ng-bind-html="item._source.Title"><\/span><span class="vision-search2-item-title-sub" ng-if="item.titleSub" ng-bind-html="item.titleSub"><\/span><\/a><\/div><div class="vision-search2-item-preline" ng-bind-html="item.preline"><\/div><div class="vision-search2-item-content" ng-bind-html="item._source.Content"><\/div><div class="vision-search2-item-postline"><span class="vision-search2-item-typeicon"><\/span><span class="vision-search2-item-typename">{{item.contentTypeDisplayName}}<\/span><\/div><\/div>'};return{elements:n,regular:'<div class="vision-search2-item-{{item._source.CTNAME}}">'+n.leftPart+n.rightPart+"<\/div>",event:""}}])}(window,angular),function(n,t){n.viPredefinedModules&&n.viPredefinedModules.push("vi.be.vision.search2");var i=t.module("vi.be.vision.search2",["vi.fe.common","ngSanitize","blockUI","angucomplete-alt","vi.ui","vi.frontend.list.module","toastr"]);i.config(["blockUIConfig",function(n){n.requestFilter=function(n){return!/^.*?\/_search($|\/)/.test(n.url)}}])}(window,angular,jQuery),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.controller("visionSearch2BackendController",["$scope","visionService2BackendService","visionService2BackendModel",function(n,i,r){n.init=function(n){i.init(n)};n.model=r;n.service=i;n.handleDepartmentAllSelect=function(i){var u=$(i.target),r=u.prop("checked");t.forEach(n.model.setting.Departments,function(n){n.selected=r});n.model.advanced.selectedAllDepartments=r};n.handleDepartmentItemSelect=function(t){var u=$(t.target),r=n.model.setting.Departments.length,i=$.grep(n.model.setting.Departments,function(n){return n.selected}).length;n.model.advanced.selectedAllDepartments=i>0&&i==r};n.handleContentTypeAllSelect=function(i){var u=$(i.target),r=u.prop("checked");t.forEach(n.model.setting.ContentTypes,function(n){n.selected=r});n.model.advanced.selectedAllContentTypes=r};n.handleContentTypeItemSelect=function(t){var u=$(t.target),r=n.model.setting.ContentTypes.length,i=$.grep(n.model.setting.ContentTypes,function(n){return n.selected}).length;n.model.advanced.selectedAllContentTypes=i>0&&i==r}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItem",["$compile","visionService2BackendModel","viUIDateTimeConverter",function(n,t,i){return{restrict:"EA",replace:!0,scope:{item:"="},link:function(r,u){r.model=t;r.dateTimeToString=function(n,t){return i.dateTimeToString(null,i.stringToDateTime(null,n)," ",t)};u.html("<div vision-search2-backend-item-"+r.item._source.CTNAME.toLowerCase()+' class="vision-search2-backend-item"><\/div>');n(u.contents())(r)}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemBlog",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Blog Posts";n.item._source.PostDate&&(n.item.preline="Published "+n.dateTimeToString(n.item._source.PostDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemBusinessdirectory",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Businesses";n.item.titleSub=n.item._source.FullAddress}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemDocument",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Documents";var t=(n.item._source.Extension||"").replace(".","");t!="txt"&&t!="rtf"&&t!="doc"&&t!="docx"&&t!="xls"&&t!="xlsx"&&t!="pdf"&&t!="csv"&&t!="zip"&&t!="ppt"&&t!="pptx"&&(t="documents");n.item.imageSrc=n.model.setting.Cms6RootPath+"/DefaultContent/Default/_gfx/search2/"+t+".svg"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemEvent",["$compile","visionSearch2BackendTemplates","viUIDateTimeConverter",function(n,t,i){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Events";n.item.preline=n.item._source.DateText;n.item.imageSrc="";var t=i.stringToDate(null,n.item._source.StartDate),r=$.formatDate(t,"MMM"),u=$.formatDate(t,"dd");n.item.customFrame='<div class="vision-search2-item-Event-date"><div class="vision-search2-item-Event-month">'+r+'<\/div><div class="vision-search2-item-Event-day">'+u+"<\/div><\/div>"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemFacilitydirectory",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Facilities";n.item.titleSub=n.item._source.FullAddress}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemFaq",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="FAQs"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemForm",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Surveys";var t="",i="",r="";n.item._source.OpenDate&&(t="Start "+n.dateTimeToString(n.item._source.OpenDate),r=t);n.item._source.CloseDate&&(i="Close "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemFormbuilder",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Forms";var t="",i="",r="";n.item._source.StartDate&&(t="Start "+n.dateTimeToString(n.item._source.StartDate),r=t);n.item._source.CloseDate&&(i="End "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemJob",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Job Posts";n.item._source.ExpireDate&&(n.item.preline="Ending "+n.dateTimeToString(n.item._source.ExpireDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemMeetingagenda",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Agendas";n.item._source.MeetingDate&&(n.item.preline=n.dateTimeToString(n.item._source.MeetingDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemMeetingitem",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Items"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemMeetingminutes",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Meeting Minutes";n.item._source.MeetingDate&&(n.item.preline=n.dateTimeToString(n.item._source.MeetingDate))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemNews",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="News";n.item._source.PublishDate&&(n.item.preline=n.dateTimeToString(n.item._source.PublishDate,!0))}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemOnlinepolls",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Polls"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemPage",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Pages";n.item.titleSub=n.item.href}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemPhotoalbum",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Albums"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemRfp",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="RFP Posts";var t="",r="",u="",i="",f="RFP No. "+n.item._source.Number;n.item._source.StartDate&&(t="Start "+n.dateTimeToString(n.item._source.StartDate),i=t);n.item._source.ClosingDate&&(r="End "+n.dateTimeToString(n.item._source.ClosingDate),i=t?t+" - "+r:r);u=f;i&&(u=f+" | "+i);n.item.preline=u}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemServicedirectory",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Services"}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemStaffdirectory",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Staffs";n.item.preline=n.item._source.StaffTitle}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.directive("visionSearch2BackendItemTopic",["$compile","visionSearch2BackendTemplates",function(n,t){return{restrict:"EA",replace:!0,template:t.regular,link:function(n){n.item.contentTypeDisplayName="Topics";var t="",i="",r="";n.item._source.OpenDate&&(t="Open "+n.dateTimeToString(n.item._source.OpenDate),r=t);n.item._source.CloseDate&&(i="Closed "+n.dateTimeToString(n.item._source.CloseDate),r=t?t+" - "+i:i);n.item.preline=r}}}])}(window,window.angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.service("visionService2BackendModel",[function(){return{text:"",displayImage:!0,page:{size:10,number:1,total:0},sort:"",setting:{},itemsLoaded:!1,items:[],suggestion:{},advanced:{extractWordOrPhrase:null,withAllOfTheWords:null,withoutTheWords:null}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.service("visionService2BackendService",["$http","$q","visionService2BackendModel","$timeout","toastr",function(i,r,u,f){var e=u;return{init:function(n){var t=this;t.pagerAPI={};e.setting=n.setting;t._clearPager()},initPagerAPI:function(n){this.pagerAPI=n||{}},changePage:function(n){e.page.number=n;this._search()},changeSort:function(){this.pagerAPI.toFirst&&this.pagerAPI.toFirst()},search:function(){(e.text||e.advanced.exactWordOrPhrase||e.advanced.withAllOfTheWords||e.advanced.withoutTheWords)&&(this.pagerAPI.toFirst?this.pagerAPI.toFirst():(e.page.number=1,this._search()))},deleteContent:function(n){if(n){if(!confirm(e.setting.DeleteContentConfirmation))return!1;var t=[n];this._deleteContents(t)}},bulkDeleteContents:function(){var r=this,i=this._getCheckedDeleteContents(),n,t;if(i.length!=0){if(!confirm(e.setting.BulkDeleteContentConfirmation))return!1;for(n=[],t=0;t<i.length;t++)n.push(i[t].id);n.length>0&&r._deleteContents(n)}},checkAll:function(){e.isCheckAll?t.forEach(e.items,function(n){n.isChecked=!0}):t.forEach(e.items,function(n){n.isChecked=!1})},autoCompleteSelected:function(n){var t=this.$parent.service;typeof n!="undefined"&&(e.text=n.title,t.search())},changeModelText:function(n){e.text=n},keydownsuggest:function(n){if(n.keyCode==13&&n.target){e.text=n.target.value;this.search();return}},suggestion:function(n){if(e.text=n,e.text&&e.text.length>2&&e.setting.DisplayAutocomplete&&e.setting.CMSUserLoginned&&e.setting.SearchIndices.length!=0){var t=this.$parent.service,u=t._buildSearchUrl(),f=t._buildSearchParams(!0);return i({url:u,data:f,method:"POST",headers:{Authorization:"Bearer "+e.setting.Token}})}return r.resolve({data:{hits:{hits:[]}}})},getNumberOfPage:function(){var n=(e.page.number-1)*e.page.size+1,t=(e.page.number-1)*e.page.size+e.items.length;return n+" - "+t},_search:function(){if(e.setting.CMSUserLoginned&&e.setting.SearchIndices.length!=0){var n=this,r=this._buildSearchUrl(),u=this._buildSearchParams();e.itemsLoaded=!1;i({url:r,data:u,method:"POST",headers:{Authorization:"Bearer "+e.setting.Token}}).then(function(i){n._getThumbnailInfos(i).then(function(r){if(i.data&&i.data.hits){e.page.total=i.data.hits.total;e.items.splice(0,e.items.length);var u=n._toItems(i.data.hits.hits,r);t.forEach(u,function(n){e.items.push(n)});e.isCheckAll=!1;n._encodeStatus();n.initSearching=!1}else e.page.total=0,e.items.splice(0,e.items.length);e.itemsLoaded=!0;$(".vi-content").scrollTop(0)}).catch(function(n){console.log("search response failed to resolve:",n)})}).catch(function(){})}},_getThumbnailInfos:function(n){if(n.data&&n.data.hits&&n.data.hits.hits){var t=$.map($.grep(n.data.hits.hits,function(n){return n._source.ThumbnailImageID}),function(n){return n._source.ThumbnailImageID});if(t&&t.length!=0)return i({url:e.setting.ThumbnailInfoUrl,data:{imageIDs:t},method:"POST"}).then(function(n){return n&&n.data?n.data:[]})}return r.resolve([])},_getThumbnailAlt:function(n,t){for(var i=0;i<t.length;i++)if(t[i].id==n)return t[i].alt;return""},_getItemsCountByBucket:function(n,t){for(var r=0,i=0;i<n.length;i++)if(n[i].key==t){r=n[i].doc_count;break}return r},_toItems:function(n,i){var r=this;return n&&n.length!=0&&t.forEach(n,function(n){if(n._source.ThumbnailImageID&&(n.imageSrc=$.generateShowImageLink(n._source.ThumbnailImageID),n.imageAlt=r._getThumbnailAlt(n._source.ThumbnailImageID,i)),n.href=r._getContentTypeDetailUrl(n._source.CTNAME,n._source.NavID||n._source.GuidForUrl||n._source.ID),n.contentTypeDisplayName=r._getContentTypeDisplayName(n._source.CTNAME),n.highlight&&n.highlight.Title&&n.highlight.Title.length!=0&&(n._source.Title=n.highlight.Title[0]),n.highlight&&n.highlight.Content&&n.highlight.Content.length!=0)n._source.Content=n.highlight.Content[0],n._source.Content&&(n._source.Content=r._htmlDecode(n._source.Content));else{n._source.Content&&(n._source.Content=r._htmlDecode(n._source.Content));var t=n._source.Content;t&&t.length>300&&(n._source.Content=t.substring(0,300)+"...")}n.highlight&&n.highlight.FullAddress&&n.highlight.FullAddress.length!=0&&(n._source.FullAddress=n.highlight.FullAddress[0]);n.highlight&&n.highlight.StaffTitle&&n.highlight.StaffTitle.length!=0&&(n._source.StaffTitle=n.highlight.StaffTitle[0]);n.highlight&&n.highlight.Number&&n.highlight.Number.length!=0&&(n._source.Number=n.highlight.Number[0]);n.tid=n._id+Math.floor(Math.random()*1e5+1);n.id=n._id;n.isChecked=!1;n.deleteContent=function(){r.deleteContent(n.id)}}),n},_htmlDecode:function(n){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return n.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,i){return t[i]})},_encodeStatus:function(){var r=this;try{if(!r.initSearching){var u=t.extend({},e,{setting:{},items:[]}),i=this._makeStatusKey(),f={key:i,value:u},o=encodeURIComponent(JSON.stringify(f));localStorage.VisionSearch2Status=o;n.location.hash=i}}catch(s){n.location.hash=""}},_decodeStatus:function(){if(n.location.hash)try{var r=n.location.hash.replace(/^#!/,"").replace(/^#/,""),u=localStorage.VisionSearch2Status,f=decodeURIComponent(u),i=JSON.parse(f);return i.key==r?(e=t.extend(e,i.value),!0):!1}catch(o){return!1}},_makeStatusKey:function(){for(var n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<10;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},_applySettingStatus:function(){try{t.forEach(e.setting.Departments,function(n){n.selected=$.inArray(n.ID,e.advanced.departments)>-1});t.forEach(e.setting.ContentTypes,function(n){n.selected=$.inArray(n.ID,e.advanced.contentTypes)>-1})}catch(n){}},_resolveQuery:function(n){n&&(e.text=n.q||"")},_buildSearchUrl:function(){var n=e.setting.SearchIndices.join(","),t=e.setting.SearchServiceUrl;return t+"/api/search/"+n+"/_search"},_buildSearchParams:function(n){var h=this,u=e.page.size,f=(e.page.number-1)*e.page.size,c=["Title","Content","FullAddress","KeyWords","MetaKeywords","SubTitle","StaffTitle","Number","Details"],r=["Title^3.0","Content^1.0","FullAddress^1.0","KeyWords^15.0","MetaKeywords^15.0","SubTitle^2.0","StaffTitle^1.0","Number^1.0","Details^1.0"],o,i,s;n&&(c=["Title"],r=["Title"],u=e.setting.AutocompleteResultsMaximum,f=0);o={from:f,size:u,sort:e.sort=="MostRecent"?[{LastModifiedDate:{order:"desc"}}]:["_score"],_source:{excludes:["Content"]},highlight:{fields:{Title:{},Content:{},FullAddress:{},StaffTitle:{},Number:{}},fragment_size:300,no_match_size:300,encoder:"html",pre_tags:"<b>",post_tags:"<\/b>",number_of_fragments:1,order:"score"}};i={bool:{must:[],must_not:[],filter:{bool:{must:[],must_not:[],should:[]}}}};n?e.text&&i.bool.must.push({multi_match:{query:e.text,analyzer:"synonym",fields:r,type:"phrase_prefix"}}):e.text&&(s=h._handleSearchStringSpecialChar(e.text),i.bool.must.push({multi_match:{query:s,analyzer:"synonym",fields:r,type:"cross_fields"}}));return t.extend(o,{query:i,post_filter:{bool:{must:[]}},aggs:{}})},_handleSearchStringSpecialChar:function(n){return n&&(n=n.replace(/\+|-|&|\||!|\(|\)|\{|}|\[|]|\^|\*|\?|:|;|\~|\/|\\/ig," ")),n},_getContentTypeDisplayName:function(n){var i=n;return t.forEach(e.setting.ContentTypes,function(t){if(n==t.Name){i=t.DisplayName;return}}),i},_getContentTypeDetailUrl:function(n,i){var r="";return t.forEach(e.setting.ContentTypeDetailUrls,function(t){if(n==t.Name){r=t.Url.replace(e.setting.ContentIDPlaceHolder,i);return}}),r},_buildDeleteContentUrl:function(){var n=e.setting.SearchIndices.join(","),t=e.setting.SearchServiceUrl;return t+"/api/search/"+n+"/_delete_by_query"},_buildDeleteParams:function(n){var i=this,t={bool:{must:[{ids:{values:n}}]}};return{query:t}},_deleteContents:function(n){var t;if(n&&n.length>0&&(t=this,e.setting.CMSUserLoginned&&e.setting.SearchIndices.length!=0)){var t=this,r=this._buildDeleteContentUrl(),u=this._buildDeleteParams(n);i({url:r,data:u,method:"POST",headers:{Authorization:"Bearer "+e.setting.Token}}).then(function(n){n.data&&($.refreshTempMessage("Delete content successful!"),f(function(){t.search()},1e3))}).catch(function(){})}},_getCheckedDeleteContents:function(){return e.items.filter(function(n){return n.isChecked==!0})},_clearPager:function(){(n.location.hash||e.text)&&(e.itemsLoaded=!1,e.text="",e.items=[])}}}])}(window,angular),function(n,t){"use strict";var i=t.module("vi.be.vision.search2");i.service("visionSearch2BackendTemplates",[function(){var n={leftPart:'<div class="vision-search2-item-left" ng-show="model.displayImage && (item.imageSrc || item.customFrame)"><a class="vision-search2-item-frame" href="javascipt:void(0);" onclick="return false;" title=""><div class="vision-search2-item-frame-image2" ng-if="item.imageSrc"><img alt="{{item.imageAlt}}" ng-src="{{item.imageSrc}}"/><\/div><div class="vision-search2-item-frame-image" ng-if="!item.imageSrc" ng-bind-html="item.customFrame"><\/div><\/a><\/div>',rightPart:'<div class="vision-search2-item-right"><div class="vision-search2-item-title"><a class="vision-search2-item-title-link" href="javascipt:void(0);" onclick="return false;" title=""><span class="vision-search2-item-title-text" ng-bind-html="item._source.Title"><\/span><span class="vision-search2-item-title-sub" ng-if="item.titleSub" ng-bind-html="item.titleSub"><\/span><\/a><\/div><div class="vision-search2-item-preline" ng-bind-html="item.preline"><\/div><div class="vision-search2-item-content" ng-bind-html="item._source.Content"><\/div><div class="vision-search2-item-postline"><span class="vision-search2-item-typeicon"><\/span><span class="vision-search2-item-typename">{{item.contentTypeDisplayName}}<\/span><\/div><\/div>'};return{elements:n,regular:'<div class="vision-search2-backend-item-{{item._source.CTNAME}}"><div class="vision-search2-item-checkbox"><input type="checkbox" value="{{item.id}}" ng-model="item.isChecked"/><\/div>'+n.leftPart+n.rightPart+'<input type="button" class="command vision-search2-item-delete-button" ng-click="item.deleteContent()" value="Delete"/><\/div>',event:""}}])}(window,angular),function(n,t){var i=t.module("vi.ui",[]);i.directive("ngDelaySubmit",["$compile","$timeout",function(n,t){return{restrict:"A",require:"^form",link:function(n,i,r){i.on("submit",function(){t(function(){n.$eval(r.ngDelaySubmit)})})}}}]);i.directive("viPriceFormat",["$timeout","$filter",function(n,t){return{restrict:"AE",require:"?ngModel",link:function(n,i,r,u){var f=$(i),h=n.$eval(r.viPriceFormat||"2"),o=n.$eval(r.viMin),e=function(n){if(n!=null){typeof n=="string"&&(n=parseFloat(n.indexOf(",")>-1?n.replace(new RegExp(",","g"),""):n));try{return t("number")(n,h)}catch(r){}}return null},s;if(u){u.$parsers.push(function(n){if(!u.$isEmpty(n)){var t=e(n);return typeof t=="string"&&(t=parseFloat(t.indexOf(",")>-1?t.replace(new RegExp(",","g"),""):t)),t==null?u.$setValidity("number",!0):t<o?u.$setValidity("min",!1):u.$setValidity("min",!0),t}return n});u.$formatters.push(function(n){if(!u.$isEmpty(n)){var t=e(n);return t<o?u.$setValidity("min",!1):u.$setValidity("min",!0),t}return n});f.on("blur",function(){var n=e(f.val());n!=null&&(u.$setViewValue(n),u.$render())})}s=[8,9,13,46,110];f.bind("keypress",function(n){var t=n.keyCode||n.which;if((!(t>=48)||!(t<=57))&&!($.inArray(t,s)>-1))return n.preventDefault(),!1})}}}]);i.directive("viQuantityFormat",["$timeout","$filter",function(n,t){return{restrict:"AE",require:"?ngModel",link:function(n,i,r,u){var o=n.$eval(r.viQuantityFormat)||"^[0-9]+([.]{1}[0-9]{2})?$",f=2,e;switch(o){case"^[0-9]+$":f=0;break;case"^[0-9]+([.]{1}[0-9]{1})?$":f=1;break;case"^[0-9]+([.]{1}[0-9]{2})?$":f=2;break;case"^[0-9]+([.]{1}[0-9]{3})?$":f=3}if(e=function(n){if(n!=null){typeof n=="string"&&(n=parseFloat(n.indexOf(",")>-1?n.replace(new RegExp(",","g"),""):n));try{return t("number")(n,f)}catch(r){}}return null},u){u.$parsers.push(function(n){if(!u.$isEmpty(n)){var t=e(n);return console.log(t),typeof t=="string"&&(t=parseFloat(t.indexOf(",")>-1?t.replace(new RegExp(",","g"),""):t)),t}return n});u.$formatters.push(function(n){return u.$isEmpty(n)?n:e(n)});i.on("blur",function(){var n=e(i.val());n!=null&&(u.$setViewValue(n),u.$render())})}}}}]);i.directive("viUniqueItem",["$timeout",function(){return{restrict:"A",require:"ngModel",scope:{viSourceItems:"=viSourceItems",viUniqueItem:"=viUniqueItem"},link:function(n,t,i,r){function o(n){var t=u?n[u]:n,i;return t?(i=$.grep(e,function(n){return n==t}),i.length>=2):!0}var f=n.viSourceItems||[],u=n.viUniqueItem,e=$.map(f,function(n){return u?n?n[u]:null:n});r.$validators.uniqueItem=function(n){return!o(n)}}}}]);i.directive("viImageName",["$timeout",function(){return{restrict:"A",link:function(n,t,i){var r=i.viImageName,u=$(t);$.ajax({url:r,success:function(n){t.text(n.Name);t.attr("title",n.Name)}})}}}])}(window,angular,jQuery),function(n,t){var i=t.module("vi.ui");i.directive("viDatetimeModerator",["$timeout",function(n){return{require:"ngModel",link:function(t,i,r,u){function e(n){if(u.$modelValue){var t=new Date(u.$modelValue),i=l&&t&&t.getHours()==0&&t.getMinutes()==0||s&&t&&t.getHours()==23&&t.getMinutes()==59;n=i?n:f;o(t,n)}}function c(n){return s&&n&&n.getHours()==0&&n.getMinutes()==0?new Date(n.getTime()+8634e4):n}var l=i.attr("vi-datetime-moderator")=="start",s=i.attr("vi-datetime-moderator")=="end",f="M/d/yyyy h:mm tt",h="M/d/yyyy",o=function(t,r){i.getKendoDateTimePicker().setOptions({format:r});i.getKendoDateTimePicker().value(t);u.$setViewValue(kendo.toString(t,f));n(function(){var u=i.getKendoDateTimePicker(),n=u._form,t=n.scope(),r=u.element;t&&r&&!r.attr("ignore")?(t[n.attr("name")].$dirty=!1,t[n.attr("name")][r.attr("name")].$dirty=!1,r.attr("ignore",!0)):(t[n.attr("name")].$dirty=!0,t[n.attr("name")][r.attr("name")].$dirty=!0)})};setTimeout(function(){var n=i.getKendoDateTimePicker();n.setOptions({open:function(n){var t=n.sender._value;t=c(t);o(t,f)},close:function(n){var t=n.sender._value;n.view==="date"&&(t=c(t));o(t,f)}});e(h)},400);i.on("blur",function(){e(h)});i.on("change focus",function(){e(f)})}}}])}(window,angular),function(n,t){var i=t.module("vi.ui");i.directive("viRecaptchaSetting",["$compile",function(){return{restrict:"EA",link:function(){var t,i;n.visionApps.cms_core.GoogleReCaptchaPublicKey&&(document.getElementById("reCaptchaSettingId")||(t='<div id="reCaptchaSettingId" style="display:none;">  <script>    var viRecaptchaCallback = function(token){};    var _viRecaptchaCallback = function(token){      if($.isFunction(viRecaptchaCallback)) viRecaptchaCallback(token);    };  <\/script>  <div class="g-recaptcha" data-sitekey="'+n.visionApps.cms_core.GoogleReCaptchaPublicKey+'" data-size="invisible" data-badge="inline" data-callback="_viRecaptchaCallback"><\/div><\/div>',$("body").prepend(t)),document.getElementById("reCaptchaScriptId")||(i='<script id="reCaptchaScriptId" src="https://www.google.com/recaptcha/api.js" async defer><\/script>',$("body").append(i)))}}}]);i.directive("viRecaptchaCallback",["$compile","$parse",function(t,i){return{restrict:"A",link:function(t,r,u){var e=n.visionApps.cms_core.GoogleReCaptchaPublicKey,f=function(){t.$apply(function(){i(u.viRecaptchaCallback)(t,{});viRecaptchaCallback=function(){}})},o=function(){var n=!0;return u.viRecaptchaValidate&&t.$apply(function(){n=i(u.viRecaptchaValidate)(t,{})}),n};r.click(function(){o()&&(e?(viRecaptchaCallback=f,grecaptcha&&(grecaptcha.reset(),grecaptcha.execute())):f())})}}}])}(window,angular),function(n,t){function r(n){return n=n.toUpperCase(),n=="MM/DD/YYYY"?"mm/dd/yy":n=="DD/MM/YYYY"?"dd/mm/yy":n=="MMMM DD, YYYY"?"MM dd, yy":"mm/dd/yy"}var i=t.module("vi.ui");i.constant("viUIDateTimeFormatConfig",{dateFormat:r(n.visionApps?n.visionApps.cms_core.DateFormat:"mm/dd/yy"),timeFormat:n.visionApps?n.visionApps.cms_core.TimeFormat:"h:mm TT",timeAMFormat:[n.visionApps?n.visionApps.cms_core.TimeAMFormat:"AM"],timePMFormat:[n.visionApps?n.visionApps.cms_core.TimePMFormat:"PM"]}).factory("viUIDateTimeConverter",["viUIDateTimeFormatConfig",function(n){function i(i,r){var u=i||n.dateFormat;if(r&&u)if(t.isDate(r))try{return $.datepicker.formatDate(u,r)}catch(f){return null}else if(typeof r=="number")try{return $.datepicker.formatDate(u,new Date(r))}catch(f){return null}else return r;return null}function r(i,r,u){if(i=i||n.dateFormat,t.isDate(r)&&!isNaN(r))return r;if(t.isString(r)&&i)try{if(r.indexOf("/D")===0||/\dT\d/.test(r)||u){var f=$.parseDate(r);if(!isNaN(f.getTime()))return f}else return $.datepicker.parseDate(i,r)}catch(e){return null}return t.isNumber(r)?new Date(r):null}function u(t,i,r,u){var o,s;if(r=r||" ",o=t||n.dateFormat+r+n.timeFormat,i&&o)try{var e=$.datepicker.formatDate(n.dateFormat,i),f={hour:i.getHours(),minute:i.getMinutes(),second:i.getSeconds()},h={amNames:n.timeAMFormat,pmNames:n.timePMFormat};return u&&f.hour==0&&f.minute==0&&f.second==0?e:u&&f.hour==23&&f.minute==59&&f.second==0?e:(s=$.datepicker.formatTime(n.timeFormat,f,h),e+r+s)}catch(c){return null}return null}function f(i,r,u,f){var o,e;if(u=u||" ",i=i||n.dateFormat+u+n.timeFormat,t.isDate(r))return r;if(t.isString(r)&&i)if(r.indexOf("/D")===0||/\dT\d/.test(r)||f){if(e=$.parseDate(r),!isNaN(e.getTime()))return e}else try{return o={separator:u,timeFormat:n.timeFormat,amNames:n.timeAMFormat,pmNames:n.timePMFormat},e=$.datepicker.parseDateTime(n.dateFormat,n.timeFormat,r,null,o),e}catch(s){return null}return null}function e(n){return n&&t.isDate(n)?$.datepicker.formatDate("mm/dd/yy",n):null}function o(n){if(n&&t.isDate(n)){var i=$.datepicker.formatDate("mm/dd/yy",n),r={hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds()},u=$.datepicker.formatTime("HH:mm:ss",r);return i+" "+u}return null}return{stringToDate:r,dateToString:i,stringToDateTime:f,dateTimeToString:u,toModelDateString:e,toModelDateTimeString:o}}]);i.directive("viDatepicker",["$compile","$timeout","viUIDateTimeFormatConfig","viUIDateTimeConverter",function(n,i,r,u){return{restrict:"EA",require:"?ngModel",priority:1,link:function(n,f,e,o){var s=$(f),l=function(){var i=t.extend({changeMonth:!0,changeYear:!0,showButtonPanel:!0,showNowButton:!0,showOtherMonths:!0,yearRange:"1800:2099",hour:0,minute:0},r,n.$eval(e.viDatepicker||"{}"));return i.minDate&&!t.isDate(i.minDate)&&(i.minDate=new Date(i.minDate)),i.maxDate&&!t.isDate(i.maxDate)&&(i.maxDate=new Date(i.maxDate)),i},h=l(),c;o.$validators.datetimeformat=function(n,i){if(n)return!0;if(i){var r=u.stringToDate(e.viDateFormat,i);return t.isDate(r)}return!0};o.$parsers.push(function(n){if(n){if(t.isDate(n))return u.toModelDateString(n);var i=u.stringToDate(e.viDateFormat,n);if(i)return u.toModelDateString(i)}return null});o.$formatters.push(function(n){if(n){var t=u.stringToDate(e.viDateFormat,n,!0);t&&(t.setHours(h.hour),t.setMinutes(h.minute));n=u.dateToString(e.viDateFormat,t)}return n});s.on("focus",function(n){e.readonly&&n.stopImmediatePropagation()});if(c=s.parent(".date-container"),c.length)c.on("click",".calendar_icon",function(){s.trigger("focus")});i(function(){s.datepicker(h);s.on("$destroy",function(){s.datepicker("hide");s.datepicker("destroy")})})}}}]);i.directive("viDatetimepicker",["$compile","$timeout","viUIDateTimeFormatConfig","viUIDateTimeConverter",function(n,i,r,u){return{restrict:"EA",require:"?ngModel",priority:1,link:function(n,f,e,o){function a(n,t,i){var r=$.datepicker._getInst(t),o=$.datepicker._get(r,"timepicker"),f=u.stringToDateTime(e.viUIDateTimeFormat,n,i.separator),s;return f&&r.settings.showTime&&r.settings.filterTime&&o.formattedDate&&o.formattedDate==o.formattedDateTime&&(s=r.settings.filterTime,f.setHours(s.Hour),f.setMinutes(s.Minute)),f}var s=$(f),l=function(){var i=t.extend({hourGrid:3,minuteGrid:15,enableInput:!0,showTimepicker:!0,amNames:$.unique($.merge(r.timeAMFormat,["AM","A"])),pmNames:$.unique($.merge(r.timePMFormat,["PM","P"])),filterTime:null,showNowButton:!0,showOtherMonths:!0,showButtonPanel:!0,separator:" ",hour:0,minute:0,yearRange:"1800:2099",updateDateTimeCallback:function(n,t,i){var r=n._defaults;if(r.filterTime){var u=r.filterTime,f={hour:u.Hour,minute:u.Minute},e=$.datepicker.formatTime(r.timeFormat,f,r);if(e.toLowerCase()==n.formattedTime.toLowerCase())return i}return i+(n.formattedTime?r.separator+n.formattedTime+r.timeSuffix:"")}},r,n.$eval(e.viDatetimepicker||"{}"));return i.minDate&&!t.isDate(i.minDate)&&(i.minDate=new Date(i.minDate)),i.maxDate&&!t.isDate(i.maxDate)&&(i.maxDate=new Date(i.maxDate)),i},h=l(),c;s.on("focus",function(n){e.readonly&&n.stopImmediatePropagation()});if(c=s.parent(".date-container"),c.length)c.on("click",".calendar_icon",function(){s.trigger("focus")});o.$validators.datetimeformat=function(n,i){if(n)return!0;if(i){var r=u.stringToDateTime(e.viUIDateTimeFormat,i,h.separator);return t.isDate(r)}return!0};o.$parsers.push(function(n){if(n){if(n=a(n,s.get(0),h),t.isDate(n))return u.toModelDateTimeString(n);var i=u.stringToDateTime(e.viUIDateTimeFormat,n,h.separator);return u.toModelDateTimeString(i)}return null});o.$formatters.push(function(n){if(n){var t=u.stringToDateTime(e.viUIDateTimeFormat,n,h.separator,!0);if(t)return u.dateTimeToString(e.viUIDateTimeFormat,t,h.separator)}return null});i(function(){s.datetimepicker(h);s.on("$destroy",function(){s.datetimepicker("hide");s.datetimepicker("destroy")})})}}}]);i.directive("viDatetimeValidation",["viUIDateTimeConverter",function(n){return{restrict:"A",require:"ngModel",link:function(t,i,r,u){u.$validators.viDatetimeValidation=function(t){if(!t)return!0;var u=!1,i=null;try{i=$.parseDate(t)}catch(f){i=null}if(u=i&&Object.prototype.toString.call(i)==="[object Date]"&&!isNaN(i.getTime()),!u)try{i=n.stringToDateTime(r.viDatetimeValidation,t)}catch(e){i=null}return i&&Object.prototype.toString.call(i)==="[object Date]"&&!isNaN(i.getTime())}}}}])}(window,angular),function(n,t,i){var r=t.module("vi.ui"),u={editorAjax:n.visionOptions.cmsAdminEndPoint+"Components/Shared/LoadEditor"};r.filter("convertHtmlToText",function(){return function(n,t){n=i.htmlDecode(n);var r={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return n=n.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,t){return r[t]}).replace(/\+/g,""),i.convertHtmlToText(n,t)}});r.directive("viEditorLoader",["$compile","$timeout","$http","$filter",function(n,t,r,f){return{restrict:"AE",require:"^ngModel",scope:{html:"=ngModel",required:"=ngRequired"},link:function(e,o,s,h){var c=s.fieldName;c&&c.startsWith("{{")&&(c=e.$eval(c.substr(2,c.length-4)));e.html&&(e.html=f("maskText")(e.html));r({url:u.editorAjax,params:{fieldName:c,ngModelName:"html",required:e.required},method:"GET",headers:{"Content-Type":"html/text"}}).then(function(r){var u,f,s;o.html(n(r.data)(e));u=o.find("[name='"+c+"']");h&&(h.$name=c,f=h,s=f.$$parentForm,s.$addControl(f));t(function(){u.trigger("change");e.html=u.val()},300);i(o).closest("form").submit(function(){u.trigger("change");e.html=u.val()})},function(){});e.$on("$destroy",function(){var t=i(o).find("[data-editor-id]").attr("[data-editor-id]"),n;$find&&t&&(n=$find(t),n!=null&&n.dispose())})}}}])}(window,angular,jQuery),function(n,t,i){var r=t.module("vi.ui"),u={editorAjax:n.visionOptions.cmsAdminEndPoint+"Components/Shared/LoadEditor"};r.filter("convertHtmlToText",function(){return function(n,t){n=i.htmlDecode(n);var r={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return n=n.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(n,t){return r[t]}).replace(/\+/g,""),i.convertHtmlToText(n,t)}});r.directive("viHtmlEditor",["$compile","$timeout","$http","$filter",function(n,t,r,f){return{restrict:"AE",require:"^ngModel",scope:{html:"=ngModel",required:"=ngRequired"},link:function(t,e,o){var s=o.fieldName;s&&s.startsWith("{{")&&(s=t.$eval(s.substr(2,s.length-4)));t.html&&(t.html=f("maskText")(t.html));r({url:u.editorAjax,params:{fieldName:s,ngModelName:"html",required:t.required},method:"GET",headers:{"Content-Type":"html/text"}}).then(function(i){e.html(n(i.data)(t))},function(){});t.$on("$destroy",function(){var t=i(e).find("[data-editor-id]").attr("[data-editor-id]"),n;$find&&t&&(n=$find(t),n!=null&&n.dispose())})}}}])}(window,angular,jQuery),function(n,t,i){var u=t.module("vi.ui"),f='<div class="imageChooser_container"><div class="imageDiv"><div class="image-container"><img ng-show="imageID" class="z-selected-image" data-original="{{imageSrc}}" src="{{imageSrc}}" alt="alt" onload="angular.element(this).scope().imageLoad(this)"/><span ng-if="!imageID" ng-class="{\'place-holder-no-image\':noImagePlaceHolder, \'no-image\':true}"><\/span><input type="hidden" ng-model="imageID" name="{{fieldName}}" ng-required="ngRequired"/><\/div><\/div><div class="browse-remove" ng-if="mode==\'edit\'"><a class="imageChooser command chooseImage browse " href="javascript:void(0);" ng-click="browseImage();">Browse<\/a><a class="imageChooser command  clearImage remove" ng-show="imageID" ng-click="removeImage();" href="javascript:void(0);">Remove<\/a><\/div><\/div>',r={showImage:n.visionOptions.imageUrl,imageBrowser:n.visionOptions.cmsAdminEndPoint+"Components/Shared/ImageBrowser"};u.directive("viImageBrowser",["$compile","$timeout",function(n,u){return{restrict:"A",require:"^ngModel",scope:{imageID:"=ngModel",ngRequired:"=ngRequired"},link:function(e,o,s){var h=s.name,c;t.extend(e,{noImagePlaceHolder:s.viNoImagePlaceHolder||"",fieldName:h});e.mode=s.viMode;e.enableBrowse=s.viEnableBrowse;Object.defineProperty(e,"imageSrc",{get:function(){return this.imageID?r.showImage+this.imageID:""}});c=o.closest("form");e.setFormField=function(n){var t,i;c.length&&(t=c.attr("name"),t&&h&&(i=c.scope(),i&&h&&i[t][h]&&i[t][h].$setViewValue(n)))};e.browseImage=function(){if(e.enableBrowse&&e.enableBrowse.toString().toLocaleLowerCase()=="true"){var n=e,t={title:"Choose an Image",url:n.imageID==""?r.imageBrowser:r.imageBrowser+"?selectedID="+n.imageID,width:768,height:560,skin:"viClientDialog-light",useFrame:!1,onClosed:function(t){t!=undefined&&u(function(){n.imageData=t;n.imageID=t.imageID;e.setFormField(n.imageID);n.$apply()})}};i.viClientDialog(t).open()}};e.removeImage=function(){var n=e;n.imageID=null;u(function(){e.setFormField(n.imageID);n.$apply()})};e.imageLoad=function(n){var t=n.naturalWidth,r=n.naturalHeight,u;t&&r&&(u={width:t,height:r,roundedCorner:!1,defaultColor:"rgb(201, 201, 201)",desireWidth:150,radios:"1:1"},i(n).adjustImageDimention(u))};o.append(n(f)(e))}}}]);u.directive("viAdjustImage",["$compile","$timeout",function(){return{restrict:"A",link:function(n,t){i.fn.adjustImage&&i(t).adjustImage()}}}])}(window,angular,jQuery),function(n,t,i){var r=t.module("vi.ui");r.directive("viPdfPrint",["$compile","$http","blockUI",function(r,u){return{restrict:"EA",template:'<p class="printer_friendly noprint"><a ng-click="exportPDF();" ng-enabled="enabled" href="javascript:void(0)">{{buttonText}}<\/a><\/p>',scope:{type:"=viType",data:"=viData",subscribeMessage:"=viSubscribeMessage"},link:function(r,f){r.buttonText="Print";r.enabled=!0;r.iframe=null;r.openURL=function(t){n.open(t)};r.markAsPending=function(){r.enabled=!1;r.buttonText="Generating PDF ..."};r.markAsCompleted=function(){r.enabled=!0;r.buttonText="Print"};r.sendMessage=function(n){typeof r.subscribeMessage=="function"&&r.subscribeMessage(n)};r.exportPDF=function(){if(r.enabled!=!1){r.markAsPending();var o=n.visionOptions.virtualApplicationPath+"Shared/PdfExists",e={type:r.type};t.extend(e,r.data);u({method:"POST",url:o,params:e}).then(function(o){o.data.Result==!1?(r.iframe=i("<iframe/>").attr("src",o.data.URL).hide(),r.iframe.load(function(){var t=r.iframe[0].contentWindow.document.documentElement.outerHTML;u({method:"POST",url:n.visionOptions.virtualApplicationPath+"Shared/PdfGenerate",params:e,data:{html:t}}).then(function(n){n.data.Result==!0?r.openURL(n.data.URL):console.error("Sorry, generating PDF something wrong.",n);r.iframe.remove();r.iframe=null;r.markAsCompleted()},function(n){console.error("Sorry, generating PDF failed.",n);r.iframe.remove();r.iframe=null;r.markAsCompleted()})}),t.element(f).append(r.iframe)):(r.markAsCompleted(),r.openURL(o.data.URL))},function(n){console.error("Sorry, checking PDF exists failed.",n);r.markAsCompleted()})}}}}}])}(window,window.angular,jQuery),function(n,t){t.module("vi.ui").directive("ngUpdateHidden",function(){return{restrict:"AE",replace:!0,require:"ngModel",link:function(n,t,i,r){n.$watch(r,function(n){t.val(n)});t.change(function(){n.$apply(function(){r.$setViewValue(t.val())})})}}})}(window,window.angular),function(n,t,i){t.extend(t,{viCompile:function(n){n=n||t.element("body");var i=n.find("[vi-need-compile]");t.forEach(i,function(n){var i=t.element(n),r=i.scope(),u=i.injector();r&&u&&u.invoke(["$compile",function(n){n(i)(r)}])})}});i&&(i.extend(i.prototype,{viCompile:function(){t.viCompile(this)}}),Node.prototype.viCompile=function(){i(this).viCompile()})}(window,angular,jQuery);;
