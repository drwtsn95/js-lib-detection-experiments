/*! jQuery Migrate v1.4.1 | (c) jQuery Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(a,b,c){function d(c){var d=b.console;f[c]||(f[c]=!0,a.migrateWarnings.push(c),d&&d.warn&&!a.migrateMute&&(d.warn("JQMIGRATE: "+c),a.migrateTrace&&d.trace&&d.trace()))}function e(b,c,e,f){if(Object.defineProperty)try{return void Object.defineProperty(b,c,{configurable:!0,enumerable:!0,get:function(){return d(f),e},set:function(a){d(f),e=a}})}catch(g){}a._definePropertyBroken=!0,b[c]=e}a.migrateVersion="1.4.1";var f={};a.migrateWarnings=[],b.console&&b.console.log&&b.console.log("JQMIGRATE: Migrate is installed"+(a.migrateMute?"":" with logging active")+", version "+a.migrateVersion),a.migrateTrace===c&&(a.migrateTrace=!0),a.migrateReset=function(){f={},a.migrateWarnings.length=0},"BackCompat"===document.compatMode&&d("jQuery is not compatible with Quirks Mode");var g=a("<input/>",{size:1}).attr("size")&&a.attrFn,h=a.attr,i=a.attrHooks.value&&a.attrHooks.value.get||function(){return null},j=a.attrHooks.value&&a.attrHooks.value.set||function(){return c},k=/^(?:input|button)$/i,l=/^[238]$/,m=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,n=/^(?:checked|selected)$/i;e(a,"attrFn",g||{},"jQuery.attrFn is deprecated"),a.attr=function(b,e,f,i){var j=e.toLowerCase(),o=b&&b.nodeType;return i&&(h.length<4&&d("jQuery.fn.attr( props, pass ) is deprecated"),b&&!l.test(o)&&(g?e in g:a.isFunction(a.fn[e])))?a(b)[e](f):("type"===e&&f!==c&&k.test(b.nodeName)&&b.parentNode&&d("Can't change the 'type' of an input or button in IE 6/7/8"),!a.attrHooks[j]&&m.test(j)&&(a.attrHooks[j]={get:function(b,d){var e,f=a.prop(b,d);return f===!0||"boolean"!=typeof f&&(e=b.getAttributeNode(d))&&e.nodeValue!==!1?d.toLowerCase():c},set:function(b,c,d){var e;return c===!1?a.removeAttr(b,d):(e=a.propFix[d]||d,e in b&&(b[e]=!0),b.setAttribute(d,d.toLowerCase())),d}},n.test(j)&&d("jQuery.fn.attr('"+j+"') might use property instead of attribute")),h.call(a,b,e,f))},a.attrHooks.value={get:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?i.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value') no longer gets properties"),b in a?a.value:null)},set:function(a,b){var c=(a.nodeName||"").toLowerCase();return"button"===c?j.apply(this,arguments):("input"!==c&&"option"!==c&&d("jQuery.fn.attr('value', val) no longer sets properties"),void(a.value=b))}};var o,p,q=a.fn.init,r=a.find,s=a.parseJSON,t=/^\s*</,u=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,v=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,w=/^([^<]*)(<[\w\W]+>)([^>]*)$/;a.fn.init=function(b,e,f){var g,h;return b&&"string"==typeof b&&!a.isPlainObject(e)&&(g=w.exec(a.trim(b)))&&g[0]&&(t.test(b)||d("$(html) HTML strings must start with '<' character"),g[3]&&d("$(html) HTML text after last tag is ignored"),"#"===g[0].charAt(0)&&(d("HTML string cannot start with a '#' character"),a.error("JQMIGRATE: Invalid selector string (XSS)")),e&&e.context&&e.context.nodeType&&(e=e.context),a.parseHTML)?q.call(this,a.parseHTML(g[2],e&&e.ownerDocument||e||document,!0),e,f):(h=q.apply(this,arguments),b&&b.selector!==c?(h.selector=b.selector,h.context=b.context):(h.selector="string"==typeof b?b:"",b&&(h.context=b.nodeType?b:e||document)),h)},a.fn.init.prototype=a.fn,a.find=function(a){var b=Array.prototype.slice.call(arguments);if("string"==typeof a&&u.test(a))try{document.querySelector(a)}catch(c){a=a.replace(v,function(a,b,c,d){return"["+b+c+'"'+d+'"]'});try{document.querySelector(a),d("Attribute selector with '#' must be quoted: "+b[0]),b[0]=a}catch(e){d("Attribute selector with '#' was not fixed: "+b[0])}}return r.apply(this,b)};var x;for(x in r)Object.prototype.hasOwnProperty.call(r,x)&&(a.find[x]=r[x]);a.parseJSON=function(a){return a?s.apply(this,arguments):(d("jQuery.parseJSON requires a valid JSON string"),null)},a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a.browser||(o=a.uaMatch(navigator.userAgent),p={},o.browser&&(p[o.browser]=!0,p.version=o.version),p.chrome?p.webkit=!0:p.webkit&&(p.safari=!0),a.browser=p),e(a,"browser",a.browser,"jQuery.browser is deprecated"),a.boxModel=a.support.boxModel="CSS1Compat"===document.compatMode,e(a,"boxModel",a.boxModel,"jQuery.boxModel is deprecated"),e(a.support,"boxModel",a.support.boxModel,"jQuery.support.boxModel is deprecated"),a.sub=function(){function b(a,c){return new b.fn.init(a,c)}a.extend(!0,b,this),b.superclass=this,b.fn=b.prototype=this(),b.fn.constructor=b,b.sub=this.sub,b.fn.init=function(d,e){var f=a.fn.init.call(this,d,e,c);return f instanceof b?f:b(f)},b.fn.init.prototype=b.fn;var c=b(document);return d("jQuery.sub() is deprecated"),b},a.fn.size=function(){return d("jQuery.fn.size() is deprecated; use the .length property"),this.length};var y=!1;a.swap&&a.each(["height","width","reliableMarginRight"],function(b,c){var d=a.cssHooks[c]&&a.cssHooks[c].get;d&&(a.cssHooks[c].get=function(){var a;return y=!0,a=d.apply(this,arguments),y=!1,a})}),a.swap=function(a,b,c,e){var f,g,h={};y||d("jQuery.swap() is undocumented and deprecated");for(g in b)h[g]=a.style[g],a.style[g]=b[g];f=c.apply(a,e||[]);for(g in b)a.style[g]=h[g];return f},a.ajaxSetup({converters:{"text json":a.parseJSON}});var z=a.fn.data;a.fn.data=function(b){var e,f,g=this[0];return!g||"events"!==b||1!==arguments.length||(e=a.data(g,b),f=a._data(g,b),e!==c&&e!==f||f===c)?z.apply(this,arguments):(d("Use of jQuery.fn.data('events') is deprecated"),f)};var A=/\/(java|ecma)script/i;a.clean||(a.clean=function(b,c,e,f){c=c||document,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,d("jQuery.clean() is deprecated");var g,h,i,j,k=[];if(a.merge(k,a.buildFragment(b,c).childNodes),e)for(i=function(a){return!a.type||A.test(a.type)?f?f.push(a.parentNode?a.parentNode.removeChild(a):a):e.appendChild(a):void 0},g=0;null!=(h=k[g]);g++)a.nodeName(h,"script")&&i(h)||(e.appendChild(h),"undefined"!=typeof h.getElementsByTagName&&(j=a.grep(a.merge([],h.getElementsByTagName("script")),i),k.splice.apply(k,[g+1,0].concat(j)),g+=j.length));return k});var B=a.event.add,C=a.event.remove,D=a.event.trigger,E=a.fn.toggle,F=a.fn.live,G=a.fn.die,H=a.fn.load,I="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",J=new RegExp("\\b(?:"+I+")\\b"),K=/(?:^|\s)hover(\.\S+|)\b/,L=function(b){return"string"!=typeof b||a.event.special.hover?b:(K.test(b)&&d("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),b&&b.replace(K,"mouseenter$1 mouseleave$1"))};a.event.props&&"attrChange"!==a.event.props[0]&&a.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),a.event.dispatch&&e(a.event,"handle",a.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),a.event.add=function(a,b,c,e,f){a!==document&&J.test(b)&&d("AJAX events should be attached to document: "+b),B.call(this,a,L(b||""),c,e,f)},a.event.remove=function(a,b,c,d,e){C.call(this,a,L(b)||"",c,d,e)},a.each(["load","unload","error"],function(b,c){a.fn[c]=function(){var a=Array.prototype.slice.call(arguments,0);return"load"===c&&"string"==typeof a[0]?H.apply(this,a):(d("jQuery.fn."+c+"() is deprecated"),a.splice(0,0,c),arguments.length?this.bind.apply(this,a):(this.triggerHandler.apply(this,a),this))}}),a.fn.toggle=function(b,c){if(!a.isFunction(b)||!a.isFunction(c))return E.apply(this,arguments);d("jQuery.fn.toggle(handler, handler...) is deprecated");var e=arguments,f=b.guid||a.guid++,g=0,h=function(c){var d=(a._data(this,"lastToggle"+b.guid)||0)%g;return a._data(this,"lastToggle"+b.guid,d+1),c.preventDefault(),e[d].apply(this,arguments)||!1};for(h.guid=f;g<e.length;)e[g++].guid=f;return this.click(h)},a.fn.live=function(b,c,e){return d("jQuery.fn.live() is deprecated"),F?F.apply(this,arguments):(a(this.context).on(b,this.selector,c,e),this)},a.fn.die=function(b,c){return d("jQuery.fn.die() is deprecated"),G?G.apply(this,arguments):(a(this.context).off(b,this.selector||"**",c),this)},a.event.trigger=function(a,b,c,e){return c||J.test(a)||d("Global events are undocumented and deprecated"),D.call(this,a,b,c||document,e)},a.each(I.split("|"),function(b,c){a.event.special[c]={setup:function(){var b=this;return b!==document&&(a.event.add(document,c+"."+a.guid,function(){a.event.trigger(c,Array.prototype.slice.call(arguments,1),b,!0)}),a._data(this,c,a.guid++)),!1},teardown:function(){return this!==document&&a.event.remove(document,c+"."+a._data(this,c)),!1}}}),a.event.special.ready={setup:function(){this===document&&d("'ready' event is deprecated")}};var M=a.fn.andSelf||a.fn.addBack,N=a.fn.find;if(a.fn.andSelf=function(){return d("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},a.fn.find=function(a){var b=N.apply(this,arguments);return b.context=this.context,b.selector=this.selector?this.selector+" "+a:a,b},a.Callbacks){var O=a.Deferred,P=[["resolve","done",a.Callbacks("once memory"),a.Callbacks("once memory"),"resolved"],["reject","fail",a.Callbacks("once memory"),a.Callbacks("once memory"),"rejected"],["notify","progress",a.Callbacks("memory"),a.Callbacks("memory")]];a.Deferred=function(b){var c=O(),e=c.promise();return c.pipe=e.pipe=function(){var b=arguments;return d("deferred.pipe() is deprecated"),a.Deferred(function(d){a.each(P,function(f,g){var h=a.isFunction(b[f])&&b[f];c[g[1]](function(){var b=h&&h.apply(this,arguments);b&&a.isFunction(b.promise)?b.promise().done(d.resolve).fail(d.reject).progress(d.notify):d[g[0]+"With"](this===e?d.promise():this,h?[b]:arguments)})}),b=null}).promise()},c.isResolved=function(){return d("deferred.isResolved is deprecated"),"resolved"===c.state()},c.isRejected=function(){return d("deferred.isRejected is deprecated"),"rejected"===c.state()},b&&b.call(c,c),c}}}(jQuery,window);var WPMLLanguageSwitcherDropdown=(function(){"use strict";var toggleSelector='.js-wpml-ls-legacy-dropdown a.js-wpml-ls-item-toggle';var preventDefault=function(e){var evt=e?e:window.event;if(evt.preventDefault){evt.preventDefault()}
evt.returnValue=!1};var init=function(){var links=document.querySelectorAll(toggleSelector);for(var i=0;i<links.length;i++){links[i].addEventListener('click',preventDefault)}};return{'init':init}})();document.addEventListener('DOMContentLoaded',function(){"use strict";WPMLLanguageSwitcherDropdown.init()});/*!
 * jQuery Pretty Dropdowns Plugin v4.13.0 by T. H. Doan (https://thdoan.github.io/pretty-dropdowns/)
 *
 * jQuery Pretty Dropdowns by T. H. Doan is licensed under the MIT License.
 * Read a copy of the license in the LICENSE file or at https://choosealicense.com/licenses/mit/
 */
(function($){$.fn.prettyDropdown=function(oOptions){oOptions=$.extend({classic:!1,customClass:'arrow',width:null,height:50,hoverIntent:200,multiDelimiter:'; ',multiVerbosity:99,selectedMarker:'&#10003;',afterLoad:function(){}},oOptions);oOptions.selectedMarker='<span aria-hidden="true" class="checked"> '+oOptions.selectedMarker+'</span>';if(isNaN(oOptions.width)&&!/^\d+%$/.test(oOptions.width))oOptions.width=null;if(isNaN(oOptions.height))oOptions.height=50;else if(oOptions.height<8)oOptions.height=8;if(isNaN(oOptions.hoverIntent)||oOptions.hoverIntent<0)oOptions.hoverIntent=200;if(isNaN(oOptions.multiVerbosity))oOptions.multiVerbosity=99;var MULTI_NONE='None selected',MULTI_PREFIX='Selected: ',MULTI_POSTFIX=' selected';var $current,aKeys=['0','1','2','3','4','5','6','7','8','9',,,,,,,,'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'],nCount,nHoverIndex,nLastIndex,nTimer,nTimestamp,init=function(elSel){var $select=$(elSel),nSize=elSel.size,sId=elSel.name||elSel.id||'',sLabelId;if($select.data('loaded'))return;$select.data('size',nSize).removeAttr('size');$select.css('visibility','hidden').outerHeight(oOptions.height);nTimestamp=+new Date();if(elSel.id){var $label=$('label[for='+elSel.id+']');if($label.length){if($label.attr('id')&&!/^menu\d{13,}$/.test($label.attr('id')))sLabelId=$label.attr('id');else $label.attr('id',(sLabelId='menu'+nTimestamp))}}
nCount=0;var $items=$('optgroup, option',$select),$selected=$items.filter(':selected'),bMultiple=elSel.multiple,sHtml='<ul'+(elSel.disabled?'':' tabindex="0"')+' role="listbox"'+(elSel.title?' title="'+elSel.title+'" aria-label="'+elSel.title+'"':'')+(sLabelId?' aria-labelledby="'+sLabelId+'"':'')+' aria-activedescendant="item'+nTimestamp+'-1" aria-expanded="false"'+' style="max-height:'+(oOptions.height-2)+'px;margin:'+$select.css('margin-top')+' '+$select.css('margin-right')+' '+$select.css('margin-bottom')+' '+$select.css('margin-left')+';">';if(bMultiple){sHtml+=renderItem(null,'selected');$items.each(function(){if(this.selected){sHtml+=renderItem(this,'',!0)}else{sHtml+=renderItem(this)}})}else{if(oOptions.classic){$items.each(function(){sHtml+=renderItem(this)})}else{sHtml+=renderItem($selected[0],'selected');$items.filter(':not(:selected)').each(function(){sHtml+=renderItem(this)})}}
sHtml+='</ul>';$select.wrap('<div '+(sId?'id="prettydropdown-'+sId+'" ':'')+'class="prettydropdown '+(oOptions.classic?'classic ':'')+(elSel.disabled?'disabled ':'')+(bMultiple?'multiple ':'')+oOptions.customClass+' loading"'+((bMultiple||nSize>1)?' style="height:'+oOptions.height+'px;"':'')+'></div>').before(sHtml).data('loaded',!0);var $dropdown=$select.parent().children('ul'),nWidth=$dropdown.outerWidth(!0),nOuterWidth;$items=$dropdown.children();if(bMultiple)updateSelected($dropdown);else if(oOptions.classic)$('[data-value="'+$selected.val()+'"]',$dropdown).addClass('selected').append(oOptions.selectedMarker);if($dropdown.width()<=0){var $clone=$dropdown.parent().clone().css({position:'absolute',top:'-100%'});$('body').append($clone);nWidth=$clone.children('ul').outerWidth(!0);$('li',$clone).width(nWidth);nOuterWidth=$clone.children('ul').outerWidth(!0);$clone.remove()}
$items.width(nWidth).css('width',$items.css('width'));if(oOptions.width){$dropdown.parent().css('min-width',$items.css('width'));$dropdown.css('width','100%');$items.css('width','100%')}
$items.click(function(){var $li=$(this),$selected=$dropdown.children('.selected');if($dropdown.parent().hasClass('disabled'))return;if($dropdown.hasClass('active')&&!$li.hasClass('disabled')&&!$li.hasClass('label')&&$li.data('value')!==$selected.data('value')){if(bMultiple){if($li.children('span.checked').length)$li.children('span.checked').remove();else $li.append(oOptions.selectedMarker);$dropdown.children(':not(.selected)').each(function(nIndex){$('optgroup, option',$select).eq(nIndex).prop('selected',$(this).children('span.checked').length>0)});updateSelected($dropdown)}else{$selected.removeClass('selected').children('span.checked').remove();$li.addClass('selected').append(oOptions.selectedMarker);if(!oOptions.classic)$dropdown.prepend($li);$dropdown.removeClass('reverse').attr('aria-activedescendant',$li.attr('id'));if($selected.data('group')&&!oOptions.classic)$dropdown.children('.label').filter(function(){return $(this).text()===$selected.data('group')}).after($selected);$('optgroup, option',$select).filter(function(){return this.value==$li.data('value')||this.text===$li.contents().filter(function(){return this.nodeType===3}).text()}).prop('selected',!0)}
$select.trigger('change')}
if($li.hasClass('selected')||!bMultiple){$dropdown.toggleClass('active');$dropdown.attr('aria-expanded',$dropdown.hasClass('active'))}
if($dropdown.hasClass('active')){if($('.prettydropdown > ul.active').length>1)resetDropdown($('.prettydropdown > ul.active').not($dropdown)[0]);var nWinHeight=window.innerHeight,nMaxHeight,nOffsetTop=$dropdown.offset().top,nScrollTop=$(document).scrollTop(),nDropdownHeight=$dropdown.outerHeight();if(nSize){nMaxHeight=nSize*(oOptions.height-2);if(nMaxHeight<nDropdownHeight-2)nDropdownHeight=nMaxHeight+2}
var nDropdownBottom=nOffsetTop-nScrollTop+nDropdownHeight;if(nDropdownBottom>nWinHeight){if(nOffsetTop-nScrollTop>nWinHeight-(nOffsetTop-nScrollTop+oOptions.height)){$dropdown.addClass('reverse');if(!oOptions.classic)$dropdown.append($selected);if(nOffsetTop-nScrollTop+oOptions.height<nDropdownHeight){$dropdown.outerHeight(nOffsetTop-nScrollTop+oOptions.height);$dropdown.scrollTop(nDropdownHeight)}}else{$dropdown.height($dropdown.height()-(nDropdownBottom-nWinHeight))}}
if(nMaxHeight&&nMaxHeight<$dropdown.height())$dropdown.css('height',nMaxHeight+'px');if(oOptions.classic)$dropdown.scrollTop($selected.index()*(oOptions.height-2))}else{$dropdown.data('clicked',!0);resetDropdown($dropdown[0])}});$dropdown.on({focusin:function(){$(window).off('keydown',handleKeypress).on('keydown',handleKeypress)},focusout:function(){$(window).off('keydown',handleKeypress)},mouseenter:function(){$dropdown.data('hover',!0)},mouseleave:resetDropdown,mousemove:hoverDropdownItem});if(sLabelId)$('#'+sLabelId).off('click',handleFocus).click(handleFocus);$dropdown.parent().width(oOptions.width||nOuterWidth||$dropdown.outerWidth(!0)).removeClass('loading');oOptions.afterLoad()},handleFocus=function(e){$('ul[aria-labelledby='+e.target.id+']').focus()},handleKeypress=function(e){var $dropdown=$('.prettydropdown > ul.active, .prettydropdown > ul:focus');if(!$dropdown.length)return;if(e.which===9){resetDropdown($dropdown[0]);return}else{e.preventDefault();e.stopPropagation()}
var $items=$dropdown.children(),bOpen=$dropdown.hasClass('active'),nItemsHeight=$dropdown.height()/(oOptions.height-2),nItemsPerPage=nItemsHeight%1<0.5?Math.floor(nItemsHeight):Math.ceil(nItemsHeight),sKey;nHoverIndex=Math.max(0,$dropdown.children('.hover').index());nLastIndex=$items.length-1;$current=$items.eq(nHoverIndex);$dropdown.data('lastKeypress',+new Date());switch(e.which){case 13:if(!bOpen){$current=$items.filter('.selected');toggleHover($current,1)}
$current.click();break;case 27:if(bOpen)resetDropdown($dropdown[0]);break;case 32:if(bOpen){sKey=' '}else{$current=$items.filter('.selected');toggleHover($current,1);$current.click()}
break;case 33:if(bOpen){toggleHover($current,0);toggleHover($items.eq(Math.max(nHoverIndex-nItemsPerPage-1,0)),1)}
break;case 34:if(bOpen){toggleHover($current,0);toggleHover($items.eq(Math.min(nHoverIndex+nItemsPerPage-1,nLastIndex)),1)}
break;case 35:if(bOpen){toggleHover($current,0);toggleHover($items.eq(nLastIndex),1)}
break;case 36:if(bOpen){toggleHover($current,0);toggleHover($items.eq(0),1)}
break;case 38:if(bOpen){toggleHover($current,0);toggleHover(nHoverIndex?$items.eq(nHoverIndex-1):$items.eq(nLastIndex),1)}
break;case 40:if(bOpen){toggleHover($current,0);toggleHover(nHoverIndex===nLastIndex?$items.eq(0):$items.eq(nHoverIndex+1),1)}
break;default:if(bOpen)sKey=aKeys[e.which-48]}
if(sKey){clearTimeout(nTimer);$dropdown.data('keysPressed',$dropdown.data('keysPressed')===undefined?sKey:$dropdown.data('keysPressed')+sKey);nTimer=setTimeout(function(){$dropdown.removeData('keysPressed')},300);var aMatches=[],nCurrentIndex=$current.index();$items.each(function(nIndex){if($(this).text().toLowerCase().indexOf($dropdown.data('keysPressed'))===0)aMatches.push(nIndex)});if(aMatches.length){for(var i=0;i<aMatches.length;++i){if(aMatches[i]>nCurrentIndex){toggleHover($items,0);toggleHover($items.eq(aMatches[i]),1);break}
if(i===aMatches.length-1){toggleHover($items,0);toggleHover($items.eq(aMatches[0]),1)}}}}},hoverDropdownItem=function(e){var $dropdown=$(e.currentTarget);if(e.target.nodeName!=='LI'||!$dropdown.hasClass('active')||new Date()-$dropdown.data('lastKeypress')<200)return;toggleHover($dropdown.children(),0,1);toggleHover($(e.target),1,1)},renderItem=function(elOpt,sClass,bSelected){var sGroup='',sText='',sTitle;sClass=sClass||'';if(elOpt){switch(elOpt.nodeName){case 'OPTION':if(elOpt.parentNode.nodeName==='OPTGROUP')sGroup=elOpt.parentNode.getAttribute('label');sText=(elOpt.getAttribute('data-prefix')||'')+elOpt.text+(elOpt.getAttribute('data-suffix')||'');break;case 'OPTGROUP':sClass+=' label';sText=(elOpt.getAttribute('data-prefix')||'')+elOpt.getAttribute('label')+(elOpt.getAttribute('data-suffix')||'');break}
if(elOpt.disabled||(sGroup&&elOpt.parentNode.disabled))sClass+=' disabled';sTitle=elOpt.title;if(sGroup&&!sTitle)sTitle=elOpt.parentNode.title}
++nCount;return'<li id="item'+nTimestamp+'-'+nCount+'"'+(sGroup?' data-group="'+sGroup+'"':'')+(elOpt&&(elOpt.value||oOptions.classic)?' data-value="'+elOpt.value+'"':'')+(elOpt&&elOpt.nodeName==='OPTION'?' role="option"':'')+(sTitle?' title="'+sTitle+'" aria-label="'+sTitle+'"':'')+(sClass?' class="'+$.trim(sClass)+'"':'')+((oOptions.height!==50)?' style="height:'+(oOptions.height-2)+'px;line-height:'+(oOptions.height-4)+'px;"':'')+'>'+sText+((bSelected||sClass==='selected')?oOptions.selectedMarker:'')+'</li>'},resetDropdown=function(o){var $dropdown=$(o.currentTarget||o);if(o.type==='mouseleave'&&!$dropdown.hasClass('active')&&!$dropdown.data('clicked'))$dropdown=$('.prettydropdown > ul.active');$dropdown.data('hover',!1);clearTimeout(nTimer);nTimer=setTimeout(function(){if($dropdown.data('hover'))return;if($dropdown.hasClass('reverse')&&!oOptions.classic)$dropdown.prepend($dropdown.children(':last-child'));$dropdown.removeClass('active reverse').removeData('clicked').attr('aria-expanded','false').css('height','');$dropdown.children().removeClass('hover nohover')},(o.type==='mouseleave'&&!$dropdown.data('clicked'))?oOptions.hoverIntent:0)},toggleHover=function($li,bOn,bNoScroll){if(bOn){$li.removeClass('nohover').addClass('hover');if($li.length===1&&$current&&!bNoScroll){var $dropdown=$li.parent(),nDropdownHeight=$dropdown.outerHeight(),nItemOffset=$li.offset().top-$dropdown.offset().top-1;if($li.index()===0){$dropdown.scrollTop(0)}else if($li.index()===nLastIndex){$dropdown.scrollTop($dropdown.children().length*oOptions.height)}else{if(nItemOffset+oOptions.height>nDropdownHeight)$dropdown.scrollTop($dropdown.scrollTop()+oOptions.height+nItemOffset-nDropdownHeight);else if(nItemOffset<0)$dropdown.scrollTop($dropdown.scrollTop()+nItemOffset)}}}else{$li.removeClass('hover').addClass('nohover')}},updateSelected=function($dropdown){var $select=$dropdown.parent().children('select'),aSelected=$('option',$select).map(function(){if(this.selected)return this.text}).get(),sSelected;if(oOptions.multiVerbosity>=aSelected.length)sSelected=aSelected.join(oOptions.multiDelimiter)||MULTI_NONE;else sSelected=aSelected.length+'/'+$('option',$select).length+MULTI_POSTFIX;if(sSelected){var sTitle=($select.attr('title')?$select.attr('title'):'')+(aSelected.length?'\n'+MULTI_PREFIX+aSelected.join(oOptions.multiDelimiter):'');$dropdown.children('.selected').text(sSelected);$dropdown.attr({'title':sTitle,'aria-label':sTitle})}else{$dropdown.children('.selected').empty();$dropdown.attr({'title':$select.attr('title'),'aria-label':$select.attr('title')})}};this.refresh=function(oOptions){return this.each(function(){var $select=$(this);$select.prevAll('ul').remove();$select.unwrap().data('loaded',!1);this.size=$select.data('size');init(this)})};return this.each(function(){init(this)})}}(jQuery));(function(t){"use strict";function e(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):void 0}function r(t,e){var r,n;for(r=0,n=t.length;n>r;r++)if(t[r]===e)return!0;return!1}function n(t,e){var r;t.createTextRange?(r=t.createTextRange(),r.move("character",e),r.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function a(t,e){try{return t.type=e,!0}catch(r){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:r,moveCaret:n,changeType:a}}})(this),function(t){"use strict";function e(){}function r(){try{return document.activeElement}catch(t){}}function n(t,e){var r,n,a=!!e&&t.value!==e,u=t.value===t.getAttribute(V);return(a||u)&&"true"===t.getAttribute(P)?(t.removeAttribute(P),t.value=t.value.replace(t.getAttribute(V),""),t.className=t.className.replace(R,""),n=t.getAttribute(z),parseInt(n,10)>=0&&(t.setAttribute("maxLength",n),t.removeAttribute(z)),r=t.getAttribute(D),r&&(t.type=r),!0):!1}function a(t){var e,r,n=t.getAttribute(V);return""===t.value&&n?(t.setAttribute(P,"true"),t.value=n,t.className+=" "+I,r=t.getAttribute(z),r||(t.setAttribute(z,t.maxLength),t.removeAttribute("maxLength")),e=t.getAttribute(D),e?t.type="text":"password"===t.type&&K.changeType(t,"text")&&t.setAttribute(D,"password"),!0):!1}function u(t,e){var r,n,a,u,i,l,o;if(t&&t.getAttribute(V))e(t);else for(a=t?t.getElementsByTagName("input"):f,u=t?t.getElementsByTagName("textarea"):h,r=a?a.length:0,n=u?u.length:0,o=0,l=r+n;l>o;o++)i=r>o?a[o]:u[o-r],e(i)}function i(t){u(t,n)}function l(t){u(t,a)}function o(t){return function(){b&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(P)?K.moveCaret(t,0):n(t)}}function c(t){return function(){a(t)}}function s(t){return function(e){return A=t.value,"true"===t.getAttribute(P)&&A===t.getAttribute(V)&&K.inArray(C,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function d(t){return function(){n(t,A),""===t.value&&(t.blur(),K.moveCaret(t,0))}}function v(t){return function(){t===r()&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(P)&&K.moveCaret(t,0)}}function g(t){return function(){i(t)}}function p(t){t.form&&(T=t.form,"string"==typeof T&&(T=document.getElementById(T)),T.getAttribute(U)||(K.addEventListener(T,"submit",g(T)),T.setAttribute(U,"true"))),K.addEventListener(t,"focus",o(t)),K.addEventListener(t,"blur",c(t)),b&&(K.addEventListener(t,"keydown",s(t)),K.addEventListener(t,"keyup",d(t)),K.addEventListener(t,"click",v(t))),t.setAttribute(j,"true"),t.setAttribute(V,x),(b||t!==r())&&a(t)}var f,h,b,m,A,y,E,x,L,T,S,N,w,B=["text","search","url","tel","email","password","number","textarea"],C=[27,33,34,35,36,37,38,39,40,8,46],k="#ccc",I="placeholdersjs",R=RegExp("(?:^|\\s)"+I+"(?!\\S)"),V="data-placeholder-value",P="data-placeholder-active",D="data-placeholder-type",U="data-placeholder-submit",j="data-placeholder-bound",q="data-placeholder-focus",Q="data-placeholder-live",z="data-placeholder-maxlength",F=document.createElement("input"),G=document.getElementsByTagName("head")[0],H=document.documentElement,J=t.Placeholders,K=J.Utils;if(J.nativeSupport=void 0!==F.placeholder,!J.nativeSupport){for(f=document.getElementsByTagName("input"),h=document.getElementsByTagName("textarea"),b="false"===H.getAttribute(q),m="false"!==H.getAttribute(Q),y=document.createElement("style"),y.type="text/css",E=document.createTextNode("."+I+" { color:"+k+"; }"),y.styleSheet?y.styleSheet.cssText=E.nodeValue:y.appendChild(E),G.insertBefore(y,G.firstChild),w=0,N=f.length+h.length;N>w;w++)S=f.length>w?f[w]:h[w-f.length],x=S.attributes.placeholder,x&&(x=x.nodeValue,x&&K.inArray(B,S.type)&&p(S));L=setInterval(function(){for(w=0,N=f.length+h.length;N>w;w++)S=f.length>w?f[w]:h[w-f.length],x=S.attributes.placeholder,x?(x=x.nodeValue,x&&K.inArray(B,S.type)&&(S.getAttribute(j)||p(S),(x!==S.getAttribute(V)||"password"===S.type&&!S.getAttribute(D))&&("password"===S.type&&!S.getAttribute(D)&&K.changeType(S,"text")&&S.setAttribute(D,"password"),S.value===S.getAttribute(V)&&(S.value=x),S.setAttribute(V,x)))):S.getAttribute(P)&&(n(S),S.removeAttribute(V));m||clearInterval(L)},100)}K.addEventListener(t,"beforeunload",function(){J.disable()}),J.disable=J.nativeSupport?e:i,J.enable=J.nativeSupport?e:l}(this),function(t){"use strict";var e=t.fn.val,r=t.fn.prop;Placeholders.nativeSupport||(t.fn.val=function(t){var r=e.apply(this,arguments),n=this.eq(0).data("placeholder-value");return void 0===t&&this.eq(0).data("placeholder-active")&&r===n?"":r},t.fn.prop=function(t,e){return void 0===e&&this.eq(0).data("placeholder-active")&&"value"===t?"":r.apply(this,arguments)})}(jQuery);var ms_grabbing_curosr='https://estatenation.com/wp-content/plugins/masterslider/public/assets/css/common/grabbing.cur',ms_grab_curosr='https://estatenation.com/wp-content/plugins/masterslider/public/assets/css/common/grab.cur';var doc=document.documentElement;doc.setAttribute('data-useragent',navigator.userAgent);(window.MSReady=window.MSReady||[]).push(function($){"use strict";var masterslider_e9d8=new MasterSlider();masterslider_e9d8.control('arrows',{autohide:!0,overVideo:!0});masterslider_e9d8.control('thumblist',{autohide:!1,overVideo:!0,dir:'h',speed:17,inset:!1,arrows:!1,hover:!1,customClass:'',align:'bottom',type:'thumbs',margin:5,width:127,height:90,space:5,fillMode:'fill'});masterslider_e9d8.setup("MS603bbc970e9d8",{width:800,height:350,minHeight:0,space:0,start:1,grabCursor:!0,swipe:!0,mouse:!0,keyboard:!1,layout:"boxed",wheel:!1,autoplay:!0,instantStartLayers:!1,mobileBGVideo:!1,loop:!0,shuffle:!1,preload:4,heightLimit:!0,autoHeight:!1,smoothHeight:!0,endPause:!1,overPause:!0,fillMode:"fill",centerControls:!1,startOnAppear:!1,layersMode:"center",autofillTarget:"",hideLayers:!1,fullscreenMargin:0,speed:10,dir:"h",responsive:!0,tabletWidth:768,tabletHeight:null,phoneWidth:480,phoneHeight:null,sizingReference:window,parallaxMode:'swipe',view:"fadeBasic"});window.masterslider_instances=window.masterslider_instances||[];window.masterslider_instances.push(masterslider_e9d8)});var $zoho=$zoho||{};$zoho.salesiq=$zoho.salesiq||{widgetcode:"8d37fce515ea77d502a63c0db01d72755df220bb5f733f5216c91503b8eb5422449d06c7990bc53a44db3198beb02cef",values:{},ready:function(){}};var d=document;s=d.createElement("script");s.type="text/javascript";s.id="zsiqscript";s.defer=!0;s.src="https://salesiq.zoho.com/widget?plugin_source=wordpress";t=d.getElementsByTagName("script")[0];t.parentNode.insertBefore(s,t);d.write("<div id='zsiqwidget'></div>");var ajax_object={"ajax_url":"https:\/\/estatenation.com\/wp-admin\/admin-ajax.php"};jQuery(function($){'use strict';var o=$({});$.subscribe=function(){o.on.apply(o,arguments)};$.unsubscribe=function(){o.off.apply(o,arguments)};$.publish=function(){o.trigger.apply(o,arguments)};var DOM=(function(dom){var dom=dom||{},wptwaFlag=$('.wptwa-flag');dom.body=$('body:eq(0)');dom.isSmallScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"small"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='small')?!0:!1;dom.isMobileScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"mobile"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='mobile')?!0:!1;dom.isLargeScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"desktop"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='desktop')?!0:!1;return dom}(DOM));var COOKIES=(function(cookies){var cookies=cookies||{};cookies.setItem=function(name,value,durationInDays){var d=new Date();d.setTime(d.getTime()+(durationInDays*24*60*60*1000));var expires='expires='+d.toUTCString();document.cookie=name+'='+value+';'+expires+';path=/'};cookies.getItem=function(name){var name=name+'=',decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1)}
if(c.indexOf(name)==0){return c.substring(name.length,c.length)}}
return null}
cookies.deleteItem=function(name){document.cookie=name+'=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;'};return cookies}(COOKIES));(function(){$.subscribe('wptwa-widget-ready',function(){var container=$('.wptwa-container'),box=container.find('.wptwa-box'),description=container.find('.wptwa-description'),toggle=container.find('.wptwa-toggle'),peopleList=container.find('.wptwa-people');peopleList.css({maxHeight:$(window).height()-(description.outerHeight()+parseInt(box.css('bottom'))+20)})})}());(function(){var neverBeenResized=!0;$.subscribe('wptwa-widget-ready',function(){var wptwa=DOM.body.find('.wptwa-container'),toggleBox=function(e){wptwa.toggleClass('wptwa-show');if(!COOKIES.getItem('wptwa')){COOKIES.setItem('wptwa','toggled',1)}};$.subscribe('wptwa-toggle-box',toggleBox)})}());(function(){$.subscribe('wptwa-widget-ready',function(){var wptwaFlag=DOM.body.find('.wptwa-flag'),wptwa=DOM.body.find('.wptwa-container'),delayTime=parseInt(wptwa.data('delay-time')),inactiveTime=parseInt(wptwa.data('inactive-time')),scrollLength=parseInt(wptwa.data('scroll-length')),autoDisplayOnMobile=wptwa.data('auto-display-on-mobile'),box=wptwa.find('.wptwa-box'),toggle=wptwa.find('.wptwa-toggle'),close=wptwa.find('.wptwa-close'),bottomClose=wptwa.find('.wptwa-mobile-close'),autoShow;if(!wptwa.length||!wptwaFlag.length){return}
box.addClass('wptwa-js-ready');toggle.add(close).add(bottomClose).on('click',function(){$.publish('wptwa-toggle-box')});if(DOM.isSmallScreen&&wptwa.is('.wptwa-disable-auto-display-on-small-screen')){return}
if(delayTime>0){autoShow=setTimeout(function(){if(!box.is('.wptwa-show')&&!COOKIES.getItem('wptwa')){$.publish('wptwa-toggle-box')}},delayTime*1000)}
var cb,executed=!1,events='mousemove mousedown mouseup onkeydown onkeyup focus scroll',showAfterInactivity=function(){clearTimeout(cb);if(!executed){cb=setTimeout(function(){if(!COOKIES.getItem('wptwa')&&!box.is('.wptwa-show')){$.publish('wptwa-toggle-box')}
$(document).off(events,showAfterInactivity)},inactiveTime*1000)}};if(inactiveTime>0){$(document).on(events,showAfterInactivity)}
var percentage=Math.abs(scrollLength)/100,scrolling,timing=!0,scrollHandler=function(){scrolling=!0;if(timing){setTimeout(function(){if($(window).scrollTop()>=($(document).height()-$(window).height())*percentage){if(!COOKIES.getItem('wptwa')&&!box.is('.wptwa-show')){$.publish('wptwa-toggle-box')}
$(window).off('scroll',scrollHandler)}
timing=!0;scrolling=!1},500);if(scrolling){timing=!1}}};if(scrollLength>0){$(window).on('scroll',scrollHandler)}})}());(function(){$.subscribe('wptwa-widget-ready',function(){DOM.body.find('.wptwa-container .wptwa-face').each(function(){var el=$(this),img=el.find('img'),noImage=!0;if(img.length){var url=img.attr('src'),tester=new Image();tester.src=url;tester.onerror=function(){el.addClass('no-image')}}else{el.addClass('no-image')}})})}());(function(){var alterURL=function(){var wptwaAccounts=DOM.body.find('a.wptwa-account'),wptwaFlag=DOM.body.find('.wptwa-flag');if(!wptwaFlag.length){return}
if(DOM.isLargeScreen){wptwaAccounts.each(function(){var el=$(this),number=el.data('number'),text=el.data('auto-text');if(''===number){return!0}
el.attr('href','https://web.whatsapp.com/send?phone='+number+'&text='+text)})}else{if(window.location===window.parent.location){wptwaAccounts.removeAttr('target')}}};alterURL();$.subscribe('wptwa-widget-ready',function(){alterURL()})}());(function(){var wptwasw=DOM.body.find('#wptwa-show-widget');if(wptwasw.length<1){return}
var data={'action':'wptwa_display_widget','when':Date.now(),'current-language':wptwasw.data('current-language'),'ids':wptwasw.data('ids'),'page-title':wptwasw.data('page-title'),'page-url':wptwasw.data('page-url')};$.post(ajax_object.ajax_url,data,function(response){if('no-show'===response){return}
var hideOnLargeScreen=!0,hideOnSmallScreen=!0;$(response).find('.wptwa-account').each(function(){var el=$(this);if(DOM.isLargeScreen&&!el.is('.wptwa-hide-on-large-screen')){hideOnLargeScreen=!1}
if((DOM.isSmallScreen||DOM.isMobileScreen)&&!el.is('.wptwa-hide-on-small-screen')){hideOnSmallScreen=!1}});if((DOM.isLargeScreen&&!hideOnLargeScreen)||((DOM.isMobileScreen||DOM.isSmallScreen)&&!hideOnSmallScreen)){$(response).appendTo(DOM.body)}
setTimeout(function(){$.publish('wptwa-widget-ready')},100)})}());(function(){$.subscribe('wptwa-widget-ready',function(){if(COOKIES.getItem('consent')){DOM.body.find('.wptwa-gdpr').remove()}});DOM.body.on('click','a.wptwa-account',function(e){var el=$(this),number=parseInt(el.data('number')),gaLabel=el.data('ga-label'),parent=el.parents('.wptwa-people'),gdpr=parent.find('.wptwa-gdpr'),confirmation=gdpr.find('.wptwa-confirmation'),consent=gdpr.find('#wptwa-consent'),to;if(consent.length&&!consent.is(':checked')){confirmation.addClass('wptwa-blink');confirmation.one('animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd',function(){confirmation.removeClass('wptwa-blink')});e.preventDefault();return!1}
COOKIES.setItem('consent','acquired',1);gdpr.remove();try{gtag('event','Button Clicked',{'event_category':'WhatsApp Click to Chat','event_label':'WhatsApp Account: '+gaLabel})}catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message)}
try{ga('send','event','WhatsApp Click to Chat','Button Clicked','WhatsApp Account: '+gaLabel)}catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message)}
var pixeled=!1;try{if(!pixeled){fbq('trackCustom','ClickToChat',{event:'Chat started',account:gaLabel});pixeled=!0}}catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message)}})}());(function(){}())});/**
 *  PDFObject v2.1.1
 *  https://github.com/pipwerks/PDFObject
 *  @license
 *  Copyright (c) 2008-2018 Philip Hutchison
 *  MIT-style license: http://pipwerks.mit-license.org/
 *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.PDFObject=t()}(this,function(){"use strict";if("undefined"==typeof window||"undefined"==typeof navigator)return!1;var e=window.navigator.userAgent,t=void 0!==navigator.mimeTypes&&void 0!==navigator.mimeTypes["application/pdf"],v=void 0!==window.Promise,o=-1!==e.indexOf("irefox")&&-1===e.indexOf("Mobile")&&-1===e.indexOf("Tablet")&&18<parseInt(e.split("rv:")[1].split(".")[0],10),b=/iphone|ipad|ipod/i.test(e.toLowerCase()),n=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},i=function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},h=!b&&navigator.vendor&&-1!==navigator.vendor.indexOf("Apple")&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Safari"),r=function(){return!(!n("AcroPDF.PDF")&&!n("PDF.PdfCtrl"))},y=!b&&(o||t||i()&&r()),w=function(e){var t,o="";if(e){for(t in e)e.hasOwnProperty(t)&&(o+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");o=o&&(o="#"+o).slice(0,o.length-1)}return o},d=function(e){"undefined"!=typeof console&&console.log&&console.log("[PDFObject] "+e)},P=function(e){return d(e),!1},D=function(e){var t=document.body;return"string"==typeof e?t=document.querySelector(e):"undefined"!=typeof jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t},s=function(e){var t="pdfobject-container",o=e.className.split(/\s+/);-1===o.indexOf(t)&&(o.push(t),e.className=o.join(" "))},T=function(e,t,o,n,i){var r=n+"?file="+encodeURIComponent(t)+o,d="<div style='"+(b?"-webkit-overflow-scrolling: touch; overflow-y: scroll; ":"overflow: hidden; ")+"position: absolute; top: 0; right: 0; bottom: 0; left: 0;'><iframe  "+i+" src='"+r+"' style='border: none; width: 100%; height: 100%;' frameborder='0'></iframe></div>";return s(e),e.style.position="relative",e.style.overflow="auto",e.innerHTML=d,e.getElementsByTagName("iframe")[0]},j=function(e,t,o,n,i,r,d){var a="",a=t&&t!==document.body?"width: "+i+"; height: "+r+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;";return s(e),e.innerHTML="<embed "+d+" class='pdfobject' src='"+o+n+"' type='application/pdf' style='overflow: auto; "+a+"'/>",e.getElementsByTagName("embed")[0]},F=function(e,t,o,n,i,r,d){var a="",a=t&&t!==document.body?"width: "+i+"; height: "+r+";":"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;";return e.className+=" pdfobject-container",e.innerHTML="<iframe "+d+" class='pdfobject' src='"+o+n+"' type='application/pdf' style='border: none; "+a+"'/>",e.getElementsByTagName("iframe")[0]};return{embed:function(e,t,o){if("string"!=typeof e)return P("URL is not valid");t=void 0!==t&&t;var n,i=(o=void 0!==o?o:{}).id&&"string"==typeof o.id?"id='"+o.id+"'":"",r=!!o.page&&o.page,d=o.pdfOpenParams?o.pdfOpenParams:{},a=void 0===o.fallbackLink||o.fallbackLink,s=o.width?o.width:"100%",f=o.height?o.height:"100%",p="boolean"!=typeof o.assumptionMode||o.assumptionMode,l="boolean"==typeof o.forcePDFJS&&o.forcePDFJS,c="boolean"==typeof o.supportRedirect&&o.supportRedirect,u=!!o.PDFJS_URL&&o.PDFJS_URL,m=D(t),g="";return m?(r&&(d.page=r),n=w(d),l&&u?T(m,e,n,u,i):y||p&&v&&!b?(c&&h?F:j)(m,t,e,n,s,f,i):u?T(m,e,n,u,i):(a&&(g="string"==typeof a?a:"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>",m.innerHTML=g.replace(/\[url\]/g,e)),P("This browser does not support embedded PDFs"))):P("Target element cannot be determined")},pdfobjectversion:"2.1.1",supportsPDFs:y}});var eadPublic={"pdfjs":""};jQuery(function(l){l(".ead-iframe-wrapper").each(function(){var e,t,a,i,d,n,r,s=l(this),c=s.parent(".ead-document").data("viewer");"dropbox"!==(c=void 0!==c?c:"")?(e=s.find(".ead-iframe"),t=0<c.length&&c,a=e.data("src"),i=e.attr("loading"),d=!1,(void 0!==a&&0<a.length||void 0!==i&&"lazy"===i)&&(d=!0),n=e,d||(n=l('<iframe class="ead-iframe"></iframe>')).attr({src:e.attr("src"),style:e.attr("style"),title:e.attr("title")}),t||n.css("visibility","visible"),n.on("load",function(){l(this).parents(".ead-document").find(".ead-document-loading").css("display","none")}),d||s.html(n)):r=setInterval(function(){var e=s.find("iframe").first();0<e.length&&(e.addClass("ead-iframe"),e.on("load",function(){l(this).parents(".ead-document").find(".ead-document-loading").css("display","none")}),clearInterval(r))},250)}),l(".ead-document[data-pdf-src]").each(function(){var e,t=l(this),a=t.find(".ead-iframe"),i=t.data("pdfSrc"),d=void 0!==(d=t.data("viewer"))&&0<i.length&&0<d.length&&d,n="pdfjs"in eadPublic&&0<eadPublic.pdfjs.length&&"built-in"===d;d&&("browser"===d||n)&&(PDFObject.supportsPDFs||n?(e={},e=n?{forcePDFJS:!0,PDFJS_URL:eadPublic.pdfjs}:{width:a.css("width"),height:a.css("height")},PDFObject.embed(i,t,e)):a.css("visibility","visible"))}),l(document).on("click",".ead-reload-btn",function(e){e.preventDefault();var t=l(this).parents(".ead-document"),a=t.find(".ead-iframe").attr("src");t.find(".ead-iframe").attr("src",a)})});var wpcf7={"apiSettings":{"root":"https:\/\/estatenation.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"cached":"1"};(function($){'use strict';if(typeof wpcf7==='undefined'||wpcf7===null){return}
wpcf7=$.extend({cached:0,inputs:[]},wpcf7);$(function(){wpcf7.supportHtml5=(function(){var features={};var input=document.createElement('input');features.placeholder='placeholder' in input;var inputTypes=['email','url','tel','number','range','date'];$.each(inputTypes,function(index,value){input.setAttribute('type',value);features[value]=input.type!=='text'});return features})();$('div.wpcf7 > form').each(function(){var $form=$(this);wpcf7.initForm($form);if(wpcf7.cached){wpcf7.refill($form)}})});wpcf7.getId=function(form){return parseInt($('input[name="_wpcf7"]',form).val(),10)};wpcf7.initForm=function(form){var $form=$(form);wpcf7.setStatus($form,'init');$form.submit(function(event){if(!wpcf7.supportHtml5.placeholder){$('[placeholder].placeheld',$form).each(function(i,n){$(n).val('').removeClass('placeheld')})}
if(typeof window.FormData==='function'){wpcf7.submit($form);event.preventDefault()}});$('.wpcf7-submit',$form).after('<span class="ajax-loader"></span>');wpcf7.toggleSubmit($form);$form.on('click','.wpcf7-acceptance',function(){wpcf7.toggleSubmit($form)});$('.wpcf7-exclusive-checkbox',$form).on('click','input:checkbox',function(){var name=$(this).attr('name');$form.find('input:checkbox[name="'+name+'"]').not(this).prop('checked',!1)});$('.wpcf7-list-item.has-free-text',$form).each(function(){var $freetext=$(':input.wpcf7-free-text',this);var $wrap=$(this).closest('.wpcf7-form-control');if($(':checkbox, :radio',this).is(':checked')){$freetext.prop('disabled',!1)}else{$freetext.prop('disabled',!0)}
$wrap.on('change',':checkbox, :radio',function(){var $cb=$('.has-free-text',$wrap).find(':checkbox, :radio');if($cb.is(':checked')){$freetext.prop('disabled',!1).focus()}else{$freetext.prop('disabled',!0)}})});if(!wpcf7.supportHtml5.placeholder){$('[placeholder]',$form).each(function(){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld');$(this).focus(function(){if($(this).hasClass('placeheld')){$(this).val('').removeClass('placeheld')}});$(this).blur(function(){if(''===$(this).val()){$(this).val($(this).attr('placeholder'));$(this).addClass('placeheld')}})})}
if(wpcf7.jqueryUi&&!wpcf7.supportHtml5.date){$form.find('input.wpcf7-date[type="date"]').each(function(){$(this).datepicker({dateFormat:'yy-mm-dd',minDate:new Date($(this).attr('min')),maxDate:new Date($(this).attr('max'))})})}
if(wpcf7.jqueryUi&&!wpcf7.supportHtml5.number){$form.find('input.wpcf7-number[type="number"]').each(function(){$(this).spinner({min:$(this).attr('min'),max:$(this).attr('max'),step:$(this).attr('step')})})}
wpcf7.resetCounter($form);$form.on('change','.wpcf7-validates-as-url',function(){var val=$.trim($(this).val());if(val&&!val.match(/^[a-z][a-z0-9.+-]*:/i)&&-1!==val.indexOf('.')){val=val.replace(/^\/+/,'');val='http://'+val}
$(this).val(val)})};wpcf7.submit=function(form){if(typeof window.FormData!=='function'){return}
var $form=$(form);$('.ajax-loader',$form).addClass('is-active');wpcf7.clearResponse($form);var formData=new FormData($form.get(0));var detail={id:$form.closest('div.wpcf7').attr('id'),status:'init',inputs:[],formData:formData};$.each($form.serializeArray(),function(i,field){if('_wpcf7'==field.name){detail.contactFormId=field.value}else if('_wpcf7_version'==field.name){detail.pluginVersion=field.value}else if('_wpcf7_locale'==field.name){detail.contactFormLocale=field.value}else if('_wpcf7_unit_tag'==field.name){detail.unitTag=field.value}else if('_wpcf7_container_post'==field.name){detail.containerPostId=field.value}else if(field.name.match(/^_/)){}else{detail.inputs.push(field)}});wpcf7.triggerEvent($form.closest('div.wpcf7'),'beforesubmit',detail);var ajaxSuccess=function(data,status,xhr,$form){detail.id=$(data.into).attr('id');detail.status=data.status;detail.apiResponse=data;switch(data.status){case 'init':wpcf7.setStatus($form,'init');break;case 'validation_failed':$.each(data.invalid_fields,function(i,n){$(n.into,$form).each(function(){wpcf7.notValidTip(this,n.message);$('.wpcf7-form-control',this).addClass('wpcf7-not-valid');$('.wpcf7-form-control',this).attr('aria-describedby',n.error_id);$('[aria-invalid]',this).attr('aria-invalid','true')})});wpcf7.setStatus($form,'invalid');wpcf7.triggerEvent(data.into,'invalid',detail);break;case 'acceptance_missing':wpcf7.setStatus($form,'unaccepted');wpcf7.triggerEvent(data.into,'unaccepted',detail);break;case 'spam':wpcf7.setStatus($form,'spam');wpcf7.triggerEvent(data.into,'spam',detail);break;case 'aborted':wpcf7.setStatus($form,'aborted');wpcf7.triggerEvent(data.into,'aborted',detail);break;case 'mail_sent':wpcf7.setStatus($form,'sent');wpcf7.triggerEvent(data.into,'mailsent',detail);break;case 'mail_failed':wpcf7.setStatus($form,'failed');wpcf7.triggerEvent(data.into,'mailfailed',detail);break;default:wpcf7.setStatus($form,'custom-'+data.status.replace(/[^0-9a-z]+/i,'-'))}
wpcf7.refill($form,data);wpcf7.triggerEvent(data.into,'submit',detail);if('mail_sent'==data.status){$form.each(function(){this.reset()});wpcf7.toggleSubmit($form);wpcf7.resetCounter($form)}
if(!wpcf7.supportHtml5.placeholder){$form.find('[placeholder].placeheld').each(function(i,n){$(n).val($(n).attr('placeholder'))})}
$('.wpcf7-response-output',$form).html('').append(data.message).slideDown('fast');$('.screen-reader-response',$form.closest('.wpcf7')).each(function(){var $response=$(this);$('[role="status"]',$response).html(data.message);if(data.invalid_fields){$.each(data.invalid_fields,function(i,n){if(n.idref){var $li=$('<li></li>').append($('<a></a>').attr('href','#'+n.idref).append(n.message))}else{var $li=$('<li></li>').append(n.message)}
$li.attr('id',n.error_id);$('ul',$response).append($li)})}});if(data.posted_data_hash){$form.find('input[name="_wpcf7_posted_data_hash"]').first().val(data.posted_data_hash)}};$.ajax({type:'POST',url:wpcf7.apiSettings.getRoute('/contact-forms/'+wpcf7.getId($form)+'/feedback'),data:formData,dataType:'json',processData:!1,contentType:!1}).done(function(data,status,xhr){ajaxSuccess(data,status,xhr,$form);$('.ajax-loader',$form).removeClass('is-active')}).fail(function(xhr,status,error){var $e=$('<div class="ajax-error"></div>').text(error.message);$form.after($e)})};wpcf7.triggerEvent=function(target,name,detail){var event=new CustomEvent('wpcf7'+name,{bubbles:!0,detail:detail});$(target).get(0).dispatchEvent(event)};wpcf7.setStatus=function(form,status){var $form=$(form);var prevStatus=$form.attr('data-status');$form.data('status',status);$form.addClass(status);$form.attr('data-status',status);if(prevStatus&&prevStatus!==status){$form.removeClass(prevStatus)}}
wpcf7.toggleSubmit=function(form,state){var $form=$(form);var $submit=$('input:submit',$form);if(typeof state!=='undefined'){$submit.prop('disabled',!state);return}
if($form.hasClass('wpcf7-acceptance-as-validation')){return}
$submit.prop('disabled',!1);$('.wpcf7-acceptance',$form).each(function(){var $span=$(this);var $input=$('input:checkbox',$span);if(!$span.hasClass('optional')){if($span.hasClass('invert')&&$input.is(':checked')||!$span.hasClass('invert')&&!$input.is(':checked')){$submit.prop('disabled',!0);return!1}}})};wpcf7.resetCounter=function(form){var $form=$(form);$('.wpcf7-character-count',$form).each(function(){var $count=$(this);var name=$count.attr('data-target-name');var down=$count.hasClass('down');var starting=parseInt($count.attr('data-starting-value'),10);var maximum=parseInt($count.attr('data-maximum-value'),10);var minimum=parseInt($count.attr('data-minimum-value'),10);var updateCount=function(target){var $target=$(target);var length=$target.val().length;var count=down?starting-length:length;$count.attr('data-current-value',count);$count.text(count);if(maximum&&maximum<length){$count.addClass('too-long')}else{$count.removeClass('too-long')}
if(minimum&&length<minimum){$count.addClass('too-short')}else{$count.removeClass('too-short')}};$(':input[name="'+name+'"]',$form).each(function(){updateCount(this);$(this).keyup(function(){updateCount(this)})})})};wpcf7.notValidTip=function(target,message){var $target=$(target);$('.wpcf7-not-valid-tip',$target).remove();$('<span></span>').attr({'class':'wpcf7-not-valid-tip','aria-hidden':'true',}).text(message).appendTo($target);if($target.is('.use-floating-validation-tip *')){var fadeOut=function(target){$(target).not(':hidden').animate({opacity:0},'fast',function(){$(this).css({'z-index':-100})})};$target.on('mouseover','.wpcf7-not-valid-tip',function(){fadeOut(this)});$target.on('focus',':input',function(){fadeOut($('.wpcf7-not-valid-tip',$target))})}};wpcf7.refill=function(form,data){var $form=$(form);var refillCaptcha=function($form,items){$.each(items,function(i,n){$form.find(':input[name="'+i+'"]').val('');$form.find('img.wpcf7-captcha-'+i).attr('src',n);var match=/([0-9]+)\.(png|gif|jpeg)$/.exec(n);$form.find('input:hidden[name="_wpcf7_captcha_challenge_'+i+'"]').attr('value',match[1])})};var refillQuiz=function($form,items){$.each(items,function(i,n){$form.find(':input[name="'+i+'"]').val('');$form.find(':input[name="'+i+'"]').siblings('span.wpcf7-quiz-label').text(n[0]);$form.find('input:hidden[name="_wpcf7_quiz_answer_'+i+'"]').attr('value',n[1])})};if(typeof data==='undefined'){$.ajax({type:'GET',url:wpcf7.apiSettings.getRoute('/contact-forms/'+wpcf7.getId($form)+'/refill'),beforeSend:function(xhr){var nonce=$form.find(':input[name="_wpnonce"]').val();if(nonce){xhr.setRequestHeader('X-WP-Nonce',nonce)}},dataType:'json'}).done(function(data,status,xhr){if(data.captcha){refillCaptcha($form,data.captcha)}
if(data.quiz){refillQuiz($form,data.quiz)}})}else{if(data.captcha){refillCaptcha($form,data.captcha)}
if(data.quiz){refillQuiz($form,data.quiz)}}};wpcf7.clearResponse=function(form){var $form=$(form);$form.siblings('.screen-reader-response').each(function(){$('[role="status"]',this).html('');$('ul',this).html('')});$('.wpcf7-not-valid-tip',$form).remove();$('[aria-invalid]',$form).attr('aria-invalid','false');$('.wpcf7-form-control',$form).removeClass('wpcf7-not-valid');$('.wpcf7-response-output',$form).hide().empty()};wpcf7.apiSettings.getRoute=function(path){var url=wpcf7.apiSettings.root;url=url.replace(wpcf7.apiSettings.namespace,wpcf7.apiSettings.namespace+path);return url}})(jQuery);(function(){if(typeof window.CustomEvent==="function")return!1;function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:undefined};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}
CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();var wpcf7_recaptcha={"sitekey":"6LeeH7oZAAAAAM-3FAKTMx9Cqswcn4zBt8hNbi5u","actions":{"homepage":"homepage","contactform":"contactform"}};(function(){document.addEventListener('DOMContentLoaded',function(event){wpcf7_recaptcha.execute=function(action){grecaptcha.execute(wpcf7_recaptcha.sitekey,{action:action}).then(function(token){var event=new CustomEvent('wpcf7grecaptchaexecuted',{detail:{action:action,token:token,},});document.dispatchEvent(event)})};wpcf7_recaptcha.execute_on_homepage=function(){wpcf7_recaptcha.execute(wpcf7_recaptcha.actions.homepage)};wpcf7_recaptcha.execute_on_contactform=function(){wpcf7_recaptcha.execute(wpcf7_recaptcha.actions.contactform)};grecaptcha.ready(wpcf7_recaptcha.execute_on_homepage);document.addEventListener('change',wpcf7_recaptcha.execute_on_contactform);document.addEventListener('wpcf7submit',wpcf7_recaptcha.execute_on_homepage)});document.addEventListener('wpcf7grecaptchaexecuted',function(event){var fields=document.querySelectorAll("form.wpcf7-form input[name='_wpcf7_recaptcha_response']");for(var i=0;i<fields.length;i++){var field=fields[i];field.setAttribute('value',event.detail.token)}})})();!function(a,b,c){function d(a,b){return typeof a===b}function e(a){var b=z.className,c=w._config.classPrefix||"";if(A&&(b=b.baseVal),w._config.enableJSClass){var d=new RegExp("(^|\\s)"+c+"no-js(\\s|$)");b=b.replace(d,"$1"+c+"js$2")}w._config.enableClasses&&(b+=" "+c+a.join(" "+c),A?z.className.baseVal=b:z.className=b)}function f(a,b){if("object"==typeof a)for(var c in a)D(a,c)&&f(c,a[c]);else{a=a.toLowerCase();var d=a.split("."),g=w[d[0]];if(2==d.length&&(g=g[d[1]]),void 0!==g)return w;b="function"==typeof b?b():b,1==d.length?w[d[0]]=b:(!w[d[0]]||w[d[0]]instanceof Boolean||(w[d[0]]=new Boolean(w[d[0]])),w[d[0]][d[1]]=b),e([(b&&0!=b?"":"no-")+d.join("-")]),w._trigger(a,b)}return w}function g(){return"function"!=typeof b.createElement?b.createElement(arguments[0]):A?b.createElementNS.call(b,"http://www.w3.org/2000/svg",arguments[0]):b.createElement.apply(b,arguments)}function h(a){return a.replace(/([a-z])-([a-z])/g,function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")}function i(a,b){return!!~(""+a).indexOf(b)}function j(){var a=b.body;return a||(a=g(A?"svg":"body"),a.fake=!0),a}function k(a,c,d,e){var f,h,i,k,l="modernizr",m=g("div"),n=j();if(parseInt(d,10))for(;d--;)i=g("div"),i.id=e?e[d]:l+(d+1),m.appendChild(i);return f=g("style"),f.type="text/css",f.id="s"+l,(n.fake?n:m).appendChild(f),n.appendChild(m),f.styleSheet?f.styleSheet.cssText=a:f.appendChild(b.createTextNode(a)),m.id=l,n.fake&&(n.style.background="",n.style.overflow="hidden",k=z.style.overflow,z.style.overflow="hidden",z.appendChild(n)),h=c(m,a),n.fake?(n.parentNode.removeChild(n),z.style.overflow=k,z.offsetHeight):m.parentNode.removeChild(m),!!h}function l(a,b){return function(){return a.apply(b,arguments)}}function m(a,b,c){var e;for(var f in a)if(a[f]in b)return!1===c?a[f]:(e=b[a[f]],d(e,"function")?l(e,c||b):e);return!1}function n(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-")}function o(b,c,d){var e;if("getComputedStyle"in a){e=getComputedStyle.call(a,b,c);var f=a.console;if(null!==e)d&&(e=e.getPropertyValue(d));else if(f){var g=f.error?"error":"log";f[g].call(f,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else e=!c&&b.currentStyle&&b.currentStyle[d];return e}function p(b,d){var e=b.length;if("CSS"in a&&"supports"in a.CSS){for(;e--;)if(a.CSS.supports(n(b[e]),d))return!0;return!1}if("CSSSupportsRule"in a){for(var f=[];e--;)f.push("("+n(b[e])+":"+d+")");return f=f.join(" or "),k("@supports ("+f+") { #modernizr { position: absolute; } }",function(a){return"absolute"==o(a,null,"position")})}return c}function q(a,b,e,f){function j(){l&&(delete S.style,delete S.modElem)}if(f=!d(f,"undefined")&&f,!d(e,"undefined")){var k=p(a,e);if(!d(k,"undefined"))return k}for(var l,m,n,o,q,r=["modernizr","tspan","samp"];!S.style&&r.length;)l=!0,S.modElem=g(r.shift()),S.style=S.modElem.style;for(n=a.length,m=0;m<n;m++)if(o=a[m],q=S.style[o],i(o,"-")&&(o=h(o)),S.style[o]!==c){if(f||d(e,"undefined"))return j(),"pfx"!=b||o;try{S.style[o]=e}catch(a){}if(S.style[o]!=q)return j(),"pfx"!=b||o}return j(),!1}function r(a,b,c,e,f){var g=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+P.join(g+" ")+g).split(" ");return d(b,"string")||d(b,"undefined")?q(h,b,e,f):(h=(a+" "+C.join(g+" ")+g).split(" "),m(h,b,c))}function s(a,b,d){return r(a,c,c,b,d)}var t=[],u=[],v={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(a,b){var c=this;setTimeout(function(){b(c[a])},0)},addTest:function(a,b,c){u.push({name:a,fn:b,options:c})},addAsyncTest:function(a){u.push({name:null,fn:a})}},w=function(){};w.prototype=v,w=new w,w.addTest("applicationcache","applicationCache"in a),w.addTest("geolocation","geolocation"in navigator),w.addTest("history",function(){var b=navigator.userAgent;return(-1===b.indexOf("Android 2.")&&-1===b.indexOf("Android 4.0")||-1===b.indexOf("Mobile Safari")||-1!==b.indexOf("Chrome")||-1!==b.indexOf("Windows Phone")||"file:"===location.protocol)&&(a.history&&"pushState"in a.history)}),w.addTest("postmessage","postMessage"in a);var x=!1;try{x="WebSocket"in a&&2===a.WebSocket.CLOSING}catch(a){}w.addTest("websockets",x),w.addTest("localstorage",function(){var a="modernizr";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}}),w.addTest("sessionstorage",function(){var a="modernizr";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(a){return!1}}),w.addTest("websqldatabase","openDatabase"in a),w.addTest("webworkers","Worker"in a);var y=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=y;var z=b.documentElement,A="svg"===z.nodeName.toLowerCase(),B="Moz O ms Webkit",C=v._config.usePrefixes?B.toLowerCase().split(" "):[];v._domPrefixes=C;var D;!function(){var a={}.hasOwnProperty;D=d(a,"undefined")||d(a.call,"undefined")?function(a,b){return b in a&&d(a.constructor.prototype[b],"undefined")}:function(b,c){return a.call(b,c)}}(),v._l={},v.on=function(a,b){this._l[a]||(this._l[a]=[]),this._l[a].push(b),w.hasOwnProperty(a)&&setTimeout(function(){w._trigger(a,w[a])},0)},v._trigger=function(a,b){if(this._l[a]){var c=this._l[a];setTimeout(function(){var a;for(a=0;a<c.length;a++)(0,c[a])(b)},0),delete this._l[a]}},w._q.push(function(){v.addTest=f});var E=function(){function a(a,b){var e;return!!a&&(b&&"string"!=typeof b||(b=g(b||"div")),a="on"+a,e=a in b,!e&&d&&(b.setAttribute||(b=g("div")),b.setAttribute(a,""),e="function"==typeof b[a],b[a]!==c&&(b[a]=c),b.removeAttribute(a)),e)}var d=!("onblur"in b.documentElement);return a}();v.hasEvent=E,w.addTest("hashchange",function(){return!1!==E("hashchange",a)&&(b.documentMode===c||b.documentMode>7)}),w.addTest("audio",function(){var a=g("audio"),b=!1;try{b=!!a.canPlayType,b&&(b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),b.mp3=a.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),b.opus=a.canPlayType('audio/ogg; codecs="opus"')||a.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),b.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),b.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return b}),w.addTest("canvas",function(){var a=g("canvas");return!(!a.getContext||!a.getContext("2d"))}),w.addTest("canvastext",function(){return!1!==w.canvas&&"function"==typeof g("canvas").getContext("2d").fillText}),w.addTest("video",function(){var a=g("video"),b=!1;try{b=!!a.canPlayType,b&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),b.vp9=a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),b.hls=a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(a){}return b}),w.addTest("webgl",function(){var b=g("canvas"),c="probablySupportsContext"in b?"probablySupportsContext":"supportsContext";return c in b?b[c]("webgl")||b[c]("experimental-webgl"):"WebGLRenderingContext"in a}),w.addTest("cssgradients",function(){for(var a,b="background-image:",c="",d=0,e=y.length-1;d<e;d++)a=0===d?"to ":"",c+=b+y[d]+"linear-gradient("+a+"left top, #9f9, white);";w._config.usePrefixes&&(c+=b+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var f=g("a"),h=f.style;return h.cssText=c,(""+h.backgroundImage).indexOf("gradient")>-1}),w.addTest("multiplebgs",function(){var a=g("a").style;return a.cssText="background:url(https://),url(https://),red url(https://)",/(url\s*\(.*?){3}/.test(a.background)}),w.addTest("opacity",function(){var a=g("a").style;return a.cssText=y.join("opacity:.55;"),/^0.55$/.test(a.opacity)}),w.addTest("rgba",function(){var a=g("a").style;return a.cssText="background-color:rgba(150,255,150,.5)",(""+a.backgroundColor).indexOf("rgba")>-1}),w.addTest("inlinesvg",function(){var a=g("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&a.firstChild&&a.firstChild.namespaceURI)});var F=g("input"),G="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),H={};w.input=function(b){for(var c=0,d=b.length;c<d;c++)H[b[c]]=!!(b[c]in F);return H.list&&(H.list=!(!g("datalist")||!a.HTMLDataListElement)),H}(G);var I="search tel url email datetime date month week time datetime-local number range color".split(" "),J={};w.inputtypes=function(a){for(var d,e,f,g=a.length,h=0;h<g;h++)F.setAttribute("type",d=a[h]),f="text"!==F.type&&"style"in F,f&&(F.value="1)",F.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(d)&&F.style.WebkitAppearance!==c?(z.appendChild(F),e=b.defaultView,f=e.getComputedStyle&&"textfield"!==e.getComputedStyle(F,null).WebkitAppearance&&0!==F.offsetHeight,z.removeChild(F)):/^(search|tel)$/.test(d)||(f=/^(url|email)$/.test(d)?F.checkValidity&&!1===F.checkValidity():"1)"!=F.value)),J[a[h]]=!!f;return J}(I),w.addTest("hsla",function(){var a=g("a").style;return a.cssText="background-color:hsla(120,40%,100%,.5)",i(a.backgroundColor,"rgba")||i(a.backgroundColor,"hsla")});var K="CSS"in a&&"supports"in a.CSS,L="supportsCSS"in a;w.addTest("supports",K||L);var M={}.toString;w.addTest("svgclippaths",function(){return!!b.createElementNS&&/SVGClipPath/.test(M.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))}),w.addTest("smil",function(){return!!b.createElementNS&&/SVGAnimate/.test(M.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))});var N=function(){var b=a.matchMedia||a.msMatchMedia;return b?function(a){var c=b(a);return c&&c.matches||!1}:function(b){var c=!1;return k("@media "+b+" { #modernizr { position: absolute; } }",function(b){c="absolute"==(a.getComputedStyle?a.getComputedStyle(b,null):b.currentStyle).position}),c}}();v.mq=N;var O=v.testStyles=k;w.addTest("touchevents",function(){var c;if("ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch)c=!0;else{var d=["@media (",y.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");O(d,function(a){c=9===a.offsetTop})}return c}),function(){var a=navigator.userAgent,b=a.match(/w(eb)?osbrowser/gi),c=a.match(/windows phone/gi)&&a.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9;return b||c}()?w.addTest("fontface",!1):O('@font-face {font-family:"font";src:url("https://")}',function(a,c){var d=b.getElementById("smodernizr"),e=d.sheet||d.styleSheet,f=e?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"",g=/src/i.test(f)&&0===f.indexOf(c.split(" ")[0]);w.addTest("fontface",g)}),O('#modernizr{font:0/0 a}#modernizr:after{content:":)";visibility:hidden;font:7px/1 a}',function(a){w.addTest("generatedcontent",a.offsetHeight>=6)});var P=v._config.usePrefixes?B.split(" "):[];v._cssomPrefixes=P;var Q=function(b){var d,e=y.length,f=a.CSSRule;if(void 0===f)return c;if(!b)return!1;if(b=b.replace(/^@/,""),(d=b.replace(/-/g,"_").toUpperCase()+"_RULE")in f)return"@"+b;for(var g=0;g<e;g++){var h=y[g];if(h.toUpperCase()+"_"+d in f)return"@-"+h.toLowerCase()+"-"+b}return!1};v.atRule=Q;var R={elem:g("modernizr")};w._q.push(function(){delete R.elem});var S={style:R.elem.style};w._q.unshift(function(){delete S.style});var T=v.testProp=function(a,b,d){return q([a],c,b,d)};w.addTest("textshadow",T("textShadow","1px 1px")),v.testAllProps=r;v.prefixed=function(a,b,c){return 0===a.indexOf("@")?Q(a):(-1!=a.indexOf("-")&&(a=h(a)),b?r(a,b,c):r(a,"pfx"))};v.testAllProps=s,w.addTest("cssanimations",s("animationName","a",!0)),w.addTest("backgroundsize",s("backgroundSize","100%",!0)),w.addTest("borderimage",s("borderImage","url() 1",!0)),w.addTest("borderradius",s("borderRadius","0px",!0)),w.addTest("boxshadow",s("boxShadow","1px 1px",!0)),w.addTest("flexbox",s("flexBasis","1px",!0)),w.addTest("cssreflections",s("boxReflect","above",!0)),w.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&s("transform","scale(1)",!0)}),w.addTest("csstransforms3d",function(){var a=!!s("perspective","1px",!0),b=w._config.usePrefixes;if(a&&(!b||"webkitPerspective"in z.style)){var c;w.supports?c="@supports (perspective: 1px)":(c="@media (transform-3d)",b&&(c+=",(-webkit-transform-3d)")),c+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",O("#modernizr{width:0;height:0}"+c,function(b){a=7===b.offsetWidth&&18===b.offsetHeight})}return a}),w.addTest("csstransitions",s("transition","all",!0)),function(){var a,b,c,e,f,g,h;for(var i in u)if(u.hasOwnProperty(i)){if(a=[],b=u[i],b.name&&(a.push(b.name.toLowerCase()),b.options&&b.options.aliases&&b.options.aliases.length))for(c=0;c<b.options.aliases.length;c++)a.push(b.options.aliases[c].toLowerCase());for(e=d(b.fn,"function")?b.fn():b.fn,f=0;f<a.length;f++)g=a[f],h=g.split("."),1===h.length?w[h[0]]=e:(!w[h[0]]||w[h[0]]instanceof Boolean||(w[h[0]]=new Boolean(w[h[0]])),w[h[0]][h[1]]=e),t.push((e?"":"no-")+h.join("-"))}}(),e(t),delete v.addTest,delete v.addAsyncTest;for(var U=0;U<w._q.length;U++)w._q[U]();a.Modernizr=w}(window,document);!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("div");e.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',d.appendChild(e.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("name")){var g="fitvid"+a.fn.fitVids._count;b.attr("name",g),a.fn.fitVids._count++}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})},a.fn.fitVids._count=0}(window.jQuery||window.Zepto);var fusionVideoGeneralVars={"status_vimeo":"1","status_yt":"1"};function insertParam(a,b,c,d){var e,f,g,h,i,j,k,l;if(0<a.indexOf("#")?(e=a.indexOf("#"),f=a.substring(a.indexOf("#"),a.length)):(f="",e=a.length),g=a.substring(0,e),h=g.split("?"),i="",1<h.length)for(j=h[1].split("&"),k=0;k<j.length;k++)l=j[k].split("="),l[0]!==b&&(""===i?i="?"+l[0]+"="+(l[1]?l[1]:""):(i+="&",i+=l[0]+"="+(l[1]?l[1]:"")));return""===i&&(i="?"),d?i="?"+b+"="+c+(1<i.length?"&"+i.substring(1):""):(""!==i&&"?"!==i&&(i+="&"),i+=b+"="+(c||"")),h[0]+i+f}function registerYoutubePlayers(a){Number(fusionVideoGeneralVars.status_yt)&&!0===window.yt_vid_exists&&(window.$youtube_players=[],jQuery(".tfs-slider").each(function(){var b=jQuery(this),c=b.find("[data-youtube-video-id]").find("iframe").length,d=!1;b.find("[data-youtube-video-id]").find("iframe").each(function(e){var f=jQuery(this);c===e+1&&void 0!==a&&(d=b.data("flexslider")),window.YTReady(function(){window.$youtube_players[f.attr("id")]=new YT.Player(f.attr("id"),{events:{onReady:onPlayerReady(f.parents("li"),d),onStateChange:onPlayerStateChange(f.attr("id"),b)}})})})}))}function loadYoutubeIframeAPI(){var a,b;Number(fusionVideoGeneralVars.status_yt)&&!0===window.yt_vid_exists&&(a=document.createElement("script"),a.src="https://www.youtube.com/iframe_api",b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(a,b))}function onYouTubePlayerAPIReady(){window.YTReady(!0)}function onPlayerStateChange(a,b){return function(a){a.data==YT.PlayerState.PLAYING&&jQuery(b).flexslider("pause"),a.data==YT.PlayerState.PAUSED&&jQuery(b).flexslider("play"),a.data==YT.PlayerState.BUFFERING&&jQuery(b).flexslider("pause"),a.data==YT.PlayerState.ENDED&&"1"==jQuery(b).data("autoplay")&&(void 0!==jQuery(b).find(".flex-active-slide").data("loop")&&"yes"!==jQuery(b).find(".flex-active-slide").data("loop")&&jQuery(b).flexslider("next"),jQuery(b).flexslider("play"))}}function onPlayerReady(a,b){return function(c){"yes"===jQuery(a).data("mute")&&c.target.mute(),b&&setTimeout(function(){playVideoAndPauseOthers(b)},300)}}function ytVidId(a){var b=/^(?:https?:)?(\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return!!a.match(b)&&RegExp.$1}function playVideoAndPauseOthers(a){var b=jQuery(a).find("[data-youtube-video-id]").find("iframe"),c=jQuery(a).data("flexslider").slides.eq(jQuery(a).data("flexslider").currentSlide),d=c.find("[data-youtube-video-id]").find("iframe");b.each(function(){jQuery(this).attr("id")!==d.attr("id")&&void 0!==window.$youtube_players&&void 0!==window.$youtube_players[jQuery(this).attr("id")]&&window.$youtube_players[jQuery(this).attr("id")].stopVideo()}),d.length&&("function"!=typeof fusionGetConsent||fusionGetConsent("youtube"))&&void 0!==window.$youtube_players&&(!d.parents("li").hasClass("clone")&&d.parents("li").hasClass("flex-active-slide")&&"yes"===d.parents("li").attr("data-autoplay")&&(void 0===window.$youtube_players||void 0===window.$youtube_players[d.attr("id")]||void 0===window.$youtube_players[d.attr("id")].playVideo?setTimeout(function(){void 0!==window.$youtube_players[d.attr("id")].playVideo&&window.$youtube_players[d.attr("id")].playVideo()},325):"slide"===jQuery(a).data("animation")&&0===a.currentSlide&&void 0===jQuery(a).data("iteration")?window.$youtube_players[d.attr("id")]&&setTimeout(function(){window.$youtube_players[d.attr("id")].playVideo(),jQuery(a).data("iteration",1),a.stop(),setTimeout(function(){a.play()},1e3*window.$youtube_players[d.attr("id")].getDuration()-6e3)},2e3):window.$youtube_players[d.attr("id")].playVideo()),"yes"===c.attr("data-mute")&&void 0!==window.$youtube_players[d.attr("id")]&&void 0!==window.$youtube_players[d.attr("id")].mute&&window.$youtube_players[d.attr("id")].mute()),Number(fusionVideoGeneralVars.status_vimeo)&&("function"!=typeof fusionGetConsent||fusionGetConsent("vimeo"))&&setTimeout(function(){jQuery(a).find("[data-vimeo-video-id] > iframe").each(function(){new Vimeo.Player(jQuery(this)[0]).pause()}),0!==a.slides.eq(a.currentSlide).find("[data-vimeo-video-id] > iframe").length&&("yes"===jQuery(a.slides.eq(a.currentSlide)).data("autoplay")&&new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).play(),"yes"===jQuery(a.slides.eq(a.currentSlide)).data("mute")&&new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).setVolume(0))},300),jQuery(a).find("video").each(function(){"function"==typeof jQuery(this)[0].pause&&jQuery(this)[0].pause(),!jQuery(this).parents("li").hasClass("clone")&&jQuery(this).parents("li").hasClass("flex-active-slide")&&"yes"===jQuery(this).parents("li").attr("data-autoplay")&&"function"==typeof jQuery(this)[0].play&&jQuery(this)[0].play()})}window.YTReady=function(){var a=[],b=!1;return function(c,d){if(!0===c)for(b=!0;a.length;)a.shift()();else"function"==typeof c&&(b?c():a[d?"unshift":"push"](c))}}(),jQuery(document).ready(function(){var a;jQuery(".fusion-fullwidth.video-background").each(function(){jQuery(this).find("[data-youtube-video-id]")&&(window.yt_vid_exists=!0)}),a=jQuery("iframe"),jQuery.each(a,function(a,b){var c,d,e=jQuery(this).attr("src"),f=jQuery(this).data("privacy-src"),g=!e&&f?f:e;g&&(Number(fusionVideoGeneralVars.status_vimeo)&&1<=g.indexOf("vimeo")&&jQuery(this).attr("id","player_"+(a+1)),Number(fusionVideoGeneralVars.status_yt)&&ytVidId(g)&&(jQuery(this).attr("id","player_"+(a+1)),c=insertParam(g,"enablejsapi","1",!1),d=insertParam(c,"wmode","opaque",!1),e?jQuery(this).attr("src",d):f&&jQuery(this).attr("data-privacy-src",d),window.yt_vid_exists=!0))}),jQuery(".full-video, .video-shortcode, .wooslider .slide-content, .fusion-portfolio-carousel .fusion-video").not("#bbpress-forums .full-video, #bbpress-forums .video-shortcode, #bbpress-forums .wooslider .slide-content, #bbpress-forums .fusion-portfolio-carousel .fusion-video").fitVids(),jQuery("#bbpress-forums").fitVids(),("function"!=typeof fusionGetConsent||fusionGetConsent("youtube"))&&(registerYoutubePlayers(),loadYoutubeIframeAPI())});var fusionLightboxVideoVars={"lightbox_video_width":"1280","lightbox_video_height":"720"};!function($,window,undefined){function getPixel(a,b){return parseInt(a.css(b),10)||0}function within(a,b,c){return a<b?b:a>c?c:a}function getViewport(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}}function removeHash(){history&&history.pushState&&history.pushState("",document.title,window.location.pathname+window.location.search)}function doAjax(a,b){var a="//ilightbox.net/getSource/jsonp.php?url="+encodeURIComponent(a).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");$.ajax({url:a,dataType:"jsonp"}),iLCallback=function(a){b.call(this,a)}}function findImageInElement(a){var b=$("*",a),c=new Array;return b.each(function(){var a="",b=this;if("none"!=$(b).css("background-image")?a=$(b).css("background-image"):void 0!==$(b).attr("src")&&"img"==b.nodeName.toLowerCase()&&(a=$(b).attr("src")),-1==a.indexOf("gradient")){a=a.replace(/url\(\"/g,""),a=a.replace(/url\(/g,""),a=a.replace(/\"\)/g,""),a=a.replace(/\)/g,"");for(var d=a.split(","),e=0;e<d.length;e++)if(d[e].length>0&&-1==$.inArray(d[e],c)){var f="";browser.msie&&browser.version<9&&(f="?"+floor(3e3*random())),c.push(d[e]+f)}}}),c}function getExtension(a){var b=a.split(".").pop().toLowerCase(),c=-1!==b.indexOf("?")?"?"+b.split("?").pop():"";return b.replace(c,"")}function getTypeByExtension(a){var b=getExtension(a);return-1!==extensions.image.indexOf(b)?"image":-1!==extensions.flash.indexOf(b)?"flash":-1!==extensions.video.indexOf(b)?"video":"iframe"}function percentToValue(a,b){return parseInt(b/100*a)}function parseURI(a){var b=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return b?{href:b[0]||"",protocol:b[1]||"",authority:b[2]||"",host:b[3]||"",hostname:b[4]||"",port:b[5]||"",pathname:b[6]||"",search:b[7]||"",hash:b[8]||""}:null}function absolutizeURI(a,b){return b=parseURI(b||""),a=parseURI(a||""),b&&a?(b.protocol||a.protocol)+(b.protocol||b.authority?b.authority:a.authority)+function(a){var b=[];return a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?b.pop():b.push(a)}),b.join("").replace(/^\//,"/"===a.charAt(0)?"/":"")}(b.protocol||b.authority||"/"===b.pathname.charAt(0)?b.pathname:b.pathname?(a.authority&&!a.pathname?"/":"")+a.pathname.slice(0,a.pathname.lastIndexOf("/")+1)+b.pathname:a.pathname)+(b.protocol||b.authority||b.pathname?b.search:b.search||a.search)+b.hash:null}function version_compare(a,b,c){this.php_js=this.php_js||{},this.php_js.ENV=this.php_js.ENV||{};var d=0,e=0,f=0,g={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},h=function(a){return a=(""+a).replace(/[_\-+]/g,"."),a=a.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),a.length?a.split("."):[-8]},i=function(a){return a?isNaN(a)?g[a]||-7:parseInt(a,10):0};for(a=h(a),b=h(b),e=max(a.length,b.length),d=0;d<e;d++)if(a[d]!=b[d]){if(a[d]=i(a[d]),b[d]=i(b[d]),a[d]<b[d]){f=-1;break}if(a[d]>b[d]){f=1;break}}if(!c)return f;switch(c){case">":case"gt":return f>0;case">=":case"ge":return f>=0;case"<=":case"le":return f<=0;case"==":case"=":case"eq":return 0===f;case"<>":case"!=":case"ne":return 0!==f;case"":case"<":case"lt":return f<0;default:return null}}function getScrollXY(){var a=0,b=0;return"number"==typeof window.pageYOffset?(b=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(b=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft),{x:a,y:b}}function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(a,b){b=b.replace("%%",a),alert(b)}function _QTAddAttribute(a,b,c){var d;return d=gTagAttrs[a+b],null==d&&(d=gTagAttrs[b]),null!=d?(0==b.indexOf(a)&&null==c&&(c=b.substring(a.length)),null==c&&(c=b),c+'="'+d+'" '):""}function _QTAddObjectAttr(a,b){return 0==a.indexOf("emb#")?"":(0==a.indexOf("obj#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("obj#",a,b))}function _QTAddEmbedAttr(a,b){return 0==a.indexOf("obj#")?"":(0==a.indexOf("emb#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("emb#",a,b))}function _QTAddObjectParam(a,b){var c,d="",e=b?" />":">";return-1==a.indexOf("emb#")&&(c=gTagAttrs["obj#"+a],null==c&&(c=gTagAttrs[a]),0==a.indexOf("obj#")&&(a=a.substring(4)),null!=c&&(d='  <param name="'+a+'" value="'+c+'"'+e+"\n")),d}function _QTDeleteTagAttrs(){for(var a=0;a<arguments.length;a++){var b=arguments[a];delete gTagAttrs[b],delete gTagAttrs["emb#"+b],delete gTagAttrs["obj#"+b]}}function _QTGenerate(a,b,c){if(4>c.length||0!=c.length%2)return _QTComplain(a,gArgCountErr),"";gTagAttrs=[],gTagAttrs.src=c[0],gTagAttrs.width=c[1],gTagAttrs.height=c[2],gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/",a=c[3],null!=a&&""!=a||(a="6,0,2,0"),gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+a;for(var d,e=4;e<c.length;e+=2)d=c[e].toLowerCase(),a=c[e+1],"name"==d||"id"==d?gTagAttrs.name=a:gTagAttrs[d]=a;c="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",b),e="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex"),_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(d in gTagAttrs)null!=(a=gTagAttrs[d])&&(e+=_QTAddEmbedAttr(d),c+=_QTAddObjectParam(d,b));return c+e+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}var extensions={flash:["swf"],image:["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe"],iframe:["asp","aspx","cgi","cfm","htm","html","jsp","php","pl","php3","php4","php5","phtml","rb","rhtml","shtml","txt"],video:["avi","mov","mpg","mpeg","movie","mp4","webm","ogv","ogg","3gp","m4v"]},$win=$(window),$doc=$(document),browser,transform,gpuAcceleration,fullScreenApi="",userAgent=navigator.userAgent||navigator.vendor||window.opera,supportTouch="ontouchstart"in window||navigator.msMaxTouchPoints,isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4)),clickEvent=supportTouch?"click itap":"click",touchStartEvent=supportTouch?"mousedown.iLightBox touchstart.iLightBox":"mousedown.iLightBox",touchStopEvent=supportTouch?"mouseup.iLightBox touchend.iLightBox":"mouseup.iLightBox",touchMoveEvent=supportTouch?"mousemove.iLightBox touchmove.iLightBox":"mousemove.iLightBox",abs=Math.abs,sqrt=Math.sqrt,round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,random=Math.random,pluginspages={quicktime:"http://www.apple.com/quicktime/download",flash:"http://www.adobe.com/go/getflash"},iLightBox=function(a,b,c,d){var e=this;if(e.options=b,e.selector=a.selector||a,e.context=a.context,e.instant=d,c.length<1?e.attachItems():e.items=c,e.vars={total:e.items.length,start:0,current:null,next:null,prev:null,BODY:$("body"),loadRequests:0,overlay:$('<div class="ilightbox-overlay"></div>'),loader:$('<div class="ilightbox-loader"><div></div></div>'),toolbar:$('<div class="ilightbox-toolbar"></div>'),innerToolbar:$('<div class="ilightbox-inner-toolbar"></div>'),title:$('<div class="ilightbox-title"></div>'),closeButton:$('<a class="ilightbox-close" title="'+e.options.text.close+'"></a>'),fullScreenButton:$('<a class="ilightbox-fullscreen" title="'+e.options.text.enterFullscreen+'"></a>'),innerPlayButton:$('<a class="ilightbox-play" title="'+e.options.text.slideShow+'"></a>'),innerNextButton:$('<a class="ilightbox-next-button" title="'+e.options.text.next+'"></a>'),innerPrevButton:$('<a class="ilightbox-prev-button" title="'+e.options.text.previous+'"></a>'),holder:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+'" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-next" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),prevPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-prev" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextButton:$('<a class="ilightbox-button ilightbox-next-button" ondragstart="return false;" title="'+e.options.text.next+'"><span></span></a>'),prevButton:$('<a class="ilightbox-button ilightbox-prev-button" ondragstart="return false;" title="'+e.options.text.previous+'"><span></span></a>'),thumbnails:$('<div class="ilightbox-thumbnails" ondragstart="return false;"><div class="ilightbox-thumbnails-container"><a class="ilightbox-thumbnails-dragger"></a><div class="ilightbox-thumbnails-grid"></div></div></div>'),thumbs:!1,nextLock:!1,prevLock:!1,hashLock:!1,isMobile:!1,mobileMaxWidth:980,isInFullScreen:!1,isSwipe:!1,mouseID:0,cycleID:0,isPaused:0},e.vars.hideableElements=e.vars.nextButton.add(e.vars.prevButton),e.normalizeItems(),e.availPlugins(),e.options.startFrom=e.options.startFrom>0&&e.options.startFrom>=e.vars.total?e.vars.total-1:e.options.startFrom,e.options.startFrom=e.options.randomStart?floor(random()*e.vars.total):e.options.startFrom,e.vars.start=e.options.startFrom,d?e.instantCall():e.patchItemsEvents(),e.options.linkId&&(e.hashChangeHandler(),$win.iLightBoxHashChange(function(){e.hashChangeHandler()})),supportTouch){var f=/(click|mouseenter|mouseleave|mouseover|mouseout)/gi;e.options.caption.show=e.options.caption.show.replace(f,"itap"),e.options.caption.hide=e.options.caption.hide.replace(f,"itap"),e.options.social.show=e.options.social.show.replace(f,"itap"),e.options.social.hide=e.options.social.hide.replace(f,"itap")}e.options.controls.arrows&&$.extend(e.options.styles,{nextOffsetX:0,prevOffsetX:0,nextOpacity:0,prevOpacity:0})};iLightBox.prototype={showLoader:function(){var a=this;a.vars.loadRequests+=1,"horizontal"==a.options.path.toLowerCase()?a.vars.loader.addClass("ilightbox-show").stop().animate({top:"-30px"},a.options.show.speed,"easeOutCirc"):a.vars.loader.addClass("ilightbox-show").stop().animate({left:"-30px"},a.options.show.speed,"easeOutCirc")},hideLoader:function(){var a=this;a.vars.loadRequests-=1,a.vars.loadRequests=a.vars.loadRequests<0?0:a.vars.loadRequests,"horizontal"==a.options.path.toLowerCase()?a.vars.loadRequests<=0&&a.vars.loader.removeClass("ilightbox-show").stop().animate({top:"-192px"},a.options.show.speed,"easeInCirc"):a.vars.loadRequests<=0&&a.vars.loader.removeClass("ilightbox-show").stop().animate({left:"-192px"},a.options.show.speed,"easeInCirc")},createUI:function(){var a=this;a.ui={currentElement:a.vars.holder,nextElement:a.vars.nextPhoto,prevElement:a.vars.prevPhoto,currentItem:a.vars.current,nextItem:a.vars.next,prevItem:a.vars.prev,hide:function(){a.closeAction()},refresh:function(){arguments.length>0?a.repositionPhoto(!0):a.repositionPhoto()},fullscreen:function(){a.fullScreenAction()}}},attachItems:function(){var iL=this,itemsObject=new Array,items=new Array;$(iL.selector,iL.context).each(function(){var t=$(this),URL=t.attr(iL.options.attr)||null,options=t.data("options")&&eval("({"+t.data("options")+"})")||{},caption=t.data("caption"),title=t.data("title"),type=t.data("type")||getTypeByExtension(URL);items.push({URL:URL,caption:caption,title:title,type:type,options:options}),iL.instant||itemsObject.push(t)}),iL.items=items,iL.itemsObject=itemsObject,iL.vars&&(iL.vars.total=items.length)},normalizeItems:function(){var a=this,b=new Array;$.each(a.items,function(c,d){"string"==typeof d&&(d={url:d});var e=d.url||d.URL||null,f=d.options||{},g=d.caption||null,h=d.title||null,i=d.type?d.type.toLowerCase():getTypeByExtension(e),j="object"!=typeof e?getExtension(e):"";if(f.thumbnail=f.thumbnail||("image"==i?e:null),f.videoType=f.videoType||null,f.skin=f.skin||a.options.skin,f.width=f.width||null,f.height=f.height||null,f.mousewheel=void 0===f.mousewheel||f.mousewheel,f.swipe=void 0===f.swipe||f.swipe,f.social=void 0!==f.social?f.social:a.options.social.buttons&&$.extend({},{},a.options.social.buttons),"video"==i&&(f.html5video=void 0!==f.html5video?f.html5video:{},f.html5video.webm=f.html5video.webm||f.html5video.WEBM||null,f.html5video.controls=void 0!==f.html5video.controls?f.html5video.controls:"controls",f.html5video.preload=f.html5video.preload||"metadata",f.html5video.autoplay=void 0!==f.html5video.autoplay&&f.html5video.autoplay),"iframe"===i)if(-1!==e.indexOf("youtube.com")){var k=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,l=e.match(k);l&&11===l[7].length&&(f.thumbnail="//img.youtube.com/vi/"+l[7]+"/mqdefault.jpg")}else-1!==e.indexOf("vimeo.com")&&($videoID=e.split(/[?#]/)[0].replace(/[^\d]/g,""),$.getJSON("https://www.vimeo.com/api/v2/video/"+$videoID+".json?callback=?",{format:"json"},function(a){f.thumbnail=a[0].thumbnail_medium}));f.width&&f.height||("video"==i?(f.width=fusionLightboxVideoVars.lightbox_video_width,f.height=fusionLightboxVideoVars.lightbox_video_height):"iframe"==i?(f.width=fusionLightboxVideoVars.lightbox_video_width,f.height=fusionLightboxVideoVars.lightbox_video_height):"flash"==i&&(f.width=fusionLightboxVideoVars.lightbox_video_width,f.height=fusionLightboxVideoVars.lightbox_video_height)),delete d.url,d.index=c,d.URL=e,d.caption=g,d.title=h,d.type=i,d.options=f,d.ext=j,b.push(d)}),a.items=b},instantCall:function(){var a=this,b=a.vars.start;a.vars.current=b,a.vars.next=a.items[b+1]?b+1:null,a.vars.prev=a.items[b-1]?b-1:null,a.addContents(),a.patchEvents()},addContents:function(){var a=this,b=a.vars,c=a.options,d=getViewport(),e=c.path.toLowerCase(),f=b.total>0&&a.items.filter(function(a,b,d){return-1===["image","flash","video"].indexOf(a.type)&&void 0===a.recognized&&(c.smartRecognition||a.options.smartRecognition)}),g=f.length>0;c.mobileOptimizer&&!c.innerToolbar&&(b.isMobile=d.width<=b.mobileMaxWidth),b.overlay.addClass(c.skin).hide().css("opacity",c.overlay.opacity),c.linkId&&b.overlay[0].setAttribute("linkid",c.linkId),c.controls.toolbar&&(b.toolbar.addClass(c.skin).append(b.closeButton),c.controls.fullscreen&&b.toolbar.append(b.fullScreenButton),c.controls.slideshow&&b.toolbar.append(b.innerPlayButton),b.total>1&&b.toolbar.append(b.innerPrevButton).append(b.innerNextButton)),b.BODY.addClass("ilightbox-noscroll").append(b.overlay).append(b.loader).append(b.holder).append(b.nextPhoto).append(b.prevPhoto),c.innerToolbar||b.BODY.append(b.toolbar),c.controls.arrows&&b.BODY.append(b.nextButton).append(b.prevButton),c.controls.thumbnail&&b.total>1&&(b.BODY.append(b.thumbnails),b.thumbnails.addClass(c.skin).addClass("ilightbox-"+e),$("div.ilightbox-thumbnails-grid",b.thumbnails).empty(),b.thumbs=!0);var h="horizontal"==c.path.toLowerCase()?{left:parseInt(d.width/2-b.loader.outerWidth()/2)}:{top:parseInt(d.height/2-b.loader.outerHeight()/2)};b.loader.addClass(c.skin).css(h),b.nextButton.add(b.prevButton).addClass(c.skin),"horizontal"==e&&b.loader.add(b.nextButton).add(b.prevButton).addClass("horizontal"),b.BODY[b.isMobile?"addClass":"removeClass"]("isMobile"),c.infinite||(b.prevButton.add(b.prevButton).add(b.innerPrevButton).add(b.innerNextButton).removeClass("disabled"),0==b.current&&b.prevButton.add(b.innerPrevButton).addClass("disabled"),b.current>=b.total-1&&b.nextButton.add(b.innerNextButton).addClass("disabled")),c.show.effect?(b.overlay.stop().fadeIn(c.show.speed),b.toolbar.stop().fadeIn(c.show.speed)):(b.overlay.show(),b.toolbar.show());var i=f.length;g?(a.showLoader(),$.each(f,function(d,e){var f=function(d){var e=-1,f=(a.items.filter(function(a,b,c){return a.URL==d.url&&(e=b),a.URL==d.url}),a.items[e]);d&&$.extend(!0,f,{URL:d.source,type:d.type,recognized:!0,options:{html5video:d.html5video,width:"image"==d.type?0:d.width||f.width,height:"image"==d.type?0:d.height||f.height,thumbnail:f.options.thumbnail||d.thumbnail}}),0==--i&&(a.hideLoader(),b.dontGenerateThumbs=!1,a.generateThumbnails(),c.show.effect?setTimeout(function(){a.generateBoxes()},c.show.speed):a.generateBoxes())};a.ogpRecognition(this,f)})):c.show.effect?setTimeout(function(){a.generateBoxes()},c.show.speed):a.generateBoxes(),a.createUI(),window.iLightBox={close:function(){a.closeAction()},fullscreen:function(){a.fullScreenAction()},moveNext:function(){a.moveTo("next")},movePrev:function(){a.moveTo("prev")},goTo:function(b){a.goTo(b)},refresh:function(){a.refresh()},reposition:function(){arguments.length>0?a.repositionPhoto(!0):a.repositionPhoto()},setOption:function(b){a.setOption(b)},destroy:function(){a.closeAction(),a.dispatchItemsEvents()}},c.linkId&&(b.hashLock=!0,window.location.hash=c.linkId+"/"+b.current,setTimeout(function(){b.hashLock=!1},55)),c.slideshow.startPaused||(a.resume(),b.innerPlayButton.removeClass("ilightbox-play").addClass("ilightbox-pause")),"function"==typeof a.options.callback.onOpen&&a.options.callback.onOpen.call(a)},loadContent:function(a,b,c){var d,e,f=this;switch(f.createUI(),a.speed=c||f.options.effects.loadedFadeSpeed,"current"==b&&(a.options.mousewheel?f.vars.lockWheel=!1:f.vars.lockWheel=!0,a.options.swipe?f.vars.lockSwipe=!1:f.vars.lockSwipe=!0),b){case"current":d=f.vars.holder,e=f.vars.current;break;case"next":d=f.vars.nextPhoto,e=f.vars.next;break;case"prev":d=f.vars.prevPhoto,e=f.vars.prev}if(d.removeAttr("style class").addClass("ilightbox-holder"+(supportTouch?" supportTouch":"")).addClass(a.options.skin),$("div.ilightbox-inner-toolbar",d).remove(),a.title||f.options.innerToolbar){var g=f.vars.innerToolbar.clone();if(a.title&&f.options.show.title){var h=f.vars.title.clone();h.empty().html(a.title),g.append(h)}f.options.innerToolbar&&g.append(f.vars.total>1?f.vars.toolbar.clone():f.vars.toolbar),d.prepend(g)}f.loadSwitcher(a,d,e,b)},loadSwitcher:function(a,b,c,d){var e=this,f=e.options,g={element:b,position:c};switch(a.type){case"image":"function"==typeof f.callback.onBeforeLoad&&f.callback.onBeforeLoad.call(e,e.ui,c),"function"==typeof a.options.onBeforeLoad&&a.options.onBeforeLoad.call(e,g),e.loadImage(a.URL,function(h){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g);var i=h?h.width:400,j=h?h.height:200;b.data({naturalWidth:i,naturalHeight:j}),$("div.ilightbox-container",b).empty().append(h?'<img src="'+a.URL+'" class="ilightbox-image" />':'<span class="ilightbox-alert">'+f.errors.loadImage+"</span>"),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g),e.configureHolder(a,d,b)});break;case"video":b.data({naturalWidth:a.options.width,naturalHeight:a.options.height}),e.addContent(b,a),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g),e.configureHolder(a,d,b);break;case"iframe":for(var h=a.URL.substring(a.URL.indexOf("?")+1).split("&"),i={},j=0;j<h.length;++j){var k=h[j].split("=");2==k.length&&("w"==k[0]&&(k[0]="width"),"h"==k[0]&&(k[0]="height"),i[k[0]]=decodeURIComponent(k[1].replace(/\+/g," ")))}e.showLoader(),b.data({naturalWidth:a.options.width,naturalHeight:a.options.height});var l=e.addContent(b,a);"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g),"function"==typeof f.callback.onBeforeLoad&&f.callback.onBeforeLoad.call(e,e.ui,c),"function"==typeof a.options.onBeforeLoad&&a.options.onBeforeLoad.call(e,g),e.configureHolder(a,d,b),l.bind("load",function(){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g),e.hideLoader(),l.unbind("load")});break;case"inline":var l=$(a.URL),m=e.addContent(b,a),n=findImageInElement(b);b.data({naturalWidth:e.items[c].options.width||l.outerWidth(),naturalHeight:e.items[c].options.height||l.outerHeight()}),m.children().eq(0).show(),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g),"function"==typeof f.callback.onBeforeLoad&&f.callback.onBeforeLoad.call(e,e.ui,c),"function"==typeof a.options.onBeforeLoad&&a.options.onBeforeLoad.call(e,g),e.loadImage(n,function(){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g),e.configureHolder(a,d,b)});break;case"flash":var l=e.addContent(b,a);b.data({naturalWidth:e.items[c].options.width||l.outerWidth(),naturalHeight:e.items[c].options.height||l.outerHeight()}),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g),e.configureHolder(a,d,b);break;case"ajax":var o=a.options.ajax||{};"function"==typeof f.callback.onBeforeLoad&&f.callback.onBeforeLoad.call(e,e.ui,c),"function"==typeof a.options.onBeforeLoad&&a.options.onBeforeLoad.call(e,g),e.showLoader(),$.ajax({url:a.URL||f.ajaxSetup.url,data:o.data||null,dataType:o.dataType||"html",type:o.type||f.ajaxSetup.type,cache:o.cache||f.ajaxSetup.cache,crossDomain:o.crossDomain||f.ajaxSetup.crossDomain,global:o.global||f.ajaxSetup.global,ifModified:o.ifModified||f.ajaxSetup.ifModified,username:o.username||f.ajaxSetup.username,password:o.password||f.ajaxSetup.password,beforeSend:o.beforeSend||f.ajaxSetup.beforeSend,complete:o.complete||f.ajaxSetup.complete,success:function(h,i,j){e.hideLoader();var k=$(h),l=$("div.ilightbox-container",b),m=e.items[c].options.width||parseInt(k[0].getAttribute("width")),n=e.items[c].options.height||parseInt(k[0].getAttribute("height")),p=k[0].getAttribute("width")&&k[0].getAttribute("height")?{overflow:"hidden"}:{};l.empty().append($('<div class="ilightbox-wrapper"></div>').css(p).html(k)),b.show().data({naturalWidth:m||l.outerWidth(),naturalHeight:n||l.outerHeight()}).hide(),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g);var q=findImageInElement(b);e.loadImage(q,function(){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g),e.configureHolder(a,d,b)}),f.ajaxSetup.success(h,i,j),"function"==typeof o.success&&o.success(h,i,j)},error:function(h,i,j){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g),e.hideLoader(),$("div.ilightbox-container",b).empty().append('<span class="ilightbox-alert">'+f.errors.loadContents+"</span>"),e.configureHolder(a,d,b),f.ajaxSetup.error(h,i,j),"function"==typeof o.error&&o.error(h,i,j)}});break;case"html":var l,p=a.URL;if(container=$("div.ilightbox-container",b),p[0].nodeName)l=p.clone();else{var q=$(p);l=q.selector?$("<div>"+q+"</div>"):q}var r=e.items[c].options.width||parseInt(l.attr("width")),s=e.items[c].options.height||parseInt(l.attr("height"));e.addContent(b,a),l.appendTo(document.documentElement).hide(),"function"==typeof f.callback.onRender&&f.callback.onRender.call(e,e.ui,c),"function"==typeof a.options.onRender&&a.options.onRender.call(e,g);var n=findImageInElement(b);"function"==typeof f.callback.onBeforeLoad&&f.callback.onBeforeLoad.call(e,e.ui,c),"function"==typeof a.options.onBeforeLoad&&a.options.onBeforeLoad.call(e,g),e.loadImage(n,function(){"function"==typeof f.callback.onAfterLoad&&f.callback.onAfterLoad.call(e,e.ui,c),"function"==typeof a.options.onAfterLoad&&a.options.onAfterLoad.call(e,g),b.show().data({naturalWidth:r||container.outerWidth(),naturalHeight:s||container.outerHeight()}).hide(),l.remove(),e.configureHolder(a,d,b)})}},configureHolder:function(a,b,c){var d=this,e=d.vars,f=d.options;if("current"!=b&&("next"==b?c.addClass("ilightbox-next"):c.addClass("ilightbox-prev")),"current"==b)var g=e.current;else if("next"==b)var h=f.styles.nextOpacity,g=e.next;else var h=f.styles.prevOpacity,g=e.prev;var i={element:c,position:g};d.items[g].options.width=d.items[g].options.width||0,d.items[g].options.height=d.items[g].options.height||0,"current"==b?f.show.effect?c.css(transform,gpuAcceleration).fadeIn(a.speed,function(){if(c.css(transform,""),a.caption){d.setCaption(a,c);var b=$("div.ilightbox-caption",c),e=parseInt(b.outerHeight()/c.outerHeight()*100);f.caption.start&e<=50&&b.fadeIn(f.effects.fadeSpeed)}var h=a.options.social;h&&(d.setSocial(h,a.URL,c),f.social.start&&$("div.ilightbox-social",c).fadeIn(f.effects.fadeSpeed)),d.generateThumbnails(),"function"==typeof f.callback.onShow&&f.callback.onShow.call(d,d.ui,g),"function"==typeof a.options.onShow&&a.options.onShow.call(d,i)}):(c.show(),d.generateThumbnails(),"function"==typeof f.callback.onShow&&f.callback.onShow.call(d,d.ui,g),"function"==typeof a.options.onShow&&a.options.onShow.call(d,i)):f.show.effect?c.fadeTo(a.speed,h,function(){"next"==b?e.nextLock=!1:e.prevLock=!1,d.generateThumbnails(),"function"==typeof f.callback.onShow&&f.callback.onShow.call(d,d.ui,g),"function"==typeof a.options.onShow&&a.options.onShow.call(d,i)}):(c.css({opacity:h}).show(),"next"==b?e.nextLock=!1:e.prevLock=!1,d.generateThumbnails(),"function"==typeof f.callback.onShow&&f.callback.onShow.call(d,d.ui,g),"function"==typeof a.options.onShow&&a.options.onShow.call(d,i)),setTimeout(function(){d.repositionPhoto()},0)},generateBoxes:function(){var a=this,b=a.vars,c=a.options;c.infinite&&b.total>=3?(b.current==b.total-1&&(b.next=0),0==b.current&&(b.prev=b.total-1)):c.infinite=!1,a.loadContent(a.items[b.current],"current",c.show.speed),a.items[b.next]&&a.loadContent(a.items[b.next],"next",c.show.speed),a.items[b.prev]&&a.loadContent(a.items[b.prev],"prev",c.show.speed)},generateThumbnails:function(){var a=this,b=a.vars,c=a.options,d=null;if(b.thumbs&&!a.vars.dontGenerateThumbs){var e=b.thumbnails,f=$("div.ilightbox-thumbnails-container",e),g=$("div.ilightbox-thumbnails-grid",f),h=0;g.removeAttr("style").empty(),$.each(a.items,function(i,j){var k=b.current==i?"ilightbox-active":"",l=b.current==i?c.thumbnails.activeOpacity:c.thumbnails.normalOpacity,m=j.options.thumbnail,n=$('<div class="ilightbox-thumbnail"></div>'),o=$('<div class="ilightbox-thumbnail-icon"></div>');n.css({opacity:0}).addClass(k),"video"!=j.type&&"flash"!=j.type||void 0!==j.options.icon?j.options.icon&&(o.addClass("ilightbox-thumbnail-"+j.options.icon),n.append(o)):(o.addClass("ilightbox-thumbnail-video"),n.append(o)),m&&a.loadImage(m,function(b){h++,b?n.data({naturalWidth:b.width,naturalHeight:b.height}).append('<img src="'+m+'" border="0" />'):n.data({naturalWidth:c.thumbnails.maxWidth,naturalHeight:c.thumbnails.maxHeight}),clearTimeout(d),d=setTimeout(function(){a.positionThumbnails(e,f,g)},20),setTimeout(function(){n.fadeTo(c.effects.loadedFadeSpeed,l)},20*h)}),g.append(n)}),a.vars.dontGenerateThumbs=!0}},positionThumbnails:function(a,b,c){var d=this,e=d.vars,f=d.options,g=getViewport(),h=f.path.toLowerCase();a||(a=e.thumbnails),b||(b=$("div.ilightbox-thumbnails-container",a)),c||(c=$("div.ilightbox-thumbnails-grid",b));var i=$(".ilightbox-thumbnail",c),j="horizontal"==h?g.width-f.styles.pageOffsetX:i.eq(0).outerWidth()-f.styles.pageOffsetX,k="horizontal"==h?i.eq(0).outerHeight()-f.styles.pageOffsetY:g.height-f.styles.pageOffsetY,l="horizontal"==h?0:j,m="horizontal"==h?k:0,n=$(".ilightbox-active",c),o={};arguments.length<3&&(i.css({opacity:f.thumbnails.normalOpacity}),n.css({opacity:f.thumbnails.activeOpacity})),i.each(function(a){var b=$(this),c=b.data(),e="horizontal"==h?0:f.thumbnails.maxWidth;height="horizontal"==h?f.thumbnails.maxHeight:0,dims=d.getNewDimenstions(e,height,c.naturalWidth,c.naturalHeight,!0),b.css({width:dims.width,height:dims.height}),"horizontal"==h&&b.css({float:"left"}),"horizontal"==h?l+=b.outerWidth(!0):m+=b.outerHeight()}),o={width:l,height:m},c.css(o),o={};var p=c.offset(),q=n.length?n.offset():{top:parseInt(k/2),left:parseInt(j/2)};p.top=p.top-$doc.scrollTop(),p.left=p.left-$doc.scrollLeft(),q.top=q.top-p.top-$doc.scrollTop(),q.left=q.left-p.left-$doc.scrollLeft(),"horizontal"==h?(o.top=0,o.left=parseInt(j/2-q.left-n.outerWidth()/2)):(o.top=parseInt(k/2-q.top-n.outerHeight()/2),o.left=0),arguments.length<3?c.stop().animate(o,f.effects.repositionSpeed,"easeOutCirc"):c.css(o)},loadImage:function(a,b){$.isArray(a)||(a=[a]);var c=this,d=a.length;d>0?(c.showLoader(),$.each(a,function(e,f){var g=new Image;g.onload=function(){0==(d-=1)&&(c.hideLoader(),b(g))},g.onerror=g.onabort=function(){0==(d-=1)&&(c.hideLoader(),b(!1))},g.src=a[e]})):b(!1)},patchItemsEvents:function(){var a=this,b=a.vars,c=supportTouch?"click.iL itap.iL":"click.iL",d=supportTouch?"click.iL itap.iL":"itap.iL";if(a.context&&a.selector){var e=$(a.selector,a.context);$(a.context).on(c,a.selector,function(){var c=$(this),d=e.index(c);return b.current=d,b.next=a.items[d+1]?d+1:null,b.prev=a.items[d-1]?d-1:null,a.addContents(),a.patchEvents(),!1}).on(d,a.selector,function(){return!1})}else $.each(a.itemsObject,function(e,f){f.on(c,function(){return b.current=e,b.next=a.items[e+1]?e+1:null,b.prev=a.items[e-1]?e-1:null,a.addContents(),a.patchEvents(),!1}).on(d,function(){return!1})})},dispatchItemsEvents:function(){var a=this;a.vars,a.options;a.context&&a.selector?$(a.context).off(".iL",a.selector):$.each(a.itemsObject,function(a,b){b.off(".iL")})},refresh:function(){var a=this;a.dispatchItemsEvents(),a.attachItems(),a.normalizeItems(),a.patchItemsEvents()},patchEvents:function(){function a(a){c.isMobile||(c.mouseID||c.hideableElements.show(),c.mouseID=clearTimeout(c.mouseID),-1===i.indexOf(a.target)&&(c.mouseID=setTimeout(function(){c.hideableElements.hide(),c.mouseID=clearTimeout(c.mouseID)},3e3)))}var b=this,c=b.vars,d=b.options,e=d.path.toLowerCase(),f=$(".ilightbox-holder"),g=fullScreenApi.fullScreenEventName+".iLightBox",h=verticalDistanceThreshold=100,i=[c.nextButton[0],c.prevButton[0],c.nextButton[0].firstChild,c.prevButton[0].firstChild];$win.bind("resize.iLightBox",function(){var a=getViewport();d.mobileOptimizer&&!d.innerToolbar&&(c.isMobile=a.width<=c.mobileMaxWidth),c.BODY[c.isMobile?"addClass":"removeClass"]("isMobile"),b.repositionPhoto(null),supportTouch&&(clearTimeout(c.setTime),c.setTime=setTimeout(function(){var a=getScrollXY().y;window.scrollTo(0,a-30),window.scrollTo(0,a+30),window.scrollTo(0,a)},2e3)),c.thumbs&&b.positionThumbnails()}).bind("keydown.iLightBox",function(a){if(d.controls.keyboard)switch(a.keyCode){case 13:a.shiftKey&&d.keyboard.shift_enter&&b.fullScreenAction();break;case 27:d.keyboard.esc&&b.closeAction();break;case 37:d.keyboard.left&&!c.lockKey&&b.moveTo("prev");break;case 38:d.keyboard.up&&!c.lockKey&&b.moveTo("prev");break;case 39:d.keyboard.right&&!c.lockKey&&b.moveTo("next");break;case 40:d.keyboard.down&&!c.lockKey&&b.moveTo("next")}}),fullScreenApi.supportsFullScreen&&$win.bind(g,function(){b.doFullscreen()});var j=[d.caption.show+".iLightBox",d.caption.hide+".iLightBox",d.social.show+".iLightBox",d.social.hide+".iLightBox"].filter(function(a,b,c){return c.lastIndexOf(a)===b}),k="";$.each(j,function(a,b){0!=a&&(k+=" "),k+=b}),$doc.on(clickEvent,".ilightbox-overlay",function(){d.overlay.blur&&b.closeAction()}).on(clickEvent,".ilightbox-next, .ilightbox-next-button",function(){b.moveTo("next")}).on(clickEvent,".ilightbox-prev, .ilightbox-prev-button",function(){b.moveTo("prev")}).on(clickEvent,".ilightbox-thumbnail",function(){var a=$(this),d=$(".ilightbox-thumbnail",c.thumbnails),e=d.index(a);e!=c.current&&b.goTo(e)}).on(k,".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(a){var b=$("div.ilightbox-caption",c.holder),e=$("div.ilightbox-social",c.holder),f=d.effects.fadeSpeed;c.nextLock||c.prevLock?(a.type!=d.caption.show||b.is(":visible")?a.type==d.caption.hide&&b.is(":visible")&&b.fadeOut(f):b.fadeIn(f),a.type!=d.social.show||e.is(":visible")?a.type==d.social.hide&&e.is(":visible")&&e.fadeOut(f):e.fadeIn(f)):(a.type!=d.caption.show||b.is(":visible")?a.type==d.caption.hide&&b.is(":visible")&&b.stop().fadeOut(f):b.stop().fadeIn(f),a.type!=d.social.show||e.is(":visible")?a.type==d.social.hide&&e.is(":visible")&&e.stop().fadeOut(f):e.stop().fadeIn(f))}).on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-wrapper",function(a){"mouseenter"==a.type?c.lockWheel=!0:c.lockWheel=!1}).on(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause",function(){var a=$(this);a.hasClass("fusion-updated")||(a.hasClass("ilightbox-fullscreen")?b.fullScreenAction():a.hasClass("ilightbox-play")?(b.resume(),a.addClass("ilightbox-pause").removeClass("ilightbox-play")):a.hasClass("ilightbox-pause")?(b.pause(),a.addClass("ilightbox-play").removeClass("ilightbox-pause")):b.closeAction(),a.addClass("fusion-updated"),setTimeout(function(){a.removeClass("fusion-updated")},100))}).on(touchMoveEvent,".ilightbox-overlay, .ilightbox-thumbnails-container",function(a){a.preventDefault()}),d.controls.arrows&&!supportTouch&&$doc.on("mousemove.iLightBox",a),d.controls.slideshow&&d.slideshow.pauseOnHover&&$doc.on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(a){"mouseenter"==a.type&&c.cycleID?b.pause():"mouseleave"==a.type&&c.isPaused&&b.resume()});var l=$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails");d.controls.mousewheel&&l.on("mousewheel.iLightBox",function(a,d){c.lockWheel||(a.preventDefault(),d<0?b.moveTo("next"):d>0&&b.moveTo("prev"))}),d.controls.swipe&&f.on(touchStartEvent,function(a){function g(a){var b=$(this),c=p[a],d=[q.coords[0]-k.coords[0],q.coords[1]-k.coords[1]];b[0].style["horizontal"==e?"left":"top"]=("horizontal"==e?c.left-d[0]:c.top-d[1])+"px"}function i(a){if(q){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;k={time:(new Date).getTime(),coords:[b.pageX-n,b.pageY-m]},f.each(g),a.preventDefault()}}function j(){f.each(function(){var a=$(this),b=a.data("offset")||{top:a.offset().top-m,left:a.offset().left-n},c=b.top,d=b.left;a.css(transform,gpuAcceleration).stop().animate({top:c,left:d},500,"easeOutCirc",function(){a.css(transform,"")})})}if(!(c.nextLock||c.prevLock||1==c.total||c.lockSwipe)){c.BODY.addClass("ilightbox-closedhand");var k,l=a.originalEvent.touches?a.originalEvent.touches[0]:a,m=$doc.scrollTop(),n=$doc.scrollLeft(),o=[f.eq(0).offset(),f.eq(1).offset(),f.eq(2).offset()],p=[{top:o[0].top-m,left:o[0].left-n},{top:o[1].top-m,left:o[1].left-n},{top:o[2].top-m,left:o[2].left-n}],q={time:(new Date).getTime(),coords:[l.pageX-n,l.pageY-m]};f.bind(touchMoveEvent,i),$doc.one(touchStopEvent,function(a){f.unbind(touchMoveEvent,i),c.BODY.removeClass("ilightbox-closedhand"),q&&k&&("horizontal"==e&&k.time-q.time<1e3&&abs(q.coords[0]-k.coords[0])>h&&abs(q.coords[1]-k.coords[1])<verticalDistanceThreshold?q.coords[0]>k.coords[0]?c.current!=c.total-1||d.infinite?(c.isSwipe=!0,b.moveTo("next")):j():0!=c.current||d.infinite?(c.isSwipe=!0,b.moveTo("prev")):j():"vertical"==e&&k.time-q.time<1e3&&abs(q.coords[1]-k.coords[1])>h&&abs(q.coords[0]-k.coords[0])<verticalDistanceThreshold?q.coords[1]>k.coords[1]?c.current!=c.total-1||d.infinite?(c.isSwipe=!0,b.moveTo("next")):j():0!=c.current||d.infinite?(c.isSwipe=!0,b.moveTo("prev")):j():j()),q=k=undefined})}})},goTo:function(a){var b=this,c=b.vars,d=b.options,e=a-c.current;if(d.infinite&&(a==c.total-1&&0==c.current&&(e=-1),c.current==c.total-1&&0==a&&(e=1)),1==e)b.moveTo("next");else if(-1==e)b.moveTo("prev");else{if(c.nextLock||c.prevLock)return!1;"function"==typeof d.callback.onBeforeChange&&d.callback.onBeforeChange.call(b,b.ui),d.linkId&&(c.hashLock=!0,window.location.hash=d.linkId+"/"+a),b.items[a]&&(b.items[a].options.mousewheel?b.vars.lockWheel=!1:c.lockWheel=!0,b.items[a].options.swipe?c.lockSwipe=!1:c.lockSwipe=!0),$.each([c.holder,c.nextPhoto,c.prevPhoto],function(a,b){b.css(transform,gpuAcceleration).fadeOut(d.effects.loadedFadeSpeed)}),c.current=a,c.next=a+1,c.prev=a-1,b.createUI(),setTimeout(function(){b.generateBoxes()},d.effects.loadedFadeSpeed+50),$(".ilightbox-thumbnail",c.thumbnails).removeClass("ilightbox-active").eq(a).addClass("ilightbox-active"),b.positionThumbnails(),d.linkId&&setTimeout(function(){c.hashLock=!1},55),d.infinite||(c.nextButton.add(c.prevButton).add(c.innerPrevButton).add(c.innerNextButton).removeClass("disabled"),0==c.current&&c.prevButton.add(c.innerPrevButton).addClass("disabled"),c.current>=c.total-1&&c.nextButton.add(c.innerNextButton).addClass("disabled")),b.resetCycle(),"function"==typeof d.callback.onAfterChange&&d.callback.onAfterChange.call(b,b.ui)}},moveTo:function(a){var b=this,c=b.vars,d=b.options,e=d.path.toLowerCase(),f=getViewport(),g=d.effects.switchSpeed,h=b.vars.holder,i=h.find("iframe").length?h.find("iframe").attr("src"):"";if(i&&-1!==i.indexOf("vimeo.com")&&h.find("iframe").attr("src",i),c.nextLock||c.prevLock)return!1;var j="next"==a?c.next:c.prev;if(d.linkId&&j&&(c.hashLock=!0,window.location.hash=d.linkId+"/"+j),"next"==a){if(!b.items[j])return!1;var k=c.nextPhoto,l=c.holder,m=c.prevPhoto,n="ilightbox-prev",o="ilightbox-next"}else if("prev"==a){if(!b.items[j])return!1;var k=c.prevPhoto,l=c.holder,m=c.nextPhoto,n="ilightbox-next",o="ilightbox-prev"}"function"==typeof d.callback.onBeforeChange&&d.callback.onBeforeChange.call(b,b.ui),"next"==a?c.nextLock=!0:c.prevLock=!0;var p=$("div.ilightbox-caption",l),q=$("div.ilightbox-social",l);if(p.length&&p.stop().fadeOut(g,function(){$(this).remove()}),q.length&&q.stop().fadeOut(g,function(){$(this).remove()}),b.items[j].caption){b.setCaption(b.items[j],k);var r=$("div.ilightbox-caption",k),s=parseInt(r.outerHeight()/k.outerHeight()*100);d.caption.start&&s<=50&&r.fadeIn(g)}var t=b.items[j].options.social;t&&(b.setSocial(t,b.items[j].URL,k),d.social.start&&$("div.ilightbox-social",k).fadeIn(d.effects.fadeSpeed)),$.each([k,l,m],function(a,b){b.removeClass("ilightbox-next ilightbox-prev")});var u=k.data("offset"),v=f.width-d.styles.pageOffsetX,w=f.height-d.styles.pageOffsetY,x=u.newDims.width,y=u.newDims.height,z=u.thumbsOffset,A=u.diff,B=parseInt(w/2-y/2-A.H-z.H/2),C=parseInt(v/2-x/2-A.W-z.W/2);k.css(transform,gpuAcceleration).animate({top:B,left:C,opacity:1},g,c.isSwipe?"easeOutCirc":"easeInOutCirc",function(){k.css(transform,"")}),$("div.ilightbox-container",k).animate({width:x,height:y},g,c.isSwipe?"easeOutCirc":"easeInOutCirc");var D=l.data("offset"),E=D.object;A=D.diff,x=D.newDims.width,y=D.newDims.height,x=parseInt(x*d.styles["next"==a?"prevScale":"nextScale"]),y=parseInt(y*d.styles["next"==a?"prevScale":"nextScale"]),B="horizontal"==e?parseInt(w/2-E.offsetY-y/2-A.H-z.H/2):parseInt(w-E.offsetX-A.H-z.H/2),"prev"==a?C="horizontal"==e?parseInt(v-E.offsetX-A.W-z.W/2):parseInt(v/2-x/2-A.W-E.offsetY-z.W/2):(B="horizontal"==e?B:parseInt(E.offsetX-A.H-y-z.H/2),C="horizontal"==e?parseInt(E.offsetX-A.W-x-z.W/2):parseInt(v/2-E.offsetY-x/2-A.W-z.W/2)),$("div.ilightbox-container",l).animate({width:x,height:y},g,c.isSwipe?"easeOutCirc":"easeInOutCirc"),l.addClass(n).css(transform,gpuAcceleration).animate({top:B,left:C,opacity:d.styles.prevOpacity},g,c.isSwipe?"easeOutCirc":"easeInOutCirc",function(){l.css(transform,""),$(".ilightbox-thumbnail",c.thumbnails).removeClass("ilightbox-active").eq(j).addClass("ilightbox-active"),b.positionThumbnails(),b.items[j]&&(b.items[j].options.mousewheel?c.lockWheel=!1:c.lockWheel=!0,b.items[j].options.swipe?c.lockSwipe=!1:c.lockSwipe=!0),c.isSwipe=!1,"next"==a?(c.nextPhoto=m,c.prevPhoto=l,c.holder=k,c.nextPhoto.hide(),c.next=c.next+1,c.prev=c.current,c.current=c.current+1,d.infinite&&(c.current>c.total-1&&(c.current=0),c.current==c.total-1&&(c.next=0),0==c.current&&(c.prev=c.total-1)),b.createUI(),b.items[c.next]?b.loadContent(b.items[c.next],"next"):c.nextLock=!1):(c.prevPhoto=m,c.nextPhoto=l,c.holder=k,c.prevPhoto.hide(),c.next=c.current,c.current=c.prev,c.prev=c.current-1,d.infinite&&(c.current==c.total-1&&(c.next=0),0==c.current&&(c.prev=c.total-1)),b.createUI(),b.items[c.prev]?b.loadContent(b.items[c.prev],"prev"):c.prevLock=!1),d.linkId&&setTimeout(function(){c.hashLock=!1},55),d.infinite||(c.nextButton.add(c.prevButton).add(c.innerPrevButton).add(c.innerNextButton).removeClass("disabled"),0==c.current&&c.prevButton.add(c.innerPrevButton).addClass("disabled"),c.current>=c.total-1&&c.nextButton.add(c.innerNextButton).addClass("disabled")),b.repositionPhoto(),b.resetCycle(),"function"==typeof d.callback.onAfterChange&&d.callback.onAfterChange.call(b,b.ui)}),B="horizontal"==e?getPixel(m,"top"):"next"==a?parseInt(-w/2-m.outerHeight()):parseInt(2*B),C="horizontal"==e?"next"==a?parseInt(-v/2-m.outerWidth()):parseInt(2*C):getPixel(m,"left"),m.css(transform,gpuAcceleration).animate({top:B,left:C,opacity:d.styles.nextOpacity},g,c.isSwipe?"easeOutCirc":"easeInOutCirc",function(){m.css(transform,"")}).addClass(o)},setCaption:function(a,b){var c=$('<div class="ilightbox-caption"></div>');a.caption&&(c.html(a.caption),$("div.ilightbox-container",b).append(c))},normalizeSocial:function(a,b){var c=this,d=(c.vars,c.options),e=window.location.href;return $.each(a,function(c,f){if(!f)return!0;var g,h,i=c.toLowerCase();switch(i){case"facebook":g="http://www.facebook.com/share.php?v=4&src=bm&u={URL}",h="Share on Facebook";break;case"twitter":g="http://twitter.com/home?status={URL}",h="Share on Twitter";break;case"googleplus":g="https://plus.google.com/share?url={URL}",h="Share on Google+";break;case"delicious":g="http://delicious.com/post?url={URL}",h="Share on Delicious";break;case"digg":g="http://digg.com/submit?phase=2&url={URL}",h="Share on Digg";break;case"reddit":g="http://reddit.com/submit?url={URL}",h="Share on reddit"}a[c]={URL:f.URL&&absolutizeURI(e,f.URL)||d.linkId&&window.location.href||"string"!=typeof b&&e||b&&absolutizeURI(e,b)||e,source:f.source||g||f.URL&&absolutizeURI(e,f.URL)||b&&absolutizeURI(e,b),text:f.text||h||"Share on "+c,width:void 0===f.width||isNaN(f.width)?640:parseInt(f.width),height:f.height||360}}),a},setSocial:function(a,b,c){var d=this,e=$('<div class="ilightbox-social"></div>'),f="<ul>";a=d.normalizeSocial(a,b),$.each(a,function(a,b){var c=(a.toLowerCase(),b.source.replace(/\{URL\}/g,encodeURIComponent(b.URL).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")));f+='<li class="'+a+'"><a href="'+c+'" onclick="javascript:window.open(this.href'+(b.width<=0||b.height<=0?"":", '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+b.height+",width="+b.width+",left=40,top=40'")+');return false;" title="'+b.text+'" target="_blank"></a></li>'}),f+="</ul>",e.html(f),$("div.ilightbox-container",c).append(e)},fullScreenAction:function(){var a=this;a.vars;fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen(document.documentElement):fullScreenApi.requestFullScreen(document.documentElement):a.doFullscreen()},doFullscreen:function(){var a=this,b=a.vars,c=getViewport(),d=a.options;if(d.fullAlone){var e=b.holder,f=a.items[b.current],g=c.width,h=c.height,i=[e,b.nextPhoto,b.prevPhoto,b.nextButton,b.prevButton,b.overlay,b.toolbar,b.thumbnails,b.loader],j=[b.loader,b.thumbnails];if(b.isInFullScreen)b.isInFullScreen=b.lockKey=b.lockWheel=b.lockSwipe=!1,b.overlay.css({opacity:a.options.overlay.opacity}),$.each(j,function(a,b){b.show()}),b.fullScreenButton.attr("title",d.text.enterFullscreen),e.data({naturalWidth:e.data("naturalWidthOld"),naturalHeight:e.data("naturalHeightOld"),naturalWidthOld:null,naturalHeightOld:null}),$.each(i,function(a,b){b.removeClass("ilightbox-fullscreen")}),"function"==typeof d.callback.onExitFullScreen&&d.callback.onExitFullScreen.call(a,a.ui);else{if(b.isInFullScreen=b.lockKey=b.lockWheel=b.lockSwipe=!0,b.overlay.css({opacity:1}),$.each(j,function(a,b){b.hide()}),b.fullScreenButton.attr("title",d.text.exitFullscreen),-1!=d.fullStretchTypes.indexOf(f.type))e.data({naturalWidthOld:e.data("naturalWidth"),naturalHeightOld:e.data("naturalHeight"),naturalWidth:g,naturalHeight:h});else{var c=f.options.fullViewPort||d.fullViewPort||"",k=g,l=h,m=e.data("naturalWidth"),n=e.data("naturalHeight");if("fill"==c.toLowerCase())(l=k/m*n)<h&&(k=h/n*m,l=h);else if("fit"==c.toLowerCase()){var o=a.getNewDimenstions(k,l,m,n,!0);k=o.width,l=o.height}else if("stretch"==c.toLowerCase())k=k,l=l;else{var p=m>k||n>l,o=a.getNewDimenstions(k,l,m,n,p);k=o.width,l=o.height}e.data({naturalWidthOld:e.data("naturalWidth"),naturalHeightOld:e.data("naturalHeight"),naturalWidth:k,naturalHeight:l})}$.each(i,function(a,b){b.addClass("ilightbox-fullscreen")}),"function"==typeof d.callback.onEnterFullScreen&&d.callback.onEnterFullScreen.call(a,a.ui)}}else b.isInFullScreen?b.isInFullScreen=!1:b.isInFullScreen=!0;a.repositionPhoto(!0)},closeAction:function(){var a=this,b=a.vars,c=a.options;$win.unbind(".iLightBox"),$doc.off(".iLightBox"),$doc.off(clickEvent,".ilightbox-overlay"),$doc.off(clickEvent,".ilightbox-next, .ilightbox-next-button"),$doc.off(clickEvent,".ilightbox-prev, .ilightbox-prev-button"),$doc.off(clickEvent,".ilightbox-thumbnail"),$doc.off(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause"),b.isInFullScreen&&fullScreenApi.cancelFullScreen(document.documentElement),$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails").off(".iLightBox"),c.hide.effect?b.overlay.stop().fadeOut(c.hide.speed,function(){b.overlay.remove(),b.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")}):(b.overlay.remove(),b.BODY.removeClass("ilightbox-noscroll").off(".iLightBox"));var d=[b.toolbar,b.holder,b.nextPhoto,b.prevPhoto,b.nextButton,b.prevButton,b.loader,b.thumbnails];$.each(d,function(a,b){b.removeAttr("style").remove()}),b.prevButton.removeClass("disabled"),b.nextButton.removeClass("disabled"),b.dontGenerateThumbs=b.isInFullScreen=!1,window.iLightBox=null,c.linkId&&(b.hashLock=!0,removeHash(),setTimeout(function(){b.hashLock=!1},55)),"function"==typeof c.callback.onHide&&c.callback.onHide.call(a,a.ui)},repositionPhoto:function(){var a=this,b=a.vars,c=a.options,d=c.path.toLowerCase(),e=getViewport(),f=e.width,g=e.height,h=b.isInFullScreen&&c.fullAlone||b.isMobile?0:"horizontal"==d?0:b.thumbnails.outerWidth(),i=b.isMobile?b.toolbar.outerHeight():b.isInFullScreen&&c.fullAlone?0:"horizontal"==d?b.thumbnails.outerHeight():0,j=b.isInFullScreen&&c.fullAlone?f:f-c.styles.pageOffsetX,k=b.isInFullScreen&&c.fullAlone?g:g-c.styles.pageOffsetY,l="horizontal"==d?parseInt(a.items[b.next]||a.items[b.prev]?2*(c.styles.nextOffsetX+c.styles.prevOffsetX):j/10<=30?30:j/10):parseInt(j/10<=30?30:j/10)+h,m="horizontal"==d?parseInt(k/10<=30?30:k/10)+i:parseInt(a.items[b.next]||a.items[b.prev]?2*(c.styles.nextOffsetX+c.styles.prevOffsetX):k/10<=30?30:k/10),n={type:"current",width:j,height:k,item:a.items[b.current],offsetW:l,offsetH:m,thumbsOffsetW:h,thumbsOffsetH:i,animate:arguments.length,holder:b.holder};a.repositionEl(n),a.items[b.next]&&(n=$.extend(n,{type:"next",item:a.items[b.next],offsetX:c.styles.nextOffsetX,offsetY:c.styles.nextOffsetY,holder:b.nextPhoto}),a.repositionEl(n)),a.items[b.prev]&&(n=$.extend(n,{type:"prev",item:a.items[b.prev],offsetX:c.styles.prevOffsetX,offsetY:c.styles.prevOffsetY,holder:b.prevPhoto}),a.repositionEl(n));var o="horizontal"==d?{left:parseInt(j/2-b.loader.outerWidth()/2)}:{top:parseInt(k/2-b.loader.outerHeight()/2)};b.loader.css(o)},repositionEl:function(a){var b=this,c=b.vars,d=b.options,e=d.path.toLowerCase(),f="current"==a.type&&c.isInFullScreen&&d.fullAlone?a.width:a.width-a.offsetW,g="current"==a.type&&c.isInFullScreen&&d.fullAlone?a.height:a.height-a.offsetH,h=a.item,i=a.item.options,j=a.holder,k=a.offsetX||0,l=a.offsetY||0,m=a.thumbsOffsetW,n=a.thumbsOffsetH;"current"==a.type?("number"==typeof i.width&&i.width&&(f=c.isInFullScreen&&d.fullAlone&&(-1!=d.fullStretchTypes.indexOf(h.type)||i.fullViewPort||d.fullViewPort)?f:i.width>f?f:i.width),"number"==typeof i.height&&i.height&&(g=c.isInFullScreen&&d.fullAlone&&(-1!=d.fullStretchTypes.indexOf(h.type)||i.fullViewPort||d.fullViewPort)?g:i.height>g?g:i.height)):("number"==typeof i.width&&i.width&&(f=i.width>f?f:i.width),"number"==typeof i.height&&i.height&&(g=i.height>g?g:i.height)),g=parseInt(g-$(".ilightbox-inner-toolbar",j).outerHeight());var o="string"==typeof i.width&&-1!=i.width.indexOf("%")?percentToValue(parseInt(i.width.replace("%","")),a.width):j.data("naturalWidth"),p="string"==typeof i.height&&-1!=i.height.indexOf("%")?percentToValue(parseInt(i.height.replace("%","")),a.height):j.data("naturalHeight"),q="string"==typeof i.width&&-1!=i.width.indexOf("%")||"string"==typeof i.height&&-1!=i.height.indexOf("%")?{width:o,height:p}:b.getNewDimenstions(f,g,o,p),r=$.extend({},q,{});"prev"==a.type||"next"==a.type?(o=parseInt(q.width*("next"==a.type?d.styles.nextScale:d.styles.prevScale)),p=parseInt(q.height*("next"==a.type?d.styles.nextScale:d.styles.prevScale))):(o=q.width,p=q.height);var s=parseInt((getPixel(j,"padding-left")+getPixel(j,"padding-right")+getPixel(j,"border-left-width")+getPixel(j,"border-right-width"))/2),t=parseInt((getPixel(j,"padding-top")+getPixel(j,"padding-bottom")+getPixel(j,"border-top-width")+getPixel(j,"border-bottom-width")+($(".ilightbox-inner-toolbar",j).outerHeight()||0))/2);switch(a.type){case"current":var u=parseInt(a.height/2-p/2-t-n/2),v=parseInt(a.width/2-o/2-s-m/2);break;case"next":var u="horizontal"==e?parseInt(a.height/2-l-p/2-t-n/2):parseInt(a.height-k-t-n/2),v="horizontal"==e?parseInt(a.width-k-s-m/2):parseInt(a.width/2-o/2-s-l-m/2);break;case"prev":var u="horizontal"==e?parseInt(a.height/2-l-p/2-t-n/2):parseInt(k-t-p-n/2),v="horizontal"==e?parseInt(k-s-o-m/2):parseInt(a.width/2-l-o/2-s-m/2)}j.data("offset",{top:u,left:v,newDims:r,diff:{W:s,H:t},thumbsOffset:{W:m,H:n},object:a}),a.animate>0&&d.effects.reposition?(j.css(transform,gpuAcceleration).stop().animate({top:u,left:v},d.effects.repositionSpeed,"easeOutCirc",function(){j.css(transform,"")}),$("div.ilightbox-container",j).stop().animate({width:o,height:p},d.effects.repositionSpeed,"easeOutCirc"),$("div.ilightbox-inner-toolbar",j).stop().animate({width:o},d.effects.repositionSpeed,"easeOutCirc",function(){$(this).css("overflow","visible")})):(j.css({top:u,left:v}),$("div.ilightbox-container",j).css({width:o,height:p}),$("div.ilightbox-inner-toolbar",j).css({width:o}))},resume:function(a){var b=this,c=b.vars,d=b.options;!d.slideshow.pauseTime||d.controls.slideshow&&c.total<=1||a<c.isPaused||(c.isPaused=0,c.cycleID&&(c.cycleID=clearTimeout(c.cycleID)),c.cycleID=setTimeout(function(){c.current==c.total-1?b.goTo(0):b.moveTo("next")},d.slideshow.pauseTime))},pause:function(a){var b=this,c=b.vars;b.options;a<c.isPaused||(c.isPaused=a||100,c.cycleID&&(c.cycleID=clearTimeout(c.cycleID)))},resetCycle:function(){var a=this,b=a.vars;a.options.controls.slideshow&&b.cycleID&&!b.isPaused&&a.resume()},getNewDimenstions:function(a,b,c,d,e){var f=this;return factor=a?b?min(a/c,b/d):a/c:b/d,e||(factor>f.options.maxScale?factor=f.options.maxScale:factor<f.options.minScale&&(factor=f.options.minScale)),{width:f.options.keepAspectRatio?round(c*factor):a,height:f.options.keepAspectRatio?round(d*factor):b,ratio:factor}},setOption:function(a){var b=this;b.options=$.extend(!0,b.options,a||{}),b.refresh()},availPlugins:function(){var a=this,b=document.createElement("video");a.plugins={flash:!isMobile,quicktime:parseInt(PluginDetect.getVersion("QuickTime"))>=0,html5H264:!(!b.canPlayType||!b.canPlayType("video/mp4").replace(/no/,"")),html5WebM:!(!b.canPlayType||!b.canPlayType("video/webm").replace(/no/,"")),html5Vorbis:!(!b.canPlayType||!b.canPlayType("video/ogg").replace(/no/,"")),html5QuickTime:!(!b.canPlayType||!b.canPlayType("video/quicktime").replace(/no/,""))}},addContent:function(a,b){var c,d=this;switch(b.type){case"video":var e=!1,f=b.videoType,g=b.options.html5video;("video/mp4"==f||"mp4"==b.ext||"m4v"==b.ext||g.h264)&&d.plugins.html5H264?(b.ext="mp4",b.URL=g.h264||b.URL):g.webm&&d.plugins.html5WebM?(b.ext="webm",b.URL=g.webm||b.URL):g.ogg&&d.plugins.html5Vorbis&&(b.ext="ogv",b.URL=g.ogg||b.URL),!d.plugins.html5H264||"video/mp4"!=f&&"mp4"!=b.ext&&"m4v"!=b.ext?!d.plugins.html5WebM||"video/webm"!=f&&"webm"!=b.ext?!d.plugins.html5Vorbis||"video/ogg"!=f&&"ogv"!=b.ext?!d.plugins.html5QuickTime||"video/quicktime"!=f&&"mov"!=b.ext&&"qt"!=b.ext||(e=!0,f="video/quicktime"):(e=!0,f="video/ogg"):(e=!0,f="video/webm"):(e=!0,f="video/mp4"),e?c=$("<video />",{width:"100%",height:"100%",preload:g.preload,autoplay:g.autoplay,poster:g.poster,controls:g.controls}).append($("<source />",{src:b.URL,type:f})):d.plugins.quicktime?(c=$("<object />",{type:"video/quicktime",pluginspage:pluginspages.quicktime}).attr({data:b.URL,width:"100%",height:"100%"}).append($("<param />",{name:"src",value:b.URL})).append($("<param />",{name:"autoplay",value:"false"})).append($("<param />",{name:"loop",value:"false"})).append($("<param />",{name:"scale",value:"tofit"})),browser.msie&&(c=QT_GenerateOBJECTText(b.URL,"100%","100%","","SCALE","tofit","AUTOPLAY","false","LOOP","false"))):c=$("<span />",{class:"ilightbox-alert",html:d.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.quicktime).replace("{type}","QuickTime")});break;case"flash":if(d.plugins.flash){var h="",i=0;b.options.flashvars?$.each(b.options.flashvars,function(a,b){0!=i&&(h+="&"),h+=a+"="+encodeURIComponent(b),i++}):h=null,c=$("<embed />").attr({type:"application/x-shockwave-flash",src:b.URL,width:"number"==typeof b.options.width&&b.options.width&&"1"==d.options.minScale&&"1"==d.options.maxScale?b.options.width:"100%",height:"number"==typeof b.options.height&&b.options.height&&"1"==d.options.minScale&&"1"==d.options.maxScale?b.options.height:"100%",quality:"high",bgcolor:"#000000",play:"true",loop:"true",menu:"true",wmode:"transparent",scale:"showall",allowScriptAccess:"always",allowFullScreen:"true",flashvars:h,fullscreen:"yes"})}else c=$("<span />",{class:"ilightbox-alert",html:d.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.flash).replace("{type}","Adobe Flash player")});break;case"iframe":var j=b.URL.substring(b.URL.indexOf("?")+1).split("&"),k="?";if(-1!=b.URL.indexOf("vimeo.com")){var l=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,m=b.URL.match(l);if(m){k="?title=0&amp;byline=0&amp;portrait=0";for(var n=0;n<j.length;++n){var o=j[n].split("=");1<o[0].length&&2===o.length&&-1===k.indexOf(o[0])&&(k+="&"+o[0]+"="+decodeURIComponent(o[1].replace(/\+/g," ")))}var p="//player.vimeo.com/video/"+m[3]+k}else var p=b.URL}else{var l=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,m=b.URL.match(l);if(m){k="?enablejsapi=1";for(var n=0;n<j.length;++n){var o=j[n].split("=");1<o[0].length&&2===o.length&&-1===k.indexOf(o[0])&&(k+="&"+o[0]+"="+decodeURIComponent(o[1].replace(/\+/g," ")))}var p="//www.youtube.com/embed/"+m[7]+k}else var p=b.URL}var q="";-1!==k.indexOf("autoplay=1")&&(q+="autoplay"),c=$("<iframe />").attr({width:"number"==typeof b.options.width&&b.options.width&&"1"==d.options.minScale&&"1"==d.options.maxScale?b.options.width:"100%",height:"number"==typeof b.options.height&&b.options.height&&"1"==d.options.minScale&&"1"==d.options.maxScale?b.options.height:"100%",src:p,frameborder:0,hspace:0,vspace:0,scrolling:supportTouch?"auto":"scroll",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:"",allow:q});break;case"inline":c=$('<div class="ilightbox-wrapper"></div>').html($(b.URL).clone(!0));break;case"html":var c,r=b.URL;if(r[0].nodeName)c=$('<div class="ilightbox-wrapper"></div>').html(r);else{var s=$(b.URL),t=s.selector?$("<div>"+s+"</div>"):s;c=$('<div class="ilightbox-wrapper"></div>').html(t)}}return $("div.ilightbox-container",a).empty().html(c),"video"===c[0].tagName.toLowerCase()&&browser.webkit&&setTimeout(function(){var a=c[0].currentSrc+"?"+floor(3e4*random());c[0].currentSrc=a,c[0].src=a}),c},ogpRecognition:function(a,b){var c=this,d=a.URL;c.showLoader(),doAjax(d,function(a){if(c.hideLoader(),a){var d=new Object;if(d.length=!1,d.url=a.url,200==a.status){for(var e=a.results,f=e.type,g=e.source,h=e.url.substring(e.url.indexOf("?")+1).split("&"),i=g.src,j=0;j<h.length;++j)-1===i.indexOf(h[j])&&(i+="&"+h[j]);d.source=i,d.width=g.width&&parseInt(g.width)||0,d.height=g.height&&parseInt(g.height)||0,d.type=f,d.thumbnail=g.thumbnail||e.images[0],d.html5video=e.html5video||{},d.length=!0,"application/x-shockwave-flash"==g.type?d.type="flash":-1!=g.type.indexOf("video/")?d.type="video":-1!=g.type.indexOf("/html")?d.type="iframe":-1!=g.type.indexOf("image/")&&(d.type="image")}else if(void 0!==a.response)throw a.response;b.call(this,!!d.length&&d)}})},hashChangeHandler:function(a){var b=this,c=b.vars,d=b.options,e=a||window.location.href,f=parseURI(e).hash,g=f.split("/"),h=g[1];if(!(c.hashLock||"#"+d.linkId!=g[0]&&f.length>1))if(h){var i=g[1]||0;if(b.items[i]){var j=$(".ilightbox-overlay");j.length&&j.attr("linkid")==d.linkId?b.goTo(i):b.itemsObject[i].trigger(supportTouch?"click itap":"click")}else{var j=$(".ilightbox-overlay");j.length&&b.closeAction()}}else{var j=$(".ilightbox-overlay");j.length&&b.closeAction()}}},$.fn.iLightBox=function(){var a=arguments,b=$.isPlainObject(a[0])?a[0]:a[1],c=$.isArray(a[0])||"string"==typeof a[0]?a[0]:a[1];b||(b={});var d=$.extend(!0,{attr:"href",path:"vertical",skin:"dark",linkId:!1,infinite:!1,startFrom:0,randomStart:!1,keepAspectRatio:!0,maxScale:1,minScale:.2,innerToolbar:!1,smartRecognition:!1,mobileOptimizer:!0,fullAlone:!0,fullViewPort:null,fullStretchTypes:"flash, video",overlay:{blur:!0,opacity:.85},controls:{arrows:!1,slideshow:!1,toolbar:!0,fullscreen:!0,thumbnail:!0,keyboard:!0,mousewheel:!0,swipe:!0},keyboard:{left:!0,right:!0,up:!0,down:!0,esc:!0,shift_enter:!0},show:{effect:!0,speed:300,title:!0},hide:{effect:!0,speed:300},caption:{start:!0,show:"mouseenter",hide:"mouseleave"},social:{start:!0,show:"mouseenter",hide:"mouseleave",buttons:!1},styles:{pageOffsetX:0,pageOffsetY:0,nextOffsetX:45,nextOffsetY:0,nextOpacity:1,nextScale:1,prevOffsetX:45,prevOffsetY:0,prevOpacity:1,prevScale:1},thumbnails:{maxWidth:120,maxHeight:80,normalOpacity:1,activeOpacity:.6},effects:{reposition:!0,repositionSpeed:200,switchSpeed:500,loadedFadeSpeed:180,fadeSpeed:200},slideshow:{pauseTime:5e3,pauseOnHover:!1,startPaused:!0},text:{close:"Press Esc to close",enterFullscreen:"Enter Fullscreen (Shift+Enter)",exitFullscreen:"Exit Fullscreen (Shift+Enter)",slideShow:"Slideshow",next:"Next",previous:"Previous"},errors:{loadImage:"An error occurred when trying to load photo.",loadContents:"An error occurred when trying to load contents.",missingPlugin:"The content your are attempting to view requires the <a href='{pluginspage}' target='_blank'>{type} plugin</a>."},ajaxSetup:{url:"",beforeSend:function(a,b){},cache:!1,complete:function(a,b){},crossDomain:!1,error:function(a,b,c){},success:function(a,b,c){},global:!0,ifModified:!1,username:null,password:null,type:"GET"},callback:{}},b),e=!(!$.isArray(c)&&"string"!=typeof c);if(c=$.isArray(c)?c:new Array,"string"==typeof a[0]&&(c[0]=a[0]),version_compare($.fn.jquery,"1.8",">=")){var f=new iLightBox($(this),d,c,e);return{close:function(){f.closeAction()},fullscreen:function(){f.fullScreenAction()},moveNext:function(){f.moveTo("next")},movePrev:function(){f.moveTo("prev")},goTo:function(a){f.goTo(a)},refresh:function(){f.refresh()},reposition:function(){arguments.length>0?f.repositionPhoto(!0):f.repositionPhoto()},setOption:function(a){f.setOption(a)},destroy:function(){f.closeAction(),f.dispatchItemsEvents()}}}throw"The jQuery version that was loaded is too old. iLightBox requires jQuery 1.8+"},$.iLightBox=function(){return $.fn.iLightBox(arguments[0],arguments[1])},$.extend($.easing,{easeInCirc:function(a,b,c,d,e){return-d*(sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(sqrt(1-b*b)-1)+c:d/2*(sqrt(1-(b-=2)*b)+1)+c}}),function(){$.each("touchstart touchmove touchend tap taphold swipeleft swiperight scrollstart scrollstop".split(" "),function(a,b){$.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)},$.attrFn&&($.attrFn[b]=!0)});var a={startEvent:"touchstart.iTap",endEvent:"touchend.iTap"};$.event.special.itap={setup:function(){var b,c,d=this,e=$(this);e.bind(a.startEvent,function(f){b=getScrollXY(),e.one(a.endEvent,function(a){c=getScrollXY();var e=a||window.event;a=$.event.fix(e),a.type="itap",b&&c&&b.x==c.x&&b.y==c.y&&($.event.dispatch||$.event.handle).call(d,a),b=c=undefined})})},teardown:function(){$(this).unbind(a.startEvent)}}}(),function(){if(fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},browserPrefixes="webkit moz o ms khtml".split(" "),void 0!==document.cancelFullScreen)fullScreenApi.supportsFullScreen=!0;else for(var a=0,b=browserPrefixes.length;a<b;a++)if(fullScreenApi.prefix=browserPrefixes[a],void 0!==document[fullScreenApi.prefix+"CancelFullScreen"]){fullScreenApi.supportsFullScreen=!0;break}fullScreenApi.supportsFullScreen&&(fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange",fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},fullScreenApi.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},fullScreenApi.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()})}(),function(){var a=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}}(navigator.userAgent);browser={},a.browser&&(browser[a.browser]=!0,browser.version=a.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0)}(),function(){function a(a){for(var d=0,e=b.length;d<e;d++){var f=b[d]?b[d]+a.charAt(0).toUpperCase()+a.slice(1):a;if(c.style[f]!==undefined)return f}}var b=["","webkit","moz","ms","o"],c=document.createElement("div");transform=a("transform")||"",gpuAcceleration=a("perspective")?"translateZ(0) ":""}();var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(a,b,c){return function(){a(b,c)}},openTag:"<",isDefined:function(a){return void 0!==a},isArray:function(a){return/array/i.test(Object.prototype.toString.call(a))},isFunc:function(a){return"function"==typeof a},isString:function(a){return"string"==typeof a},isNum:function(a){return"number"==typeof a},isStrNum:function(a){return"string"==typeof a&&/\d/.test(a)},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(a,b){var c=this,d=c.isStrNum(a)?(c.isDefined(b)?new RegExp(b):c.getNumRegx).exec(a):null;return d?d[0]:null},compareNums:function(a,b,c){var d,e,f,g=this,h=parseInt;if(g.isStrNum(a)&&g.isStrNum(b)){if(g.isDefined(c)&&c.compareNums)return c.compareNums(a,b);for(d=a.split(g.splitNumRegx),e=b.split(g.splitNumRegx),f=0;f<min(d.length,e.length);f++){if(h(d[f],10)>h(e[f],10))return 1;if(h(d[f],10)<h(e[f],10))return-1}}return 0},formatNum:function(a,b){var c,d,e=this;if(!e.isStrNum(a))return null;for(e.isNum(b)||(b=4),b--,d=a.replace(/\s/g,"").split(e.splitNumRegx).concat(["0","0","0","0"]),c=0;c<4;c++)/^(0+)(.+)$/.test(d[c])&&(d[c]=RegExp.$2),(c>b||!/\d/.test(d[c]))&&(d[c]="0");return d.slice(0,4).join(",")},$$hasMimeType:function(a){return function(b){if(!a.isIE&&b){var c,d,e,f=a.isArray(b)?b:a.isString(b)?[b]:[];for(e=0;e<f.length;e++)if(a.isString(f[e])&&/[^\s]/.test(f[e])&&(c=navigator.mimeTypes[f[e]],(d=c?c.enabledPlugin:0)&&(d.name||d.description)))return c}return null}},findNavPlugin:function(a,b,c){var d,e,f,g=this,h=new RegExp(a,"i"),i=!g.isDefined(b)||b?/\d/:0,j=c?new RegExp(c,"i"):0,k=navigator.plugins;for(d=0;d<k.length;d++)if(f=k[d].description||"",e=k[d].name||"",(h.test(f)&&(!i||i.test(RegExp.leftContext+RegExp.rightContext))||h.test(e)&&(!i||i.test(RegExp.leftContext+RegExp.rightContext)))&&(!j||!j.test(f)&&!j.test(e)))return k[d];return null},getMimeEnabledPlugin:function(a,b,c){var d,e,f,g,h=this,i=new RegExp(b,"i"),j=c?new RegExp(c,"i"):0,k=h.isString(a)?[a]:a;for(g=0;g<k.length;g++)if((d=h.hasMimeType(k[g]))&&(d=d.enabledPlugin)&&(f=d.description||"",e=d.name||"",(i.test(f)||i.test(e))&&(!j||!j.test(f)&&!j.test(e))))return d;return 0},getPluginFileVersion:function(a,b){var c,d,e,f,g=this,h=-1;if(g.OS>2||!a||!a.version||!(c=g.getNum(a.version)))return b;if(!b)return c;for(c=g.formatNum(c),b=g.formatNum(b),d=b.split(g.splitNumRegx),e=c.split(g.splitNumRegx),f=0;f<d.length;f++){if(h>-1&&f>h&&"0"!=d[f])return b;if(e[f]!=d[f]&&(-1==h&&(h=f),"0"!=d[f]))return b}return c},AXO:window.ActiveXObject,getAXO:function(a){var b=null,c=this;try{b=new c.AXO(a)}catch(a){}return b},convertFuncs:function(a){var b,c,d=/^[\$][\$]/;for(b in a)if(d.test(b))try{c=b.slice(2),c.length>0&&!a[c]&&(a[c]=a[b](a),delete a[b])}catch(a){}},initObj:function(a,b,c){var d,e;if(a){if(1==a[b[0]]||c)for(d=0;d<b.length;d+=2)a[b[d]]=b[d+1];for(d in a)(e=a[d])&&1==e[b[0]]&&this.initObj(e,b)}},initScript:function(){var a,b=this,c=navigator,d=document,e=c.userAgent||"",f=c.vendor||"",g=c.platform||"",h=c.product||"";b.initObj(b,["$",b]);for(a in b.Plugins)b.Plugins[a]&&b.initObj(b.Plugins[a],["$",b,"$$",b.Plugins[a]],1);if(b.convertFuncs(b),b.OS=100,g){var i=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(a=i.length-2;a>=0;a-=2)if(i[a]&&new RegExp(i[a],"i").test(g)){b.OS=i[a+1];break}}if(b.head=d.getElementsByTagName("head")[0]||d.getElementsByTagName("body")[0]||d.body||null,b.isIE=new Function("return/*@cc_on!@*/!1")(),b.verIE=b.isIE&&/MSIE\s*(\d+\.?\d*)/i.test(e)?parseFloat(RegExp.$1,10):null,b.verIEfull=null,b.docModeIE=null,b.isIE){var j,k=document.createElement("div");try{k.style.behavior="url(#default#clientcaps)",b.verIEfull=k.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".")}catch(a){}j=parseFloat(b.verIEfull||"0",10),b.docModeIE=d.documentMode||(/back/i.test(d.compatMode||"")?5:j)||b.verIE,b.verIE=j||b.docModeIE}if(b.ActiveXEnabled=!1,b.isIE){var a,l=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(a=0;a<l.length;a++)if(b.getAXO(l[a])){b.ActiveXEnabled=!0;break}}b.isGecko=/Gecko/i.test(h)&&/Gecko\s*\/\s*\d/i.test(e),b.verGecko=b.isGecko?b.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(e)?RegExp.$1:"0.9"):null,b.isChrome=/Chrome\s*\/\s*(\d[\d\.]*)/i.test(e),b.verChrome=b.isChrome?b.formatNum(RegExp.$1):null,b.isSafari=(/Apple/i.test(f)||!f&&!b.isChrome)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(e),b.verSafari=b.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(e)?b.formatNum(RegExp.$1):null,b.isOpera=/Opera\s*[\/]?\s*(\d+\.?\d*)/i.test(e),b.verOpera=b.isOpera&&(/Version\s*\/\s*(\d+\.?\d*)/i.test(e),!0)?parseFloat(RegExp.$1,10):null,b.addWinEvent("load",b.handler(b.runWLfuncs,b))},init:function(a){var b,a,c=this,d={status:-3,plugin:0};return c.isString(a)?1==a.length?(c.getVersionDelimiter=a,d):(a=a.toLowerCase().replace(/\s/g,""),(b=c.Plugins[a])&&b.getVersion?(d.plugin=b,c.isDefined(b.installed)||(b.installed=null,b.version=null,b.version0=null,b.getVersionDone=null,b.pluginName=a),c.garbage=!1,c.isIE&&!c.ActiveXEnabled&&"java"!==a?(d.status=-2,d):(d.status=1,d)):d):d},fPush:function(a,b){var c=this;c.isArray(b)&&(c.isFunc(a)||c.isArray(a)&&a.length>0&&c.isFunc(a[0]))&&b.push(a)},callArray:function(a){var b,c=this;if(c.isArray(a))for(b=0;b<a.length;b++){if(null===a[b])return;c.call(a[b]),a[b]=null}},call:function(a){var b=this,c=b.isArray(a)?a.length:-1;c>0&&b.isFunc(a[0])?a[0](b,c>1?a[1]:0,c>2?a[2]:0,c>3?a[3]:0):b.isFunc(a)&&a(b)},getVersionDelimiter:",",$$getVersion:function(a){return function(b,c,d){var e,f,g=a.init(b);return g.status<0?null:(e=g.plugin,1!=e.getVersionDone&&(e.getVersion(null,c,d),null===e.getVersionDone&&(e.getVersionDone=1)),a.cleanup(),f=e.version||e.version0,f=f?f.replace(a.splitNumRegx,a.getVersionDelimiter):f)}},cleanup:function(){var a=this;a.garbage&&a.isDefined(window.CollectGarbage)&&window.CollectGarbage()},isActiveXObject:function(a,b){var c=this,d=!1,e='<object width="1" height="1" style="display:none" '+a.getCodeBaseVersion(b)+">"+a.HTML+c.openTag+"/object>";if(!c.head)return d;c.head.insertBefore(document.createElement("object"),c.head.firstChild),c.head.firstChild.outerHTML=e;try{c.head.firstChild.classid=a.classID}catch(a){}try{c.head.firstChild.object&&(d=!0)}catch(a){}try{d&&c.head.firstChild.readyState<4&&(c.garbage=!0)}catch(a){}return c.head.removeChild(c.head.firstChild),d},codebaseSearch:function(a,b){var c=this;if(!c.ActiveXEnabled||!a)return null;a.BIfuncs&&a.BIfuncs.length&&null!==a.BIfuncs[a.BIfuncs.length-1]&&c.callArray(a.BIfuncs);var d,e=a.SEARCH;if(c.isStrNum(b))return!!(e.match&&e.min&&c.compareNums(b,e.min)<=0)||!(e.match&&e.max&&c.compareNums(b,e.max)>=0)&&(d=c.isActiveXObject(a,b),d&&(!e.min||c.compareNums(b,e.min)>0)&&(e.min=b),d||e.max&&!(c.compareNums(b,e.max)<0)||(e.max=b),d);var f,g,h,i,j,k=[0,0,0,0],l=[].concat(e.digits),m=e.min?1:0,n=function(b,d){var e=[].concat(k);return e[b]=d,c.isActiveXObject(a,e.join(","))};if(e.max){for(i=e.max.split(c.splitNumRegx),f=0;f<i.length;f++)i[f]=parseInt(i[f],10);i[0]<l[0]&&(l[0]=i[0])}if(e.min){for(j=e.min.split(c.splitNumRegx),f=0;f<j.length;f++)j[f]=parseInt(j[f],10);j[0]>k[0]&&(k[0]=j[0])}if(j&&i)for(f=1;f<j.length&&j[f-1]==i[f-1];f++)i[f]<l[f]&&(l[f]=i[f]),j[f]>k[f]&&(k[f]=j[f]);if(e.max)for(f=1;f<l.length;f++)if(i[f]>0&&0==l[f]&&l[f-1]<e.digits[f-1]){l[f-1]+=1;break}for(f=0;f<l.length;f++){for(h={},g=0;g<20&&!(l[f]-k[f]<1)&&(d=round((l[f]+k[f])/2),!h["a"+d]);g++)h["a"+d]=1,n(f,d)?(k[f]=d,m=1):l[f]=d;if(l[f]=k[f],!m&&n(f,k[f])&&(m=1),!m)break}return m?k.join(","):null},addWinEvent:function(a,b){var c,d=this,e=window;d.isFunc(b)&&(e.addEventListener?e.addEventListener(a,b,!1):e.attachEvent?e.attachEvent("on"+a,b):(c=e["on"+a],e["on"+a]=d.winHandler(b,c)))},winHandler:function(a,b){return function(){a(),"function"==typeof b&&b()}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(a){a.winLoaded=!0,a.callArray(a.WLfuncs0),a.callArray(a.WLfuncs),a.onDoneEmptyDiv&&a.onDoneEmptyDiv()},winLoaded:!1,$$onWindowLoaded:function(a){return function(b){a.winLoaded?a.call(b):a.fPush(b,a.WLfuncs)}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var a,b,c,d,e,f=this;if(f.div&&f.div.childNodes)for(a=f.div.childNodes.length-1;a>=0;a--){if((c=f.div.childNodes[a])&&c.childNodes)for(b=c.childNodes.length-1;b>=0;b--){e=c.childNodes[b];try{c.removeChild(e)}catch(a){}}if(c)try{f.div.removeChild(c)}catch(a){}}if(f.div||(d=document.getElementById(f.divID))&&(f.div=d),f.div&&f.div.parentNode){try{f.div.parentNode.removeChild(f.div)}catch(a){}f.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var a,b,c=this;if(c.winLoaded&&(!c.WLfuncs||!c.WLfuncs.length||null===c.WLfuncs[c.WLfuncs.length-1])){for(a in c)if((b=c[a])&&b.funcs){if(3==b.OTF)return;if(b.funcs.length&&null!==b.funcs[b.funcs.length-1])return}for(a=0;a<c.DONEfuncs.length;a++)c.callArray(c.DONEfuncs);c.emptyDiv()}},getWidth:function(a){if(a){var b=a.scrollWidth||a.offsetWidth;if(this.isNum(b))return b}return-1},getTagStatus:function(a,b,c,d){var e=this,f=a.span,g=e.getWidth(f),h=c.span,i=e.getWidth(h),j=b.span,k=e.getWidth(j);if(!(f&&h&&j&&e.getDOMobj(a)))return-2;if(i<k||g<0||i<0||k<0||k<=e.pluginSize||e.pluginSize<1)return 0;if(g>=k)return-1;try{if(g==e.pluginSize&&(!e.isIE||4==e.getDOMobj(a).readyState)){if(!a.winLoaded&&e.winLoaded)return 1;if(a.winLoaded&&e.isNum(d)&&(e.isNum(a.count)||(a.count=d),d-a.count>=10))return 1}}catch(a){}return 0},getDOMobj:function(a,b){var c=this,d=a?a.span:0,e=d&&d.firstChild?1:0;try{e&&b&&c.div.focus()}catch(a){}return e?d.firstChild:null},setStyle:function(a,b){var c,d=a.style;if(d&&b)for(c=0;c<b.length;c+=2)try{d[b[c]]=b[c+1]}catch(a){}},insertDivInBody:function(a,b){var c=this,d="pd33993399",e=null,f=b?window.top.document:window.document,g=f.getElementsByTagName("body")[0]||f.body;if(!g)try{f.write('<div id="'+d+'">.'+c.openTag+"/div>"),e=f.getElementById(d)}catch(a){}(g=f.getElementsByTagName("body")[0]||f.body)&&(g.insertBefore(a,g.firstChild),e&&g.removeChild(e))},insertHTML:function(a,b,c,d,e){var f,g,h,i=document,j=this,k=i.createElement("span"),l=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"];if(j.isDefined(d)||(d=""),j.isString(a)&&/[^\s]/.test(a)){for(a=a.toLowerCase().replace(/\s/g,""),f=j.openTag+a+' width="'+j.pluginSize+'" height="'+j.pluginSize+'" ',f+='style="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;display:inline;" ',g=0;g<b.length;g+=2)/[^\s]/.test(b[g+1])&&(f+=b[g]+'="'+b[g+1]+'" ');for(f+=">",g=0;g<c.length;g+=2)/[^\s]/.test(c[g+1])&&(f+=j.openTag+'param name="'+c[g]+'" value="'+c[g+1]+'" />');f+=d+j.openTag+"/"+a+">"}else f=d;if(j.div||(h=i.getElementById(j.divID),h?j.div=h:(j.div=i.createElement("div"),j.div.id=j.divID),j.setStyle(j.div,l.concat(["width",j.divWidth+"px","height",j.pluginSize+3+"px","fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","block"])),h||(j.setStyle(j.div,["position","absolute","right","0px","top","0px"]),j.insertDivInBody(j.div))),j.div&&j.div.parentNode){j.setStyle(k,l.concat(["fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","inline"]));try{k.innerHTML=f}catch(a){}try{j.div.appendChild(k)}catch(a){}return{span:k,winLoaded:j.winLoaded,tagName:a,outerHTML:f}}return{span:null,winLoaded:j.winLoaded,tagName:"",outerHTML:f}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(a){return'codebase="#version='+a+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(a){var b,c=this,d=c.$,e=null,f=null;if(d.isIE){if(d.isStrNum(a)&&(b=a.split(d.splitNumRegx),b.length>3&&parseInt(b[3],10)>0&&(b[3]="9999"),a=b.join(",")),d.isStrNum(a)&&d.verIE>=c.minIEver&&c.canUseIsMin()>0)return c.installed=c.isMin(a),void(c.getVersionDone=0);c.getVersionDone=1,!e&&d.verIE>=c.minIEver&&(e=c.CDBASE2VER(d.codebaseSearch(c))),e||(f=d.getAXO(c.progID))&&f.QuickTimeVersion&&(e=f.QuickTimeVersion.toString(16),e=parseInt(e.charAt(0),16)+"."+parseInt(e.charAt(1),16)+"."+parseInt(e.charAt(2),16))}else d.hasMimeType(c.mimeType)&&(f=3!=d.OS?d.findNavPlugin("QuickTime.*Plug-?in",0):null)&&f.name&&(e=d.getNum(f.name));c.installed=e?1:f?0:-1,c.version=d.formatNum(e,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(a,b){var c=b.split(a.$.splitNumRegx);return[c[0],c[1].charAt(0),c[1].charAt(1),c[2]].join(",")},null],CDBASE2VER:function(a){var b,c=this,d=c.$,e=c.cdbaseUpper,f=c.cdbaseLower;if(a)for(a=d.formatNum(a),b=0;b<e.length;b++)if(e[b]&&d.compareNums(a,e[b])<0&&f[b]&&d.compareNums(a,f[b])>=0&&c.cdbase2ver[b])return c.cdbase2ver[b](c,a);return a},canUseIsMin:function(){var a,b=this,c=b.$,d=b.canUseIsMin,e=b.cdbaseUpper,f=b.cdbaseLower;if(!d.value)for(d.value=-1,a=0;a<e.length;a++){if(e[a]&&c.codebaseSearch(b,e[a])){d.value=1;break}if(f[a]&&c.codebaseSearch(b,f[a])){d.value=-1;break}}return b.SEARCH.match=1==d.value?1:0,d.value},isMin:function(a){var b=this;return b.$.codebaseSearch(b,a)?.7:-1}},flash:{mimeType:"application/x-shockwave-flash",progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var a,b,c,d,e=function(a){if(!a)return null;var b=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(a);return b?b[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null},f=this,g=f.$,h=null,i=null,j=null;if(g.isIE){for(a=15;a>2;a--)if(i=g.getAXO(f.progID+"."+a)){j=a.toString();break}if(i||(i=g.getAXO(f.progID)),"6"==j)try{i.AllowScriptAccess="always"}catch(a){return"6,0,21,0"}try{h=e(i.GetVariable("$version"))}catch(a){}!h&&j&&(h=j)}else{if(c=g.hasMimeType(f.mimeType)){b=g.getDOMobj(g.insertHTML("object",["type",f.mimeType],[],"",f));try{h=g.getNum(b.GetVariable("$version"))}catch(a){}}h||(d=c?c.enabledPlugin:null,d&&d.description&&(h=e(d.description)),h&&(h=g.getPluginFileVersion(d,h)))}return f.installed=h?1:-1,f.version=g.formatNum(h),!0}},shockwave:{mimeType:"application/x-director",progID:"SWCtl.SWCtl",classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",getVersion:function(){var a,b=null,c=null,d=this,e=d.$;if(e.isIE){try{c=e.getAXO(d.progID).ShockwaveVersion("")}catch(a){}e.isString(c)&&c.length>0?b=e.getNum(c):e.getAXO(d.progID+".8")?b="8":e.getAXO(d.progID+".7")?b="7":e.getAXO(d.progID+".1")&&(b="6")}else a=e.findNavPlugin("Shockwave\\s*for\\s*Director"),a&&a.description&&e.hasMimeType(d.mimeType)&&(b=e.getNum(a.description)),b&&(b=e.getPluginFileVersion(a,b));d.installed=b?1:-1,d.version=e.formatNum(b)}},zz:0}};PluginDetect.initScript();var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;!function(){function a(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var b,c=document,d=$.event.special,e=c.documentMode,f="oniLightBoxHashChange"in window&&(void 0===e||7<e);$.fn.iLightBoxHashChange=function(a){return a?this.bind("iLightBoxHashChange",a):this.trigger("iLightBoxHashChange")},$.fn.iLightBoxHashChange.delay=50,d.iLightBoxHashChange=$.extend(d.iLightBoxHashChange,{setup:function(){if(f)return!1;$(b.start)},teardown:function(){if(f)return!1;$(b.stop)}}),b=function(){function b(){var c=a(),e=j(g);c!==g?(i(g=c,e),$(window).trigger("iLightBoxHashChange")):e!==g&&(location.href=location.href.replace(/#.*/,"")+e),d=setTimeout(b,$.fn.iLightBoxHashChange.delay)}var d,e={},g=a(),h=function(a){return a},i=h,j=h;return e.start=function(){d||b()},e.stop=function(){d&&clearTimeout(d),d=void 0},browser.msie&&!f&&function(){var d,f;e.start=function(){d||(f=(f=$.fn.iLightBoxHashChange.src)&&f+a(),d=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){f||i(a()),b()}).attr("src",f||"javascript:0").insertAfter("body")[0].contentWindow,c.onpropertychange=function(){try{"title"===event.propertyName&&(d.document.title=c.title)}catch(a){}})},e.stop=h,j=function(){return a(d.location.href)},i=function(a,b){var e=d.document,f=$.fn.iLightBoxHashChange.domain;a!==b&&(e.title=c.title,e.open(),f&&e.write('<script>document.domain="'+f+'"<\/script>'),e.close(),d.location.hash=a)}}(),e}()}(),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;f<c;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c;if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(abs(f)===1/0&&(f=0),f>=e)return-1;for(c=max(f>=0?f:e-abs(f),0);c<e;){if(c in d&&d[c]===a)return c;c++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-1/0&&(d=(d>0||-1)*floor(abs(d))));for(var e=d>=0?min(d,c-1):c-abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1})}(jQuery,this);!function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery);var fusionLightboxVars={"status_lightbox":"1","lightbox_gallery":"","lightbox_skin":"dark","lightbox_title":"","lightbox_arrows":"","lightbox_slideshow_speed":"5000","lightbox_autoplay":"","lightbox_opacity":"0.90","lightbox_desc":"","lightbox_social":"","lightbox_deeplinking":"","lightbox_path":"vertical","lightbox_post_images":"","lightbox_animation_speed":"Normal"};window.avadaLightBox={},void 0===window.$ilInstances&&(window.$ilInstances=[]),window.avadaLightBox.initialize_lightbox=function(){"use strict";1===Number(fusionLightboxVars.status_lightbox)&&(window.avadaLightBox.set_title_and_caption(),window.avadaLightBox.activate_lightbox())},window.avadaLightBox.activate_lightbox=function(a){"use strict";var b,c=[];void 0===a&&(a=jQuery("body")),a.find('[data-rel^="prettyPhoto["], [rel^="prettyPhoto["], [data-rel^="iLightbox["], [rel^="iLightbox["]').each(function(){var a,b,d,e,f,g=["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe","svg","mp4","ogg","webm"],h=0,i=jQuery(this).attr("href");for(void 0===i&&(i=""),a=0;a<g.length;a++)h+=String(i).toLowerCase().indexOf("."+g[a]);b=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/,d=i.match(b),d&&(h=1),b=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=i.match(b),d&&(h=1),-13===parseInt(h,10)&&(jQuery(this).addClass("fusion-no-lightbox"),jQuery(this).removeAttr("data-rel rel")),jQuery(this).hasClass("fusion-no-lightbox")||(e=this.getAttribute("data-rel"),null!=e&&-1===jQuery.inArray(e,c)&&c.push(e),null!=(f=this.getAttribute("data-rel"))&&(jQuery(this).parents(".gallery").length&&(f=f.replace("postimages",jQuery(this).parents(".gallery").attr("id")),jQuery(this).attr("data-rel",f)),-1===jQuery.inArray(f,c)&&c.push(f)))}),b=1,a.find(".tiled-gallery").each(function(){jQuery(this).find(".tiled-gallery-item > a").each(function(){var a=this.getAttribute("data-rel");null==a&&(a="iLightbox[tiled-gallery-"+b+"]",jQuery(this).attr("data-rel",a)),-1===jQuery.inArray(a,c)&&c.push(a)}),b++}),jQuery.each(c,function(a,b){1===jQuery('[data-rel="'+b+'"], [rel="'+b+'"]').length?window.$ilInstances.push(jQuery('[data-rel="'+b+'"], [rel="'+b+'"]').iLightBox(window.avadaLightBox.prepare_options(b,!1))):window.$ilInstances.push(jQuery('[data-rel="'+b+'"], [rel="'+b+'"]').iLightBox(window.avadaLightBox.prepare_options(b)))}),a.find('a[rel="prettyPhoto"], a[data-rel="prettyPhoto"], a[rel="iLightbox"], a[data-rel="iLightbox"]').each(function(){var a=jQuery(this).attr("href");""!==a&&void 0!==a&&window.$ilInstances.push(jQuery(this).iLightBox(window.avadaLightBox.prepare_options("single")))}),a.find("#lightbox-link, .lightbox-link, .fusion-lightbox-link").each(function(){var a=jQuery(this).attr("href");""!==a&&void 0!==a&&window.$ilInstances.push(jQuery(this).iLightBox(window.avadaLightBox.prepare_options("single")))}),Boolean(Number(fusionLightboxVars.lightbox_post_images))&&a.find(".type-post .post-content a, #posts-container .post .post-content a, .fusion-blog-shortcode .post .post-content a, .type-avada_portfolio .project-content a, .fusion-portfolio .fusion-portfolio-wrapper .fusion-post-content, .summary-container .post-content a, .woocommerce-tabs .post-content a").has("img").each(function(){var a,b=["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe","svg","mp4","ogg","webm"],c=0;for(a=0;a<b.length;a++)c+=String(jQuery(this).attr("href")).toLowerCase().indexOf("."+b[a]);-13===parseInt(c,10)&&(jQuery(this).addClass("fusion-no-lightbox"),jQuery(this).removeAttr("data-rel rel")),-1!==String(jQuery(this).attr("rel")).indexOf("prettyPhoto")||-1!==String(jQuery(this).attr("data-rel")).indexOf("prettyPhoto")||-1!==String(jQuery(this).attr("rel")).indexOf("iLightbox")||-1!==String(jQuery(this).attr("data-rel")).indexOf("iLightbox")||jQuery(this).hasClass("fusion-no-lightbox")||(jQuery(this).attr("data-caption",jQuery(this).parent().find("p.wp-caption-text").text()),window.$ilInstances.push(jQuery(this).iLightBox(window.avadaLightBox.prepare_options("post"))))})},window.avadaLightBox.set_title_and_caption=function(){"use strict";jQuery('a[rel^="prettyPhoto"], a[data-rel^="prettyPhoto"]').each(function(){jQuery(this).attr("data-caption")||(jQuery(this).attr("title")?jQuery(this).attr("data-caption",jQuery(this).attr("title")):jQuery(this).attr("data-caption",jQuery(this).parents(".gallery-item").find(".gallery-caption").text())),jQuery(this).attr("data-title")||jQuery(this).attr("data-title",jQuery(this).find("img").attr("alt"))}),jQuery('a[rel^="iLightbox"], a[data-rel^="iLightbox"]').each(function(){jQuery(this).attr("data-caption")||jQuery(this).attr("data-caption",jQuery(this).parents(".gallery-item").find(".gallery-caption").text())})},window.avadaLightBox.prepare_options=function(a,b){"use strict";var c,d,e;return void 0===b?(b=Boolean(Number(fusionLightboxVars.lightbox_gallery)),d={1:!1,0:!0},d=d[Number(fusionLightboxVars.lightbox_autoplay)]):d=!0,c={Fast:100,Slow:800,Normal:400},e={skin:fusionLightboxVars.lightbox_skin,smartRecognition:!1,minScale:.075,show:{title:Boolean(Number(fusionLightboxVars.lightbox_title)),speed:c[fusionLightboxVars.lightbox_animation_speed]},path:fusionLightboxVars.lightbox_path,controls:{slideshow:b,arrows:Boolean(Number(fusionLightboxVars.lightbox_arrows))},slideshow:{pauseTime:fusionLightboxVars.lightbox_slideshow_speed,pauseOnHover:!1,startPaused:d},overlay:{opacity:fusionLightboxVars.lightbox_opacity},caption:{start:Boolean(Number(fusionLightboxVars.lightbox_desc)),show:"",hide:""},isMobile:!0,callback:{onShow:function(a,b){var c=jQuery(a.currentElement).find('iframe[src*="youtube.com"]');jQuery('.ilightbox-container iframe[src*="youtube.com"]').not(c).each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})},onAfterChange:function(a){var b=jQuery(a.currentElement).find('iframe[src*="youtube.com"]'),c=b.length?b.attr("src"):"";jQuery('.ilightbox-container iframe[src*="youtube.com"]').not(b).each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),b.length&&-1!==c.indexOf("autoplay=1")&&b[0].contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}}},Boolean(Number(fusionLightboxVars.lightbox_social))&&(e.social={buttons:{facebook:!0,twitter:!0,googleplus:!0,reddit:!0,digg:!0,delicious:!0}}),Boolean(Number(fusionLightboxVars.lightbox_deeplinking))&&(e.linkId=a),e},window.avadaLightBox.refresh_lightbox=function(){"use strict";window.avadaLightBox.set_title_and_caption(),jQuery.each(window.$ilInstances,function(a,b){b.hasOwnProperty("refresh")&&b.refresh()})},void 0===window.$ilInstances&&(window.$ilInstances=[]),jQuery(document).ajaxComplete(function(){"use strict";window.avadaLightBox.refresh_lightbox()}),jQuery(window).load(function(){"use strict";window.avadaLightBox.initialize_lightbox()});(function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&-1!==(d=b(f[e],c))&&f[e].splice(d,1);return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f=this.getListenersAsObject(a);for(e in f)if(f.hasOwnProperty(e))for(d=f[e].length;d--;)c=f[e][d],!0===c.once&&this.removeListener(a,c.listener),c.listener.apply(this,b||[])===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=void 0!==k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;f<g;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;e<d;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){return new g(this,a,b).jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g});!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(a,b){"use strict";function c(c,f,h){function i(a,b,d){var e,f="$()."+c+'("'+b+'")';return a.each(function(a,i){var j=h.data(i,c);if(!j)return void g(c+" not initialized. Cannot call methods, i.e. "+f);var k=j[b];if(!k||"_"==b.charAt(0))return void g(f+" is not a valid method");var l=k.apply(j,d);e=void 0===e?l:e}),void 0!==e?e:a}function j(a,b){a.each(function(a,d){var e=h.data(d,c);e?(e.option(b),e._init()):(e=new f(d,b),h.data(d,c,e))})}(h=h||b||a.jQuery)&&(f.prototype.option||(f.prototype.option=function(a){h.isPlainObject(a)&&(this.options=h.extend(!0,this.options,a))}),h.fn[c]=function(a){if("string"==typeof a){return i(this,a,e.call(arguments,1))}return j(this,a),this},d(h))}function d(a){!a||a&&a.bridget||(a.bridget=c)}var e=Array.prototype.slice,f=a.console,g=void 0===f?function(){}:function(a){f.error(a)};return d(b||a.jQuery),c}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{};return(c[a]=c[a]||{})[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=0,e=c[d];b=b||[];for(var f=this._onceEvents&&this._onceEvents[a];e;){var g=f&&f[e];g&&(this.off(a,e),delete f[e]),e.apply(this,b),d+=g?0:1,e=c[d]}return this}},a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){"use strict";function a(a){var b=parseFloat(a);return-1==a.indexOf("%")&&!isNaN(b)&&b}function b(){}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0;b<j;b++){a[i[b]]=0}return a}function d(a){var b=getComputedStyle(a);return b||h("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),b}function e(){if(!k){k=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var c=document.body||document.documentElement;c.appendChild(b);var e=d(b);f.isBoxSizeOuter=g=200==a(e.width),c.removeChild(b)}}function f(b){if(e(),"string"==typeof b&&(b=document.querySelector(b)),b&&"object"==typeof b&&b.nodeType){var f=d(b);if("none"==f.display)return c();var h={};h.width=b.offsetWidth,h.height=b.offsetHeight;for(var k=h.isBorderBox="border-box"==f.boxSizing,l=0;l<j;l++){var m=i[l],n=f[m],o=parseFloat(n);h[m]=isNaN(o)?0:o}var p=h.paddingLeft+h.paddingRight,q=h.paddingTop+h.paddingBottom,r=h.marginLeft+h.marginRight,s=h.marginTop+h.marginBottom,t=h.borderLeftWidth+h.borderRightWidth,u=h.borderTopWidth+h.borderBottomWidth,v=k&&g,w=a(f.width);!1!==w&&(h.width=w+(v?0:p+t));var x=a(f.height);return!1!==x&&(h.height=x+(v?0:q+u)),h.innerWidth=h.width-(p+t),h.innerHeight=h.height-(q+u),h.outerWidth=h.width+r,h.outerHeight=h.height+s,h}}var g,h="undefined"==typeof console?b:function(a){},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=i.length,k=!1;return f}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){"use strict";var a=function(){var a=window.Element.prototype;if(a.matches)return"matches";if(a.matchesSelector)return"matchesSelector";for(var b=["webkit","moz","ms","o"],c=0;c<b.length;c++){var d=b[c],e=d+"MatchesSelector";if(a[e])return e}}();return function(b,c){return b[a](c)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(a,b){var c={};c.extend=function(a,b){for(var c in b)a[c]=b[c];return a},c.modulo=function(a,b){return(a%b+b)%b},c.makeArray=function(a){var b=[];if(Array.isArray(a))b=a;else if(a&&"object"==typeof a&&"number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b},c.removeFrom=function(a,b){var c=a.indexOf(b);-1!=c&&a.splice(c,1)},c.getParent=function(a,c){for(;a.parentNode&&a!=document.body;)if(a=a.parentNode,b(a,c))return a},c.getQueryElement=function(a){return"string"==typeof a?document.querySelector(a):a},c.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},c.filterFindElements=function(a,d){a=c.makeArray(a);var e=[];return a.forEach(function(a){if(a instanceof HTMLElement){if(!d)return void e.push(a);b(a,d)&&e.push(a);for(var c=a.querySelectorAll(d),f=0;f<c.length;f++)e.push(c[f])}}),e},c.debounceMethod=function(a,b,c){var d=a.prototype[b],e=b+"Timeout";a.prototype[b]=function(){var a=this[e];a&&clearTimeout(a);var b=arguments,f=this;this[e]=setTimeout(function(){d.apply(f,b),delete f[e]},c||100)}},c.docReady=function(a){var b=document.readyState;"complete"==b||"interactive"==b?setTimeout(a):document.addEventListener("DOMContentLoaded",a)},c.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()};var d=a.console;return c.htmlInit=function(b,e){c.docReady(function(){var f=c.toDashed(e),g="data-"+f,h=document.querySelectorAll("["+g+"]"),i=document.querySelectorAll(".js-"+f),j=c.makeArray(h).concat(c.makeArray(i)),k=g+"-options",l=a.jQuery;j.forEach(function(a){var c,f=a.getAttribute(g)||a.getAttribute(k);try{c=f&&JSON.parse(f)}catch(b){return void(d&&d.error("Error parsing "+g+" on "+a.className+": "+b))}var h=new b(a,c);l&&l.data(a,e,h)})})},c}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(a,b){"use strict";function c(a){for(var b in a)return!1;return null,!0}function d(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var e=document.documentElement.style,f="string"==typeof e.transition?"transition":"WebkitTransition",g="string"==typeof e.transform?"transform":"WebkitTransform",h={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[f],i={transform:g,transition:f,transitionDuration:f+"Duration",transitionProperty:f+"Property",transitionDelay:f+"Delay"},j=d.prototype=Object.create(a.prototype);j.constructor=d,j._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},j.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},j.getSize=function(){this.size=b(this.element)},j.css=function(a){var b=this.element.style;for(var c in a){b[i[c]||c]=a[c]}},j.getPosition=function(){var a=getComputedStyle(this.element),b=this.layout._getOption("originLeft"),c=this.layout._getOption("originTop"),d=a[b?"left":"right"],e=a[c?"top":"bottom"],f=this.layout.size,g=-1!=d.indexOf("%")?parseFloat(d)/100*f.width:parseInt(d,10),h=-1!=e.indexOf("%")?parseFloat(e)/100*f.height:parseInt(e,10);g=isNaN(g)?0:g,h=isNaN(h)?0:h,g-=b?f.paddingLeft:f.paddingRight,h-=c?f.paddingTop:f.paddingBottom,this.position.x=g,this.position.y=h},j.layoutPosition=function(){var a=this.layout.size,b={},c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),e=c?"paddingLeft":"paddingRight",f=c?"left":"right",g=c?"right":"left",h=this.position.x+a[e];b[f]=this.getXValue(h),b[g]="";var i=d?"paddingTop":"paddingBottom",j=d?"top":"bottom",k=d?"bottom":"top",l=this.position.y+a[i];b[j]=this.getYValue(l),b[k]="",this.css(b),this.emitEvent("layout",[this])},j.getXValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!b?a/this.layout.size.width*100+"%":a+"px"},j.getYValue=function(a){var b=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&b?a/this.layout.size.height*100+"%":a+"px"},j._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={};j.transform=this.getTranslate(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},j.getTranslate=function(a,b){var c=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop");return a=c?a:-a,b=d?b:-b,"translate3d("+a+"px, "+b+"px, 0)"},j.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},j.moveTo=j._transitionTo,j.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},j._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},j.transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);this.element.offsetHeight;null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var k="opacity,"+function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}(g);j.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a="number"==typeof a?a+"ms":a,this.css({transitionProperty:k,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(h,this,!1)}},j.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},j.onotransitionend=function(a){this.ontransitionend(a)};var l={"-webkit-transform":"transform"};j.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=l[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){b.onEnd[d].call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},j.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},j._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var m={transitionProperty:"",transitionDuration:"",transitionDelay:""};return j.removeTransitionStyles=function(){this.css(m)},j.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},j.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},j.remove=function(){if(!f||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();this.once("transitionEnd",function(){this.removeElem()}),this.hide()},j.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options,b={};b[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0,onTransitionEnd:b})},j.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},j.getHideRevealTransitionEndProperty=function(a){var b=this.layout.options[a];if(b.opacity)return"opacity";for(var c in b)return c},j.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options,b={};b[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:b})},j.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},j.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d}),function(a,b){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,d,e,f){return b(a,c,d,e,f)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(a,b,c,d,e){"use strict";function f(a,b){var c=d.getQueryElement(a);if(!c)return void(i&&i.error("Bad element for "+this.constructor.namespace+": "+(c||a)));this.element=c,j&&(this.$element=j(this.element)),this.options=d.extend({},this.constructor.defaults),this.option(b);var e=++l;this.element.outlayerGUID=e,m[e]=this,this._create(),this._getOption("initLayout")&&this.layout()}function g(a){function b(){a.apply(this,arguments)}return b.prototype=Object.create(a.prototype),b.prototype.constructor=b,b}function h(a){if("number"==typeof a)return a;var b=a.match(/(^\d*\.?\d*)(\w*)/),c=b&&b[1],d=b&&b[2];return c.length?(c=parseFloat(c))*(o[d]||1):0}var i=a.console,j=a.jQuery,k=function(){},l=0,m={};f.namespace="outlayer",f.Item=e,f.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var n=f.prototype;d.extend(n,b.prototype),n.option=function(a){d.extend(this.options,a)},n._getOption=function(a){var b=this.constructor.compatOptions[a];return b&&void 0!==this.options[b]?this.options[b]:this.options[a]},f.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},n._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),d.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},n.reloadItems=function(){this.items=this._itemize(this.element.children)},n._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0;e<b.length;e++){var f=b[e],g=new c(f,this);d.push(g)}return d},n._filterFindItemElements=function(a){return d.filterFindElements(a,this.options.itemSelector)},n.getItemElements=function(){return this.items.map(function(a){return a.element})},n.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),b=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,b),this._isLayoutInited=!0},n._init=n.layout,n._resetLayout=function(){this.getSize()},n.getSize=function(){this.size=c(this.element)},n._getMeasurement=function(a,b){var d,e=this.options[a];e?("string"==typeof e?d=this.element.querySelector(e):e instanceof HTMLElement&&(d=e),this[a]=d?c(d)[b]:e):this[a]=0},n.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},n._getItemsForLayout=function(a){return a.filter(function(a){return!a.isIgnored})},n._layoutItems=function(a,b){if(this._emitCompleteOnItems("layout",a),a&&a.length){var c=[];a.forEach(function(a){var d=this._getItemLayoutPosition(a);d.item=a,d.isInstant=b||a.isLayoutInstant,c.push(d)},this),this._processLayoutQueue(c)}},n._getItemLayoutPosition=function(){return{x:0,y:0}},n._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(a,b){this._positionItem(a.item,a.x,a.y,a.isInstant,b)},this)},n.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void(this.stagger=0):(this.stagger=h(a),this.stagger)},n._positionItem=function(a,b,c,d,e){d?a.goTo(b,c):(a.stagger(e*this.stagger),a.moveTo(b,c))},n._postLayout=function(){this.resizeContainer()},n.resizeContainer=function(){if(this._getOption("resizeContainer")){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},n._getContainerSize=k,n._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},n._emitCompleteOnItems=function(a,b){function c(){e.dispatchEvent(a+"Complete",null,[b])}function d(){++g==f&&c()}var e=this,f=b.length;if(!b||!f)return void c();var g=0;b.forEach(function(b){b.once(a,d)})},n.dispatchEvent=function(a,b,c){var d=b?[b].concat(c):c;if(this.emitEvent(a,d),j)if(this.$element=this.$element||j(this.element),b){var e=j.Event(b);e.type=a,this.$element.trigger(e,c)}else this.$element.trigger(a,c)},n.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},n.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},n.stamp=function(a){(a=this._find(a))&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},n.unstamp=function(a){(a=this._find(a))&&a.forEach(function(a){d.removeFrom(this.stamps,a),this.unignore(a)},this)},n._find=function(a){if(a)return"string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d.makeArray(a)},n._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},n._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},n._manageStamp=k,n._getElementOffset=function(a){var b=a.getBoundingClientRect(),d=this._boundingRect,e=c(a);return{left:b.left-d.left-e.marginLeft,top:b.top-d.top-e.marginTop,right:d.right-b.right-e.marginRight,bottom:d.bottom-b.bottom-e.marginBottom}},n.handleEvent=d.handleEvent,n.bindResize=function(){a.addEventListener("resize",this),this.isResizeBound=!0},n.unbindResize=function(){a.removeEventListener("resize",this),this.isResizeBound=!1},n.onresize=function(){this.resize()},d.debounceMethod(f,"onresize",100),n.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},n.needsResizeLayout=function(){var a=c(this.element);return this.size&&a&&a.innerWidth!==this.size.innerWidth},n.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},n.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},n.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},n.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.reveal()})}},n.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var b=this.updateStagger();a.forEach(function(a,c){a.stagger(c*b),a.hide()})}},n.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)},n.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)},n.getItem=function(a){for(var b=0;b<this.items.length;b++){var c=this.items[b];if(c.element==a)return c}},n.getItems=function(a){a=d.makeArray(a);var b=[];return a.forEach(function(a){var c=this.getItem(a);c&&b.push(c)},this),b},n.remove=function(a){var b=this.getItems(a);this._emitCompleteOnItems("remove",b),b&&b.length&&b.forEach(function(a){a.remove(),d.removeFrom(this.items,a)},this)},n.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(a){a.destroy()}),this.unbindResize();var b=this.element.outlayerGUID;delete m[b],delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},f.data=function(a){a=d.getQueryElement(a);var b=a&&a.outlayerGUID;return b&&m[b]},f.create=function(a,b){var c=g(f);return c.defaults=d.extend({},f.defaults),d.extend(c.defaults,b),c.compatOptions=d.extend({},f.compatOptions),c.namespace=a,c.data=f.data,c.Item=g(e),d.htmlInit(c,a),j&&j.bridget&&j.bridget(a,c),c};var o={ms:1,s:1e3};return f.Item=e,f}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.Item=b(a.Outlayer))}(window,function(a){"use strict";function b(){a.Item.apply(this,arguments)}var c=b.prototype=Object.create(a.Item.prototype),d=c._create;c._create=function(){this.id=this.layout.itemGUID++,d.call(this),this.sortData={}},c.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var a=this.layout.options.getSortData,b=this.layout._sorters;for(var c in a){var d=b[c];this.sortData[c]=d(this.element,this)}}};var e=c.destroy;return c.destroy=function(){e.apply(this,arguments),this.css({display:""})},b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],b):"object"==typeof module&&module.exports?module.exports=b(require("get-size"),require("outlayer")):(a.Isotope=a.Isotope||{},a.Isotope.LayoutMode=b(a.getSize,a.Outlayer))}(window,function(a,b){"use strict";function c(a){this.isotope=a,a&&(this.options=a.options[this.namespace],this.element=a.element,this.items=a.filteredItems,this.size=a.size)}var d=c.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(a){d[a]=function(){return b.prototype[a].apply(this.isotope,arguments)}}),d.needsVerticalResizeLayout=function(){var b=a(this.isotope.element);return this.isotope.size&&b&&b.innerHeight!=this.isotope.size.innerHeight},d._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},d.getColumnWidth=function(){this.getSegmentSize("column","Width")},d.getRowHeight=function(){this.getSegmentSize("row","Height")},d.getSegmentSize=function(a,b){var c=a+b,d="outer"+b;if(this._getMeasurement(c,d),!this[c]){var e=this.getFirstItemSize();this[c]=e&&e[d]||this.isotope.size["inner"+b]}},d.getFirstItemSize=function(){var b=this.isotope.filteredItems[0];return b&&b.element&&a(b.element)},d.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},d.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},c.modes={},c.create=function(a,b){function e(){c.apply(this,arguments)}return e.prototype=Object.create(d),e.prototype.constructor=e,b&&(e.options=b),e.prototype.namespace=a,c.modes[a]=e,e},c}),function(a,b){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("get-size")):a.Masonry=b(a.Outlayer,a.getSize)}(window,function(a,b){var c=a.create("masonry");c.compatOptions.fitWidth="isFitWidth";var d=c.prototype;return d._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},d.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,f=e/d,g=d-e%d,h=g&&g<1?"round":"floor";f=Math[h](f),this.cols=Math.max(f,1)},d.getContainerWidth=function(){var a=this._getOption("fitWidth"),c=a?this.element.parentNode:this.element,d=b(c);this.containerWidth=d&&d.innerWidth},d._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,c=b&&b<1?"round":"ceil",d=Math[c](a.size.outerWidth/this.columnWidth);d=Math.min(d,this.cols);for(var e=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",f=this[e](d,a),g={x:this.columnWidth*f.col,y:f.y},h=f.y+a.size.outerHeight,i=d+f.col,j=f.col;j<i;j++)this.colYs[j]=h;return g},d._getTopColPosition=function(a){var b=this._getTopColGroup(a),c=Math.min.apply(Math,b);return{col:b.indexOf(c),y:c}},d._getTopColGroup=function(a){if(a<2)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;d<c;d++)b[d]=this._getColGroupY(d,a);return b},d._getColGroupY=function(a,b){if(b<2)return this.colYs[a];var c=this.colYs.slice(a,a+b);return Math.max.apply(Math,c)},d._getHorizontalColPosition=function(a,b){var c=this.horizontalColIndex%this.cols;c=a>1&&c+a>this.cols?0:c;var d=b.size.outerWidth&&b.size.outerHeight;return this.horizontalColIndex=d?c+a:this.horizontalColIndex,{col:c,y:this._getColGroupY(c,a)}},d._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this._getOption("originLeft"),f=e?d.left:d.right,g=f+c.outerWidth,h=Math.floor(f/this.columnWidth);h=Math.max(0,h);var i=Math.floor(g/this.columnWidth);i-=g%this.columnWidth?0:1,i=Math.min(this.cols-1,i);for(var j=this._getOption("originTop"),k=(j?d.top:d.bottom)+c.outerHeight,l=h;l<=i;l++)this.colYs[l]=Math.max(k,this.colYs[l])},d._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},d._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode"),require("masonry-layout")):b(a.Isotope.LayoutMode,a.Masonry)}(window,function(a,b){"use strict";var c=a.create("masonry"),d=c.prototype,e={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var f in b.prototype)e[f]||(d[f]=b.prototype[f]);var g=d.measureColumns;d.measureColumns=function(){this.items=this.isotope.filteredItems,g.call(this)};var h=d._getOption;return d._getOption=function(a){return"fitWidth"==a?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:h.apply(this.isotope,arguments)},c}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],b):"object"==typeof exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){"use strict";var b=a.create("fitRows"),c=b.prototype;return c._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},c._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth+this.gutter-.01,c=this.isotope.size.innerWidth+this.gutter;0!==this.x&&b+this.x>c&&(this.x=0,this.y=this.maxY);var d={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+a.size.outerHeight),this.x+=b,d},c._getContainerSize=function(){return{height:this.maxY}},b}),function(a,b){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],b):"object"==typeof module&&module.exports?module.exports=b(require("../layout-mode")):b(a.Isotope.LayoutMode)}(window,function(a){"use strict";var b=a.create("vertical",{horizontalAlignment:0}),c=b.prototype;return c._resetLayout=function(){this.y=0},c._getItemLayoutPosition=function(a){a.getSize();var b=(this.isotope.size.innerWidth-a.size.outerWidth)*this.options.horizontalAlignment,c=this.y;return this.y+=a.size.outerHeight,{x:b,y:c}},c._getContainerSize=function(){return{height:this.y}},b}),function(a,b){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(c,d,e,f,g,h){return b(a,c,d,e,f,g,h)}):"object"==typeof module&&module.exports?module.exports=b(a,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):a.Isotope=b(a,a.Outlayer,a.getSize,a.matchesSelector,a.fizzyUIUtils,a.Isotope.Item,a.Isotope.LayoutMode)}(window,function(a,b,c,d,e,f,g){function h(a,b){return function(c,d){for(var e=0;e<a.length;e++){var f=a[e],g=c.sortData[f],h=d.sortData[f];if(g>h||g<h){var i=void 0!==b[f]?b[f]:b,j=i?1:-1;return(g>h?1:-1)*j}}return 0}}var i=a.jQuery,j=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},k=b.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});k.Item=f,k.LayoutMode=g;var l=k.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),b.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var a in g.modes)this._initLayoutMode(a)},l.reloadItems=function(){this.itemGUID=0,b.prototype.reloadItems.call(this)},l._itemize=function(){for(var a=b.prototype._itemize.apply(this,arguments),c=0;c<a.length;c++){a[c].id=this.itemGUID++}return this._updateItemsSortData(a),a},l._initLayoutMode=function(a){var b=g.modes[a],c=this.options[a]||{};this.options[a]=b.options?e.extend(b.options,c):c,this.modes[a]=new b(this)},l.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout"))return void this.arrange();this._layout()},l._layout=function(){var a=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,a),this._isLayoutInited=!0},l.arrange=function(a){this.option(a),this._getIsInstant();var b=this._filter(this.items);this.filteredItems=b.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[b]):this._hideReveal(b),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(a){this.reveal(a.needReveal),this.hide(a.needHide)},l._getIsInstant=function(){var a=this._getOption("layoutInstant"),b=void 0!==a?a:!this._isLayoutInited;return this._isInstant=b,b},l._bindArrangeComplete=function(){function a(){b&&c&&d&&e.dispatchEvent("arrangeComplete",null,[e.filteredItems])}var b,c,d,e=this;this.once("layoutComplete",function(){b=!0,a()}),this.once("hideComplete",function(){c=!0,a()}),this.once("revealComplete",function(){d=!0,a()})},l._filter=function(a){var b=this.options.filter;b=b||"*";for(var c=[],d=[],e=[],f=this._getFilterTest(b),g=0;g<a.length;g++){var h=a[g];if(!h.isIgnored){var i=f(h);i&&c.push(h),i&&h.isHidden?d.push(h):i||h.isHidden||e.push(h)}}return{matches:c,needReveal:d,needHide:e}},l._getFilterTest=function(a){return i&&this.options.isJQueryFiltering?function(b){return i(b.element).is(a)}:"function"==typeof a?function(b){return a(b.element)}:function(b){return d(b.element,a)}},l.updateSortData=function(a){var b;a?(a=e.makeArray(a),b=this.getItems(a)):b=this.items,this._getSorters(),this._updateItemsSortData(b)},l._getSorters=function(){var a=this.options.getSortData;for(var b in a){var c=a[b];this._sorters[b]=m(c)}},l._updateItemsSortData=function(a){for(var b=a&&a.length,c=0;b&&c<b;c++){a[c].updateSortData()}};var m=function(){function a(a){if("string"!=typeof a)return a;var c=j(a).split(" "),d=c[0],e=d.match(/^\[(.+)\]$/),f=e&&e[1],g=b(f,d),h=k.sortDataParsers[c[1]];return a=h?function(a){return a&&h(g(a))}:function(a){return a&&g(a)}}function b(a,b){return a?function(b){return b.getAttribute(a)}:function(a){var c=a.querySelector(b);return c&&c.textContent}}return a}();k.sortDataParsers={parseInt:function(a){return parseInt(a,10)},parseFloat:function(a){return parseFloat(a)}},l._sort=function(){if(this.options.sortBy){var a=e.makeArray(this.options.sortBy);this._getIsSameSortBy(a)||(this.sortHistory=a.concat(this.sortHistory));var b=h(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(b)}},l._getIsSameSortBy=function(a){for(var b=0;b<a.length;b++)if(a[b]!=this.sortHistory[b])return!1;return!0},l._mode=function(){var a=this.options.layoutMode,b=this.modes[a];if(!b)throw new Error("No layout mode: "+a);return b.options=this.options[a],b},l._resetLayout=function(){b.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(a){return this._mode()._getItemLayoutPosition(a)},l._manageStamp=function(a){this._mode()._manageStamp(a)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(a){var b=this.addItems(a);if(b.length){var c=this._filterRevealAdded(b);this.filteredItems=this.filteredItems.concat(c)}},l.prepended=function(a){var b=this._itemize(a);if(b.length){this._resetLayout(),this._manageStamps();var c=this._filterRevealAdded(b);this.layoutItems(this.filteredItems),this.filteredItems=c.concat(this.filteredItems),this.items=b.concat(this.items)}},l._filterRevealAdded=function(a){var b=this._filter(a);return this.hide(b.needHide),this.reveal(b.matches),this.layoutItems(b.matches,!0),b.matches},l.insert=function(a){var b=this.addItems(a);if(b.length){var c,d,e=b.length;for(c=0;c<e;c++)d=b[c],this.element.appendChild(d.element);var f=this._filter(b).matches;for(c=0;c<e;c++)b[c].isLayoutInstant=!0;for(this.arrange(),c=0;c<e;c++)delete b[c].isLayoutInstant;this.reveal(f)}};var n=l.remove;return l.remove=function(a){a=e.makeArray(a);var b=this.getItems(a);n.call(this,a);for(var c=b&&b.length,d=0;c&&d<c;d++){var f=b[d];e.removeFrom(this.filteredItems,f)}},l.shuffle=function(){for(var a=0;a<this.items.length;a++){this.items[a].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(a,b){var c=this.options.transitionDuration;this.options.transitionDuration=0;var d=a.apply(this,b);return this.options.transitionDuration=c,d},l.getFilteredItemElements=function(){return this.filteredItems.map(function(a){return a.element})},k});!function(a,b){"function"==typeof define&&define.amd?define("packery/js/rect",b):"object"==typeof module&&module.exports?module.exports=b():(a.Packery=a.Packery||{},a.Packery.Rect=b())}(window,function(){function a(b){for(var c in a.defaults)this[c]=a.defaults[c];for(c in b)this[c]=b[c]}a.defaults={x:0,y:0,width:0,height:0};var b=a.prototype;return b.contains=function(a){var b=a.width||0,c=a.height||0;return this.x<=a.x&&this.y<=a.y&&this.x+this.width>=a.x+b&&this.y+this.height>=a.y+c},b.overlaps=function(a){var b=this.x+this.width,c=this.y+this.height,d=a.x+a.width,e=a.y+a.height;return this.x<d&&b>a.x&&this.y<e&&c>a.y},b.getMaximalFreeRects=function(b){if(!this.overlaps(b))return!1;var c,d=[],e=Math.round(this.x),f=Math.round(this.y),g=Math.round(this.width),h=Math.round(this.height),i=Math.round(b.x),j=Math.round(b.y),k=Math.round(b.width),l=Math.round(b.height),m=e+g,n=f+h,o=i+k,p=j+l;return f<j&&(c=new a({x:e,y:f,width:g,height:j-f}),d.push(c)),m>o&&(c=new a({x:o,y:f,width:m-o,height:h}),d.push(c)),n>p&&(c=new a({x:e,y:p,width:g,height:n-p}),d.push(c)),e<i&&(c=new a({x:e,y:f,width:i-e,height:h}),d.push(c)),d},b.canFit=function(a){return this.width>=a.width&&this.height>=a.height},a}),function(a,b){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],b);else if("object"==typeof module&&module.exports)module.exports=b(require("./rect"));else{var c=a.Packery=a.Packery||{};c.Packer=b(c.Rect)}}(window,function(a){function b(a,b,c){this.width=a||0,this.height=b||0,this.sortDirection=c||"downwardLeftToRight",this.reset()}var c=b.prototype;c.reset=function(){this.spaces=[];var b=new a({x:0,y:0,width:this.width,height:this.height});this.spaces.push(b),this.sorter=d[this.sortDirection]||d.downwardLeftToRight},c.pack=function(a){for(var b=0;b<this.spaces.length;b++){var c=this.spaces[b];if(c.canFit(a)){this.placeInSpace(a,c);break}}},c.columnPack=function(a){for(var b=0;b<this.spaces.length;b++){var c=this.spaces[b];if(c.x<=a.x&&c.x+c.width>=a.x+a.width&&c.height>=a.height-.01){a.y=c.y,this.placed(a);break}}},c.rowPack=function(a){for(var b=0;b<this.spaces.length;b++){var c=this.spaces[b];if(c.y<=a.y&&c.y+c.height>=a.y+a.height&&c.width>=a.width-.01){a.x=c.x,this.placed(a);break}}},c.placeInSpace=function(a,b){a.x=b.x,a.y=b.y,this.placed(a)},c.placed=function(a){for(var b=[],c=0;c<this.spaces.length;c++){var d=this.spaces[c],e=d.getMaximalFreeRects(a);e?b.push.apply(b,e):b.push(d)}if("object"==typeof b){var f=[],g=[];b.forEach(function(a){if(1<a.width){var b=a.y+1,c=a.y-1;-1!==jQuery.inArray(b,g)&&(a.y=b),-1!==jQuery.inArray(c,g)&&(a.y=c),g.push(a.y),f.push(a)}}),b=f}this.spaces=b,this.mergeSortSpaces()},c.mergeSortSpaces=function(){b.mergeRects(this.spaces),this.spaces.sort(this.sorter)},c.addSpace=function(a){this.spaces.push(a),this.mergeSortSpaces()},b.mergeRects=function(a){var b=0,c=a[b];a:for(;c;){for(var d=0,e=a[b+d];e;){if(e==c)d++;else{if(e.contains(c)){a.splice(b,1),c=a[b];continue a}c.contains(e)?a.splice(b+d,1):d++}e=a[b+d]}b++,c=a[b]}return a};var d={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return b}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("./rect")):a.Packery.Item=b(a.Outlayer,a.Packery.Rect)}(window,function(a,b){var c=document.documentElement.style,d="string"==typeof c.transform?"transform":"WebkitTransform",e=function(){a.Item.apply(this,arguments)},f=e.prototype=Object.create(a.Item.prototype),g=f._create;f._create=function(){g.call(this),this.rect=new b};var h=f.moveTo;return f.moveTo=function(a,b){var c=Math.abs(this.position.x-a),d=Math.abs(this.position.y-b);if(this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&c<1&&d<1)return void this.goTo(a,b);h.apply(this,arguments)},f.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&d&&(this.element.style[d]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},f.disablePlacing=function(){this.isPlacing=!1},f.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},f.showDropPlaceholder=function(){var a=this.dropPlaceholder;a||(a=this.dropPlaceholder=document.createElement("div"),a.className="packery-drop-placeholder",a.style.position="absolute"),a.style.width=this.size.width+"px",a.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(a)},f.positionDropPlaceholder=function(){this.dropPlaceholder.style[d]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},f.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},e}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],b):"object"==typeof module&&module.exports?module.exports=b(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):a.Packery=b(a.getSize,a.Outlayer,a.Packery.Rect,a.Packery.Packer,a.Packery.Item)}(window,function(a,b,c,d,e){function f(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function g(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}function h(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)}c.prototype.canFit=function(a){return this.width>=a.width-2&&this.height>=a.height-2};var i=b.create("packery");i.Item=e;var j=i.prototype;j._create=function(){b.prototype._create.call(this),this.packer=new d,this.shiftPacker=new d,this.isEnabled=!0,this.dragItemCount=0;var a=this;this.handleDraggabilly={dragStart:function(){a.itemDragStart(this.element)},dragMove:function(){a.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){a.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(b,c){c&&a.itemDragStart(b.currentTarget)},drag:function(b,c){c&&a.itemDragMove(b.currentTarget,c.position.left,c.position.top)},stop:function(b,c){c&&a.itemDragEnd(b.currentTarget)}}},j._resetLayout=function(){this.getSize(),this._getMeasurements();var a,b,c;this._getOption("horizontal")?(a=1/0,b=this.size.innerHeight+this.gutter,c="rightwardTopToBottom"):(a=this.size.innerWidth+this.gutter,b=1/0,c="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=a,this.packer.height=this.shiftPacker.height=b,this.packer.sortDirection=this.shiftPacker.sortDirection=c,this.packer.reset(),this.maxY=0,this.maxX=0},j._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},j._getItemLayoutPosition=function(a){if(this._setRectSize(a.element,a.rect),this.isShifting||this.dragItemCount>0){var b=this._getPackMethod();this.packer[b](a.rect)}else this.packer.pack(a.rect);return this._setMaxXY(a.rect),a.rect},j.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},j._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},j._setMaxXY=function(a){this.maxX=Math.max(a.x+a.width,this.maxX),this.maxY=Math.max(a.y+a.height,this.maxY)},j._setRectSize=function(b,c){window.currentPackeryElement=b;var d=a(b),e=d.outerWidth,f=d.outerHeight;(e||f)&&(e=this._applyGridGutter(e,this.columnWidth),f=this._applyGridGutter(f,this.rowHeight)),c.width=Math.min(e,this.packer.width),c.height=Math.min(f,this.packer.height)},j._applyGridGutter=function(a,b){if(!b)return a+this.gutter;b+=this.gutter;var c=a%b,d=c&&c<1?"round":"ceil";return a=Math[d](a/b)*b},j._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},j._manageStamp=function(a){var b,d=this.getItem(a);if(d&&d.isPlacing)b=d.rect;else{var e=this._getElementOffset(a);b=new c({x:this._getOption("originLeft")?e.left:e.right,y:this._getOption("originTop")?e.top:e.bottom})}this._setRectSize(a,b),this.packer.placed(b),this._setMaxXY(b)},j.sortItemsByPosition=function(){var a=this._getOption("horizontal")?g:f;this.items.sort(a)},j.fit=function(a,b,c){var d=this.getItem(a);d&&(this.stamp(d.element),d.enablePlacing(),this.updateShiftTargets(d),b=void 0===b?d.rect.x:b,c=void 0===c?d.rect.y:c,this.shift(d,b,c),this._bindFitEvents(d),d.moveTo(d.rect.x,d.rect.y),this.shiftLayout(),this.unstamp(d.element),this.sortItemsByPosition(),d.disablePlacing())},j._bindFitEvents=function(a){function b(){2==++d&&c.dispatchEvent("fitComplete",null,[a])}var c=this,d=0;a.once("layout",b),this.once("layoutComplete",b)},j.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},j.needsResizeLayout=function(){var b=a(this.element),c=this._getOption("horizontal")?"innerHeight":"innerWidth";return b[c]!=this.size[c]},j.resizeShiftPercentLayout=function(){var b=this._getItemsForLayout(this.items),c=this._getOption("horizontal"),d=c?"y":"x",e=c?"height":"width",f=c?"rowHeight":"columnWidth",g=c?"innerHeight":"innerWidth",h=this[f];if(h=h&&h+this.gutter){this._getMeasurements();var i=this[f]+this.gutter;b.forEach(function(a){var b=Math.round(a.rect[d]/h);a.rect[d]=b*i})}else{var j=a(this.element)[g]+this.gutter,k=this.packer[e];b.forEach(function(a){a.rect[d]=a.rect[d]/k*j})}this.shiftLayout()},j.itemDragStart=function(a){if(this.isEnabled){this.stamp(a);var b=this.getItem(a);b&&(b.enablePlacing(),b.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(b))}},j.updateShiftTargets=function(a){this.shiftPacker.reset(),this._getBoundingRect();var b=this._getOption("originLeft"),d=this._getOption("originTop");this.stamps.forEach(function(a){var e=this.getItem(a);if(!e||!e.isPlacing){var f=this._getElementOffset(a),g=new c({x:b?f.left:f.right,y:d?f.top:f.bottom});this._setRectSize(a,g),this.shiftPacker.placed(g)}},this);var e=this._getOption("horizontal"),f=e?"rowHeight":"columnWidth",g=e?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var h,i=this[f];if(i=i&&i+this.gutter){var j=Math.ceil(a.rect[g]/i),k=Math.floor((this.shiftPacker[g]+this.gutter)/i);h=(k-j)*i;for(var l=0;l<k;l++)this._addShiftTarget(l*i,0,h)}else h=this.shiftPacker[g]+this.gutter-a.rect[g],this._addShiftTarget(0,0,h);var m=this._getItemsForLayout(this.items),n=this._getPackMethod();m.forEach(function(a){var b=a.rect;this._setRectSize(a.element,b),this.shiftPacker[n](b),this._addShiftTarget(b.x,b.y,h);var c=e?b.x+b.width:b.x,d=e?b.y:b.y+b.height;if(this._addShiftTarget(c,d,h),i)for(var f=Math.round(b[g]/i),j=1;j<f;j++){var k=e?c:b.x+i*j,l=e?b.y+i*j:d;this._addShiftTarget(k,l,h)}},this)},j._addShiftTarget=function(a,b,c){var d=this._getOption("horizontal")?b:a;if(!(0!==d&&d>c)){var e=a+","+b;-1!=this.shiftTargetKeys.indexOf(e)||(this.shiftTargetKeys.push(e),this.shiftTargets.push({x:a,y:b}))}},j.shift=function(a,b,c){var d,e=1/0,f={x:b,y:c};this.shiftTargets.forEach(function(a){var b=h(a,f);b<e&&(d=a,e=b)}),a.rect.x=d.x,a.rect.y=d.y};j.itemDragMove=function(a,b,c){function d(){f.shift(e,b,c),e.positionDropPlaceholder(),f.layout()}var e=this.isEnabled&&this.getItem(a);if(e){b-=this.size.paddingLeft,c-=this.size.paddingTop;var f=this,g=new Date;this._itemDragTime&&g-this._itemDragTime<120?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(d,120)):(d(),this._itemDragTime=g)}},j.itemDragEnd=function(a){function b(){2==++d&&(c.element.classList.remove("is-positioning-post-drag"),c.hideDropPlaceholder(),e.dispatchEvent("dragItemPositioned",null,[c]))}var c=this.isEnabled&&this.getItem(a);if(c){clearTimeout(this.dragTimeout),c.element.classList.add("is-positioning-post-drag");var d=0,e=this;c.once("layout",b),this.once("layoutComplete",b),c.moveTo(c.rect.x,c.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),c.disablePlacing(),this.unstamp(c.element)}},j.bindDraggabillyEvents=function(a){this._bindDraggabillyEvents(a,"on")},j.unbindDraggabillyEvents=function(a){this._bindDraggabillyEvents(a,"off")},j._bindDraggabillyEvents=function(a,b){var c=this.handleDraggabilly;a[b]("dragStart",c.dragStart),a[b]("dragMove",c.dragMove),a[b]("dragEnd",c.dragEnd)},j.bindUIDraggableEvents=function(a){this._bindUIDraggableEvents(a,"on")},j.unbindUIDraggableEvents=function(a){this._bindUIDraggableEvents(a,"off")},j._bindUIDraggableEvents=function(a,b){var c=this.handleUIDraggable;a[b]("dragstart",c.start)[b]("drag",c.drag)[b]("dragstop",c.stop)};var k=j.destroy;return j.destroy=function(){k.apply(this,arguments),this.isEnabled=!1},i.Rect=c,i.Packer=d,i}),function(a,b){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery"],b):"object"==typeof module&&module.exports?module.exports=b(require("isotope-layout/js/layout-mode"),require("packery")):b(a.Isotope.LayoutMode,a.Packery)}(window,function(a,b){var c=a.create("packery"),d=c.prototype,e={_getElementOffset:!0,_getMeasurement:!0};for(var f in b.prototype)e[f]||(d[f]=b.prototype[f]);var g=d._resetLayout;d._resetLayout=function(){this.packer=this.packer||new b.Packer,this.shiftPacker=this.shiftPacker||new b.Packer,g.apply(this,arguments)};var h=d._getItemLayoutPosition;d._getItemLayoutPosition=function(a){return a.rect=a.rect||new b.Rect,h.call(this,a)};var i=d.needsResizeLayout;d.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():i.call(this)};var j=d._getOption;return d._getOption=function(a){return"horizontal"==a?void 0!==this.options.isHorizontal?this.options.isHorizontal:this.options.horizontal:j.apply(this.isotope,arguments)},c});var avadaPortfolioVars={"lightbox_behavior":"all","infinite_finished_msg":"<em>All items displayed.<\/em>","infinite_blog_text":"<em>Loading the next set of posts...<\/em>","content_break_point":"1000"};jQuery.fn.fusionCalculatePortfolioEqualHeights=function(){var a=Math.round(1/(jQuery(this).children(":visible").first()[0].getBoundingClientRect().width/jQuery(this).parent().width())),b=jQuery(this).find(".fusion-portfolio-post:visible").not(".invisible-after-ajax").length;jQuery(this).find(".invisible-after-ajax").hide().removeClass("invisible-after-ajax"),1<a&&1<b&&jQuery(this).find(".fusion-portfolio-post:visible").each(function(b){var c=parseInt(jQuery(this).css("top"),10),d=0;d=1==(b+1)%a?jQuery(this).parent().find(".fusion-portfolio-post:visible:eq("+(b+a)+")").length?parseInt(jQuery(this).parent().find(".fusion-portfolio-post:visible:eq("+(b+a)+")").css("top"),10)-c:parseInt(jQuery(this).parent().height(),10)-c:parseInt(jQuery(this).parent().find(".fusion-portfolio-post:visible:eq("+(b-1)+")").css("height"),10),jQuery(this).css("height",d+"px")})},jQuery(document).ready(function(){function a(a){return null!==a.match("/.(jpeg|jpg|gif|png)$/")}window.portfolioEqualHeightsResizeTimer,jQuery(window).on("resize",function(a,b){void 0!==b&&!0!==b||(jQuery(".fusion-portfolio-equal-heights .fusion-portfolio-wrapper").each(function(){jQuery(this).find(".fusion-portfolio-post").css("height","")}),jQuery(".fusion-portfolio-equal-heights").length&&(clearTimeout(window.portfolioEqualHeightsResizeTimer),window.portfolioEqualHeightsResizeTimer=setTimeout(function(){jQuery(".fusion-portfolio-equal-heights").find(".fusion-portfolio-wrapper").isotope()},50)))}),jQuery(window).on("resize",function(){jQuery(".fusion-portfolio .fusion-portfolio-wrapper").each(function(){"fixed"===jQuery(this).data("picturesize")&&jQuery(this).find(".fusion-placeholder-image").each(function(){jQuery(this).css({height:jQuery(this).parents(".fusion-portfolio-post").siblings().find("img").first().height(),width:jQuery(this).parents(".fusion-portfolio-post").siblings().find("img").first().width()})})})}),jQuery(".fusion-portfolio .fusion-filters a").click(function(a){var b=jQuery(this).data("filter"),c=[],d=jQuery(this).parents(".fusion-portfolio").data("id");a.preventDefault(),d||(d=""),jQuery(this).parents(".fusion-portfolio-equal-heights").find(".fusion-portfolio-post").css("height",""),jQuery(this).parents(".fusion-portfolio").find(".fusion-portfolio-wrapper").isotope({filter:b}),jQuery(this).parents(".fusion-filters").find(".fusion-filter").removeClass("fusion-active"),jQuery(this).parent().addClass("fusion-active"),jQuery(this).parents(".fusion-portfolio").find(".fusion-portfolio-wrapper").find(".fusion-portfolio-post").each(function(){var a,e,f="";"individual"===avadaPortfolioVars.lightbox_behavior&&jQuery(this).find(".fusion-rollover-gallery").length&&(f=jQuery(this).find(".fusion-rollover-gallery").data("id")),1<b.length?(a=b.substr(1),e="iLightbox["+a+f+d+"]"):(a="fusion-portfolio-post",e="iLightbox[gallery"+f+d+"]"),(jQuery(this).hasClass(a)||1===b.length)&&(1<b.length&&-1===jQuery.inArray(a+f+d,c)?c.push(a+f+d):1===b.length&&-1===jQuery.inArray(f+d,c)&&c.push("gallery"+f+d),jQuery(this).find(".fusion-rollover-gallery").attr("data-rel",e),jQuery(this).find(".fusion-portfolio-gallery-hidden a").attr("data-rel",e))}),"created"!==jQuery(this).data("lightbox")&&(jQuery.each(c,function(a,b){window.$ilInstances.push(jQuery('[data-rel="iLightbox['+b+']"], [rel="iLightbox['+b+']"]').iLightBox(window.avadaLightBox.prepare_options("iLightbox["+b+"]")))}),jQuery(this).data("lightbox","created")),window.avadaLightBox.refresh_lightbox(),jQuery(window).trigger("resize")}),Modernizr.mq("only screen and (max-width: 479px)")&&(jQuery(".fusion-portfolio .fusion-rollover-gallery").each(function(){var b=jQuery(this).attr("href");!0===a(b)&&jQuery(this).parents(".fusion-image-wrapper").find("> img").attr("src",b).attr("width","").attr("height",""),jQuery(this).parents(".fusion-portfolio-post").css("width","auto"),jQuery(this).parents(".fusion-portfolio-post").css("height","auto"),jQuery(this).parents(".fusion-portfolio-one:not(.fusion-portfolio-one-text)").find(".fusion-portfolio-post").css("margin","0")}),jQuery(".fusion-portfolio").length&&jQuery(".fusion-portfolio-wrapper").isotope())}),jQuery(window).load(function(){jQuery(".sidebar").is(":visible")&&jQuery(".post-content .fusion-portfolio").each(function(){var a=jQuery(this).data("columns");jQuery(this).addClass("fusion-portfolio-"+a+"-sidebar")}),jQuery().isotope&&jQuery(".fusion-portfolio .fusion-portfolio-wrapper").length&&jQuery(".fusion-portfolio .fusion-portfolio-wrapper").each(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;jQuery(this).next(".fusion-load-more-button").fadeIn(),"fixed"===jQuery(this).data("picturesize")?jQuery(this).find(".fusion-placeholder-image").each(function(){jQuery(this).css({height:jQuery(this).parents(".fusion-portfolio-post").siblings().find("img").first().height(),width:jQuery(this).parents(".fusion-portfolio-post").siblings().find("img").first().width()})}):jQuery(this).find(".fusion-placeholder-image").each(function(){jQuery(this).css({width:jQuery(this).parents(".fusion-portfolio-post").siblings().first().find("img").width()})}),m="",a=jQuery(this).parents(".fusion-portfolio").find(".fusion-filters"),a.length&&(b=a.find(".fusion-filter"),c=a.find(".fusion-active"),d=c.children("a"),e=d.length?d.attr("data-filter").substr(1):"",f=jQuery(this).find(".fusion-portfolio-post"),g=[],k=!0,b&&b.each(function(){var b=jQuery(this),h=b.children("a").data("filter");f&&(e.length&&f.hide(),jQuery(".fusion-filters").show(),f.each(function(){var f,i=jQuery(this),j=i.find(".fusion-rollover-gallery").data("rel");i.hasClass(h.substr(1))&&b.hasClass("fusion-hidden")&&(b.removeClass("fusion-hidden"),!0===k&&0===a.find(".fusion-filter-all").length&&(a.find(".fusion-filter").removeClass("fusion-active"),b.addClass("fusion-active"),k=!1,c=a.find(".fusion-active"),d=c.children("a"),e=d.attr("data-filter").substr(1))),e.length&&i.hasClass(e)&&(i.show(),j&&(f=j.replace("gallery",e),i.find(".fusion-rollover-gallery").attr("data-rel",f),"individual"===avadaPortfolioVars.lightbox_behavior&&i.find(".fusion-portfolio-gallery-hidden a").attr("data-rel",f),-1===jQuery.inArray(f,g)&&g.push(f)))}))}),e.length&&(m="."+e,jQuery.each(g,function(a,b){window.$ilInstances.push(jQuery('[data-rel="'+b+'"], [rel="'+b+'"]').iLightBox(window.avadaLightBox.prepare_options(b)))}),window.avadaLightBox.refresh_lightbox(),"individual"!==avadaPortfolioVars.lightbox_behavior&&d.data("lightbox","created"))),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")}),h=jQuery(this),i=h.attr("id"),i&&(h=jQuery("#"+i)),(jQuery(this).parent().hasClass("fusion-portfolio-masonry")||jQuery(this).parent().hasClass("fusion-portfolio-layout-masonry"))&&!jQuery(this).parent().hasClass("fusion-masonry-has-vertical")&&0<jQuery(this).find(".fusion-portfolio-post:not(.fusion-grid-sizer)").not(".fusion-element-landscape").length&&jQuery(this).parent().addClass("fusion-masonry-has-vertical"),setTimeout(function(){var a,b;h.parent().hasClass("fusion-portfolio-one")?(a="vertical",b=!1):(a=h.parent().hasClass("fusion-portfolio-equal-heights")?"fitRows":"packery",b=!0),window.$portfolio_isotope=h,window.$portfolio_isotope.isotope({itemSelector:".fusion-portfolio-post",resizeable:b,layoutMode:a,transformsEnabled:!1,isOriginLeft:!jQuery(".rtl").length,filter:m,initLayout:!1}),window.$portfolio_isotope.parent().hasClass("fusion-portfolio-equal-heights")&&window.$portfolio_isotope.on("layoutComplete",function(a){setTimeout(function(){var b=jQuery(a.target);b.find(".fusion-portfolio-post").css("height",""),b.fusionCalculatePortfolioEqualHeights()},10)}),window.$portfolio_isotope.isotope()},1),j=jQuery(this).find(".fusion-portfolio-post .fusion-placeholder-image"),j.each(function(){jQuery(this).parents(".fusion-portfolio-content-wrapper, .fusion-image-wrapper").animate({opacity:1})}),l=jQuery(this).find(".fusion-portfolio-post .fusion-video"),l.each(function(){jQuery(this).animate({opacity:1}),jQuery(this).parents(".fusion-portfolio-content-wrapper").animate({opacity:1})}),l.fitVids(),window.$portfolio_images_index=0,jQuery(this).imagesLoaded().progress(function(a,b){1<=jQuery(b.img).parents(".fusion-portfolio-content-wrapper").length?jQuery(b.img,j).parents(".fusion-portfolio-content-wrapper").delay(100*window.$portfolio_images_index).animate({opacity:1}):jQuery(b.img,j).parents(".fusion-image-wrapper").delay(100*window.$portfolio_images_index).animate({opacity:1}),window.$portfolio_images_index++}),setTimeout(function(){jQuery(window).trigger("resize",[!1])},250)}),jQuery(".fusion-portfolio-paging-infinite, .fusion-portfolio-paging-load-more-button").each(function(){var a=jQuery(this),b="."+a.attr("class").replace(/\ /g,".").replace(/.fusion\-portfolio\-[a-zA-Z]+\-sidebar/g,"").replace(".fusion-masonry-has-vertical","")+" ",c=a.find(".fusion-portfolio-wrapper").data("pages");a.children(".fusion-portfolio-wrapper").infinitescroll({navSelector:b+".fusion-infinite-scroll-trigger",nextSelector:b+".pagination-next",itemSelector:b+"div.pagination .current, "+b+" .fusion-portfolio-post",loading:{finishedMsg:avadaPortfolioVars.infinite_finished_msg,msg:jQuery('<div class="fusion-loading-container fusion-clearfix"><div class="fusion-loading-spinner"><div class="fusion-spinner-1"></div><div class="fusion-spinner-2"></div><div class="fusion-spinner-3"></div></div><div class="fusion-loading-msg">'+avadaPortfolioVars.infinite_blog_text+"</div>")},maxPage:c||void 0,errorCallback:function(){a.find(".fusion-portfolio-post").css("height",""),a.find(".fusion-portfolio-wrapper").isotope()}},function(b){var d;jQuery().isotope&&(d=a.find(".fusion-filters").find(".fusion-filter"),b=jQuery(b),b.hide(),imagesLoaded(b,function(){var e,f,g,h,i,j;e=jQuery(b).find(".fusion-placeholder-image"),e.parents(".fusion-portfolio-content-wrapper, .fusion-image-wrapper").animate({opacity:1}),f=jQuery(b).find(".fusion-video"),f.each(function(){jQuery(this).animate({opacity:1}),jQuery(this).parents(".fusion-portfolio-content-wrapper").animate({opacity:1})}),f.fitVids(),window.$portfolio_images_index=0,jQuery(b).imagesLoaded().progress(function(a,b){1<=jQuery(b.img).parents(".fusion-portfolio-content-wrapper").length?jQuery(b.img,e).parents(".fusion-portfolio-content-wrapper").delay(100*window.$portfolio_images_index).animate({opacity:1}):jQuery(b.img,e).parents(".fusion-image-wrapper").delay(100*window.$portfolio_images_index).animate({opacity:1}),window.$portfolio_images_index++}),d&&d.each(function(){var a,c,d,e=jQuery(this),f=e.children("a").data("filter");b&&b.each(function(){d=jQuery(this),d.hasClass(f.substr(1))&&e.hasClass("fusion-hidden")&&(Modernizr.mq("only screen and (max-width: "+avadaPortfolioVars.content_break_point+"px)")?e.fadeIn(400,function(){e.removeClass("fusion-hidden")}):(a=e.css("width"),c=e.css("margin-right"),e.css("width",0),e.css("margin-right",0),e.removeClass("fusion-hidden"),e.animate({width:a,"margin-right":c},400,function(){e.removeAttr("style")})))})}),a.find(".fusion-filters").length?(g=a.find(".fusion-filters").find(".fusion-filter.fusion-active a"),h=g.attr("data-filter").substr(1),h.length?(b.each(function(){var b=jQuery(this),c=b.find(".fusion-rollover-gallery").data("rel");b.hasClass(h)?(b.fadeIn(),c&&b.find(".fusion-rollover-gallery").attr("data-rel",c.replace("gallery",h))):a.hasClass("fusion-portfolio-equal-heights")&&b.addClass("invisible-after-ajax")}),"created"!==g.data("lightbox")&&(window.$ilInstances.push(jQuery('[data-rel^="iLightbox['+h+']"]').iLightBox(window.avadaLightBox.prepare_options("iLightbox["+h+"]"))),g.data("lightbox","created")),window.avadaLightBox.refresh_lightbox()):b.fadeIn()):b.fadeIn(),a.find(".fusion-portfolio-post").css("height",""),a.find(".fusion-portfolio-wrapper").isotope("appended",b),b.each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()}),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")}),"individual"===avadaPortfolioVars.lightbox_behavior&&jQuery(b).find(".fusion-rollover-gallery").length&&(i=jQuery(b).find(".fusion-rollover-gallery"),i.each(function(){window.$ilInstances.push(jQuery('[data-rel^="'+jQuery(this).attr("data-rel")+'"]').iLightBox(window.avadaLightBox.prepare_options(jQuery(this).attr("data-rel"))))})),j=a.find(".current").html(),a.find(".current").remove(),c==j&&(a.find(".fusion-loading-container").hide(),a.find(".fusion-load-more-button").hide()),"undefined"!=typeof niceScrollReInit&&niceScrollReInit()}))}),"1"==c&&(a.find(".fusion-loading-container").hide(),a.find(".fusion-load-more-button").hide()),a.hasClass("fusion-portfolio-paging-load-more-button")&&(a.find(".fusion-portfolio-wrapper").infinitescroll("unbind"),a.find(".fusion-load-more-button").on("click",function(b){b.preventDefault(),a.find(".fusion-portfolio-wrapper").infinitescroll("retrieve")}))})});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){"use strict";a.infinitescroll=function(b,c,d){this.element=a(d),this._create(b,c)||(this.failed=!0)},a.infinitescroll.defaults={loading:{finished:b,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:b},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:b,binder:a(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:b,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:b,path:b,prefill:!1,maxPage:b},a.infinitescroll.prototype={_binding:function(a){var c=this,d=c.options;return d.v="2.0b2.120520",d.behavior&&this["_binding_"+d.behavior]!==b?void this["_binding_"+d.behavior].call(this):"bind"!==a&&"unbind"!==a?(this._debug("Binding value  "+a+" not valid"),!1):("unbind"===a?this.options.binder.unbind("smartscroll.infscr."+c.options.infid):this.options.binder[a]("smartscroll.infscr."+c.options.infid,function(){c.scroll()}),void this._debug("Binding",a))},_create:function(c,d){var e=a.extend(!0,{},a.infinitescroll.defaults,c);this.options=e;var f=a(window);if(!this._validate(c))return!1;var g=a(e.nextSelector).attr("href");if(!g)return this._debug("Navigation selector not found"),!1;e.path=e.path||this._determinepath(g),e.contentSelector=e.contentSelector||this.element,e.loading.selector=e.loading.selector||e.contentSelector,e.loading.msg=e.loading.msg||a('<div id="infscr-loading"><img alt="Loading..." src="'+e.loading.img+'" /><div>'+e.loading.msgText+"</div></div>"),(new Image).src=e.loading.img,e.pixelsFromNavToBottom===b&&(e.pixelsFromNavToBottom=a(document).height()-a(e.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+e.pixelsFromNavToBottom));var h=this;return e.loading.start=e.loading.start||function(){a(e.navSelector).hide(),e.loading.msg.insertAfter(e.loading.selector).show(e.loading.speed,a.proxy(function(){this.beginAjax(e)},h))},e.loading.finished=e.loading.finished||function(){e.state.isBeyondMaxPage||e.loading.msg.fadeOut(e.loading.speed)},e.callback=function(c,g,h){e.behavior&&c["_callback_"+e.behavior]!==b&&c["_callback_"+e.behavior].call(a(e.contentSelector)[0],g,h),d&&d.call(a(e.contentSelector)[0],g,e,h),e.prefill&&f.bind("resize.infinite-scroll",c._prefill)},c.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.call(console[a],console)},Function.prototype.bind)),this._setup(),e.prefill&&this._prefill(),!0},_prefill:function(){function b(){return a(c.options.contentSelector).height()<=d.height()}var c=this,d=a(window);this._prefill=function(){b()&&c.scroll(),d.bind("resize.infinite-scroll",function(){b()&&(d.unbind("resize.infinite-scroll"),c.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&Array.prototype.slice.call(arguments)[0]:Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(a){var c=this.options;if(c.behavior&&this["_determinepath_"+c.behavior]!==b)return this["_determinepath_"+c.behavior].call(this,a);if(c.pathParse)return this._debug("pathParse manual"),c.pathParse(a,this.options.state.currPage+1);if(a.match(/^(.*2?)\b2\b(.*?$)/))a=a.match(/^(.*2?)\b2\b(.*?$)/).slice(1);else if(a.match(/^(.*?)\b2\b(.*?$)/))a=a.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(a.match(/^(.*?)2(.*?$)/)){if(a.match(/^(.*?page=)2(\/.*|$)/))return a=a.match(/^(.*?page=)2(\/.*|$)/).slice(1);a=a.match(/^(.*?)2(.*?$)/).slice(1)}else{if(a.match(/^(.*?page=)1(\/.*|$)/))return a=a.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),c.state.isInvalidPage=!0}return this._debug("determinePath",a),a},_error:function(a){var c=this.options;if(c.behavior&&this["_error_"+c.behavior]!==b)return void this["_error_"+c.behavior].call(this,a);"destroy"!==a&&"end"!==a&&(a="unknown"),this._debug("Error",a),("end"===a||c.state.isBeyondMaxPage)&&this._showdonemsg(),c.state.isDone=!0,c.state.currPage=1,c.state.isPaused=!1,c.state.isBeyondMaxPage=!1,this._binding("unbind")},_loadcallback:function(c,d,e){var f,g=this.options,h=this.options.callback,i=g.state.isDone?"done":g.appendCallback?"append":"no-append";if(g.behavior&&this["_loadcallback_"+g.behavior]!==b)return void this["_loadcallback_"+g.behavior].call(this,c,d,e);switch(i){case"done":return this._showdonemsg(),!1;case"no-append":if("html"===g.dataType&&(d="<div>"+d+"</div>",d=a(d).find(g.itemSelector)),0===d.length)return this._error("end");break;case"append":var j=c.children();if(0===j.length)return this._error("end");for(f=document.createDocumentFragment();c[0].firstChild;)f.appendChild(c[0].firstChild);this._debug("contentSelector",a(g.contentSelector)[0]),a(g.contentSelector)[0].appendChild(f),d=j.get()}if(g.loading.finished.call(a(g.contentSelector)[0],g),g.animate){var k=a(window).scrollTop()+a(g.loading.msg).height()+g.extraScrollPx+"px";a("html,body").animate({scrollTop:k},800,function(){g.state.isDuringAjax=!1})}g.animate||(g.state.isDuringAjax=!1),h(this,d,e),g.prefill&&this._prefill()},_nearbottom:function(){var c=this.options,d=0+a(document).height()-c.binder.scrollTop()-a(window).height();return c.behavior&&this["_nearbottom_"+c.behavior]!==b?this["_nearbottom_"+c.behavior].call(this):(this._debug("math:",d,c.pixelsFromNavToBottom),d-c.bufferPx<c.pixelsFromNavToBottom)},_pausing:function(a){var c=this.options;if(c.behavior&&this["_pausing_"+c.behavior]!==b)return void this["_pausing_"+c.behavior].call(this,a);switch("pause"!==a&&"resume"!==a&&null!==a&&this._debug("Invalid argument. Toggling pause value instead"),a=!a||"pause"!==a&&"resume"!==a?"toggle":a){case"pause":c.state.isPaused=!0;break;case"resume":c.state.isPaused=!1;break;case"toggle":c.state.isPaused=!c.state.isPaused}return this._debug("Paused",c.state.isPaused),!1},_setup:function(){var a=this.options;return a.behavior&&this["_setup_"+a.behavior]!==b?void this["_setup_"+a.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var c=this.options;if(c.behavior&&this["_showdonemsg_"+c.behavior]!==b)return void this["_showdonemsg_"+c.behavior].call(this);c.loading.msg.find(".fusion-loading-spinner").hide().parent().find(".fusion-loading-msg").html(c.loading.finishedMsg).animate({opacity:1},2e3,function(){a(this).parent().fadeOut(c.loading.speed),a(this).parent().parent().find(".fusion-load-more-button").fadeOut(c.loading.speed)}),c.errorCallback.call(a(c.contentSelector)[0],"done")},_validate:function(b){for(var c in b)if(c.indexOf&&c.indexOf("Selector")>-1&&0===a(b[c]).length)return this._debug("Your "+c+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(c){var d,e,f,g,h=this,i=c.path;if(c.state.currPage++,c.maxPage!==b&&c.state.currPage>c.maxPage)return c.state.isBeyondMaxPage=!0,void this.destroy();switch(d=a(a(c.contentSelector).is("table, tbody")?"<tbody/>":"<div/>"),e="function"==typeof i?i(c.state.currPage):i.join(c.state.currPage),h._debug("heading into ajax",e),f="html"===c.dataType||"json"===c.dataType?c.dataType:"html+callback",c.appendCallback&&"html"===c.dataType&&(f+="+callback"),f){case"html+callback":h._debug("Using HTML via .load() method"),d.load(e+" "+c.itemSelector,b,function(a){h._loadcallback(d,a,e)});break;case"html":h._debug("Using "+f.toUpperCase()+" via $.ajax() method"),a.ajax({url:e,dataType:c.dataType,complete:function(a,b){g=void 0!==a.isResolved?a.isResolved():"success"===b||"notmodified"===b,g?h._loadcallback(d,a.responseText,e):h._error("end")}});break;case"json":h._debug("Using "+f.toUpperCase()+" via $.ajax() method"),a.ajax({dataType:"json",type:"GET",url:e,success:function(a,f,i){if(g=void 0!==i.isResolved?i.isResolved():"success"===f||"notmodified"===f,c.appendCallback)if(c.template!==b){var j=c.template(a);d.append(j),g?h._loadcallback(d,j):h._error("end")}else h._debug("template must be defined."),h._error("end");else g?h._loadcallback(d,a,e):h._error("end")},error:function(){h._debug("JSON ajax request failed."),h._error("end")}})}},retrieve:function(c){c=c||null;var d=this,e=d.options;return e.behavior&&this["retrieve_"+e.behavior]!==b?void this["retrieve_"+e.behavior].call(this,c):e.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(e.state.isDuringAjax=!0,void e.loading.start.call(a(e.contentSelector)[0],e))},scroll:function(){var a=this.options,c=a.state;if(a.behavior&&this["scroll_"+a.behavior]!==b)return void this["scroll_"+a.behavior].call(this);c.isDuringAjax||c.isInvalidPage||c.isDone||c.isDestroyed||c.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))}},a.fn.infinitescroll=function(b,c){switch(typeof b){case"string":var d=Array.prototype.slice.call(arguments,1);this.each(function(){var c=a.data(this,"infinitescroll");return!!c&&!(!a.isFunction(c[b])||"_"===b.charAt(0))&&void c[b].apply(c,d)});break;case"object":this.each(function(){var d=a.data(this,"infinitescroll");d?d.update(b):(d=new a.infinitescroll(b,c,this),d.failed||a.data(this,"infinitescroll",d))})}return this};var c,d=a.event;d.special.smartscroll={setup:function(){a(this).bind("scroll",d.special.smartscroll.handler)},teardown:function(){a(this).unbind("scroll",d.special.smartscroll.handler)},handler:function(b,d){var e=this,f=arguments;b.type="smartscroll",c&&clearTimeout(c),c=setTimeout(function(){a(e).trigger("smartscroll",f)},"execAsap"===d?0:100)}},a.fn.smartscroll=function(a){return a?this.bind("smartscroll",a):this.trigger("smartscroll",["execAsap"])}});jQuery(".fusion-faq-shortcode").each(function(){var a,b,c,d,e=jQuery(this),f=e.find(".fusion-filters");e.find(".fusion-faqs-wrapper").fadeIn(),f.length&&(f.fadeIn(),a=f.find(".fusion-filter"),b=f.find(".fusion-active").children("a"),c=b.attr("data-filter").substr(1),d=jQuery(this).find(".fusion-faqs-wrapper .fusion-faq-post"),a&&a.each(function(){var a=jQuery(this),b=a.children("a").data("filter");d&&(c.length&&d.hide(),d.each(function(){var d=jQuery(this);d.hasClass(b.substr(1))&&a.hasClass("fusion-hidden")&&a.removeClass("fusion-hidden"),c.length&&d.hasClass(c)&&d.show()}))})),e.find(".fusion-filters a").click(function(a){var b=jQuery(this).attr("data-filter");a.preventDefault(),e.find(".fusion-faqs-wrapper .fusion-faq-post").fadeOut(),setTimeout(function(){e.find(".fusion-faqs-wrapper .fusion-faq-post"+b).fadeIn()},400),jQuery(this).parents(".fusion-filters").find(".fusion-filter").removeClass("fusion-active"),jQuery(this).parent().addClass("fusion-active")})});!function(a,b){"use strict";function c(b){a.fn.cycle.debug&&d(b)}function d(){window.console&&console.log}function e(b,c,d){var e=a(b).data("cycle.opts");if(e){var f=!!b.cyclePause;f&&e.paused?e.paused(b,e,c,d):!f&&e.resumed&&e.resumed(b,e,c,d)}}function f(c,f,g){function i(b,c,e){if(!b&&!0===c){var f=a(e).data("cycle.opts");if(!f)return d("options not found, can not resume"),!1;e.cycleTimeout&&(clearTimeout(e.cycleTimeout),e.cycleTimeout=0),m(f.elements,f,1,!f.backwards)}}if(c.cycleStop===b&&(c.cycleStop=0),f!==b&&null!==f||(f={}),f.constructor==String){switch(f){case"destroy":case"stop":var j=a(c).data("cycle.opts");return!!j&&(c.cycleStop++,c.cycleTimeout&&clearTimeout(c.cycleTimeout),c.cycleTimeout=0,j.elements&&a(j.elements).stop(),a(c).removeData("cycle.opts"),"destroy"==f&&h(c,j),!1);case"toggle":return c.cyclePause=1===c.cyclePause?0:1,i(c.cyclePause,g,c),e(c),!1;case"pause":return c.cyclePause=1,e(c),!1;case"resume":return c.cyclePause=0,i(!1,g,c),e(c),!1;case"prev":case"next":return(j=a(c).data("cycle.opts"))?("string"==typeof g&&(j.oneTimeFx=g),a.fn.cycle[f](j),!1):(d('options not found, "prev/next" ignored'),!1);default:f={fx:f}}return f}if(f.constructor==Number){var k=f;return(f=a(c).data("cycle.opts"))?k<0||k>=f.elements.length?(d("invalid slide index: "+k),!1):(f.nextSlide=k,c.cycleTimeout&&(clearTimeout(c.cycleTimeout),c.cycleTimeout=0),"string"==typeof g&&(f.oneTimeFx=g),m(f.elements,f,1,k>=f.currSlide),!1):(d("options not found, can not advance slide"),!1)}return f}function g(b,c){if(!a.support.opacity&&c.cleartype&&b.style.filter)try{b.style.removeAttribute("filter")}catch(a){}}function h(b,c){c.next&&a(c.next).unbind(c.prevNextEvent),c.prev&&a(c.prev).unbind(c.prevNextEvent),(c.pager||c.pagerAnchorBuilder)&&a.each(c.pagerAnchors||[],function(){this.unbind().remove()}),c.pagerAnchors=null,a(b).unbind("mouseenter.cycle mouseleave.cycle"),c.destroy&&c.destroy(c)}function i(c,f,h,i,n){var r,s=a.extend({},a.fn.cycle.defaults,i||{},a.metadata?c.metadata():a.meta?c.data():{}),t=a.isFunction(c.data)?c.data(s.metaAttr):null;t&&(s=a.extend(s,t)),s.autostop&&(s.countdown=s.autostopCount||h.length);var u=c[0];if(c.data("cycle.opts",s),s.$cont=c,s.stopCount=u.cycleStop,s.elements=h,s.before=s.before?[s.before]:[],s.after=s.after?[s.after]:[],!a.support.opacity&&s.cleartype&&s.after.push(function(){g(this,s)}),s.continuous&&s.after.push(function(){m(h,s,0,!s.backwards)}),j(s),a.support.opacity||!s.cleartype||s.cleartypeNoBg||q(f),"static"==c.css("position")&&c.css("position","relative"),s.width&&c.width(s.width),s.height&&"auto"!=s.height&&c.height(s.height),s.startingSlide!==b?(s.startingSlide=parseInt(s.startingSlide,10),s.startingSlide>=h.length||s.startSlide<0?s.startingSlide=0:r=!0):s.backwards?s.startingSlide=h.length-1:s.startingSlide=0,s.random){s.randomMap=[];for(var v=0;v<h.length;v++)s.randomMap.push(v);if(s.randomMap.sort(function(a,b){return Math.random()-.5}),r)for(var w=0;w<h.length;w++)s.startingSlide==s.randomMap[w]&&(s.randomIndex=w);else s.randomIndex=1,s.startingSlide=s.randomMap[1]}else s.startingSlide>=h.length&&(s.startingSlide=0);s.currSlide=s.startingSlide||0;var x=s.startingSlide;if(f.css({position:"absolute",top:0,left:0}).hide().each(function(b){var c;c=s.backwards?x?b<=x?h.length+(b-x):x-b:h.length-b:x?b>=x?h.length-(b-x):x-b:h.length-b,a(this).css("z-index",c)}),a(h[x]).css("opacity",1).show(),g(h[x],s),s.fit&&(s.aspect?f.each(function(){var b=a(this),c=!0===s.aspect?b.width()/b.height():s.aspect;s.width&&b.width()!=s.width&&(b.width(s.width),b.height(s.width/c)),s.height&&b.height()<s.height&&(b.height(s.height),b.width(s.height*c))}):(s.width&&f.width(s.width),s.height&&"auto"!=s.height&&f.height(s.height))),!s.center||s.fit&&!s.aspect||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})}),!s.center||s.fit||s.slideResize||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})}),(s.containerResize||s.containerResizeHeight)&&c.innerHeight()<1){for(var y=0,z=0,A=0;A<h.length;A++){var B=a(h[A]),C=B[0],D=B.outerWidth(),E=B.outerHeight();D||(D=C.offsetWidth||C.width||B.attr("width")),E||(E=C.offsetHeight||C.height||B.attr("height")),y=D>y?D:y,z=E>z?E:z}s.containerResize&&y>0&&z>0&&c.animate({width:y+"px",height:z+"px"}),s.containerResizeHeight&&z>0&&c.animate({height:z+"px"})}var F=!1;if(s.pause&&c.bind("mouseenter.cycle",function(){F=!0,this.cyclePause++,e(u,!0)}).bind("mouseleave.cycle",function(){F&&this.cyclePause--,e(u,!0)}),!1===k(s))return!1;var G=!1;if(i.requeueAttempts=i.requeueAttempts||0,f.each(function(){var b=a(this);if(this.cycleH=s.fit&&s.height?s.height:b.height()||this.offsetHeight||this.height||b.attr("height")||0,this.cycleW=s.fit&&s.width?s.width:b.width()||this.offsetWidth||this.width||b.attr("width")||0,b.is("img")){if(0===this.cycleH&&0===this.cycleW&&!this.complete){if(n.s&&s.requeueOnImageNotLoaded&&++i.requeueAttempts<100)return d(i.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){a(n.s,n.c).cycle(i)},s.requeueTimeout),G=!0,!1;d("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),G)return!1;if(s.cssBefore=s.cssBefore||{},s.cssAfter=s.cssAfter||{},s.cssFirst=s.cssFirst||{},s.animIn=s.animIn||{},s.animOut=s.animOut||{},f.not(":eq("+x+")").css(s.cssBefore),a(f[x]).css(s.cssFirst),s.timeout){s.timeout=parseInt(s.timeout,10),s.speed.constructor==String&&(s.speed=a.fx.speeds[s.speed]||parseInt(s.speed,10)),s.sync||(s.speed=s.speed/2);for(var H="none"==s.fx?0:"shuffle"==s.fx?500:250;s.timeout-s.speed<H;)s.timeout+=s.speed}if(s.easing&&(s.easeIn=s.easeOut=s.easing),s.speedIn||(s.speedIn=s.speed),s.speedOut||(s.speedOut=s.speed),s.slideCount=h.length,s.currSlide=s.lastSlide=x,s.random?(++s.randomIndex==h.length&&(s.randomIndex=0),s.nextSlide=s.randomMap[s.randomIndex]):s.backwards?s.nextSlide=0===s.startingSlide?h.length-1:s.startingSlide-1:s.nextSlide=s.startingSlide>=h.length-1?0:s.startingSlide+1,!s.multiFx){var I=a.fn.cycle.transitions[s.fx];if(a.isFunction(I))I(c,f,s);else if("custom"!=s.fx&&!s.multiFx)return d("unknown transition: "+s.fx,"; slideshow terminating"),!1}var J=f[x];return s.skipInitializationCallbacks||(s.before.length&&s.before[0].apply(J,[J,J,s,!0]),s.after.length&&s.after[0].apply(J,[J,J,s,!0])),s.next&&a(s.next).bind(s.prevNextEvent,function(){return o(s,1)}),s.prev&&a(s.prev).bind(s.prevNextEvent,function(){return o(s,0)}),(s.pager||s.pagerAnchorBuilder)&&p(h,s),l(s,h),s}function j(b){b.original={before:[],after:[]},b.original.cssBefore=a.extend({},b.cssBefore),b.original.cssAfter=a.extend({},b.cssAfter),b.original.animIn=a.extend({},b.animIn),b.original.animOut=a.extend({},b.animOut),a.each(b.before,function(){b.original.before.push(this)}),a.each(b.after,function(){b.original.after.push(this)})}function k(b){var e,f,g=a.fn.cycle.transitions;if(b.fx.indexOf(",")>0){for(b.multiFx=!0,b.fxs=b.fx.replace(/\s*/g,"").split(","),e=0;e<b.fxs.length;e++){var h=b.fxs[e];f=g[h],f&&g.hasOwnProperty(h)&&a.isFunction(f)||(d("discarding unknown transition: ",h),b.fxs.splice(e,1),e--)}if(!b.fxs.length)return d("No valid transitions named; slideshow terminating."),!1}else if("all"==b.fx){b.multiFx=!0,b.fxs=[];for(var i in g)g.hasOwnProperty(i)&&(f=g[i],g.hasOwnProperty(i)&&a.isFunction(f)&&b.fxs.push(i))}if(b.multiFx&&b.randomizeEffects){var j=Math.floor(20*Math.random())+30;for(e=0;e<j;e++){var k=Math.floor(Math.random()*b.fxs.length);b.fxs.push(b.fxs.splice(k,1)[0])}c("randomized fx sequence: ",b.fxs)}return!0}function l(b,c){b.addSlide=function(d,e){var f=a(d),g=f[0];b.autostopCount||b.countdown++,c[e?"unshift":"push"](g),b.els&&b.els[e?"unshift":"push"](g),b.slideCount=c.length,b.random&&(b.randomMap.push(b.slideCount-1),b.randomMap.sort(function(a,b){return Math.random()-.5})),f.css("position","absolute"),f[e?"prependTo":"appendTo"](b.$cont),e&&(b.currSlide++,b.nextSlide++),a.support.opacity||!b.cleartype||b.cleartypeNoBg||q(f),b.fit&&b.width&&f.width(b.width),b.fit&&b.height&&"auto"!=b.height&&f.height(b.height),g.cycleH=b.fit&&b.height?b.height:f.height(),g.cycleW=b.fit&&b.width?b.width:f.width(),f.css(b.cssBefore),(b.pager||b.pagerAnchorBuilder)&&a.fn.cycle.createPagerAnchor(c.length-1,g,a(b.pager),c,b),a.isFunction(b.onAddSlide)?b.onAddSlide(f):f.hide()}}function m(d,e,f,g){function h(){var a=0;e.timeout;e.timeout&&!e.continuous?(a=n(d[e.currSlide],d[e.nextSlide],e,g),"shuffle"==e.fx&&(a-=e.speedOut)):e.continuous&&i.cyclePause&&(a=10),a>0&&(i.cycleTimeout=setTimeout(function(){m(d,e,0,!e.backwards)},a))}var i=e.$cont[0],j=d[e.currSlide],k=d[e.nextSlide];if(f&&e.busy&&e.manualTrump&&(c("manualTrump in go(), stopping active transition"),a(d).stop(!0,!0),e.busy=0,clearTimeout(i.cycleTimeout)),e.busy)return void c("transition active, ignoring new tx request");if(i.cycleStop==e.stopCount&&(0!==i.cycleTimeout||f)){if(!f&&!i.cyclePause&&!e.bounce&&(e.autostop&&--e.countdown<=0||e.nowrap&&!e.random&&e.nextSlide<e.currSlide))return void(e.end&&e.end(e));var l=!1;if(!f&&i.cyclePause||e.nextSlide==e.currSlide)h();else{l=!0;var o=e.fx;j.cycleH=j.cycleH||a(j).height(),j.cycleW=j.cycleW||a(j).width(),k.cycleH=k.cycleH||a(k).height(),k.cycleW=k.cycleW||a(k).width(),e.multiFx&&(g&&(e.lastFx===b||++e.lastFx>=e.fxs.length)?e.lastFx=0:!g&&(e.lastFx===b||--e.lastFx<0)&&(e.lastFx=e.fxs.length-1),o=e.fxs[e.lastFx]),e.oneTimeFx&&(o=e.oneTimeFx,e.oneTimeFx=null),a.fn.cycle.resetState(e,o),e.before.length&&a.each(e.before,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])});var p=function(){e.busy=0,a.each(e.after,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])}),i.cycleStop||h()};c("tx firing("+o+"); currSlide: "+e.currSlide+"; nextSlide: "+e.nextSlide),e.busy=1,e.fxFn?e.fxFn(j,k,e,p,g,f&&e.fastOnEvent):a.isFunction(a.fn.cycle[e.fx])?a.fn.cycle[e.fx](j,k,e,p,g,f&&e.fastOnEvent):a.fn.cycle.custom(j,k,e,p,g,f&&e.fastOnEvent)}if(l||e.nextSlide==e.currSlide){var q;e.lastSlide=e.currSlide,e.random?(e.currSlide=e.nextSlide,++e.randomIndex==d.length&&(e.randomIndex=0,e.randomMap.sort(function(a,b){return Math.random()-.5})),e.nextSlide=e.randomMap[e.randomIndex],e.nextSlide==e.currSlide&&(e.nextSlide=e.currSlide==e.slideCount-1?0:e.currSlide+1)):e.backwards?(q=e.nextSlide-1<0,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=1,e.currSlide=0):(e.nextSlide=q?d.length-1:e.nextSlide-1,e.currSlide=q?0:e.nextSlide+1)):(q=e.nextSlide+1==d.length,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=d.length-2,e.currSlide=d.length-1):(e.nextSlide=q?0:e.nextSlide+1,e.currSlide=q?d.length-1:e.nextSlide-1))}l&&e.pager&&e.updateActivePagerLink(e.pager,e.currSlide,e.activePagerClass)}}function n(a,b,d,e){if(d.timeoutFn){for(var f=d.timeoutFn.call(a,a,b,d,e);"none"!=d.fx&&f-d.speed<250;)f+=d.speed;if(c("calculated timeout: "+f+"; speed: "+d.speed),!1!==f)return f}return d.timeout}function o(b,c){var d=c?1:-1,e=b.elements,f=b.$cont[0],g=f.cycleTimeout;if(g&&(clearTimeout(g),f.cycleTimeout=0),b.random&&d<0)b.randomIndex--,-2==--b.randomIndex?b.randomIndex=e.length-2:-1==b.randomIndex&&(b.randomIndex=e.length-1),b.nextSlide=b.randomMap[b.randomIndex];else if(b.random)b.nextSlide=b.randomMap[b.randomIndex];else if(b.nextSlide=b.currSlide+d,b.nextSlide<0){if(b.nowrap)return!1;b.nextSlide=e.length-1}else if(b.nextSlide>=e.length){if(b.nowrap)return!1;b.nextSlide=0}var h=b.onPrevNextEvent||b.prevNextClick;return a.isFunction(h)&&h(d>0,b.nextSlide,e[b.nextSlide]),m(e,b,1,c),!1}function p(b,c){var d=a(c.pager);a.each(b,function(e,f){a.fn.cycle.createPagerAnchor(e,f,d,b,c)}),c.updateActivePagerLink(c.pager,c.startingSlide,c.activePagerClass)}function q(b){function d(a){return a=parseInt(a,10).toString(16),a.length<2?"0"+a:a}function e(b){for(;b&&"html"!=b.nodeName.toLowerCase();b=b.parentNode){var c=a.css(b,"background-color");if(c&&c.indexOf("rgb")>=0){var e=c.match(/\d+/g);return"#"+d(e[0])+d(e[1])+d(e[2])}if(c&&"transparent"!=c)return c}return"#ffffff"}c("applying clearType background-color hack"),b.each(function(){a(this).css("background-color",e(this))})}a.expr[":"].paused=function(a){return a.cyclePause},a.fn.cycle=function(b,e){var g={s:this.selector,c:this.context};return 0===this.length&&"stop"!=b?!a.isReady&&g.s?(d("DOM not ready, queuing slideshow"),a(function(){a(g.s,g.c).cycle(b,e)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this):this.each(function(){var h=f(this,b,e);if(!1!==h){h.updateActivePagerLink=h.updateActivePagerLink||a.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var j=a(this),k=h.slideExpr?a(h.slideExpr,this):j.children(),l=k.get();if(l.length<2)return void d("terminating; too few slides: "+l.length);var o=i(j,k,l,h,g);if(!1!==o){var p=o.continuous?10:n(l[o.currSlide],l[o.nextSlide],o,!o.backwards);p&&(p+=o.delay||0,p<10&&(p=10),c("first timeout: "+p),this.cycleTimeout=setTimeout(function(){m(l,o,0,!h.backwards)},p))}}})},a.fn.cycle.resetState=function(b,c){c=c||b.fx,b.before=[],b.after=[],b.cssBefore=a.extend({},b.original.cssBefore),b.cssAfter=a.extend({},b.original.cssAfter),b.animIn=a.extend({},b.original.animIn),b.animOut=a.extend({},b.original.animOut),b.fxFn=null,a.each(b.original.before,function(){b.before.push(this)}),a.each(b.original.after,function(){b.after.push(this)});var d=a.fn.cycle.transitions[c];a.isFunction(d)&&d(b.$cont,a(b.elements),b)},a.fn.cycle.updateActivePagerLink=function(b,c,d){a(b).each(function(){a(this).children().removeClass(d).eq(c).addClass(d)})},a.fn.cycle.next=function(a){o(a,1)},a.fn.cycle.prev=function(a){o(a,0)},a.fn.cycle.createPagerAnchor=function(b,d,f,g,h){var i;if(a.isFunction(h.pagerAnchorBuilder)?(i=h.pagerAnchorBuilder(b,d),c("pagerAnchorBuilder("+b+", el) returned: "+i)):i='<a href="#" aria-label="pagination"></a>',i){var j=a(i);if(0===j.parents("body").length){var k=[];f.length>1?(f.each(function(){var b=j.clone(!0);a(this).append(b),k.push(b[0])}),j=a(k)):j.appendTo(f)}h.pagerAnchors=h.pagerAnchors||[],h.pagerAnchors.push(j);var l=function(c){c.preventDefault(),h.nextSlide=b;var d=h.$cont[0],e=d.cycleTimeout;e&&(clearTimeout(e),d.cycleTimeout=0);var f=h.onPagerEvent||h.pagerClick;a.isFunction(f)&&f(h.nextSlide,g[h.nextSlide]),m(g,h,1,h.currSlide<b)};/mouseenter|mouseover/i.test(h.pagerEvent)?j.hover(l,function(){}):j.bind(h.pagerEvent,l),/^click/.test(h.pagerEvent)||h.allowPagerClickBubble||j.bind("click.cycle",function(){return!1});var n=h.$cont[0],o=!1;h.pauseOnPagerHover&&j.hover(function(){o=!0,n.cyclePause++,e(n,!0,!0)},function(){o&&n.cyclePause--,e(n,!0,!0)})}},a.fn.cycle.hopsFromLast=function(a,b){var c=a.lastSlide,d=a.currSlide;return b?d>c?d-c:a.slideCount-c:d<c?c-d:c+a.slideCount-d},a.fn.cycle.commonReset=function(b,c,d,e,f,g){a(d.elements).not(b).hide(),void 0===d.cssBefore.opacity&&(d.cssBefore.opacity=1),d.cssBefore.display="block",d.slideResize&&!1!==e&&c.cycleW>0&&(d.cssBefore.width=c.cycleW),d.slideResize&&!1!==f&&c.cycleH>0&&(d.cssBefore.height=c.cycleH),d.cssAfter=d.cssAfter||{},d.cssAfter.display="none",a(b).css("zIndex",d.slideCount+(!0===g?1:0)),a(c).css("zIndex",d.slideCount+(!0===g?0:1))},a.fn.cycle.custom=function(b,c,d,e,f,g){var h=a(b),i=a(c),j=d.speedIn,k=d.speedOut,l=d.easeIn,m=d.easeOut,n=d.animInDelay,o=d.animOutDelay;i.css(d.cssBefore),g&&(j=k="number"==typeof g?g:1,l=m=null);var p=function(){i.delay(n).animate(d.animIn,j,l,function(){e()})};h.delay(o).animate(d.animOut,k,m,function(){h.css(d.cssAfter),d.sync||p()}),d.sync&&p()},a.fn.cycle.transitions={fade:function(b,c,d){c.not(":eq("+d.currSlide+")").css("opacity",0),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.cssBefore.opacity=0}),d.animIn={opacity:1},d.animOut={opacity:0},d.cssBefore={top:0,left:0}}},a.fn.cycle.ver=function(){return"3.0.3"},a.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animInDelay:0,animOut:null,animOutDelay:0,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!a.support.opacity,cleartypeNoBg:!1,containerResize:1,containerResizeHeight:0,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:b,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),function(a){"use strict";a.fn.cycle.transitions.none=function(b,c,d){d.fxFn=function(b,c,d,e){a(c).show(),a(b).hide(),e()}},a.fn.cycle.transitions.fadeout=function(b,c,d){c.not(":eq("+d.currSlide+")").css({display:"block",opacity:1}),d.before.push(function(b,c,d,e,f,g){a(b).css("zIndex",d.slideCount+(!0!==g?1:0)),a(c).css("zIndex",d.slideCount+(!0!==g?0:1))}),d.animIn.opacity=1,d.animOut.opacity=0,d.cssBefore.opacity=1,d.cssBefore.display="block",d.cssAfter.zIndex=0},a.fn.cycle.transitions.scrollUp=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssBefore.top=e,d.cssBefore.left=0,d.cssFirst.top=0,d.animIn.top=0,d.animOut.top=-e},a.fn.cycle.transitions.scrollDown=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssFirst.top=0,d.cssBefore.top=-e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.scrollLeft=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=0-e},a.fn.cycle.transitions.scrollRight=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=-e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.scrollHorz=function(b,c,d){b.css("overflow","hidden").width(),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.left=e?c.cycleW-1:1-c.cycleW,d.animOut.left=e?-b.cycleW:b.cycleW}),d.cssFirst.left=0,d.cssBefore.top=0,d.animIn.left=0,d.animOut.top=0},a.fn.cycle.transitions.scrollVert=function(b,c,d){b.css("overflow","hidden"),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.top=e?1-c.cycleH:c.cycleH-1,d.animOut.top=e?b.cycleH:-b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.animIn.top=0,d.animOut.left=0},a.fn.cycle.transitions.slideX=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.width="show",d.animOut.width=0},a.fn.cycle.transitions.slideY=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animIn.height="show",d.animOut.height=0},a.fn.cycle.transitions.shuffle=function(b,c,d){var e,f=b.css("overflow","visible").width();for(c.css({left:0,top:0}),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0)}),d.speedAdjusted||(d.speed=d.speed/2,d.speedAdjusted=!0),d.random=0,d.shuffle=d.shuffle||{left:-f,top:15},d.els=[],e=0;e<c.length;e++)d.els.push(c[e]);for(e=0;e<d.currSlide;e++)d.els.push(d.els.shift());d.fxFn=function(b,c,d,e,f){d.rev&&(f=!f);var g=a(f?b:c);a(c).css(d.cssBefore);var h=d.slideCount;g.animate(d.shuffle,d.speedIn,d.easeIn,function(){for(var c=a.fn.cycle.hopsFromLast(d,f),i=0;i<c;i++)f?d.els.push(d.els.shift()):d.els.unshift(d.els.pop());if(f)for(var j=0,k=d.els.length;j<k;j++)a(d.els[j]).css("z-index",k-j+h);else{var l=a(b).css("z-index");g.css("z-index",parseInt(l,10)+1+h)}g.animate({left:0,top:0},d.speedOut,d.easeOut,function(){a(f?this:b).hide(),e&&e()})})},a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})},a.fn.cycle.transitions.turnUp=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=c.cycleH,d.animIn.height=c.cycleH,d.animOut.width=c.cycleW}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.height=0,d.animIn.top=0,d.animOut.height=0},a.fn.cycle.transitions.turnDown=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animOut.height=0},a.fn.cycle.transitions.turnLeft=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=c.cycleW,d.animIn.width=c.cycleW}),d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.turnRight=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),a.extend(d.cssBefore,{top:0,left:0,width:0}),d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.zoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1,!0),d.cssBefore.top=c.cycleH/2,d.cssBefore.left=c.cycleW/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH}),a.extend(d.animOut,{width:0,height:0,top:b.cycleH/2,left:b.cycleW/2})}),d.cssFirst.top=0,d.cssFirst.left=0,d.cssBefore.width=0,d.cssBefore.height=0},a.fn.cycle.transitions.fadeZoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1),d.cssBefore.left=c.cycleW/2,d.cssBefore.top=c.cycleH/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH})}),d.cssBefore.width=0,d.cssBefore.height=0,d.animOut.opacity=0},a.fn.cycle.transitions.blindX=function(b,c,d){var e=b.css("overflow","hidden").width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.blindY=function(b,c,d){var e=b.css("overflow","hidden").height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.blindZ=function(b,c,d){var e=b.css("overflow","hidden").height(),f=b.width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=f,d.animIn.top=0,d.animIn.left=0,d.animOut.top=e,d.animOut.left=f},a.fn.cycle.transitions.growX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=this.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.growY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=this.cycleH/2,d.animIn.top=0,d.animIn.height=this.cycleH,d.animOut.top=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.curtainX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0,!0),d.cssBefore.left=c.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=b.cycleW/2,d.animOut.width=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.curtainY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1,!0),d.cssBefore.top=c.cycleH/2,d.animIn.top=0,d.animIn.height=c.cycleH,d.animOut.top=b.cycleH/2,d.animOut.height=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.cover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.cssAfter.display="","right"==e?d.cssBefore.left=-f:"up"==e?d.cssBefore.top=g:"down"==e?d.cssBefore.top=-g:d.cssBefore.left=f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.uncover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),"right"==e?d.animOut.left=f:"up"==e?d.animOut.top=-g:"down"==e?d.animOut.top=g:d.animOut.left=-f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.toss=function(b,c,d){var e=b.css("overflow","visible").width(),f=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),d.animOut.left||d.animOut.top?d.animOut.opacity=0:a.extend(d.animOut,{left:2*e,top:-f/2,opacity:0})}),d.cssBefore.left=0,d.cssBefore.top=0,d.animIn.left=0},a.fn.cycle.transitions.wipe=function(b,c,d){var e=b.css("overflow","hidden").width(),f=b.height();d.cssBefore=d.cssBefore||{};var g;if(d.clip)if(/l2r/.test(d.clip))g="rect(0px 0px "+f+"px 0px)";else if(/r2l/.test(d.clip))g="rect(0px "+e+"px "+f+"px "+e+"px)";else if(/t2b/.test(d.clip))g="rect(0px "+e+"px 0px 0px)";else if(/b2t/.test(d.clip))g="rect("+f+"px "+e+"px "+f+"px 0px)";else if(/zoom/.test(d.clip)){var h=parseInt(f/2,10),i=parseInt(e/2,10);g="rect("+h+"px "+i+"px "+h+"px "+i+"px)"}d.cssBefore.clip=d.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var j=d.cssBefore.clip.match(/(\d+)/g),k=parseInt(j[0],10),l=parseInt(j[1],10),m=parseInt(j[2],10),n=parseInt(j[3],10);d.before.push(function(b,c,d){if(b!=c){var g=a(b),h=a(c);a.fn.cycle.commonReset(b,c,d,!0,!0,!1),d.cssAfter.display="block";var i=1,j=parseInt(d.speedIn/13,10)-1;!function a(){var b=k?k-parseInt(i*(k/j),10):0,c=n?n-parseInt(i*(n/j),10):0,d=m<f?m+parseInt(i*((f-m)/j||1),10):f,o=l<e?l+parseInt(i*((e-l)/j||1),10):e;h.css({clip:"rect("+b+"px "+o+"px "+d+"px "+c+"px)"}),i++<=j?setTimeout(a,13):g.css("display","none")}()}}),a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0}),d.animIn={left:0},d.animOut={left:0}}}(jQuery);var fusionTestimonialVars={"testimonials_speed":"4000"};jQuery(window).load(function(){var e;jQuery().cycle&&(e={fx:"fade",before:function(e,i,t,a){var n=jQuery(this).height();jQuery(this).parent().children().removeClass("active-testimonial"),jQuery(this).addClass("active-testimonial"),jQuery(this).parent().animate({height:n},500)},containerResize:0,containerResizeHeight:1,height:"auto",width:"100%",fit:1,speed:500,delay:0},fusionTestimonialVars.testimonials_speed&&(e.timeout=parseInt(fusionTestimonialVars.testimonials_speed,10)),e.pager=".testimonial-pagination",jQuery(".fusion-testimonials .reviews").each(function(){1===jQuery(this).children().length&&jQuery(this).children().fadeIn(),e.pager="#"+jQuery(this).parent().find(".testimonial-pagination").attr("id"),e.random=jQuery(this).parent().data("random"),void 0!==jQuery(this).parent().data("speed")&&(e.timeout=parseInt(jQuery(this).parent().data("speed"),10)),jQuery(this).cycle(e)}),jQuery(window).resize(function(){jQuery(".fusion-testimonials .reviews").each(function(){jQuery(this).css("height",jQuery(this).children(".active-testimonial").height())})}))});var fusionEqualHeightVars={"content_break_point":"1000"};!function(a){"use strict";a.fn.equalHeights=function(b,c){var d;a(this).parents().find(".fusion-portfolio-wrapper");return!Modernizr.mq("only screen and (min-width: "+(parseInt(fusionEqualHeightVars.content_break_point,10)+1)+"px)")&&!Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait)")||a("body").hasClass("tax-portfolio_category")?this.each(function(){a(this).css("min-height","0"),a(this).css("height","auto"),a(this).find(".fusion-column-content-centered").css("min-height","0"),a(this).find(".fusion-column-content-centered").css("height","auto")}):(d=b||0,this.each(function(){a(this).css("min-height","0"),a(this).css("height","auto"),a(this).find(".fusion-column-content-centered").css("min-height","0"),a(this).find(".fusion-column-content-centered").css("height","auto"),a(this).outerHeight()>d&&(d=a(this).outerHeight())}),c&&d>c&&(d=c),this.each(function(){var b=d;0===parseInt(b,10)&&a(this).attr("data-empty-column","true"),a(this).children(".fusion-column-content-centered").length&&(b=d-(a(this).outerHeight()-a(this).height())),a(this).css("min-height",b),a(this).find(".fusion-column-content-centered").css("min-height",b),8<cssua.ua.ie&&a(this).find(".fusion-column-content-centered").css("height",b)}))}}(jQuery);jQuery(window).load(function(){"function"==typeof jQuery.fn.equalHeights&&(jQuery(".fusion-events-shortcode").each(function(){jQuery(this).find(".fusion-events-meta").equalHeights()}),jQuery(window).on("resize",function(){jQuery(".fusion-events-shortcode").each(function(){jQuery(this).find(".fusion-events-meta").equalHeights()})})),jQuery(".fusion-events-pagination-infinite, .fusion-events-pagination-load-more-button").each(function(){var t=jQuery(this),e="."+t.attr("class").replace(/\ /g,".").replace(/.fusion\-events\-[a-zA-Z]+\-sidebar/g,"").replace(".fusion-masonry-has-vertical","")+" ",s=t.find(".fusion-events-wrapper").data("pages"),i={layoutMode:"packery",itemSelector:".fusion-events-post",isOriginLeft:!jQuery("body.rtl").length};t.find(".fusion-events-wrapper").isotope(i),t.children(".fusion-events-wrapper").infinitescroll({navSelector:e+".fusion-infinite-scroll-trigger",nextSelector:e+".pagination-next",itemSelector:e+"div.pagination .current, "+e+" .fusion-events-post",loading:{finishedMsg:avadaPortfolioVars.infinite_finished_msg,msg:jQuery('<div class="fusion-loading-container fusion-clearfix"><div class="fusion-loading-spinner"><div class="fusion-spinner-1"></div><div class="fusion-spinner-2"></div><div class="fusion-spinner-3"></div></div><div class="fusion-loading-msg">'+avadaPortfolioVars.infinite_blog_text+"</div>")},maxPage:s||void 0,errorCallback:function(){t.find(".fusion-events-post").css("height",""),t.find(".fusion-events-wrapper").isotope(i)}},function(o){jQuery().isotope&&((o=jQuery(o)).hide(),imagesLoaded(o,function(){var n,e,i;(n=jQuery(o).find(".fusion-placeholder-image")).parents(".fusion-events-content-wrapper, .fusion-image-wrapper").animate({opacity:1}),(e=jQuery(o).find(".fusion-video")).each(function(){jQuery(this).animate({opacity:1}),jQuery(this).parents(".fusion-events-content-wrapper").animate({opacity:1})}),e.fitVids(),window.$events_images_index=0,jQuery(o).imagesLoaded().progress(function(e,i){1<=jQuery(i.img).parents(".fusion-events-content-wrapper").length?jQuery(i.img,n).parents(".fusion-events-content-wrapper").delay(100*window.$events_images_index).animate({opacity:1}):jQuery(i.img,n).parents(".fusion-image-wrapper").delay(100*window.$events_images_index).animate({opacity:1}),window.$events_images_index++}),o.fadeIn(),t.find(".fusion-events-post").css("height",""),t.find(".fusion-events-wrapper").isotope("appended",o),o.each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()}),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")}),"individual"===avadaPortfolioVars.lightbox_behavior&&jQuery(o).find(".fusion-rollover-gallery").length&&jQuery(o).find(".fusion-rollover-gallery").each(function(){window.$ilInstances.push(jQuery('[data-rel^="'+jQuery(this).attr("data-rel")+'"]').iLightBox(window.avadaLightBox.prepare_options(jQuery(this).attr("data-rel"))))}),i=t.find(".current").html(),t.find(".current").remove(),s==i&&(t.find(".fusion-loading-container").hide(),t.find(".fusion-load-more-button").hide()),"undefined"!=typeof niceScrollReInit&&niceScrollReInit()}))}),t.hasClass("fusion-events-pagination-load-more-button")&&(t.find(".fusion-events-wrapper").infinitescroll("unbind"),t.find(".fusion-load-more-button").on("click",function(e){e.preventDefault(),t.find(".fusion-events-wrapper").infinitescroll("retrieve")}))})});!function(e){"function"==typeof define&&define.amd?define([],e):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=e:e()}(function(){var i=Object.assign||window.jQuery&&jQuery.extend,u=8,a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)};!function(){if("function"==typeof window.CustomEvent)return;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();var o={textarea:!0,input:!0,select:!0,button:!0},c={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},r={move:"touchmove",cancel:"touchend",end:"touchend"},d=/\s+/,m={bubbles:!0,cancelable:!0},t="function"==typeof Symbol?Symbol("events"):{};function f(e){return e[t]||(e[t]={})}function v(e,t,n,o,i){t=t.split(d);var a,u=f(e),c=t.length;function r(e){n(e,o)}for(;c--;)(u[a=t[c]]||(u[a]=[])).push([n,r]),e.addEventListener(a,r)}function s(e,t,n,o){t=t.split(d);var i,a,u,c=f(e),r=t.length;if(c)for(;r--;)if(a=c[i=t[r]])for(u=a.length;u--;)a[u][0]===n&&(e.removeEventListener(i,a[u][1]),a.splice(u,1))}function l(e,t,n){var o=function(e){return new CustomEvent(e,m)}(t);n&&i(o,n),e.dispatchEvent(o)}function p(e){var n=e,o=!1,i=!1;function t(e){o?(n(),a(t),o=!(i=!0)):i=!1}this.kick=function(e){o=!0,i||t()},this.end=function(e){var t=n;e&&(i?(n=o?function(){t(),e()}:e,o=!0):e())}}function g(){}function h(e){e.preventDefault()}function X(e,t){var n,o;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,o=e.length;++n<o;)if(e[n].identifier===t)return e[n]}function Y(e,t){var n=X(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function n(e,t){T(e,t,e,w)}function y(e,t){w()}function w(){s(document,c.move,n),s(document,c.cancel,y)}function b(e){s(document,r.move,e.touchmove),s(document,r.cancel,e.touchend)}function T(e,t,n,o){var i=n.pageX-t.pageX,a=n.pageY-t.pageY;i*i+a*a<u*u||function(e,t,n,o,i,a){var u=e.targetTouches,c=e.timeStamp-t.timeStamp,r={altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,startX:t.pageX,startY:t.pageY,distX:o,distY:i,deltaX:o,deltaY:i,pageX:n.pageX,pageY:n.pageY,velocityX:o/c,velocityY:i/c,identifier:t.identifier,targetTouches:u,finger:u?u.length:1,enableMove:function(){this.moveEnabled=!0,this.enableMove=g,e.preventDefault()}};l(t.target,"movestart",r),a(t)}(e,t,n,i,a,o)}function E(e,t){var n=t.timer;t.touch=e,t.timeStamp=e.timeStamp,n.kick()}function S(e,t){var n=t.target,o=t.event,i=t.timer;s(document,c.move,E),s(document,c.end,S),K(n,o,i,function(){setTimeout(function(){s(n,"click",h)},0)})}function k(e,t){var n=t.target,o=t.event,i=t.timer;X(e.changedTouches,o.identifier)&&(function(e){s(document,r.move,e.activeTouchmove),s(document,r.end,e.activeTouchend)}(t),K(n,o,i))}function K(e,t,n,o){n.end(function(){return l(e,"moveend",t),o&&o()})}if(v(document,"mousedown",function(e){!function(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}(e)||function(e){return!!o[e.target.tagName.toLowerCase()]}(e)||(v(document,c.move,n,e),v(document,c.cancel,y,e))}),v(document,"touchstart",function(e){if(!o[e.target.tagName.toLowerCase()]){var t=e.changedTouches[0],n={target:t.target,pageX:t.pageX,pageY:t.pageY,identifier:t.identifier,touchmove:function(e,t){!function(e,t){var n=Y(e,t);n&&T(e,t,n,b)}(e,t)},touchend:function(e,t){!function(e,t){X(e.changedTouches,t.identifier)&&b(t)}(e,t)}};v(document,r.move,n.touchmove,n),v(document,r.cancel,n.touchend,n)}}),v(document,"movestart",function(e){if(!e.defaultPrevented&&e.moveEnabled){var t={startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},n={target:e.target,event:t,timer:new p(function(e){(function(e,t,n){var o=n-e.timeStamp;e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/o,e.velocityY=.3*e.velocityY+.7*e.deltaY/o,e.pageX=t.pageX,e.pageY=t.pageY})(t,n.touch,n.timeStamp),l(n.target,"move",t)}),touch:void 0,timeStamp:e.timeStamp};void 0===e.identifier?(v(e.target,"click",h),v(document,c.move,E,n),v(document,c.end,S,n)):(n.activeTouchmove=function(e,t){!function(e,t){var n=t.event,o=t.timer,i=Y(e,n);i&&(e.preventDefault(),n.targetTouches=e.targetTouches,t.touch=i,t.timeStamp=e.timeStamp,o.kick())}(e,t)},n.activeTouchend=function(e,t){k(e,t)},v(document,r.move,n.activeTouchmove,n),v(document,r.end,n.activeTouchend,n))}}),window.jQuery){var j="startX startY pageX pageY distX distY deltaX deltaY velocityX velocityY".split(" ");jQuery.event.special.movestart={setup:function(){return v(this,"movestart",e),!1},teardown:function(){return s(this,"movestart",e),!1},add:q},jQuery.event.special.move={setup:function(){return v(this,"movestart",C),!1},teardown:function(){return s(this,"movestart",C),!1},add:q},jQuery.event.special.moveend={setup:function(){return v(this,"movestart",Q),!1},teardown:function(){return s(this,"movestart",Q),!1},add:q}}function e(e){e.enableMove()}function C(e){e.enableMove()}function Q(e){e.enableMove()}function q(e){var o=e.handler;e.handler=function(e){for(var t,n=j.length;n--;)e[t=j[n]]=e.originalEvent[t];o.apply(this,arguments)}}});!function(b){"use strict";b.fn.fusionImageCompare=function(){return this.each(function(){function o(t){var e=v.width(),i=v.height();return{w:e+"px",h:i+"px",cw:t*e+"px",ch:t*i+"px"}}function a(t){"vertical"===f?(v.css("clip","rect(0,"+t.w+","+t.ch+",0)"),l.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(v.css("clip","rect(0,"+t.cw+","+t.h+",0)"),l.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),c.css("height",t.h),p.addClass("visible")}function e(t){var e=o(t);m.css("vertical"===f?"top":"left","vertical"===f?e.ch:e.cw),a(e)}function i(t,e){return function(t,e,i){return Math.max(e,Math.min(i,t))}("vertical"===f?(e-w)/X:(t-g)/C,0,1)}function t(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==f?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===f&&t.preventDefault(),c.addClass("active"),g=c.offset().left,w=c.offset().top,C=v.width(),X=v.height()}function n(t){c.hasClass("active")&&(r=i(t.pageX,t.pageY),e(r))}function s(){c.removeClass("active")}var c=b(this),r=void 0!==b(this).data("offset")?b(this).data("offset"):.5,f=void 0!==b(this).data("orientation")?b(this).data("orientation"):"horizontal",d=void 0!==b(this).data("move-slider-on-hover")&&b(this).data("move-slider-on-hover"),u=void 0===b(this).data("move-with-handle-only")||b(this).data("move-with-handle-only"),h=void 0!==b(this).data("click-to-move")&&b(this).data("click-to-move"),v=c.find("img:first"),l=c.find("img:last"),m=c.find(".fusion-image-before-after-handle"),p=b(".before-after-label-out-image-up-down"),g=0,w=0,C=0,X=0,Y="";b(window).on("resize.fusion-image-before-after",function(t){e(r)}),(Y=u?c:m).on("movestart",t),Y.on("move",n),Y.on("moveend",s),d&&(c.on("mouseenter",t),c.on("mousemove",n),c.on("mouseleave",s)),m.on("touchmove",function(t){t.preventDefault()}),c.find("img").on("mousedown",function(t){t.preventDefault()}),h&&c.on("click",function(t){var e;g=c.offset().left,w=c.offset().top,C=v.width(),X=v.height(),r=i(t.pageX,t.pageY),e=o(r),c.addClass("active"),"vertical"===f?m.stop(!0,!0).animate({top:e.ch},{queue:!1,duration:300,easing:"easeOutCubic",step:function(t,e){var i=o(t/X);a(i)},complete:function(){c.removeClass("active")}}):m.stop(!0,!0).animate({left:e.cw},{queue:!1,duration:300,easing:"easeOutCubic",step:function(t,e){var i=o(t/C);a(i)},complete:function(){c.removeClass("active")}})}),b(window).trigger("resize.fusion-image-before-after")})}}(jQuery),jQuery(window).load(function(){jQuery(".fusion-image-before-after").fusionImageCompare()});+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(document).find(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),b.parent(".nav-tabs").length&&b.parents(".fusion-tabs").find(".nav").find('a[href="'+b.find("a").attr("href")+'"]').parent().addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery);var fusionTabVars={"content_break_point":"1000"};!function(n){"use strict";n.fn.fusionSwitchTabOnLinkClick=function(i){var t,e;e="#_"===(t=i||("#_"===document.location.hash.substring(0,2)?document.location.hash.replace("#_","#"):document.location.hash)).substring(0,2)?t.split("#_")[1]:t.split("#")[1],t&&n(this).find('.nav-tabs li a[href="'+t+'"]').length&&(n(this).find(".nav-tabs li").removeClass("active"),n(this).find('.nav-tabs li a[href="'+t+'"]').parent().addClass("active"),n(this).find(".tab-content .tab-pane").removeClass("in").removeClass("active"),n(this).find('.tab-content .tab-pane[id="'+e+'"]').addClass("in").addClass("active")),t&&n(this).find('.nav-tabs li a[id="'+e+'"]').length&&(n(this).find(".nav-tabs li").removeClass("active"),n(this).find('.nav-tabs li a[id="'+e+'"]').parent().addClass("active"),n(this).find(".tab-content .tab-pane").removeClass("in").removeClass("active"),n(this).find('.tab-content .tab-pane[id="'+n(this).find('.nav-tabs li a[id="'+e+'"]').attr("href").split("#")[1]+'"]').addClass("in").addClass("active"))}}(jQuery),jQuery(document).ready(function(){jQuery(".fusion-tabs").each(function(){jQuery(this).fusionSwitchTabOnLinkClick()}),jQuery(".nav-tabs li").click(function(i){var t,e=jQuery(this),n=e.find("a").attr("href");e.parents(".fusion-tabs").find(".nav li").removeClass("active"),e.parents(".fusion-tabs").find(n).find(".fusion-woo-slider").length&&(t=0,e.parents(".fusion-tabs").hasClass("horizontal-tabs")&&(t=e.parents(".fusion-tabs").find(".nav").height()),e.parents(".fusion-tabs").height(e.parents(".fusion-tabs").find(".tab-content").outerHeight(!0)+t)),setTimeout(function(){"function"==typeof jQuery.fn.reinitializeGoogleMap&&e.parents(".fusion-tabs").find(n).find(".shortcode-map").each(function(){jQuery(this).reinitializeGoogleMap()}),e.parents(".fusion-tabs").find(n).find(".fusion-carousel").length&&"function"==typeof generateCarousel&&generateCarousel(),e.parents(".fusion-tabs").find(n).find(".fusion-portfolio").each(function(){var i=jQuery(this).find(".fusion-portfolio-wrapper"),t=i.attr("id");t&&(i=jQuery("#"+t)),i.isotope()}),e.parents(".fusion-tabs").find(n).find(".fusion-gallery").each(function(){jQuery(this).isotope()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesHeight&&e.parents(".fusion-tabs").find(n).find(".fusion-flip-boxes").not(".equal-heights").find(".flip-box-inner-wrapper").each(function(){jQuery(this).fusionCalcFlipBoxesHeight()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesEqualHeights&&e.parents(".fusion-tabs").find(n).find(".fusion-flip-boxes.equal-heights").each(function(){jQuery(this).fusionCalcFlipBoxesEqualHeights()}),"function"==typeof jQuery.fn.equalHeights&&e.parents(".fusion-tabs").find(n).find(".fusion-fullwidth.fusion-equal-height-columns").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").equalHeights()}),e.parents(".fusion-tabs").find(n).find(".fusion-woo-slider").length&&e.parents(".fusion-tabs").css("height",""),e.parents(".fusion-tabs").find(n).find(".crossfade-images").each(function(){fusionResizeCrossfadeImagesContainer(jQuery(this)),fusionResizeCrossfadeImages(jQuery(this))}),e.parents(".fusion-tabs").find(n).find(".fusion-blog-shortcode").each(function(){jQuery(this).find(".fusion-blog-layout-grid").isotope()}),e.parents(".fusion-tabs").find(n).find(".fusion-testimonials .reviews").each(function(){jQuery(this).css("height",jQuery(this).children(".active-testimonial").height())}),"function"==typeof calcSelectArrowDimensions&&calcSelectArrowDimensions(),"function"==typeof wrapGravitySelects&&wrapGravitySelects(),jQuery(window).trigger("resize")},350),i.preventDefault()}),Modernizr.mq("only screen and (max-width: "+fusionTabVars.content_break_point+"px)")&&jQuery(".tabs-vertical").addClass("tabs-horizontal").removeClass("tabs-vertical"),jQuery(window).on("resize",function(){Modernizr.mq("only screen and (max-width: "+fusionTabVars.content_break_point+"px)")?(jQuery(".tabs-vertical").addClass("tabs-original-vertical"),jQuery(".tabs-vertical").addClass("tabs-horizontal").removeClass("tabs-vertical")):jQuery(".tabs-original-vertical").removeClass("tabs-horizontal").addClass("tabs-vertical")})}),jQuery(window).load(function(){jQuery(".vertical-tabs").length&&jQuery(".vertical-tabs .tab-content .tab-pane").each(function(){var i;jQuery(this).parents(".vertical-tabs").hasClass("clean")?jQuery(this).css("min-height",jQuery(".vertical-tabs .nav-tabs").outerHeight()-10):jQuery(this).css("min-height",jQuery(".vertical-tabs .nav-tabs").outerHeight()),jQuery(this).find(".video-shortcode").length&&(i=parseInt(jQuery(this).find(".fusion-video").css("max-width").replace("px",""),10),jQuery(this).css({float:"none","max-width":i+60}))}),jQuery(window).on("resize",function(){jQuery(".vertical-tabs").length&&jQuery(".vertical-tabs .tab-content .tab-pane").css("min-height",jQuery(".vertical-tabs .nav-tabs").outerHeight())})});var cssua=function(a,b,c){"use strict";var d=" ua-",e=/\s*([\-\w ]+)[\s\/\:]([\d_]+\b(?:[\-\._\/]\w+)*)/,f=/([\w\-\.]+[\s\/][v]?[\d_]+\b(?:[\-\._\/]\w+)*)/g,g=/\b(?:(blackberry\w*|bb10)|(rim tablet os))(?:\/(\d+\.\d+(?:\.\w+)*))?/,h=/\bsilk-accelerated=true\b/,i=/\bfluidapp\b/,j=/(\bwindows\b|\bmacintosh\b|\blinux\b|\bunix\b)/,k=/(\bandroid\b|\bipad\b|\bipod\b|\bwindows phone\b|\bwpdesktop\b|\bxblwp7\b|\bzunewp7\b|\bwindows ce\b|\bblackberry\w*|\bbb10\b|\brim tablet os\b|\bmeego|\bwebos\b|\bpalm|\bsymbian|\bj2me\b|\bdocomo\b|\bpda\b|\bchtml\b|\bmidp\b|\bcldc\b|\w*?mobile\w*?|\w*?phone\w*?)/,l=/(\bxbox\b|\bplaystation\b|\bnintendo\s+\w+)/,m={parse:function(a,b){var c={};if(b&&(c.standalone=b),!(a=(""+a).toLowerCase()))return c;for(var d,m,n=a.split(/[()]/),o=0,p=n.length;o<p;o++)if(o%2){var q=n[o].split(";");for(d=0,m=q.length;d<m;d++)if(e.exec(q[d])){var r=RegExp.$1.split(" ").join("_"),s=RegExp.$2;(!c[r]||parseFloat(c[r])<parseFloat(s))&&(c[r]=s)}}else{var t=n[o].match(f);if(t)for(d=0,m=t.length;d<m;d++){var u=t[d].split(/[\/\s]+/);u.length&&"mozilla"!==u[0]&&(c[u[0].split(" ").join("_")]=u.slice(1).join("-"))}}if(k.exec(a))c.mobile=RegExp.$1,g.exec(a)&&(delete c[c.mobile],c.blackberry=c.version||RegExp.$3||RegExp.$2||RegExp.$1,RegExp.$1?c.mobile="blackberry":"0.0.1"===c.version&&(c.blackberry="7.1.0.0"));else if(j.exec(a))c.desktop=RegExp.$1;else if(l.exec(a)){c.game=RegExp.$1;var v=c.game.split(" ").join("_");c.version&&!c[v]&&(c[v]=c.version)}return c.intel_mac_os_x?(c.mac_os_x=c.intel_mac_os_x.split("_").join("."),delete c.intel_mac_os_x):c.cpu_iphone_os?(c.ios=c.cpu_iphone_os.split("_").join("."),delete c.cpu_iphone_os):c.cpu_os?(c.ios=c.cpu_os.split("_").join("."),delete c.cpu_os):"iphone"!==c.mobile||c.ios||(c.ios="1"),c.opera&&c.version?(c.opera=c.version,delete c.blackberry):h.exec(a)?c.silk_accelerated=!0:i.exec(a)&&(c.fluidapp=c.version),c.applewebkit?(c.webkit=c.applewebkit,delete c.applewebkit,c.opr&&(c.opera=c.opr,delete c.opr,delete c.chrome),c.safari&&(c.chrome||c.crios||c.opera||c.silk||c.fluidapp||c.phantomjs||c.mobile&&!c.ios?delete c.safari:c.version&&!c.rim_tablet_os?c.safari=c.version:c.safari={419:"2.0.4",417:"2.0.3",416:"2.0.2",412:"2.0",312:"1.3",125:"1.2",85:"1.0"}[parseInt(c.safari,10)]||c.safari)):c.msie||c.trident?(c.opera||(c.ie=c.msie||c.rv),delete c.msie,c.windows_phone_os?(c.windows_phone=c.windows_phone_os,delete c.windows_phone_os):"wpdesktop"!==c.mobile&&"xblwp7"!==c.mobile&&"zunewp7"!==c.mobile||(c.mobile="windows desktop",c.windows_phone=+c.ie<9?"7.0":+c.ie<10?"7.5":"8.0",delete c.windows_nt)):(c.gecko||c.firefox)&&(c.gecko=c.rv),c.rv&&delete c.rv,c.version&&delete c.version,c},format:function(a){var b="";for(var c in a)c&&a.hasOwnProperty(c)&&(b+=function(a,b){a=a.split(".").join("-");var c=d+a;if("string"==typeof b){b=b.split(" ").join("_").split(".").join("-");for(var e=b.indexOf("-");e>0;)c+=d+a+"-"+b.substring(0,e),e=b.indexOf("-",e+1);c+=d+a+"-"+b}return c}(c,a[c]));return b},encode:function(a){var b="";for(var c in a)c&&a.hasOwnProperty(c)&&(b&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b}};m.userAgent=m.ua=m.parse(b,c);var n=m.format(m.ua)+" js";return a.className?a.className=a.className.replace(/\bno-js\b/g,"")+n:a.className=n.substr(1),m}(document.documentElement,navigator.userAgent,navigator.standalone);(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;if(!b.didScroll&&!l)return b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle)}),a.bind(o,function(){var a;if(!b.didResize)return b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle)})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){if(b.options.continuous||a===g.length-1)return b.trigger([e])})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;if(e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,(!d.options.onlyOnScroll||null==g)&&d.enabled)return null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([o,p].join(" ")),delete k[this.id]},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){return null==b&&(b={}),null==b.handler&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b>0)return a.push(c[b-1])})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){if(b<c.length-1)return a.push(c[b+1])})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):d?c.error("The "+d+" method does not exist in jQuery Waypoints."):c.error("jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){if(d(e,b))return f.push(b)}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}).call(this);function getAdminbarHeight(){var a=0;return jQuery("#wpadminbar").length&&(a=parseInt(jQuery("#wpadminbar").outerHeight(),10)),a}function getWaypointOffset(a){var b,c,d=a.data("animationoffset");return void 0===d&&(d="bottom-in-view"),"top-out-of-view"===d&&(b=getAdminbarHeight(),c="function"===getWaypointTopOffset?getWaypointTopOffset():0,d=b+c),d}jQuery(window).load(function(){setTimeout(function(){jQuery.waypoints("viewportHeight")},300)});var fusionAnimationsVars={"disable_mobile_animate_css":"1"};!function(a){"use strict";a.fn.initWaypoint=function(){a().waypoint&&a(".fusion-animated").each(function(){var i=getWaypointOffset(a(this));"top-out-of-view"===i&&(i=getAdminbarHeight()+("function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():"0")),a(this).waypoint(function(){var i,t,n;a(this).parents(".fusion-delayed-animation").length||(a(this).css("visibility","visible"),i=a(this).data("animationtype"),t=a(this).data("animationduration"),a(this).addClass(i),t&&(a(this).css("-moz-animation-duration",t+"s"),a(this).css("-webkit-animation-duration",t+"s"),a(this).css("-ms-animation-duration",t+"s"),a(this).css("-o-animation-duration",t+"s"),a(this).css("animation-duration",t+"s"),n=a(this),setTimeout(function(){n.removeClass(i)},1e3*t)))},{triggerOnce:!0,offset:i})})}}(jQuery),jQuery(document).ready(function(){"1"!=fusionAnimationsVars.disable_mobile_animate_css&&cssua.ua.mobile?jQuery("body").addClass("dont-animate"):jQuery("body").addClass("do-animate")}),jQuery(window).load(function(){setTimeout(function(){jQuery(window).initWaypoint()},300)});!function(a){"use strict";a.fn.fusionScroller=function(b){var c=a.extend({type:"opacity",offset:0,endOffset:""},b);a(this).each(function(){var b,d,e,f=this;a(window).on("scroll",function(){var g,h,i,j,k;b=a(f).offset().top,a("body").hasClass("admin-bar")&&(b=a(f).offset().top-a("#wpadminbar").outerHeight()),0<c.offset&&(b=a(f).offset().top-c.offset),d=a(f).outerHeight(),e=b+d,c.endOffset&&a(c.endOffset).length&&(e=a(c.endOffset).offset().top),g=a(this).scrollTop(),g>=b&&g<=e&&(h=e-g,i=h/d*100,"opacity"===c.type?(j=i/100*1,a(f).css({opacity:j})):"blur"===c.type?(i=100-i,k="blur("+i/100*50+"px)",a(f).css({"-webkit-filter":k,"-ms-filter":k,"-o-filter":k,"-moz-filter":k,filter:k})):"fading_blur"===c.type&&(j=i/100*1,i=100-i,k="blur("+i/100*50+"px)",a(f).css({"-webkit-filter":k,"-ms-filter":k,"-o-filter":k,"-moz-filter":k,filter:k,opacity:j}))),g<b&&("opacity"===c.type?a(f).css({opacity:1}):"blur"===c.type?(k="blur(0px)",a(f).css({"-webkit-filter":k,"-ms-filter":k,"-o-filter":k,"-moz-filter":k,filter:k})):"fading_blur"===c.type&&(k="blur(0px)",a(f).css({opacity:1,"-webkit-filter":k,"-ms-filter":k,"-o-filter":k,"-moz-filter":k,filter:k})))})})}}(jQuery);!function(a,b,c){for(var d,e=0,f=function(a){d&&(b.requestAnimationFrame(f,a),jQuery.fx.tick())},g=["ms","moz","webkit","o"],h=0,i=g.length;h<i&&!b.requestAnimationFrame;++h)b.requestAnimationFrame=b[g[h]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[g[h]+"CancelAnimationFrame"]||b[g[h]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(a,c){var d=(new Date).getTime(),f=d-e,g=Math.max(0,16-f),h=b.setTimeout(function(){a(d+g)},g);return e=d+g,h}),b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)}),jQuery.fx.timer=function(a){a()&&jQuery.timers.push(a)&&!d&&(d=!0,f(a.elem))},jQuery.fx.stop=function(){d=!1}}(jQuery,this);function _fusionRefreshScroll(){window._fusionScrollTop=window.pageYOffset,window._fusionScrollLeft=window.pageXOffset}function _fusionParallaxAll(){var a;for(_fusionRefreshScroll(),a=0;a<window._fusionImageParallaxImages.length;a++)window._fusionImageParallaxImages[a].doParallax()}function _fusionRefreshWindow(){window._fusionScrollTop=window.pageYOffset,window._fusionWindowHeight=jQuery(window).height(),window._fusionScrollLeft=window.pageXOffset,window._fusionWindowWidth=jQuery(window).width()}!function(a){!function(){var b=0;a.requestAnimationFrame||(a.webkitRequestAnimationFrame&&(a.requestAnimationFrame=a.webkitRequestAnimationFrame,a.cancelAnimationFrame=a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame),a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f},a.cancelAnimationFrame=function(a){clearTimeout(a)})}(),"function"==typeof define&&define(function(){return a.requestAnimationFrame})}(window),void 0===window._fusionImageParallaxImages&&(window._fusionImageParallaxImages=[]),function(a,b,c,d){function e(b,c){var d;this.element=b,this.settings=a.extend({},g,c),d=this.settings.align.split(" "),this.settings.xpos=d[0],2===d.length?this.settings.ypos=d[1]:this.settings.ypos="center",this._defaults=g,this._name=f,this.init()}var f="fusionImageParallax",g={direction:"up",mobileenabled:!1,mobiledevice:!1,width:"",height:"",align:"center",opacity:"1",velocity:".3",image:"",target:"",repeat:!1,loopScroll:"",loopScrollTime:"2",removeOrig:!1,complete:function(){}};a.extend(e.prototype,{init:function(){""===this.settings.target&&(this.settings.target=a(this.element)),""===this.settings.image&&void 0!==a(this.element).css("backgroundImage")&&""!==a(this.element).css("backgroundImage")&&(this.settings.image=a(this.element).css("backgroundImage").replace(/url\(|\)|"|'/g,"")),b._fusionImageParallaxImages.push(this),this.setup(),this.settings.complete(),this.containerWidth=0,this.containerHeight=0},setup:function(){!1!==this.settings.removeOrig&&a(this.element).remove(),this.resizeParallaxBackground()},doParallax:function(){var a,c,d,e,f,g,h,i,j=this.settings.target.find(".parallax-inner");this.settings.mobiledevice&&!this.settings.mobileenabled||this.isInView()&&(j.css({minHeight:"150px"}),a=this.settings.target.width()+parseInt(this.settings.target.css("paddingRight"),10)+parseInt(this.settings.target.css("paddingLeft"),10),c=this.settings.target.height()+parseInt(this.settings.target.css("paddingTop"),10)+parseInt(this.settings.target.css("paddingBottom"),10),0===this.containerWidth||0===this.containerHeight||a===this.containerWidth&&c===this.containerHeight||this.resizeParallaxBackground(),this.containerWidth=a,this.containerHeight=c,void 0!==j&&0!==j.length&&(d=(b._fusionScrollTop-this.scrollTopMin)/(this.scrollTopMax-this.scrollTopMin),e=this.moveMax*d,"down"===this.settings.direction&&(e*=1.25),"left"!==this.settings.direction&&"up"!==this.settings.direction||(e*=-1),f="translate3d(",g="px, -2px, 0px)",h="translate3d(0px, ",i="px, 0px)",("undefined"!=typeof _fusionParallaxIE9||jQuery("html").hasClass("ua-safari")&&j.parent().find(".fusion-section-separator").length)&&(f="translate(",g="px, 0px)",h="translate(0px, ",i="px)"),"no-repeat"===j.css("background-repeat")&&("down"===this.settings.direction&&0>e?e=0:"up"===this.settings.direction&&0<e?e=0:"right"===this.settings.direction&&0>e?e=0:"left"===this.settings.direction&&0<e&&(e=0)),"fixed"===this.settings.direction||("left"===this.settings.direction||"right"===this.settings.direction?j.css({webkitTransform:f+e+g,mozTransform:f+e+g,msTransform:f+e+g,oTransform:f+e+g,transform:f+e+g}):j.css({webkitTransform:h+e+i,mozTransform:h+e+i,msTransform:h+e+i,oTransform:h+e+i,transform:h+e+i}))))},isInView:function(){var a,c,d=this.settings.target;if(void 0!==d&&0!==d.length)return a=d.offset().top,c=d.height()+parseInt(d.css("paddingTop"),10)+parseInt(d.css("paddingBottom"),10),!(a+c<b._fusionScrollTop||b._fusionScrollTop+b._fusionWindowHeight<a)},resizeParallaxBackground:function(){var a,c,d,e,f,g,h,i,j,k,l,m=this.settings.target,n=!1;void 0!==m&&0!==m.length&&m.is(":visible")&&(n=m.hasClass("lazyload"),a="true"===this.settings.repeat||!0===this.settings.repeat||1===this.settings.repeat,"none"===this.settings.direction?(c=m.width()+parseInt(m.css("paddingRight"),10)+parseInt(m.css("paddingLeft"),10),e=m.offset().left,"center"===this.settings.align?e="50% 50%":"left"===this.settings.align?e="0% 50%":"right"===this.settings.align?e="100% 50%":"top"===this.settings.align?e="50% 0%":"bottom"===this.settings.align&&(e="50% 100%"),m.css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundSize:"cover",backgroundAttachment:"scroll",backgroundPosition:e,backgroundRepeat:"no-repeat"}),""!==this.settings.image&&"none"!==this.settings.image&&m.css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:n?"":"url("+this.settings.image+")"})):"fixed"===this.settings.direction?(m.css({backgroundAttachment:"fixed",backgroundRepeat:"repeat"}),""!==this.settings.image&&"none"!==this.settings.image&&m.attr("style","background-image: url("+this.settings.image+") !important;"+m.attr("style"))):"left"===this.settings.direction||"right"===this.settings.direction?(c=m.width()+parseInt(m.css("paddingRight"),10)+parseInt(m.css("paddingLeft"),10),d=m.height()+4+parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10),f=c,c+=400*Math.abs(parseFloat(this.settings.velocity)),g=0,"right"===this.settings.direction&&(g-=c-f),1>m.find(".parallax-inner").length&&m.prepend('<div class="parallax-inner"></div>'),m.css({position:"relative",overflow:"hidden",zIndex:1,"background-image":"none"}).attr("style",m.attr("style")).find(".parallax-inner").css({pointerEvents:"none",width:c,height:d,position:"absolute",zIndex:-1,top:0,left:g,opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundPosition:a?"0 0 ":this.settings.xpos+" "+this.settings.ypos,backgroundRepeat:a?"repeat":"no-repeat",backgroundSize:a?"auto":"cover"}),""!==this.settings.image&&"none"!==this.settings.image&&(m.find(".parallax-inner").css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:n?"":"url("+this.settings.image+")"}),""!==this.settings.backgroundColor&&m.find(".parallax-inner").css({"background-color":this.settings.backgroundColor,"background-blend-mode":"overlay"})),i=0,m.offset().top>b._fusionWindowHeight&&(i=m.offset().top-b._fusionWindowHeight),j=m.offset().top+m.height()+parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10),this.moveMax=c-f,this.scrollTopMin=i,this.scrollTopMax=j):(h=900,h=jQuery(b).height(),c=m.width()+parseInt(m.css("paddingRight"),10)+parseInt(m.css("paddingLeft"),10),d=m.height()+parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10),k=d,d+=h*Math.abs(parseFloat(this.settings.velocity)),l=0,"down"===this.settings.direction&&(l-=d-k),1>m.find(".parallax-inner").length&&m.prepend('<div class="parallax-inner"></div>'),m.css({position:"relative",overflow:"hidden",zIndex:1,"background-image":"none"}).attr("style",m.attr("style")).find(".parallax-inner").css({pointerEvents:"none",width:c,height:d,position:"absolute",zIndex:-1,top:l,left:0,opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundPosition:a?"0 0 ":this.settings.xpos+" "+this.settings.ypos,backgroundRepeat:a?"repeat":"no-repeat",backgroundSize:a?"auto":"cover"}),""!==this.settings.image&&"none"!==this.settings.image&&(m.find(".parallax-inner").css({opacity:Math.abs(parseFloat(this.settings.opacity)/100),backgroundImage:n?"":"url("+this.settings.image+")"}),""!==this.settings.backgroundColor&&m.find(".parallax-inner").css({"background-color":this.settings.backgroundColor,"background-blend-mode":"overlay"})),i=0,m.offset().top>b._fusionWindowHeight&&(i=m.offset().top-b._fusionWindowHeight),j=m.offset().top+m.height()+parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10),this.moveMax=d-k,this.scrollTopMin=i,this.scrollTopMax=j),n&&m.find(".parallax-inner").attr("data-bg",this.settings.image).addClass("lazyload"))},isMobile:function(){return cssua.ua.mobile}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this}}(jQuery,window,document),jQuery(document).ready(function(a){"use strict";function b(){var a;for(_fusionRefreshScroll(),a=0;a<window._fusionImageParallaxImages.length;a++)window._fusionImageParallaxImages[a].doParallax()}a(window).on("scroll touchmove touchstart touchend gesturechange",function(){requestAnimationFrame(_fusionParallaxAll)}),cssua.ua.mobile&&requestAnimationFrame(b),a(window).on("resize",function(){setTimeout(function(){_fusionRefreshWindow(),jQuery.each(window._fusionImageParallaxImages,function(a,b){b.resizeParallaxBackground()})},1)}),setTimeout(function(){_fusionRefreshWindow(),jQuery.each(window._fusionImageParallaxImages,function(a,b){b.resizeParallaxBackground()})},1),setTimeout(function(){_fusionRefreshWindow(),jQuery.each(window._fusionImageParallaxImages,function(a,b){b.resizeParallaxBackground()})},100)}),jQuery(window).load(function(){setTimeout(function(){_fusionRefreshWindow(),jQuery.each(window._fusionImageParallaxImages,function(a,b){b.resizeParallaxBackground()})},1),setTimeout(function(){_fusionRefreshWindow(),jQuery.each(window._fusionImageParallaxImages,function(a,b){b.resizeParallaxBackground()})},1e3)}),jQuery(document).ready(function(a){"use strict";function b(){return cssua.ua.mobile}b()&&a(".fusion-bg-parallax.video > div").remove(),a(".fusion-bg-parallax").next().addClass("bg-parallax-parent"),a(".fusion-bg-parallax").attr("style","").css("display","none"),a(".fusion-bg-parallax").each(function(){a(this).fusionImageParallax({image:a(this).data("bg-image"),backgroundColor:a(this).data("bg-color"),direction:a(this).data("direction"),mobileenabled:a(this).data("mobile-enabled"),mobiledevice:b(),opacity:a(this).data("opacity"),width:a(this).data("bg-width"),height:a(this).data("bg-height"),velocity:a(this).data("velocity"),align:a(this).data("bg-align"),repeat:a(this).data("bg-repeat"),target:a(this).next(),complete:function(){}})})});var fusionVideoBgVars={"status_vimeo":"1","status_yt":"1"};function _fbRowGetAllElementsWithAttribute(a){var b,c,d=[],e=document.getElementsByTagName("*");for(b=0,c=e.length;b<c;b++)e[b].getAttribute(a)&&!jQuery(e[b]).parents(".tfs-slider").length&&d.push(e[b]);return d}function _fbRowOnPlayerReady(a){var b,c,d=a.target,e=0,f=!0;d.playVideo(),d.isMute&&d.mute(),0!==jQuery("[data-youtube-video-id="+d.getVideoData().video_id+"]").data("loop")&&(b=d.getCurrentTime(),c=+new Date/1e3,d.loopInterval=setInterval(function(){void 0!==d.loopTimeout&&clearTimeout(d.loopTimeout),b===d.getCurrentTime()?e=b+(+new Date/1e3-c):(e=d.getCurrentTime(),c=+new Date/1e3),b=d.getCurrentTime(),e+(f?.45:.21)>=d.getDuration()&&(d.pauseVideo(),d.seekTo(0),d.playVideo(),f=!1)},150))}function _fbRowOnPlayerStateChange(a){a.data===YT.PlayerState.ENDED?(void 0!==a.target.loopTimeout&&clearTimeout(a.target.loopTimeout),0!==jQuery("[data-youtube-video-id="+a.target.getVideoData().video_id+"]").data("loop")&&a.target.seekTo(0)):a.data===YT.PlayerState.PLAYING&&jQuery(a.target.getIframe()).parent().css("opacity","1")}function resizeVideo(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=a.parent();if(!q.find("iframe").hasClass("fusion-hidden")||!q.find("iframe").attr("data-privacy-src")){if(null===q.find("iframe").width())return void setTimeout(function(){resizeVideo(a)},500);b=a,b.css({width:"auto",height:"auto",left:"auto",top:"auto"}),b.css("position","absolute"),o=q.find("> div").data("display"),q.find("iframe").width(),q.find("iframe").height(),c=q.width(),d=q.height(),e=parseInt(q.css("padding-left"),10),f=parseInt(q.css("padding-right"),10),1<=jQuery(".width-100").length&&(0<f&&(c+=f),!1<e&&(c+=e)),i="16:9",void 0!==a.attr("data-video-aspect-ratio")&&-1!==a.attr("data-video-aspect-ratio").indexOf(":")&&(i=a.attr("data-video-aspect-ratio").split(":"),i[0]=parseFloat(i[0]),i[1]=parseFloat(i[1])),h=d,g=i[0]/i[1]*d,i[0]/i[1]*d-c,c*i[1]/i[0]-d,"contain"===o?(q.css("paddingTop",q.parent("li").find(".slide-content-container").css("paddingTop")),h>=d&&(j=d,k=i[0]/i[1]*d),k>=c&&(k=c,j=i[1]/i[0]*c)):g>=c&&h>=d?(j=d,k=i[0]/i[1]*d):(k=c,j=c*i[1]/i[0]),1<=jQuery(".width-100").length&&(0<f&&(k+=f),0<e&&(k+=e),j=k*i[1]/i[0]),m=-(j-d)/2,n=-(k-c)/2,1>q.find(".fusion-video-cover").length&&(l=q.find("iframe").parent(),l.prepend('<div class="fusion-video-cover">&nbsp;</div>')),q.is(":visible")&&(q.find(".fusion-video-cover").css({"z-index":0,width:k,height:j,position:"absolute"}),p="iframe",q.hasClass("video-background")&&(p="iframe.fusion-container-video-bg"),q.find(p).parent().css({marginLeft:n,marginTop:m}),q.find(p).css({width:k,height:j,"z-index":-1}))}}function vimeoReady(a){var b,c=jQuery("#"+a).parents("[data-vimeo-video-id]").first();("function"!=typeof fusionGetConsent||fusionGetConsent("vimeo"))&&(b=new Vimeo.Player(a),"yes"===c.data("mute")&&b.setVolume(0),"no"===c.data("mute")&&b.setVolume(1),b.on("timeupdate",function(a){c.css("opacity","1"),b.off("timeupdate")}),jQuery("#"+a).attr("data-privacy-src")&&resizeVideo(c))}function fusionInitVimeoPlayers(){var a,b,c,d;if(("function"!=typeof fusionGetConsent||fusionGetConsent("vimeo"))&&Number(fusionVideoBgVars.status_vimeo)&&(a=jQuery("[data-vimeo-video-id]"),0<a.length))for(b=a.find('> iframe, iframe[data-privacy-type="vimeo"]'),c=b.length,i=0;i<c;i++)d=b[i],jQuery("html").hasClass("ua-ie-11")&&jQuery(d).parent().css("opacity","1"),"function"==typeof vimeoReady&&vimeoReady(d.getAttribute("id"))}var $youtubeBGVideos={};if(Number(fusionVideoBgVars.status_yt))var onYouTubeIframeAPIReady=function(){var a,b,c,d,e,f=_fbRowGetAllElementsWithAttribute("data-youtube-video-id");if("function"!=typeof fusionGetConsent||fusionGetConsent("youtube"))for(a=0;a<f.length;a++){for(b=f[a].getAttribute("data-youtube-video-id"),c="",d=0;d<f[a].childNodes.length;d++)if(/div/i.test(f[a].childNodes[d].tagName)){c=f[a].childNodes[d].getAttribute("id");break}""!==c&&(e=new YT.Player(c,{height:"auto",width:"auto",videoId:b,playerVars:{autohide:1,autoplay:1,fs:0,showinfo:0,modestBranding:1,start:0,controls:0,rel:0,disablekb:1,iv_load_policy:3,wmode:"transparent"},events:{onReady:_fbRowOnPlayerReady,onStateChange:_fbRowOnPlayerStateChange}}),e.isMute=!1,"yes"===f[a].getAttribute("data-mute")&&(e.isMute=!0),"true"===f[a].getAttribute("data-youtube-video-id")&&e.setPlaybackQuality("hd720"),setTimeout(function(){jQuery("#"+c).css("visibility","visible")},500))}};jQuery(document).ready(function(a){var b;a("body").hasClass("vc_editor")||(a(".bg-parallax.video, .fusion-bg-parallax.video").each(function(){a(this).prependTo(a(this).next().addClass("video")),a(this).css({opacity:Math.abs(parseFloat(a(this).attr("data-opacity"))/100)})}),b=a("[data-youtube-video-id], [data-vimeo-video-id]").parent(),b.css("overflow","hidden"),a("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var b=a(this);setTimeout(function(){resizeVideo(b)},100)}),a("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var b=a(this);setTimeout(function(){resizeVideo(b)},1e3)}),a(window).resize(function(){a("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var b=a(this);setTimeout(function(){resizeVideo(b)},2)})}),fusionInitVimeoPlayers())}),jQuery(window).load(function(){jQuery("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var a=jQuery(this);setTimeout(function(){resizeVideo(a)},500)})});var fusionContainerVars={"content_break_point":"1000","container_hundred_percent_height_mobile":"0","is_sticky_header_transparent":"0"};function setCorrectResizeValuesForScrollSections(){var e=jQuery("#content").find(".fusion-scroll-section"),n=0,i=(n=0,0),t=0;e.length&&(jQuery(".fusion-scroll-section.active").find(".fusion-scroll-section-element").css({left:jQuery("#content").offset().left}),jQuery(".fusion-scroll-section").find(".fusion-scroll-section-element").css({width:jQuery("#content").width()}),0==fusionContainerVars.container_hundred_percent_height_mobile&&(Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")?(jQuery(".fusion-scroll-section").removeClass("active").addClass("fusion-scroll-section-mobile-disabled"),jQuery(".fusion-scroll-section").attr("style",""),jQuery(".fusion-scroll-section").find(".fusion-scroll-section-element").attr("style",""),jQuery(".fusion-scroll-section").find(".hundred-percent-height-scrolling").css("height","auto"),jQuery(".fusion-scroll-section").find(".fusion-fullwidth-center-content").css("height","auto")):jQuery(".fusion-scroll-section").hasClass("fusion-scroll-section-mobile-disabled")&&(jQuery(".fusion-scroll-section").find(".fusion-fullwidth-center-content").css("height",""),Boolean(Number(fusionContainerVars.is_sticky_header_transparent))||"function"!=typeof getStickyHeaderHeight||(n=getStickyHeaderHeight(!0)),jQuery("#wpadminbar").length&&(t=parseInt(jQuery("#wpadminbar").height(),10)),i=n+t,e.each(function(){1<jQuery(this).children("div").length&&(jQuery(this).css("height",100*jQuery(this).children("div").size()+50+"vh"),jQuery(this).find(".hundred-percent-height-scrolling").css("height","calc(100vh - "+i+"px)"))}),scrollToCurrentScrollSection()))),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").length&&(Boolean(Number(fusionContainerVars.is_sticky_header_transparent))||"function"!=typeof getStickyHeaderHeight||(n=getStickyHeaderHeight(!0)),jQuery("#wpadminbar").length&&(t=parseInt(jQuery("#wpadminbar").height(),10)),i=n+t,0==fusionContainerVars.container_hundred_percent_height_mobile&&(Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")?(jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").css("height","auto"),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").find(".fusion-fullwidth-center-content").css("height","auto")):(jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").css("height","calc(100vh - "+i+"px)"),jQuery(".hundred-percent-height.non-hundred-percent-height-scrolling").find(".fusion-fullwidth-center-content").css("height",""))))}function scrollToCurrentScrollSection(){jQuery(window).scrollTop();var s=Math.ceil(jQuery(window).scrollTop()),e=jQuery(window).height(),o=Math.floor(s+e),n=Boolean(Number(fusionContainerVars.is_sticky_header_transparent))||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0),i=jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0;s+=n+i,jQuery(".fusion-page-load-link").hasClass("fusion-page.load-scroll-section-link")||jQuery(".fusion-scroll-section").each(function(){var e=jQuery(this),n=Math.ceil(e.offset().top),i=Math.ceil(e.outerHeight()),t=Math.floor(n+i);n<=s&&o<=t&&(e.addClass("active"),jQuery("html, body").animate({scrollTop:n-50},{duration:50,easing:"easeInExpo",complete:function(){jQuery("html, body").animate({scrollTop:n},{duration:50,easing:"easeOutExpo",complete:function(){Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")||jQuery(".fusion-scroll-section").removeClass("fusion-scroll-section-mobile-disabled")}})}}))})}jQuery(window).load(function(){jQuery(".fullwidth-faded").fusionScroller({type:"fading_blur"})}),jQuery(document).ready(function(){Modernizr.mq("only screen and (max-width: "+fusionContainerVars.content_break_point+"px)")&&jQuery(".fullwidth-faded").each(function(){var e=jQuery(this).css("background-image"),n=jQuery(this).css("background-color");jQuery(this).parent().css("background-image",e),jQuery(this).parent().css("background-color",n),jQuery(this).remove()})}),jQuery(window).load(function(){jQuery("#content").find(".fusion-scroll-section").length&&void 0===jQuery(".fusion-page-load-link").attr("href")&&setTimeout(function(){scrollToCurrentScrollSection()},400)}),jQuery(document).ready(function(){var n,i,e,t=jQuery("#content").find(".fusion-scroll-section"),s=(Boolean(Number(fusionContainerVars.is_sticky_header_transparent))||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0))+(jQuery("#wpadminbar").length?parseInt(jQuery("#wpadminbar").height(),10):0);t.length&&(jQuery("#content").find(".non-hundred-percent-height-scrolling").length||1!==t.length||jQuery.trim(jQuery("#sliders-container").html())||(t.addClass("active"),t.find(".fusion-scroll-section-nav li:first a").addClass("active"),i=!0),t.each(function(){1<jQuery(this).children("div").length&&(e=s?"calc("+(100*jQuery(this).children("div").size()+50)+"vh - "+s+"px)":100*jQuery(this).children("div").size()+50+"vh",jQuery(this).css("height",e),s&&(jQuery(this).find(".hundred-percent-height-scrolling").css("height","calc(100vh - "+s+"px)"),jQuery(this).find(".fusion-scroll-section-nav").css("top","calc(50% + "+s/2+"px)")))}),n=jQuery(window).scrollTop(),jQuery(window).scroll(function(){var e=jQuery(window).scrollTop();jQuery(".fusion-scroll-section").each(function(){1<jQuery(this).children("div").length&&!jQuery(this).hasClass("fusion-scroll-section-mobile-disabled")&&jQuery(this).fusionPositionScrollSectionElements(n,e,i)}),n=e}),jQuery(".fusion-scroll-section-link").on("click",function(e){var n=jQuery(this).parents(".fusion-scroll-section"),i=parseInt(jQuery(this).parents(".fusion-scroll-section-nav").find(".fusion-scroll-section-link.active").data("element"),10),t=parseInt(jQuery(this).data("element"),10),s=Math.abs(t-i),o=(350+30*(s-1))*s;e.preventDefault(),0!==s&&(20<s&&(o=950*s),jQuery(this).parents(".fusion-scroll-section").find(".fusion-scroll-section-element").removeClass("active"),jQuery("html, body").animate({scrollTop:Math.ceil(n.offset().top)+jQuery(window).height()*(jQuery(this).data("element")-1)},o,"linear"))})),jQuery(".hundred-percent-height").length&&(setCorrectResizeValuesForScrollSections(),jQuery(window).on("resize",function(){setCorrectResizeValuesForScrollSections()}))}),function(g){"use strict";g.fn.fusionPositionScrollSectionElements=function(e,n,i){var t,s,o,l,r=g(this),c=Math.ceil(r.offset().top),a=Math.ceil(r.outerHeight()),d=Math.floor(c+a),u=Math.ceil(g(window).scrollTop()),h=g(window).height(),f=Math.floor(u+h),y=r.find(".fusion-scroll-section-element").length,p=0;if(i=i||!1,s=g("#wpadminbar").length?parseInt(g("#wpadminbar").height(),10):0,u+=s+=Boolean(Number(fusionContainerVars.is_sticky_header_transparent))||"function"!=typeof getStickyHeaderHeight?0:getStickyHeaderHeight(!0),t=g("#content").width(),o=g("#content").offset().left,"0",i||(c<=u&&f<=d?r.addClass("active"):r.removeClass("active")),e<n){for(l=1;l<y;l++)c+h*l<=u&&u<c+h*(l+1)&&(p=l+1);c<=u&&u<c+h?(r.find(".fusion-scroll-section-element").removeClass("active"),r.children(":nth-child(1)").addClass("active"),r.find(".fusion-scroll-section-nav a").removeClass("active"),r.find('.fusion-scroll-section-nav a[data-element="'+r.children(":nth-child(1)").data("element")+'"] ').addClass("active"),r.find(".fusion-scroll-section-element").css({position:"fixed",top:s,left:o,padding:"0 0",width:t}),r.children(":nth-child(1)").css("display","block")):d<=f&&"absolute"!==r.find(".fusion-scroll-section-element").last().css("position")?(r.find(".fusion-scroll-section-element").removeClass("active"),r.find(".fusion-scroll-section-element").last().addClass("active"),r.find(".fusion-scroll-section-element").css("position","absolute"),r.find(".fusion-scroll-section-element").last().css({top:"auto",left:"0",bottom:"0",padding:""})):0<p&&!r.children(":nth-child("+p+")").hasClass("active")&&(r.find(".fusion-scroll-section-element").removeClass("active"),r.children(":nth-child("+p+")").addClass("active"),r.find(".fusion-scroll-section-nav a").removeClass("active"),r.find('.fusion-scroll-section-nav a[data-element="'+r.children(":nth-child("+p+")").data("element")+'"] ').addClass("active"))}else if(n<e){for(l=1;l<y;l++)u<c+h*l&&c+h*(l-1)<u&&(p=l);f<=d&&c+h*(y-1)<u&&"fixed"!==r.find(".fusion-scroll-section-element").last().css("position")?(r.find(".fusion-scroll-section-element").removeClass("active"),r.find(".fusion-scroll-section-element").last().addClass("active"),r.find(".fusion-scroll-section-nav a").removeClass("active"),r.find('.fusion-scroll-section-nav a[data-element="'+r.find(".fusion-scroll-section-element").last().data("element")+'"] ').addClass("active"),r.find(".fusion-scroll-section-element").css({position:"fixed",top:s,left:o,padding:"0 0",width:t}),r.find(".fusion-scroll-section-element").last().css("display","block")):(u<=c||0===g(window).scrollTop()&&r.find(".fusion-scroll-section-element").first().hasClass("active"))&&""!==r.find(".fusion-scroll-section-element").first().css("position")?(r.find(".fusion-scroll-section-element").removeClass("active"),r.find(".fusion-scroll-section-element").first().addClass("active"),r.find(".fusion-scroll-section-element").css("position",""),r.find(".fusion-scroll-section-element").first().css("padding","")):0<p&&!r.children(":nth-child("+p+")").hasClass("active")&&(r.find(".fusion-scroll-section-element").removeClass("active"),r.children(":nth-child("+p+")").addClass("active"),r.find(".fusion-scroll-section-nav a").removeClass("active"),r.find('.fusion-scroll-section-nav a[data-element="'+r.children(":nth-child("+p+")").data("element")+'"] ').addClass("active"))}}}(jQuery);!function(s){"use strict";s.fn.fusion_responsive_title_shortcode=function(){s(this).each(function(){var t=s(this),e=t.find("h1, h2, h3, h4, h5, h6"),i=e.data("min-width")?e.data("min-width"):e.outerWidth(),n=t.parent(),o=t.parents(".slide-content").length?n.width():n.outerWidth();(0!==i&&!1!==i&&"0"!==i||0!==o&&!1!==o&&"0"!==o)&&o<=i+100?(t.addClass("fusion-border-below-title"),e.data("min-width",i)):t.removeClass("fusion-border-below-title")})}}(jQuery),jQuery(document).ready(function(){jQuery(".fusion-title").fusion_responsive_title_shortcode(),jQuery(window).on("resize",function(){jQuery(".fusion-title").fusion_responsive_title_shortcode()})});!function(t){"use strict";t.fn.animate_content_boxes=function(){var n,o;t().waypoint&&(n=t(this),o=0,n.find(".content-box-column").each(function(){var n,e,i=this;setTimeout(function(){t(i).find(".fusion-animated").css("visibility","visible"),n=t(i).find(".fusion-animated").data("animationtype"),e=t(i).find(".fusion-animated").data("animationduration"),t(i).find(".fusion-animated").addClass(n),e&&(t(i).find(".fusion-animated").css("-moz-animation-duration",e+"s"),t(i).find(".fusion-animated").css("-webkit-animation-duration",e+"s"),t(i).find(".fusion-animated").css("-ms-animation-duration",e+"s"),t(i).find(".fusion-animated").css("-o-animation-duration",e+"s"),t(i).find(".fusion-animated").css("animation-duration",e+"s")),(t(i).parents(".fusion-content-boxes").hasClass("content-boxes-timeline-horizontal")||t(i).parents(".fusion-content-boxes").hasClass("content-boxes-timeline-vertical"))&&t(i).addClass("fusion-appear")},o),o+=parseInt(t(this).parents(".fusion-content-boxes").attr("data-animation-delay"),10)}))}}(jQuery),jQuery(window).load(function(){"function"==typeof jQuery.fn.equalHeights&&(jQuery(".content-boxes-icon-boxed").each(function(){jQuery(this).find(".content-box-column .content-wrapper-boxed").equalHeights(),jQuery(this).find(".content-box-column .content-wrapper-boxed").css("overflow","visible")}),jQuery(window).on("resize",function(){jQuery(".content-boxes-icon-boxed").each(function(){jQuery(this).find(".content-box-column .content-wrapper-boxed").equalHeights(),jQuery(this).find(".content-box-column .content-wrapper-boxed").css("overflow","visible")})}),jQuery(".content-boxes-clean-vertical").each(function(){jQuery(this).find(".content-box-column .col").equalHeights(),jQuery(this).find(".content-box-column .col").css("overflow","visible")}),jQuery(window).on("resize",function(){jQuery(".content-boxes-clean-vertical").each(function(){jQuery(this).find(".content-box-column .col").equalHeights(),jQuery(this).find(".content-box-column .col").css("overflow","visible")})}),jQuery(".content-boxes-clean-horizontal").each(function(){jQuery(this).find(".content-box-column .col").equalHeights(),jQuery(this).find(".content-box-column .col").css("overflow","visible")}),jQuery(window).on("resize",function(){jQuery(".content-boxes-clean-horizontal").each(function(){jQuery(this).find(".content-box-column .col").equalHeights(),jQuery(this).find(".content-box-column .col").css("overflow","visible")})})),jQuery(window).load(function(){jQuery(".fusion-modal .fusion-content-boxes").each(function(){jQuery(this).appear(function(){jQuery(this).animate_content_boxes()})})})}),jQuery(document).ready(function(){jQuery(".link-area-box").on("click",function(){jQuery(this).data("link")&&("_blank"===jQuery(this).data("link-target")?(window.open(jQuery(this).data("link"),"_blank"),jQuery(this).find(".heading-link").removeAttr("href"),jQuery(this).find(".fusion-read-more").removeAttr("href")):window.location=jQuery(this).data("link"),jQuery(this).find(".heading-link").attr("target",""),jQuery(this).find(".fusion-read-more").attr("target",""))}),jQuery(".link-type-button").each(function(){var n;1<=jQuery(this).parents(".content-boxes-clean-vertical").length&&(n=jQuery(".fusion-read-more-button").outerHeight(),jQuery(this).find(".fusion-read-more-button").css("top",n/2))}),jQuery(".link-area-link-icon .fusion-read-more-button, .link-area-link-icon .fusion-read-more, .link-area-link-icon .heading").mouseenter(function(){jQuery(this).parents(".link-area-link-icon").addClass("link-area-link-icon-hover")}),jQuery(".link-area-link-icon .fusion-read-more-button, .link-area-link-icon .fusion-read-more, .link-area-link-icon .heading").mouseleave(function(){jQuery(this).parents(".link-area-link-icon").removeClass("link-area-link-icon-hover")}),jQuery(".link-area-box").mouseenter(function(){jQuery(this).addClass("link-area-box-hover")}),jQuery(".link-area-box").mouseleave(function(){jQuery(this).removeClass("link-area-box-hover")}),jQuery(".fusion-content-boxes").each(function(){var n=getWaypointOffset(jQuery(this));jQuery(this).waypoint(function(){jQuery(this).animate_content_boxes()},{triggerOnce:!0,offset:n})})});!function(t){"use strict";t.fn.fusionCalcFlipBoxesHeight=function(){var i,o,s=t(this),n=s.find(".flip-box-front"),e=s.find(".flip-box-back");s.css("min-height",""),n.css("position",""),e.css("bottom",""),i=n.outerHeight(),o=e.outerHeight(),setTimeout(function(){o<i?s.css("min-height",i):s.css("min-height",o),n.css("position","absolute"),e.css("bottom","0")},100)},t.fn.fusionCalcFlipBoxesEqualHeights=function(){var n,i=t(this),e=[];i.find(".flip-box-inner-wrapper").each(function(){var i=t(this),o=i.find(".flip-box-front"),s=i.find(".flip-box-back");i.css("min-height",""),o.css("position",""),s.css("bottom",""),e.push(Math.max(o.outerHeight(),s.outerHeight()))}),n=Math.max.apply(null,e),i.find(".flip-box-inner-wrapper").each(function(){var i=t(this),o=i.find(".flip-box-front"),s=i.find(".flip-box-back");i.css("min-height",n),o.css("position","absolute"),s.css("bottom","0")})}}(jQuery),jQuery(window).load(function(){jQuery(".fusion-flip-boxes.equal-heights").each(function(){jQuery(this).fusionCalcFlipBoxesEqualHeights()}),jQuery(".fusion-flip-boxes").not(".equal-heights").find(".flip-box-inner-wrapper").each(function(){jQuery(this).fusionCalcFlipBoxesHeight()}),jQuery(window).resize(function(){jQuery(".fusion-flip-boxes.equal-heights").each(function(){jQuery(this).fusionCalcFlipBoxesEqualHeights()}),jQuery(".fusion-flip-boxes").not(".equal-heights").find(".flip-box-inner-wrapper").each(function(){jQuery(this).fusionCalcFlipBoxesHeight()})})});!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Chart=t()}}(function(){return function o(r,s,l){function u(i,t){if(!s[i]){if(!r[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var a=s[i]={exports:{}};r[i][0].call(a.exports,function(t){var e=r[i][1][t];return u(e||t)},a,a.exports,o,r,s,l)}return s[i].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){},{}],2:[function(t,e,i){var o=t(6);function n(t){if(t){var e=[0,0,0],i=1,n=t.match(/^#([a-fA-F0-9]{3})$/i);if(n){n=n[1];for(var a=0;a<e.length;a++)e[a]=parseInt(n[a]+n[a],16)}else if(n=t.match(/^#([a-fA-F0-9]{6})$/i)){n=n[1];for(a=0;a<e.length;a++)e[a]=parseInt(n.slice(2*a,2*a+2),16)}else if(n=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=parseInt(n[a+1]);i=parseFloat(n[4])}else if(n=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<e.length;a++)e[a]=Math.round(2.55*parseFloat(n[a+1]));i=parseFloat(n[4])}else if(n=t.match(/(\w+)/)){if("transparent"==n[1])return[0,0,0,0];if(!(e=o[n[1]]))return}for(a=0;a<e.length;a++)e[a]=d(e[a],0,255);return i=i||0==i?d(i,0,1):1,e[3]=i,e}}function a(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function r(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var i=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(i)?1:i,0,1)]}}}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function u(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function d(t,e,i){return Math.min(Math.max(e,t),i)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}e.exports={getRgba:n,getHsla:a,getRgb:function(t){var e=n(t);return e&&e.slice(0,3)},getHsl:function(t){var e=a(t);return e&&e.slice(0,3)},getHwb:r,getAlpha:function(t){var e=n(t);{if(e)return e[3];if(e=a(t))return e[3];if(e=r(t))return e[3]}},hexString:function(t){return"#"+c(t[0])+c(t[1])+c(t[2])},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return s(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:s,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return l(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+a+"%)"},percentaString:l,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return u(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:u,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return h[t.slice(0,3)]}};var h={};for(var f in o)h[o[f]]=f},{6:6}],3:[function(t,e,i){var d=t(5),n=t(2),r=function(t){return t instanceof r?t:this instanceof r?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=n.getRgba(t))?this.setValues("rgb",e):(e=n.getHsla(t))?this.setValues("hsl",e):(e=n.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new r(t);var e};r.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return n.hexString(this.values.rgb)},rgbString:function(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((.055+n)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),i=t.luminosity();return i<e?(e+.05)/(i+.05):(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return 7.1<=e?"AAA":4.5<=e?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,i=(e[0]+t)%360;return e[0]=i<0?360+i:i,this.setValues("hsl",e),this},mix:function(t,e){var i=this,n=t,a=void 0===e?.5:e,o=2*a-1,r=i.alpha()-n.alpha(),s=(1+(o*r==-1?o:(o+r)/(1+o*r)))/2,l=1-s;return this.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue()).alpha(i.alpha()*a+n.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,i=new r,n=this.values,a=i.values;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],"[object Array]"===(e={}.toString.call(t))?a[o]=t.slice(0):"[object Number]"===e&&(a[o]=t));return i}},r.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},r.prototype.getValues=function(t){for(var e=this.values,i={},n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];return 1!==e.alpha&&(i.a=e.alpha),i},r.prototype.setValues=function(t,e){var i,n,a=this.values,o=this.spaces,r=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)a[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(i=0;i<t.length;i++)a[t][i]=e[t.charAt(i)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(i=0;i<t.length;i++)a[t][i]=e[l[i]];s=e.alpha}if(a.alpha=Math.max(0,Math.min(1,void 0===s?a.alpha:s)),"alpha"===t)return!1;for(i=0;i<t.length;i++)n=Math.max(0,Math.min(r[t][i],a[t][i])),a[t][i]=Math.round(n);for(var u in o)u!==t&&(a[u]=d[t][u](a[t]));return!0},r.prototype.setSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i),this)},r.prototype.setChannel=function(t,e,i){var n=this.values[t];return void 0===i?n[e]:(i===n[e]||(n[e]=i,this.setValues(t,n)),this)},"undefined"!=typeof window&&(window.Color=r),e.exports=r},{2:2,5:5}],4:[function(t,e,i){function a(t){var e,i,n=t[0]/255,a=t[1]/255,o=t[2]/255,r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r;return s==r?e=0:n==s?e=(a-o)/l:a==s?e=2+(o-n)/l:o==s&&(e=4+(n-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),i=(r+s)/2,[e,100*(s==r?0:i<=.5?l/(s+r):l/(2-s-r)),100*i]}function n(t){var e,i,n=t[0],a=t[1],o=t[2],r=Math.min(n,a,o),s=Math.max(n,a,o),l=s-r;return i=0==s?0:l/s*1e3/10,s==r?e=0:n==s?e=(a-o)/l:a==s?e=2+(o-n)/l:o==s&&(e=4+(n-a)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,i,s/255*1e3/10]}function o(t){var e=t[0],i=t[1],n=t[2];return[a(t)[0],100*(1/255*Math.min(e,Math.min(i,n))),100*(n=1-1/255*Math.max(e,Math.max(i,n)))]}function s(t){var e,i=t[0]/255,n=t[1]/255,a=t[2]/255;return[100*((1-i-(e=Math.min(1-i,1-n,1-a)))/(1-e)||0),100*((1-n-e)/(1-e)||0),100*((1-a-e)/(1-e)||0),100*e]}function l(t){return C[JSON.stringify(t)]}function u(t){var e=t[0]/255,i=t[1]/255,n=t[2]/255;return[100*(.4124*(e=.04045<e?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*e+.7152*i+.0722*n),100*(.0193*e+.1192*i+.9505*n)]}function d(t){var e=u(t),i=e[0],n=e[1],a=e[2];return n/=100,a/=108.883,i=.008856<(i/=95.047)?Math.pow(i,1/3):7.787*i+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(i-n),200*(n-(a=.008856<a?Math.pow(a,1/3):7.787*a+16/116))]}function c(t){var e,i,n,a,o,r=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[o=255*l,o,o];e=2*l-(i=l<.5?l*(1+s):l+s-l*s),a=[0,0,0];for(var u=0;u<3;u++)(n=r+1/3*-(u-1))<0&&n++,1<n&&n--,o=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,a[u]=255*o;return a}function h(t){var e=t[0]/60,i=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,o=e-Math.floor(e),r=255*n*(1-i),s=255*n*(1-i*o),l=255*n*(1-i*(1-o));n*=255;switch(a){case 0:return[n,l,r];case 1:return[s,n,r];case 2:return[r,n,l];case 3:return[r,s,n];case 4:return[l,r,n];case 5:return[n,r,s]}}function f(t){var e,i,n,a,o=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(1<u&&(s/=u,l/=u),n=6*o-(e=Math.floor(6*o)),0!=(1&e)&&(n=1-n),a=s+n*((i=1-l)-s),e){default:case 6:case 0:r=i,g=a,b=s;break;case 1:r=a,g=i,b=s;break;case 2:r=s,g=i,b=a;break;case 3:r=s,g=a,b=i;break;case 4:r=a,g=s,b=i;break;case 5:r=i,g=s,b=a}return[255*r,255*g,255*b]}function p(t){var e=t[0]/100,i=t[1]/100,n=t[2]/100,a=t[3]/100;return[255*(1-Math.min(1,e*(1-a)+a)),255*(1-Math.min(1,i*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a))]}function v(t){var e,i,n,a=t[0]/100,o=t[1]/100,r=t[2]/100;return i=-.9689*a+1.8758*o+.0415*r,n=.0557*a+-.204*o+1.057*r,e=.0031308<(e=3.2406*a+-1.5372*o+-.4986*r)?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,i=.0031308<i?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,n=.0031308<n?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(n=Math.min(Math.max(0,n),1))]}function m(t){var e=t[0],i=t[1],n=t[2];return i/=100,n/=108.883,e=.008856<(e/=95.047)?Math.pow(e,1/3):7.787*e+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116))]}function x(t){var e,i,n,a,o=t[0],r=t[1],s=t[2];return a=o<=8?(i=100*o/903.3)/100*7.787+16/116:(i=100*Math.pow((o+16)/116,3),Math.pow(i/100,1/3)),[e=e/95.047<=.008856?e=95.047*(r/500+a-16/116)/7.787:95.047*Math.pow(r/500+a,3),i,n=n/108.883<=.008859?n=108.883*(a-s/200-16/116)/7.787:108.883*Math.pow(a-s/200,3)]}function y(t){var e,i=t[0],n=t[1],a=t[2];return(e=360*Math.atan2(a,n)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(n*n+a*a),e]}function k(t){return v(x(t))}function w(t){var e,i=t[0],n=t[1];return e=t[2]/360*2*Math.PI,[i,n*Math.cos(e),n*Math.sin(e)]}function M(t){return S[t]}e.exports={rgb2hsl:a,rgb2hsv:n,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:d,rgb2lch:function(t){return y(d(t))},hsl2rgb:c,hsl2hsv:function(t){var e=t[0],i=t[1]/100,n=t[2]/100;return 0!==n?[e,100*(2*(i*=(n*=2)<=1?n:2-n)/(n+i)),100*((n+i)/2)]:[0,0,0]},hsl2hwb:function(t){return o(c(t))},hsl2cmyk:function(t){return s(c(t))},hsl2keyword:function(t){return l(c(t))},hsv2rgb:h,hsv2hsl:function(t){var e,i,n=t[0],a=t[1]/100,o=t[2]/100;return e=a*o,[n,100*(e=(e/=(i=(2-a)*o)<=1?i:2-i)||0),100*(i/=2)]},hsv2hwb:function(t){return o(h(t))},hsv2cmyk:function(t){return s(h(t))},hsv2keyword:function(t){return l(h(t))},hwb2rgb:f,hwb2hsl:function(t){return a(f(t))},hwb2hsv:function(t){return n(f(t))},hwb2cmyk:function(t){return s(f(t))},hwb2keyword:function(t){return l(f(t))},cmyk2rgb:p,cmyk2hsl:function(t){return a(p(t))},cmyk2hsv:function(t){return n(p(t))},cmyk2hwb:function(t){return o(p(t))},cmyk2keyword:function(t){return l(p(t))},keyword2rgb:M,keyword2hsl:function(t){return a(M(t))},keyword2hsv:function(t){return n(M(t))},keyword2hwb:function(t){return o(M(t))},keyword2cmyk:function(t){return s(M(t))},keyword2lab:function(t){return d(M(t))},keyword2xyz:function(t){return u(M(t))},xyz2rgb:v,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:x,lab2rgb:k,lab2lch:y,lch2lab:w,lch2xyz:function(t){return x(w(t))},lch2rgb:function(t){return k(w(t))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},C={};for(var _ in S)C[JSON.stringify(S[_])]=_},{}],5:[function(t,e,i){function a(){return new u}var o=t(4);for(var n in o){a[n+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),o[e](t)}}(n);var r=/(\w+)2(\w+)/.exec(n),s=r[1],l=r[2];(a[s]=a[s]||{})[l]=a[n]=function(n){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var e=o[n](t);if("string"==typeof e||void 0===e)return e;for(var i=0;i<e.length;i++)e[i]=Math.round(e[i]);return e}}(n)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var i=e[0];return void 0===i?this.getValues(t):("number"==typeof i&&(i=Array.prototype.slice.call(e)),this.setValues(t,i))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var i=this.space,n=this.convs[i];e=a[i][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){u.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),e.exports=a},{4:4}],6:[function(t,e,i){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,i){var n=t(29)();n.helpers=t(45),t(27)(n),n.defaults=t(25),n.Element=t(26),n.elements=t(40),n.Interaction=t(28),n.platform=t(48),t(31)(n),t(22)(n),t(23)(n),t(24)(n),t(30)(n),t(33)(n),t(32)(n),t(35)(n),t(54)(n),t(52)(n),t(53)(n),t(55)(n),t(56)(n),t(57)(n),t(15)(n),t(16)(n),t(17)(n),t(18)(n),t(19)(n),t(20)(n),t(21)(n),t(8)(n),t(9)(n),t(10)(n),t(11)(n),t(12)(n),t(13)(n),t(14)(n);var a=[];a.push(t(49)(n),t(50)(n),t(51)(n)),n.plugins.register(a),n.platform.initialize(),e.exports=n,"undefined"!=typeof window&&(window.Chart=n),n.canvasHelpers=n.helpers.canvas},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,35:35,40:40,45:45,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,8:8,9:9}],8:[function(t,e,i){"use strict";e.exports=function(i){i.Bar=function(t,e){return e.type="bar",new i(t,e)}}},{}],9:[function(t,e,i){"use strict";e.exports=function(i){i.Bubble=function(t,e){return e.type="bubble",new i(t,e)}}},{}],10:[function(t,e,i){"use strict";e.exports=function(i){i.Doughnut=function(t,e){return e.type="doughnut",new i(t,e)}}},{}],11:[function(t,e,i){"use strict";e.exports=function(i){i.Line=function(t,e){return e.type="line",new i(t,e)}}},{}],12:[function(t,e,i){"use strict";e.exports=function(i){i.PolarArea=function(t,e){return e.type="polarArea",new i(t,e)}}},{}],13:[function(t,e,i){"use strict";e.exports=function(i){i.Radar=function(t,e){return e.type="radar",new i(t,e)}}},{}],14:[function(t,e,i){"use strict";e.exports=function(i){i.Scatter=function(t,e){return e.type="scatter",new i(t,e)}}},{}],15:[function(t,e,i){"use strict";var n=t(25),a=t(40),p=t(45);n._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),n._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var i="";return 0<t.length&&(t[0].yLabel?i=t[0].yLabel:0<e.labels.length&&t[0].index<e.labels.length&&(i=e.labels[t[0].index])),i},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:a.Rectangle,initialize:function(){var t;e.DatasetController.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(t){var e,i,n=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,i=n.length;e<i;++e)this.updateElement(n[e],e,t)},updateElement:function(t,e,i){var n=this,a=n.chart,o=n.getMeta(),r=n.getDataset(),s=t.custom||{},l=a.options.elements.rectangle;t._xScale=n.getScaleForId(o.xAxisID),t._yScale=n.getScaleForId(o.yAxisID),t._datasetIndex=n.index,t._index=e,t._model={datasetLabel:r.label,label:a.data.labels[e],borderSkipped:s.borderSkipped?s.borderSkipped:l.borderSkipped,backgroundColor:s.backgroundColor?s.backgroundColor:p.valueAtIndexOrDefault(r.backgroundColor,e,l.backgroundColor),borderColor:s.borderColor?s.borderColor:p.valueAtIndexOrDefault(r.borderColor,e,l.borderColor),borderWidth:s.borderWidth?s.borderWidth:p.valueAtIndexOrDefault(r.borderWidth,e,l.borderWidth)},n.updateElementGeometry(t,e,i),t.pivot()},updateElementGeometry:function(t,e,i){var n=this,a=t._model,o=n.getValueScale(),r=o.getBasePixel(),s=o.isHorizontal(),l=n._ruler||n.getRuler(),u=n.calculateBarValuePixels(n.index,e),d=n.calculateBarIndexPixels(n.index,e,l);a.horizontal=s,a.base=i?r:u.base,a.x=s?i?r:u.head:d.center,a.y=s?d.center:i?r:u.head,a.height=s?d.size:void 0,a.width=s?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(t){var e,i,n=this.chart,a=this.getIndexScale().options.stacked,o=void 0===t?n.data.datasets.length:t+1,r=[];for(e=0;e<o;++e)(i=n.getDatasetMeta(e)).bar&&n.isDatasetVisible(e)&&(!1===a||!0===a&&-1===r.indexOf(i.stack)||void 0===a&&(void 0===i.stack||-1===r.indexOf(i.stack)))&&r.push(i.stack);return r.length},getStackIndex:function(t){return this.getStackCount(t)-1},getRuler:function(){var t,e,i=this.getIndexScale(),n=this.getStackCount(),a=this.index,o=[],r=i.isHorizontal(),s=r?i.left:i.top,l=s+(r?i.width:i.height);for(t=0,e=this.getMeta().data.length;t<e;++t)o.push(i.getPixelForValue(null,t,a));return{pixels:o,start:s,end:l,stackCount:n,scale:i}},calculateBarValuePixels:function(t,e){var i,n,a,o,r,s,l=this.chart,u=this.getMeta(),d=this.getValueScale(),c=l.data.datasets,h=d.getRightValue(c[t].data[e]),f=d.options.stacked,g=u.stack,p=0;if(f||void 0===f&&void 0!==g)for(i=0;i<t;++i)(n=l.getDatasetMeta(i)).bar&&n.stack===g&&n.controller.getValueScaleId()===d.id&&l.isDatasetVisible(i)&&(a=d.getRightValue(c[i].data[e]),(h<0&&a<0||0<=h&&0<a)&&(p+=a));return o=d.getPixelForValue(p),{size:s=((r=d.getPixelForValue(p+h))-o)/2,base:o,head:r,center:r+s/2}},calculateBarIndexPixels:function(t,e,i){var n,a,o,r,s,l=i.scale.options,u=this.getStackIndex(t),d=i.pixels,c=d[e],h=d.length,f=i.start,g=i.end;return 1===h?(n=f<c?c-f:g-c,a=c<g?g-c:c-f):(0<e&&(n=(c-d[e-1])/2,e===h-1&&(a=n)),e<h-1&&(a=(d[e+1]-c)/2,0===e&&(n=a))),s=(r=((o=n*l.categoryPercentage)+a*l.categoryPercentage)/i.stackCount)*l.barPercentage,c-=o,c+=r*u,{size:s=Math.min(p.valueOrDefault(l.barThickness,s),p.valueOrDefault(l.maxBarThickness,1/0)),base:c+=(r-s)/2,head:c+s,center:c+s/2}},draw:function(){var t=this.chart,e=this.getValueScale(),i=this.getMeta().data,n=this.getDataset(),a=i.length,o=0;for(p.canvas.clipArea(t.ctx,t.chartArea);o<a;++o)isNaN(e.getRightValue(n.data[o]))||i[o].draw();p.canvas.unclipArea(t.ctx)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=t._model;a.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:p.valueAtIndexOrDefault(e.hoverBackgroundColor,i,p.getHoverColor(a.backgroundColor)),a.borderColor=n.hoverBorderColor?n.hoverBorderColor:p.valueAtIndexOrDefault(e.hoverBorderColor,i,p.getHoverColor(a.borderColor)),a.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:p.valueAtIndexOrDefault(e.hoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=t._model,o=this.chart.options.elements.rectangle;a.backgroundColor=n.backgroundColor?n.backgroundColor:p.valueAtIndexOrDefault(e.backgroundColor,i,o.backgroundColor),a.borderColor=n.borderColor?n.borderColor:p.valueAtIndexOrDefault(e.borderColor,i,o.borderColor),a.borderWidth=n.borderWidth?n.borderWidth:p.valueAtIndexOrDefault(e.borderWidth,i,o.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},{25:25,40:40,45:45}],16:[function(t,e,i){"use strict";var n=t(25),a=t(40),g=t(45);n._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"",n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}}),e.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:a.Point,update:function(i){var n=this,t=n.getMeta().data;g.each(t,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){var n=this,a=n.getMeta(),o=t.custom||{},r=n.getScaleForId(a.xAxisID),s=n.getScaleForId(a.yAxisID),l=n._resolveElementOptions(t,e),u=n.getDataset().data[e],d=n.index,c=i?r.getPixelForDecimal(.5):r.getPixelForValue("object"==typeof u?u:NaN,e,d),h=i?s.getBasePixel():s.getPixelForValue(u,e,d);t._xScale=r,t._yScale=s,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:i?0:l.radius,skip:o.skip||isNaN(c)||isNaN(h),x:c,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=g.valueOrDefault(i.hoverBackgroundColor,g.getHoverColor(i.backgroundColor)),e.borderColor=g.valueOrDefault(i.hoverBorderColor,g.getHoverColor(i.borderColor)),e.borderWidth=g.valueOrDefault(i.hoverBorderWidth,i.borderWidth),e.radius=i.radius+i.hoverRadius},removeHoverStyle:function(t){var e=t._model,i=t._options;e.backgroundColor=i.backgroundColor,e.borderColor=i.borderColor,e.borderWidth=i.borderWidth,e.radius=i.radius},_resolveElementOptions:function(t,e){var i,n,a,o=this.chart,r=o.data.datasets[this.index],s=t.custom||{},l=o.options.elements.point,u=g.options.resolve,d=r.data[e],c={},h={chart:o,dataIndex:e,dataset:r,datasetIndex:this.index},f=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(i=0,n=f.length;i<n;++i)c[a=f[i]]=u([s[a],r[a],l[a]],h,e);return c.radius=u([s.radius,d?d.r:void 0,r.radius,l.radius],h,e),c}})}},{25:25,40:40,45:45}],17:[function(t,e,i){"use strict";var n=t(25),a=t(40),A=t(45);n._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,a=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(l){var u=l.data;return u.labels.length&&u.datasets.length?u.labels.map(function(t,e){var i=l.getDatasetMeta(0),n=u.datasets[0],a=i.data[e],o=a&&a.custom||{},r=A.valueAtIndexOrDefault,s=l.options.elements.arc;return{text:t,fillStyle:o.backgroundColor?o.backgroundColor:r(n.backgroundColor,e,s.backgroundColor),strokeStyle:o.borderColor?o.borderColor:r(n.borderColor,e,s.borderColor),lineWidth:o.borderWidth?o.borderWidth:r(n.borderWidth,e,s.borderWidth),hidden:isNaN(n.data[e])||i.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var i,n,a,o=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)(a=r.getDatasetMeta(i)).data[o]&&(a.data[o].hidden=!a.data[o].hidden);r.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index],n=": "+e.datasets[t.datasetIndex].data[t.index];return A.isArray(i)?(i=i.slice())[0]+=n:i+=n,i}}}}),n._set("pie",A.clone(n.doughnut)),n._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:a.Arc,linkScales:A.noop,getRingIndex:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&++e;return e},update:function(i){var n=this,t=n.chart,e=t.chartArea,a=t.options,o=a.elements.arc,r=e.right-e.left-o.borderWidth,s=e.bottom-e.top-o.borderWidth,l=Math.min(r,s),u={x:0,y:0},d=n.getMeta(),c=a.cutoutPercentage,h=a.circumference;if(h<2*Math.PI){var f=a.rotation%(2*Math.PI),g=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+h,p=Math.cos(f),v=Math.sin(f),m=Math.cos(g),b=Math.sin(g),x=f<=0&&0<=g||f<=2*Math.PI&&2*Math.PI<=g,y=f<=.5*Math.PI&&.5*Math.PI<=g||f<=2.5*Math.PI&&2.5*Math.PI<=g,k=f<=-Math.PI&&-Math.PI<=g||f<=Math.PI&&Math.PI<=g,w=f<=.5*-Math.PI&&.5*-Math.PI<=g||f<=1.5*Math.PI&&1.5*Math.PI<=g,M=c/100,S=k?-1:Math.min(p*(p<0?1:M),m*(m<0?1:M)),C=w?-1:Math.min(v*(v<0?1:M),b*(b<0?1:M)),_=x?1:Math.max(p*(0<p?1:M),m*(0<m?1:M)),D=y?1:Math.max(v*(0<v?1:M),b*(0<b?1:M)),I=.5*(_-S),P=.5*(D-C);l=Math.min(r/I,s/P),u={x:-.5*(_+S),y:-.5*(D+C)}}t.borderWidth=n.getMaxBorderWidth(d.data),t.outerRadius=Math.max((l-t.borderWidth)/2,0),t.innerRadius=Math.max(c?t.outerRadius/100*c:0,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),t.offsetX=u.x*t.outerRadius,t.offsetY=u.y*t.outerRadius,d.total=n.calculateTotal(),n.outerRadius=t.outerRadius-t.radiusLength*n.getRingIndex(n.index),n.innerRadius=Math.max(n.outerRadius-t.radiusLength,0),A.each(d.data,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){var n=this,a=n.chart,o=a.chartArea,r=a.options,s=r.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,d=r.rotation,c=r.rotation,h=n.getDataset(),f=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(h.data[e])*(r.circumference/(2*Math.PI)),g=i&&s.animateScale?0:n.innerRadius,p=i&&s.animateScale?0:n.outerRadius,v=A.valueAtIndexOrDefault;A.extend(t,{_datasetIndex:n.index,_index:e,_model:{x:l+a.offsetX,y:u+a.offsetY,startAngle:d,endAngle:c,circumference:f,outerRadius:p,innerRadius:g,label:v(h.label,e,a.data.labels[e])}});var m=t._model;this.removeHoverStyle(t),i&&s.animateRotate||(m.startAngle=0===e?r.rotation:n.getMeta().data[e-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var i,n=this.getDataset(),t=this.getMeta(),a=0;return A.each(t.data,function(t,e){i=n.data[e],isNaN(i)||t.hidden||(a+=Math.abs(i))}),a},calculateCircumference:function(t){var e=this.getMeta().total;return 0<e&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,i,n=0,a=this.index,o=t.length,r=0;r<o;r++)n=(n=n<(e=t[r]._model?t[r]._model.borderWidth:0)?e:n)<(i=t[r]._chart?t[r]._chart.config.data.datasets[a].hoverBorderWidth:0)?i:n;return n}})}},{25:25,40:40,45:45}],18:[function(t,e,i){"use strict";var n=t(25),a=t(40),g=t(45);n._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(t){function f(t,e){return g.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,update:function(t){var e,i,n,a=this,o=a.getMeta(),r=o.dataset,s=o.data||[],l=a.chart.options,u=l.elements.line,d=a.getScaleForId(o.yAxisID),c=a.getDataset(),h=f(c,l);for(h&&(n=r.custom||{},void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),r._scale=d,r._datasetIndex=a.index,r._children=s,r._model={spanGaps:c.spanGaps?c.spanGaps:l.spanGaps,tension:n.tension?n.tension:g.valueOrDefault(c.lineTension,u.tension),backgroundColor:n.backgroundColor?n.backgroundColor:c.backgroundColor||u.backgroundColor,borderWidth:n.borderWidth?n.borderWidth:c.borderWidth||u.borderWidth,borderColor:n.borderColor?n.borderColor:c.borderColor||u.borderColor,borderCapStyle:n.borderCapStyle?n.borderCapStyle:c.borderCapStyle||u.borderCapStyle,borderDash:n.borderDash?n.borderDash:c.borderDash||u.borderDash,borderDashOffset:n.borderDashOffset?n.borderDashOffset:c.borderDashOffset||u.borderDashOffset,borderJoinStyle:n.borderJoinStyle?n.borderJoinStyle:c.borderJoinStyle||u.borderJoinStyle,fill:n.fill?n.fill:void 0!==c.fill?c.fill:u.fill,steppedLine:n.steppedLine?n.steppedLine:g.valueOrDefault(c.steppedLine,u.stepped),cubicInterpolationMode:n.cubicInterpolationMode?n.cubicInterpolationMode:g.valueOrDefault(c.cubicInterpolationMode,u.cubicInterpolationMode)},r.pivot()),e=0,i=s.length;e<i;++e)a.updateElement(s[e],e,t);for(h&&0!==r._model.tension&&a.updateBezierControlPoints(),e=0,i=s.length;e<i;++e)s[e].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,n=this.getDataset(),a=t.custom||{};return a.backgroundColor?i=a.backgroundColor:n.pointBackgroundColor?i=g.valueAtIndexOrDefault(n.pointBackgroundColor,e,i):n.backgroundColor&&(i=n.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,n=this.getDataset(),a=t.custom||{};return a.borderColor?i=a.borderColor:n.pointBorderColor?i=g.valueAtIndexOrDefault(n.pointBorderColor,e,i):n.borderColor&&(i=n.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,n=this.getDataset(),a=t.custom||{};return isNaN(a.borderWidth)?!isNaN(n.pointBorderWidth)||g.isArray(n.pointBorderWidth)?i=g.valueAtIndexOrDefault(n.pointBorderWidth,e,i):isNaN(n.borderWidth)||(i=n.borderWidth):i=a.borderWidth,i},updateElement:function(t,e,i){var n,a,o=this,r=o.getMeta(),s=t.custom||{},l=o.getDataset(),u=o.index,d=l.data[e],c=o.getScaleForId(r.yAxisID),h=o.getScaleForId(r.xAxisID),f=o.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),n=h.getPixelForValue("object"==typeof d?d:NaN,e,u),a=i?c.getBasePixel():o.calculatePointY(d,e,u),t._xScale=h,t._yScale=c,t._datasetIndex=u,t._index=e,t._model={x:n,y:a,skip:s.skip||isNaN(n)||isNaN(a),radius:s.radius||g.valueAtIndexOrDefault(l.pointRadius,e,f.radius),pointStyle:s.pointStyle||g.valueAtIndexOrDefault(l.pointStyle,e,f.pointStyle),backgroundColor:o.getPointBackgroundColor(t,e),borderColor:o.getPointBorderColor(t,e),borderWidth:o.getPointBorderWidth(t,e),tension:r.dataset._model?r.dataset._model.tension:0,steppedLine:!!r.dataset._model&&r.dataset._model.steppedLine,hitRadius:s.hitRadius||g.valueAtIndexOrDefault(l.pointHitRadius,e,f.hitRadius)}},calculatePointY:function(t,e,i){var n,a,o,r=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,d=0;if(l.options.stacked){for(n=0;n<i;n++)if(a=r.data.datasets[n],"line"===(o=r.getDatasetMeta(n)).type&&o.yAxisID===l.id&&r.isDatasetVisible(n)){var c=Number(l.getRightValue(a.data[e]));c<0?d+=c||0:u+=c||0}var h=Number(l.getRightValue(t));return h<0?l.getPixelForValue(d+h):l.getPixelForValue(u+h)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,i,n,a=this.getMeta(),o=this.chart.chartArea,r=a.data||[];function s(t,e,i){return Math.max(Math.min(t,i),e)}if(a.dataset._model.spanGaps&&(r=r.filter(function(t){return!t._model.skip})),"monotone"===a.dataset._model.cubicInterpolationMode)g.splineCurveMonotone(r);else for(t=0,e=r.length;t<e;++t)i=r[t]._model,n=g.splineCurve(g.previousItem(r,t)._model,i,g.nextItem(r,t)._model,a.dataset._model.tension),i.controlPointPreviousX=n.previous.x,i.controlPointPreviousY=n.previous.y,i.controlPointNextX=n.next.x,i.controlPointNextY=n.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,e=r.length;t<e;++t)(i=r[t]._model).controlPointPreviousX=s(i.controlPointPreviousX,o.left,o.right),i.controlPointPreviousY=s(i.controlPointPreviousY,o.top,o.bottom),i.controlPointNextX=s(i.controlPointNextX,o.left,o.right),i.controlPointNextY=s(i.controlPointNextY,o.top,o.bottom)},draw:function(){var t=this.chart,e=this.getMeta(),i=e.data||[],n=t.chartArea,a=i.length,o=0;for(g.canvas.clipArea(t.ctx,n),f(this.getDataset(),t.options)&&e.dataset.draw(),g.canvas.unclipArea(t.ctx);o<a;++o)i[o].draw(n)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=t._model;a.radius=n.hoverRadius||g.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=n.hoverBackgroundColor||g.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,g.getHoverColor(a.backgroundColor)),a.borderColor=n.hoverBorderColor||g.valueAtIndexOrDefault(e.pointHoverBorderColor,i,g.getHoverColor(a.borderColor)),a.borderWidth=n.hoverBorderWidth||g.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),o.radius=a.radius||g.valueAtIndexOrDefault(i.pointRadius,n,e.chart.options.elements.point.radius),o.backgroundColor=e.getPointBackgroundColor(t,n),o.borderColor=e.getPointBorderColor(t,n),o.borderWidth=e.getPointBorderWidth(t,n)}})}},{25:25,40:40,45:45}],19:[function(t,e,i){"use strict";var n=t(25),a=t(40),k=t(45);n._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var i=t.data,n=i.datasets,a=i.labels;if(n.length)for(var o=0;o<n[0].data.length;++o)e.push('<li><span style="background-color:'+n[0].backgroundColor[o]+'"></span>'),a[o]&&e.push(a[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(s){var l=s.data;return l.labels.length&&l.datasets.length?l.labels.map(function(t,e){var i=s.getDatasetMeta(0),n=l.datasets[0],a=i.data[e].custom||{},o=k.valueAtIndexOrDefault,r=s.options.elements.arc;return{text:t,fillStyle:a.backgroundColor?a.backgroundColor:o(n.backgroundColor,e,r.backgroundColor),strokeStyle:a.borderColor?a.borderColor:o(n.borderColor,e,r.borderColor),lineWidth:a.borderWidth?a.borderWidth:o(n.borderWidth,e,r.borderWidth),hidden:isNaN(n.data[e])||i.data[e].hidden,index:e}}):[]}},onClick:function(t,e){var i,n,a,o=e.index,r=this.chart;for(i=0,n=(r.data.datasets||[]).length;i<n;++i)(a=r.getDatasetMeta(i)).data[o].hidden=!a.data[o].hidden;r.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:a.Arc,linkScales:k.noop,update:function(i){var n=this,t=n.chart,e=t.chartArea,a=n.getMeta(),o=t.options,r=o.elements.arc,s=Math.min(e.right-e.left,e.bottom-e.top);t.outerRadius=Math.max((s-r.borderWidth/2)/2,0),t.innerRadius=Math.max(o.cutoutPercentage?t.outerRadius/100*o.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),n.outerRadius=t.outerRadius-t.radiusLength*n.index,n.innerRadius=n.outerRadius-t.radiusLength,a.count=n.countVisibleElements(),k.each(a.data,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){for(var n=this,a=n.chart,o=n.getDataset(),r=a.options,s=r.animation,l=a.scale,u=a.data.labels,d=n.calculateCircumference(o.data[e]),c=l.xCenter,h=l.yCenter,f=0,g=n.getMeta(),p=0;p<e;++p)isNaN(o.data[p])||g.data[p].hidden||++f;var v=r.startAngle,m=t.hidden?0:l.getDistanceFromCenterForValue(o.data[e]),b=v+d*f,x=b+(t.hidden?0:d),y=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[e]);k.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{x:c,y:h,innerRadius:0,outerRadius:i?y:m,startAngle:i&&s.animateRotate?v:b,endAngle:i&&s.animateRotate?v:x,label:k.valueAtIndexOrDefault(u,e,u[e])}}),n.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var i=this.getDataset(),t=this.getMeta(),n=0;return k.each(t.data,function(t,e){isNaN(i.data[e])||t.hidden||n++}),n},calculateCircumference:function(t){var e=this.getMeta().count;return 0<e&&!isNaN(t)?2*Math.PI/e:0}})}},{25:25,40:40,45:45}],20:[function(t,e,i){"use strict";var n=t(25),a=t(40),u=t(45);n._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:a.Line,dataElementType:a.Point,linkScales:u.noop,update:function(i){var n=this,t=n.getMeta(),e=t.dataset,a=t.data,o=e.custom||{},r=n.getDataset(),s=n.chart.options.elements.line,l=n.chart.scale;void 0!==r.tension&&void 0===r.lineTension&&(r.lineTension=r.tension),u.extend(t.dataset,{_datasetIndex:n.index,_scale:l,_children:a,_loop:!0,_model:{tension:o.tension?o.tension:u.valueOrDefault(r.lineTension,s.tension),backgroundColor:o.backgroundColor?o.backgroundColor:r.backgroundColor||s.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:r.borderWidth||s.borderWidth,borderColor:o.borderColor?o.borderColor:r.borderColor||s.borderColor,fill:o.fill?o.fill:void 0!==r.fill?r.fill:s.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:r.borderCapStyle||s.borderCapStyle,borderDash:o.borderDash?o.borderDash:r.borderDash||s.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:r.borderDashOffset||s.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:r.borderJoinStyle||s.borderJoinStyle}}),t.dataset.pivot(),u.each(a,function(t,e){n.updateElement(t,e,i)},n),n.updateBezierControlPoints()},updateElement:function(t,e,i){var n=this,a=t.custom||{},o=n.getDataset(),r=n.chart.scale,s=n.chart.options.elements.point,l=r.getPointPositionForValue(e,o.data[e]);void 0!==o.radius&&void 0===o.pointRadius&&(o.pointRadius=o.radius),void 0!==o.hitRadius&&void 0===o.pointHitRadius&&(o.pointHitRadius=o.hitRadius),u.extend(t,{_datasetIndex:n.index,_index:e,_scale:r,_model:{x:i?r.xCenter:l.x,y:i?r.yCenter:l.y,tension:a.tension?a.tension:u.valueOrDefault(o.lineTension,n.chart.options.elements.line.tension),radius:a.radius?a.radius:u.valueAtIndexOrDefault(o.pointRadius,e,s.radius),backgroundColor:a.backgroundColor?a.backgroundColor:u.valueAtIndexOrDefault(o.pointBackgroundColor,e,s.backgroundColor),borderColor:a.borderColor?a.borderColor:u.valueAtIndexOrDefault(o.pointBorderColor,e,s.borderColor),borderWidth:a.borderWidth?a.borderWidth:u.valueAtIndexOrDefault(o.pointBorderWidth,e,s.borderWidth),pointStyle:a.pointStyle?a.pointStyle:u.valueAtIndexOrDefault(o.pointStyle,e,s.pointStyle),hitRadius:a.hitRadius?a.hitRadius:u.valueAtIndexOrDefault(o.pointHitRadius,e,s.hitRadius)}}),t._model.skip=a.skip?a.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var a=this.chart.chartArea,o=this.getMeta();u.each(o.data,function(t,e){var i=t._model,n=u.splineCurve(u.previousItem(o.data,e,!0)._model,i,u.nextItem(o.data,e,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(n.previous.x,a.right),a.left),i.controlPointPreviousY=Math.max(Math.min(n.previous.y,a.bottom),a.top),i.controlPointNextX=Math.max(Math.min(n.next.x,a.right),a.left),i.controlPointNextY=Math.max(Math.min(n.next.y,a.bottom),a.top),t.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,a=t._model;a.radius=i.hoverRadius?i.hoverRadius:u.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:u.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,u.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:u.valueAtIndexOrDefault(e.pointHoverBorderColor,n,u.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:u.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,a.borderWidth)},removeHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},n=t._index,a=t._model,o=this.chart.options.elements.point;a.radius=i.radius?i.radius:u.valueAtIndexOrDefault(e.pointRadius,n,o.radius),a.backgroundColor=i.backgroundColor?i.backgroundColor:u.valueAtIndexOrDefault(e.pointBackgroundColor,n,o.backgroundColor),a.borderColor=i.borderColor?i.borderColor:u.valueAtIndexOrDefault(e.pointBorderColor,n,o.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:u.valueAtIndexOrDefault(e.pointBorderWidth,n,o.borderWidth)}})}},{25:25,40:40,45:45}],21:[function(t,e,i){"use strict";t(25)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),e.exports=function(t){t.controllers.scatter=t.controllers.line}},{25:25}],22:[function(t,e,i){"use strict";var n=t(25),a=t(26),o=t(45);n._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),e.exports=function(t){t.Animation=a.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,i,n){var a,o,r=this.animations;for(e.chart=t,n||(t.animating=!0),a=0,o=r.length;a<o;++a)if(r[a].chart===t)return void(r[a]=e);r.push(e),1===r.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=o.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),i=0;1<t.dropFrames&&(i=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+i);var n=Date.now();t.dropFrames+=(n-e)/t.frameDuration,0<t.animations.length&&t.requestAnimationFrame()},advance:function(t){for(var e,i,n=this.animations,a=0;a<n.length;)i=(e=n[a]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[i,e],i),o.callback(e.onAnimationProgress,[e],i),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],i),i.animating=!1,n.splice(a,1)):++a}},Object.defineProperty(t.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})}},{25:25,26:26,45:45}],23:[function(t,e,i){"use strict";var d=t(25),c=t(45),a=t(28),h=t(48);e.exports=function(l){var u=l.plugins;function s(t){return"top"===t||"bottom"===t}l.types={},l.instances={},l.controllers={},c.extend(l.prototype,{construct:function(t,e){var i=this;e=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=c.configMerge(d.global,d[t.type],t.options||{}),t}(e);var n=h.acquireContext(t,e),a=n&&n.canvas,o=a&&a.height,r=a&&a.width;i.id=c.uid(),i.ctx=n,i.canvas=a,i.config=e,i.width=r,i.height=o,i.aspectRatio=o?r/o:null,i.options=e.options,i._bufferedRender=!1,(i.chart=i).controller=i,l.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),n&&a&&(i.initialize(),i.update())},initialize:function(){var t=this;return u.notify(t,"beforeInit"),c.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),u.notify(t,"afterInit"),t},clear:function(){return c.canvas.clear(this),this},stop:function(){return l.animationService.cancelAnimation(this),this},resize:function(t){var e=this,i=e.options,n=e.canvas,a=i.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(c.getMaximumWidth(n))),r=Math.max(0,Math.floor(a?o/a:c.getMaximumHeight(n)));if((e.width!==o||e.height!==r)&&(n.width=e.width=o,n.height=e.height=r,n.style.width=o+"px",n.style.height=r+"px",c.retinaScale(e,i.devicePixelRatio),!t)){var s={width:o,height:r};u.notify(e,"resize",[s]),e.options.onResize&&e.options.onResize(e,s),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},i=t.scale;c.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),c.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),i&&(i.id=i.id||"scale")},buildScales:function(){var o=this,t=o.options,r=o.scales={},e=[];t.scales&&(e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),t.scale&&e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),c.each(e,function(t){var e=t.options,i=c.valueOrDefault(e.type,t.dtype),n=l.scaleService.getScaleConstructor(i);if(n){s(e.position)!==s(t.dposition)&&(e.position=t.dposition);var a=new n({id:e.id,options:e,ctx:o.ctx,chart:o});(r[a.id]=a).mergeTicksOptions(),t.isDefault&&(o.scale=a)}}),l.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var o=this,r=[],s=[];return c.each(o.data.datasets,function(t,e){var i=o.getDatasetMeta(e),n=t.type||o.config.type;if(i.type&&i.type!==n&&(o.destroyDatasetMeta(e),i=o.getDatasetMeta(e)),i.type=n,r.push(i.type),i.controller)i.controller.updateIndex(e);else{var a=l.controllers[i.type];if(void 0===a)throw new Error('"'+i.type+'" is not a chart type.');i.controller=new a(o,e),s.push(i.controller)}},o),s},resetElements:function(){var i=this;c.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset()},i)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),function(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach(function(t){e.scales[t.id].options=t}),e.tooltip._options=t.tooltips}(i),!1!==u.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var e=i.buildOrUpdateControllers();c.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.buildOrUpdateElements()},i),i.updateLayout(),c.each(e,function(t){t.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],u.notify(i,"afterUpdate"),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){!1!==u.notify(this,"beforeLayout")&&(l.layoutService.update(this,this.width,this.height),u.notify(this,"afterScaleUpdate"),u.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==u.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);u.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),i={meta:e,index:t};!1!==u.notify(this,"beforeDatasetUpdate",[i])&&(e.controller.update(),u.notify(this,"afterDatasetUpdate",[i]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var i=t.duration,n=t.lazy;if(!1!==u.notify(e,"beforeRender")){var a=e.options.animation,o=function(t){u.notify(e,"afterRender"),c.callback(a&&a.onComplete,[t],e)};if(a&&(void 0!==i&&0!==i||void 0===i&&0!==a.duration)){var r=new l.Animation({numSteps:(i||a.duration)/16.66,easing:t.easing||a.easing,render:function(t,e){var i=c.easing.effects[e.easing],n=e.currentStep,a=n/e.numSteps;t.draw(i(a),a,n)},onAnimationProgress:a.onProgress,onAnimationComplete:o});l.animationService.addAnimation(e,r,i,n)}else e.draw(),o(new l.Animation({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),c.isNullOrUndef(t)&&(t=1),e.transition(t),!1!==u.notify(e,"beforeDraw",[t])&&(c.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),u.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,i=(this.data.datasets||[]).length;e<i;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==u.notify(e,"beforeDatasetsDraw",[t])){for(var i=(e.data.datasets||[]).length-1;0<=i;--i)e.isDatasetVisible(i)&&e.drawDataset(i,t);u.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var i=this.getDatasetMeta(t),n={meta:i,index:t,easingValue:e};!1!==u.notify(this,"beforeDatasetDraw",[n])&&(i.controller.draw(e),u.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this.tooltip,i={tooltip:e,easingValue:t};!1!==u.notify(this,"beforeTooltipDraw",[i])&&(e.draw(),u.notify(this,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return a.modes.single(this,t)},getElementsAtEvent:function(t){return a.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return a.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=a.modes[e];return"function"==typeof n?n(this,t,i):[]},getDatasetAtEvent:function(t){return a.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var i=e._meta[this.id];return i||(i=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,i=this.data.datasets.length;e<i;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,i=this.data.datasets[t],n=i._meta&&i._meta[e];n&&(n.controller.destroy(),delete i._meta[e])},destroy:function(){var t,e,i=this,n=i.canvas;for(i.stop(),t=0,e=i.data.datasets.length;t<e;++t)i.destroyDatasetMeta(t);n&&(i.unbindEvents(),c.canvas.clear(i),h.releaseContext(i.ctx),i.canvas=null,i.ctx=null),u.notify(i,"destroy"),delete l.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new l.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,i=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};c.each(e.options.events,function(t){h.addEventListener(e,t,n),i[t]=n}),e.options.responsive&&(n=function(){e.resize()},h.addEventListener(e,"resize",n),i.resize=n)},unbindEvents:function(){var i=this,t=i._listeners;t&&(delete i._listeners,c.each(t,function(t,e){h.removeEventListener(i,e,t)}))},updateHoverStyle:function(t,e,i){var n,a,o,r=i?"setHoverStyle":"removeHoverStyle";for(a=0,o=t.length;a<o;++a)(n=t[a])&&this.getDatasetMeta(n._datasetIndex).controller[r](n)},eventHandler:function(t){var e=this,i=e.tooltip;if(!1!==u.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);n|=i&&i.handleEvent(t),u.notify(e,"afterEvent",[t]);var a=e._bufferedRequest;return a?e.render(a):n&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,i=this,n=i.options||{},a=n.hover;return i.lastActive=i.lastActive||[],"mouseout"===t.type?i.active=[]:i.active=i.getElementsAtEventForMode(t,a.mode,a),c.callback(n.onHover||n.hover.onHover,[t.native,i.active],i),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(i,t.native,i.active),i.lastActive.length&&i.updateHoverStyle(i.lastActive,a.mode,!1),i.active.length&&a.mode&&i.updateHoverStyle(i.active,a.mode,!0),e=!c.arrayEquals(i.active,i.lastActive),i.lastActive=i.active,e}}),l.Controller=l}},{25:25,28:28,45:45,48:48}],24:[function(t,e,i){"use strict";var s=t(45);e.exports=function(t){var o=["push","pop","shift","splice","unshift"];function n(e,t){var i=e._chartjs;if(i){var n=i.listeners,a=n.indexOf(t);-1!==a&&n.splice(a,1),0<n.length||(o.forEach(function(t){delete e[t]}),delete e._chartjs)}}t.DatasetController=function(t,e){this.initialize(t,e)},s.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.getDataset();null===t.xAxisID&&(t.xAxisID=e.xAxisID||this.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=e.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,i=this.getMeta(),n=this.getDataset().data||[],a=i.data;for(t=0,e=n.length;t<e;++t)a[t]=a[t]||this.createMetaData(t);i.dataset=i.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),i=e.data||(e.data=[]);t._data!==i&&(t._data&&n(t._data,t),function(a,t){a._chartjs?a._chartjs.listeners.push(t):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),o.forEach(function(t){var i="onData"+t.charAt(0).toUpperCase()+t.slice(1),n=a[t];Object.defineProperty(a,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),t=n.apply(this,e);return s.each(a._chartjs.listeners,function(t){"function"==typeof t[i]&&t[i].apply(t,e)}),t}})}))}(i,t),t._data=i),t.resyncElements()},update:s.noop,transition:function(t){for(var e=this.getMeta(),i=e.data||[],n=i.length,a=0;a<n;++a)i[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],i=e.length,n=0;for(t.dataset&&t.dataset.draw();n<i;++n)e[n].draw()},removeHoverStyle:function(t,e){var i=this.chart.data.datasets[t._datasetIndex],n=t._index,a=t.custom||{},o=s.valueAtIndexOrDefault,r=t._model;r.backgroundColor=a.backgroundColor?a.backgroundColor:o(i.backgroundColor,n,e.backgroundColor),r.borderColor=a.borderColor?a.borderColor:o(i.borderColor,n,e.borderColor),r.borderWidth=a.borderWidth?a.borderWidth:o(i.borderWidth,n,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,n=t.custom||{},a=s.valueAtIndexOrDefault,o=s.getHoverColor,r=t._model;r.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:a(e.hoverBackgroundColor,i,o(r.backgroundColor)),r.borderColor=n.hoverBorderColor?n.hoverBorderColor:a(e.hoverBorderColor,i,o(r.borderColor)),r.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:a(e.hoverBorderWidth,i,r.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,i=t.data.length,n=e.length;n<i?t.data.splice(n,i-n):i<n&&this.insertElements(i,n-i)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=s.inherits}},{45:45}],25:[function(t,e,i){"use strict";var n=t(45);e.exports={_set:function(t,e){return n.merge(this[t]||(this[t]={}),e)}}},{45:45}],26:[function(t,e,i){"use strict";var g=t(3),n=t(45);function a(t){n.extend(this,t),this.initialize.apply(this,arguments)}n.extend(a.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=n.clone(t._model)),t._start={},t},transition:function(t){var e=this,i=e._model,n=e._start,a=e._view;return i&&1!==t?(a||(a=e._view={}),n||(n=e._start={}),function(t,e,i,n){var a,o,r,s,l,u,d,c,h,f=Object.keys(i);for(a=0,o=f.length;a<o;++a)if(u=i[r=f[a]],e.hasOwnProperty(r)||(e[r]=u),(s=e[r])!==u&&"_"!==r[0]){if(t.hasOwnProperty(r)||(t[r]=s),(d=typeof u)==typeof(l=t[r]))if("string"==d){if((c=g(l)).valid&&(h=g(u)).valid){e[r]=h.mix(c,n).rgbString();continue}}else if("number"==d&&isFinite(l)&&isFinite(u)){e[r]=l+(u-l)*n;continue}e[r]=u}}(n,a,i,t)):(e._view=i,e._start=null),e},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),a.extend=n.inherits,e.exports=a},{3:3,45:45}],27:[function(t,e,i){"use strict";var n=t(3),a=t(25),g=t(45);e.exports=function(l){function d(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}function c(t){return null!=t&&"none"!==t}function e(t,e,i){var n=document.defaultView,a=t.parentNode,o=n.getComputedStyle(t)[e],r=n.getComputedStyle(a)[e],s=c(o),l=c(r),u=Number.POSITIVE_INFINITY;return s||l?Math.min(s?d(o,t,i):u,l?d(r,a,i):u):"none"}g.configMerge=function(){return g.merge(g.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,i,n){var a=e[t]||{},o=i[t];"scales"===t?e[t]=g.scaleMerge(a,o):"scale"===t?e[t]=g.merge(a,[l.scaleService.getScaleDefaults(o.type),o]):g._merger(t,e,i,n)}})},g.scaleMerge=function(){return g.merge(g.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,i,n){if("xAxes"===t||"yAxes"===t){var a,o,r,s=i[t].length;for(e[t]||(e[t]=[]),a=0;a<s;++a)r=i[t][a],o=g.valueOrDefault(r.type,"xAxes"===t?"category":"linear"),a>=e[t].length&&e[t].push({}),!e[t][a].type||r.type&&r.type!==e[t][a].type?g.merge(e[t][a],[l.scaleService.getScaleDefaults(o),r]):g.merge(e[t][a],r)}else g._merger(t,e,i,n)}})},g.where=function(t,e){if(g.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];return g.each(t,function(t){e(t)&&i.push(t)}),i},g.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=void 0===i?t:i;for(var n=0,a=t.length;n<a;++n)if(e.call(i,t[n],n,t))return n;return-1},g.findNextWhere=function(t,e,i){g.isNullOrUndef(i)&&(i=-1);for(var n=i+1;n<t.length;n++){var a=t[n];if(e(a))return a}},g.findPreviousWhere=function(t,e,i){g.isNullOrUndef(i)&&(i=t.length);for(var n=i-1;0<=n;n--){var a=t[n];if(e(a))return a}},g.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g.almostEquals=function(t,e,i){return Math.abs(t-e)<i},g.almostWhole=function(t,e){var i=Math.round(t);return i-e<t&&t<i+e},g.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},g.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},g.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:0<t?1:-1},g.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},g.toRadians=function(t){return t*(Math.PI/180)},g.toDegrees=function(t){return t*(180/Math.PI)},g.getAngleFromPoint=function(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:a}},g.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},g.aliasPixel=function(t){return t%2==0?0:.5},g.splineCurve=function(t,e,i,n){var a=t.skip?e:t,o=e,r=i.skip?e:i,s=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),l=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),u=s/(s+l),d=l/(s+l),c=n*(u=isNaN(u)?0:u),h=n*(d=isNaN(d)?0:d);return{previous:{x:o.x-c*(r.x-a.x),y:o.y-c*(r.y-a.y)},next:{x:o.x+h*(r.x-a.x),y:o.y+h*(r.y-a.y)}}},g.EPSILON=Number.EPSILON||1e-14,g.splineCurveMonotone=function(t){var e,i,n,a,o,r,s,l,u,d=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),c=d.length;for(e=0;e<c;++e)if(!(n=d[e]).model.skip){if(i=0<e?d[e-1]:null,(a=e<c-1?d[e+1]:null)&&!a.model.skip){var h=a.model.x-n.model.x;n.deltaK=0!=h?(a.model.y-n.model.y)/h:0}!i||i.model.skip?n.mK=n.deltaK:!a||a.model.skip?n.mK=i.deltaK:this.sign(i.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(i.deltaK+n.deltaK)/2}for(e=0;e<c-1;++e)n=d[e],a=d[e+1],n.model.skip||a.model.skip||(g.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=a.mK=0:(o=n.mK/n.deltaK,r=a.mK/n.deltaK,(l=Math.pow(o,2)+Math.pow(r,2))<=9||(s=3/Math.sqrt(l),n.mK=o*s*n.deltaK,a.mK=r*s*n.deltaK)));for(e=0;e<c;++e)(n=d[e]).model.skip||(i=0<e?d[e-1]:null,a=e<c-1?d[e+1]:null,i&&!i.model.skip&&(u=(n.model.x-i.model.x)/3,n.model.controlPointPreviousX=n.model.x-u,n.model.controlPointPreviousY=n.model.y-u*n.mK),a&&!a.model.skip&&(u=(a.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+u,n.model.controlPointNextY=n.model.y+u*n.mK))},g.nextItem=function(t,e,i){return i?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},g.previousItem=function(t,e,i){return i?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},g.niceNum=function(t,e){var i=Math.floor(g.log10(t)),n=t/Math.pow(10,i);return(e?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*Math.pow(10,i)},g.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},g.getRelativePosition=function(t,e){var i,n,a=t.originalEvent||t,o=t.currentTarget||t.srcElement,r=o.getBoundingClientRect(),s=a.touches;n=s&&0<s.length?(i=s[0].clientX,s[0].clientY):(i=a.clientX,a.clientY);var l=parseFloat(g.getStyle(o,"padding-left")),u=parseFloat(g.getStyle(o,"padding-top")),d=parseFloat(g.getStyle(o,"padding-right")),c=parseFloat(g.getStyle(o,"padding-bottom")),h=r.right-r.left-l-d,f=r.bottom-r.top-u-c;return{x:i=Math.round((i-r.left-l)/h*o.width/e.currentDevicePixelRatio),y:n=Math.round((n-r.top-u)/f*o.height/e.currentDevicePixelRatio)}},g.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")},g.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")},g.getMaximumWidth=function(t){var e=t.parentNode;if(!e)return t.clientWidth;var i=parseInt(g.getStyle(e,"padding-left"),10),n=parseInt(g.getStyle(e,"padding-right"),10),a=e.clientWidth-i-n,o=g.getConstraintWidth(t);return isNaN(o)?a:Math.min(a,o)},g.getMaximumHeight=function(t){var e=t.parentNode;if(!e)return t.clientHeight;var i=parseInt(g.getStyle(e,"padding-top"),10),n=parseInt(g.getStyle(e,"padding-bottom"),10),a=e.clientHeight-i-n,o=g.getConstraintHeight(t);return isNaN(o)?a:Math.min(a,o)},g.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},g.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||window.devicePixelRatio||1;if(1!==i){var n=t.canvas,a=t.height,o=t.width;n.height=a*i,n.width=o*i,t.ctx.scale(i,i),n.style.height=a+"px",n.style.width=o+"px"}},g.fontString=function(t,e,i){return e+" "+t+"px "+i},g.longestText=function(e,t,i,n){var a=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(a=n.data={},o=n.garbageCollect=[],n.font=t),e.font=t;var r=0;g.each(i,function(t){null!=t&&!0!==g.isArray(t)?r=g.measureText(e,a,o,r,t):g.isArray(t)&&g.each(t,function(t){null==t||g.isArray(t)||(r=g.measureText(e,a,o,r,t))})});var s=o.length/2;if(s>i.length){for(var l=0;l<s;l++)delete a[o[l]];o.splice(0,s)}return r},g.measureText=function(t,e,i,n,a){var o=e[a];return o||(o=e[a]=t.measureText(a).width,i.push(a)),n<o&&(n=o),n},g.numberOfLabelLines=function(t){var e=1;return g.each(t,function(t){g.isArray(t)&&t.length>e&&(e=t.length)}),e},g.color=n?function(t){return t instanceof CanvasGradient&&(t=a.global.defaultColor),n(t)}:function(t){return t},g.getHoverColor=function(t){return t instanceof CanvasPattern?t:g.color(t).saturate(.5).darken(.1).rgbString()}}},{25:25,3:3,45:45}],28:[function(t,e,i){"use strict";var n=t(45);function s(t,e){return t.native?{x:t.x,y:t.y}:n.getRelativePosition(t,e)}function l(t,e){var i,n,a,o,r;for(n=0,o=t.data.datasets.length;n<o;++n)if(t.isDatasetVisible(n))for(a=0,r=(i=t.getDatasetMeta(n)).data.length;a<r;++a){var s=i.data[a];s._view.skip||e(s)}}function u(t,e){var i=[];return l(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function d(t,n,a,o){var r=Number.POSITIVE_INFINITY,s=[];return l(t,function(t){if(!a||t.inRange(n.x,n.y)){var e=t.getCenterPoint(),i=o(n,e);i<r?(s=[t],r=i):i===r&&s.push(t)}}),s}function c(t){var a=-1!==t.indexOf("x"),o=-1!==t.indexOf("y");return function(t,e){var i=a?Math.abs(t.x-e.x):0,n=o?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}}function a(n,t,e){var i=s(t,n);e.axis=e.axis||"x";var a=c(e.axis),o=e.intersect?u(n,i):d(n,i,!1,a),r=[];return o.length?(n.data.datasets.forEach(function(t,e){if(n.isDatasetVisible(e)){var i=n.getDatasetMeta(e).data[o[0]._index];i&&!i._view.skip&&r.push(i)}}),r):[]}e.exports={modes:{single:function(t,e){var i=s(e,t),n=[];return l(t,function(t){if(t.inRange(i.x,i.y))return n.push(t),n}),n.slice(0,1)},label:a,index:a,dataset:function(t,e,i){var n=s(e,t);i.axis=i.axis||"xy";var a=c(i.axis),o=i.intersect?u(t,n):d(t,n,!1,a);return 0<o.length&&(o=t.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(t,e){return a(t,e,{intersect:!1})},point:function(t,e){return u(t,s(e,t))},nearest:function(t,e,i){var n=s(e,t);i.axis=i.axis||"xy";var a=c(i.axis),o=d(t,n,i.intersect,a);return 1<o.length&&o.sort(function(t,e){var i=t.getArea()-e.getArea();return 0===i&&(i=t._datasetIndex-e._datasetIndex),i}),o.slice(0,1)},x:function(t,e,i){var n=s(e,t),a=[],o=!1;return l(t,function(t){t.inXRange(n.x)&&a.push(t),t.inRange(n.x,n.y)&&(o=!0)}),i.intersect&&!o&&(a=[]),a},y:function(t,e,i){var n=s(e,t),a=[],o=!1;return l(t,function(t){t.inYRange(n.y)&&a.push(t),t.inRange(n.x,n.y)&&(o=!0)}),i.intersect&&!o&&(a=[]),a}}}},{45:45}],29:[function(t,e,i){"use strict";t(25)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){function t(t,e){return this.construct(t,e),this}return t.Chart=t}},{25:25}],30:[function(t,e,i){"use strict";var V=t(45);e.exports=function(t){function W(t,e){return V.where(t,function(t){return t.position===e})}function N(t,a){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,e){var i=a?e:t,n=a?t:e;return i.weight===n.weight?i._tmpIndex_-n._tmpIndex_:i.weight-n.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var n,a=["fullWidth","position","weight"],o=a.length,r=0;r<o;++r)n=a[r],i.hasOwnProperty(n)&&(e[n]=i[n])},update:function(e,i,t){if(e){var n=e.options.layout||{},a=V.options.toPadding(n.padding),o=a.left,r=a.right,s=a.top,l=a.bottom,u=W(e.boxes,"left"),d=W(e.boxes,"right"),c=W(e.boxes,"top"),h=W(e.boxes,"bottom"),f=W(e.boxes,"chartArea");N(u,!0),N(d,!1),N(c,!0),N(h,!1);var g=i-o-r,p=t-s-l,v=p/2,m=(i-g/2)/(u.length+d.length),b=(t-v)/(c.length+h.length),x=g,y=p,k=[];V.each(u.concat(d,c,h),function(t){var e,i=t.isHorizontal();i?(e=t.update(t.fullWidth?g:x,b),y-=e.height):(e=t.update(m,v),x-=e.width),k.push({horizontal:i,minSize:e,box:t})});var w=0,M=0,S=0,C=0;V.each(c.concat(h),function(t){if(t.getPadding){var e=t.getPadding();w=Math.max(w,e.left),M=Math.max(M,e.right)}}),V.each(u.concat(d),function(t){if(t.getPadding){var e=t.getPadding();S=Math.max(S,e.top),C=Math.max(C,e.bottom)}});var _=o,D=r,I=s,P=l;V.each(u.concat(d),z),V.each(u,function(t){_+=t.width}),V.each(d,function(t){D+=t.width}),V.each(c.concat(h),z),V.each(c,function(t){I+=t.height}),V.each(h,function(t){P+=t.height}),V.each(u.concat(d),function(e){var t=V.findNextWhere(k,function(t){return t.box===e}),i={left:0,right:0,top:I,bottom:P};t&&e.update(t.minSize.width,y,i)}),_=o,D=r,I=s,P=l,V.each(u,function(t){_+=t.width}),V.each(d,function(t){D+=t.width}),V.each(c,function(t){I+=t.height}),V.each(h,function(t){P+=t.height});var A=Math.max(w-_,0);_+=A,D+=Math.max(M-D,0);var T=Math.max(S-I,0);I+=T,P+=Math.max(C-P,0);var F=t-I-P,O=i-_-D;O===x&&F===y||(V.each(u,function(t){t.height=F}),V.each(d,function(t){t.height=F}),V.each(c,function(t){t.fullWidth||(t.width=O)}),V.each(h,function(t){t.fullWidth||(t.width=O)}),y=F,x=O);var R=o+A,L=s+T;V.each(u.concat(c),B),R+=x,L+=y,V.each(d,B),V.each(h,B),e.chartArea={left:_,top:I,right:_+x,bottom:I+y},V.each(f,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(x,y)})}function z(e){var t=V.findNextWhere(k,function(t){return t.box===e});if(t)if(e.isHorizontal()){var i={left:Math.max(_,w),right:Math.max(D,M),top:0,bottom:0};e.update(e.fullWidth?g:x,p/2,i)}else e.update(t.minSize.width,y)}function B(t){t.isHorizontal()?(t.left=t.fullWidth?o:_,t.right=t.fullWidth?i-r:_+x,t.top=L,t.bottom=L+t.height,L=t.bottom):(t.left=R,t.right=R+t.width,t.top=I,t.bottom=I+y,R=t.right)}}}}},{45:45}],31:[function(t,e,i){"use strict";var r=t(25),n=t(26),s=t(45);r._set("global",{plugins:{}}),e.exports=function(t){t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var i=this._plugins;[].concat(t).forEach(function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n,a,o,r,s,l=this.descriptors(t),u=l.length;for(n=0;n<u;++n)if("function"==typeof(s=(o=(a=l[n]).plugin)[e])&&((r=[t].concat(i||[])).push(a.options),!1===s.apply(o,r)))return!1;return!0},descriptors:function(t){var e=t._plugins||(t._plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],a=[],i=t&&t.config||{},o=i.options&&i.options.plugins||{};return this._plugins.concat(i.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,i=o[e];!1!==i&&(!0===i&&(i=s.clone(r.global.plugins[e])),n.push(t),a.push({plugin:t,options:i||{}}))}}),e.descriptors=a,e.id=this._cacheId,a}},t.pluginService=t.plugins,t.PluginBase=n.extend({})}},{25:25,26:26,45:45}],32:[function(t,e,i){"use strict";var y=t(25),n=t(26),E=t(45),a=t(34);function S(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].label);return n}function H(t,e,i){var n=t.getPixelForTick(e);return i&&(n-=0===e?(t.getPixelForTick(1)-n)/2:(n-t.getPixelForTick(e-1))/2),n}y._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.formatters.values,minor:{},major:{}}}),e.exports=function(t){function k(t,e,i){return E.isArray(e)?E.longestText(t,i,e):t.measureText(e).width}function w(t){var e=E.valueOrDefault,i=y.global,n=e(t.fontSize,i.defaultFontSize),a=e(t.fontStyle,i.defaultFontStyle),o=e(t.fontFamily,i.defaultFontFamily);return{size:n,style:a,family:o,font:E.fontString(n,a,o)}}function M(t){return E.options.toLineHeight(E.valueOrDefault(t.lineHeight,1.2),E.valueOrDefault(t.fontSize,y.global.defaultFontSize))}t.Scale=n.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){E.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n,a,o,r,s,l,u=this;for(u.beforeUpdate(),u.maxWidth=t,u.maxHeight=e,u.margins=E.extend({left:0,right:0,top:0,bottom:0},i),u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),s=u.buildTicks()||[],u.afterBuildTicks(),u.beforeTickToLabelConversion(),o=u.convertTicksToLabels(s)||u.ticks,u.afterTickToLabelConversion(),n=0,a=(u.ticks=o).length;n<a;++n)r=o[n],(l=s[n])?l.label=r:s.push(l={label:r,major:!1});return u._ticks=s,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){E.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){E.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){E.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){E.callback(this.options.beforeDataLimits,[this])},determineDataLimits:E.noop,afterDataLimits:function(){E.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){E.callback(this.options.beforeBuildTicks,[this])},buildTicks:E.noop,afterBuildTicks:function(){E.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){E.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){E.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){E.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,i=t.options.ticks,n=S(t._ticks),a=w(i);e.font=a.font;var o=i.minRotation||0;if(n.length&&t.options.display&&t.isHorizontal())for(var r,s=E.longestText(e,a.font,n,t.longestTextCache),l=s,u=t.getPixelForTick(1)-t.getPixelForTick(0)-6;u<l&&o<i.maxRotation;){var d=E.toRadians(o);if(r=Math.cos(d),Math.sin(d)*s>t.maxHeight){o--;break}o++,l=r*s}t.labelRotation=o},afterCalculateTickRotation:function(){E.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){E.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=S(t._ticks),n=t.options,a=n.ticks,o=n.scaleLabel,r=n.gridLines,s=n.display,l=t.isHorizontal(),u=w(a),d=n.gridLines.tickMarkLength;if(e.width=l?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&r.drawTicks?d:0,e.height=l?s&&r.drawTicks?d:0:t.maxHeight,o.display&&s){var c=M(o)+E.options.toPadding(o.padding).height;l?e.height+=c:e.width+=c}if(a.display&&s){var h=E.longestText(t.ctx,u.font,i,t.longestTextCache),f=E.numberOfLabelLines(i),g=.5*u.size,p=t.options.ticks.padding;if(l){t.longestLabelWidth=h;var v=E.toRadians(t.labelRotation),m=Math.cos(v),b=Math.sin(v)*h+u.size*f+g*(f-1)+g;e.height=Math.min(t.maxHeight,e.height+b+p),t.ctx.font=u.font;var x=k(t.ctx,i[0],u.font),y=k(t.ctx,i[i.length-1],u.font);0!==t.labelRotation?(t.paddingLeft="bottom"===n.position?m*x+3:m*g+3,t.paddingRight="bottom"===n.position?m*g+3:m*y+3):(t.paddingLeft=x/2+3,t.paddingRight=y/2+3)}else a.mirror?h=0:h+=p+g,e.width=Math.min(t.maxWidth,e.width+h),t.paddingTop=u.size/2,t.paddingBottom=u.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){E.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(E.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:E.noop,getPixelForValue:E.noop,getValueForPixel:E.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(i?0:1),1),a=n*t+e.paddingLeft;i&&(a+=n/2);var o=e.left+Math.round(a);return o+=e.isFullWidth()?e.margins.left:0}var r=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(r/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,n=e.left+Math.round(i);return n+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0},_autoSkip:function(t){var e,i,n,a,o=this,r=o.isHorizontal(),s=o.options.ticks.minor,l=t.length,u=E.toRadians(o.labelRotation),d=Math.cos(u),c=o.longestLabelWidth*d,h=[];for(s.maxTicksLimit&&(a=s.maxTicksLimit),r&&(e=!1,(c+s.autoSkipPadding)*l>o.width-(o.paddingLeft+o.paddingRight)&&(e=1+Math.floor((c+s.autoSkipPadding)*l/(o.width-(o.paddingLeft+o.paddingRight)))),a&&a<l&&(e=Math.max(e,Math.floor(l/a)))),i=0;i<l;i++)n=t[i],(1<e&&0<i%e||i%e==0&&l<=i+e)&&i!==l-1&&delete n.label,h.push(n);return h},draw:function(C){var _=this,D=_.options;if(D.display){var a=_.ctx,I=y.global,P=D.ticks.minor,t=D.ticks.major||P,A=D.gridLines,e=D.scaleLabel,T=0!==_.labelRotation,F=_.isHorizontal(),O=P.autoSkip?_._autoSkip(_.getTicks()):_.getTicks(),o=E.valueOrDefault(P.fontColor,I.defaultFontColor),r=w(P),s=E.valueOrDefault(t.fontColor,I.defaultFontColor),l=w(t),R=A.drawTicks?A.tickMarkLength:0,i=E.valueOrDefault(e.fontColor,I.defaultFontColor),n=w(e),u=E.options.toPadding(e.padding),L=E.toRadians(_.labelRotation),z=[],B="right"===D.position?_.left:_.right-R,W="right"===D.position?_.left+R:_.right,N="bottom"===D.position?_.top:_.bottom-R,V="bottom"===D.position?_.top+R:_.bottom;if(E.each(O,function(t,e){if(!E.isNullOrUndef(t.label)){var i,n,a,o,r,s,l,u,d,c,h,f,g,p,v=t.label;o=e===_.zeroLineIndex&&D.offset===A.offsetGridLines?(i=A.zeroLineWidth,n=A.zeroLineColor,a=A.zeroLineBorderDash,A.zeroLineBorderDashOffset):(i=E.valueAtIndexOrDefault(A.lineWidth,e),n=E.valueAtIndexOrDefault(A.color,e),a=E.valueOrDefault(A.borderDash,I.borderDash),E.valueOrDefault(A.borderDashOffset,I.borderDashOffset));var m="middle",b="middle",x=P.padding;if(F){var y=R+x;p="bottom"===D.position?(b=T?"middle":"top",m=T?"right":"center",_.top+y):(b=T?"middle":"bottom",m=T?"left":"center",_.bottom-y);var k=H(_,e,A.offsetGridLines&&1<O.length);k<_.left&&(n="rgba(0,0,0,0)"),k+=E.aliasPixel(i),g=_.getPixelForTick(e)+P.labelOffset,r=l=d=h=k,s=N,u=V,c=C.top,f=C.bottom}else{var w,M="left"===D.position;w=P.mirror?(m=M?"left":"right",x):(m=M?"right":"left",R+x),g=M?_.right-w:_.left+w;var S=H(_,e,A.offsetGridLines&&1<O.length);S<_.top&&(n="rgba(0,0,0,0)"),S+=E.aliasPixel(i),p=_.getPixelForTick(e)+P.labelOffset,r=B,l=W,d=C.left,h=C.right,s=u=c=f=S}z.push({tx1:r,ty1:s,tx2:l,ty2:u,x1:d,y1:c,x2:h,y2:f,labelX:g,labelY:p,glWidth:i,glColor:n,glBorderDash:a,glBorderDashOffset:o,rotation:-1*L,label:v,major:t.major,textBaseline:b,textAlign:m})}}),E.each(z,function(t){if(A.display&&(a.save(),a.lineWidth=t.glWidth,a.strokeStyle=t.glColor,a.setLineDash&&(a.setLineDash(t.glBorderDash),a.lineDashOffset=t.glBorderDashOffset),a.beginPath(),A.drawTicks&&(a.moveTo(t.tx1,t.ty1),a.lineTo(t.tx2,t.ty2)),A.drawOnChartArea&&(a.moveTo(t.x1,t.y1),a.lineTo(t.x2,t.y2)),a.stroke(),a.restore()),P.display){a.save(),a.translate(t.labelX,t.labelY),a.rotate(t.rotation),a.font=t.major?l.font:r.font,a.fillStyle=t.major?s:o,a.textBaseline=t.textBaseline,a.textAlign=t.textAlign;var e=t.label;if(E.isArray(e))for(var i=0,n=0;i<e.length;++i)a.fillText(""+e[i],0,n),n+=1.5*r.size;else a.fillText(e,0,0);a.restore()}}),e.display){var d,c,h=0,f=M(e)/2;if(F)d=_.left+(_.right-_.left)/2,c="bottom"===D.position?_.bottom-f-u.bottom:_.top+f+u.top;else{var g="left"===D.position;d=g?_.left+f+u.top:_.right-f-u.top,c=_.top+(_.bottom-_.top)/2,h=g?-.5*Math.PI:.5*Math.PI}a.save(),a.translate(d,c),a.rotate(h),a.textAlign="center",a.textBaseline="middle",a.fillStyle=i,a.font=n.font,a.fillText(e.labelString,0,0),a.restore()}if(A.drawBorder){a.lineWidth=E.valueAtIndexOrDefault(A.lineWidth,0),a.strokeStyle=E.valueAtIndexOrDefault(A.color,0);var p=_.left,v=_.right,m=_.top,b=_.bottom,x=E.aliasPixel(a.lineWidth);F?(m=b="top"===D.position?_.bottom:_.top,m+=x,b+=x):(p=v="left"===D.position?_.right:_.left,p+=x,v+=x),a.beginPath(),a.moveTo(p,m),a.lineTo(v,b),a.stroke()}}}})}},{25:25,26:26,34:34,45:45}],33:[function(t,e,i){"use strict";var n=t(25),a=t(45);e.exports=function(i){i.scaleService={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e,this.defaults[t]=a.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?a.merge({},[n.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=a.extend(this.defaults[t],e))},addScalesToLayout:function(e){a.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,i.layoutService.addBox(e,t)})}}}},{25:25,45:45}],34:[function(t,e,i){"use strict";var d=t(45);e.exports={generators:{linear:function(t,e){var i,n=[];if(t.stepSize&&0<t.stepSize)i=t.stepSize;else{var a=d.niceNum(e.max-e.min,!1);i=d.niceNum(a/(t.maxTicks-1),!0)}var o=Math.floor(e.min/i)*i,r=Math.ceil(e.max/i)*i;t.min&&t.max&&t.stepSize&&d.almostWhole((t.max-t.min)/t.stepSize,i/1e3)&&(o=t.min,r=t.max);var s=(r-o)/i;s=d.almostEquals(s,Math.round(s),i/1e3)?Math.round(s):Math.ceil(s),n.push(void 0!==t.min?t.min:o);for(var l=1;l<s;++l)n.push(o+l*i);return n.push(void 0!==t.max?t.max:r),n},logarithmic:function(t,e){var i,n,a=[],o=d.valueOrDefault,r=o(t.min,Math.pow(10,Math.floor(d.log10(e.min)))),s=Math.floor(d.log10(e.max)),l=Math.ceil(e.max/Math.pow(10,s));for(0===r?(i=Math.floor(d.log10(e.minNotZero)),n=Math.floor(e.minNotZero/Math.pow(10,i)),a.push(r),r=n*Math.pow(10,i)):(i=Math.floor(d.log10(r)),n=Math.floor(r/Math.pow(10,i)));a.push(r),10===++n&&(n=1,++i),r=n*Math.pow(10,i),i<s||i===s&&n<l;);var u=o(t.max,r);return a.push(u),a}},formatters:{values:function(t){return d.isArray(t)?t:""+t},linear:function(t,e,i){var n=3<i.length?i[2]-i[1]:i[1]-i[0];1<Math.abs(n)&&t!==Math.floor(t)&&(n=t-Math.floor(t));var a=d.log10(Math.abs(n)),o="";if(0!==t){var r=-1*Math.floor(a);r=Math.max(Math.min(r,20),0),o=t.toFixed(r)}else o="0";return o},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(d.log10(t)));return 0===t?"0":1==n||2==n||5==n||0===e||e===i.length-1?t.toExponential():""}}}},{45:45}],35:[function(t,e,i){"use strict";var n=t(25),a=t(26),M=t(45);n._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:M.noop,title:function(t,e){var i="",n=e.labels,a=n?n.length:0;if(0<t.length){var o=t[0];o.xLabel?i=o.xLabel:0<a&&o.index<a&&(i=n[o.index])}return i},afterTitle:M.noop,beforeBody:M.noop,beforeLabel:M.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";return i&&(i+=": "),i+=t.yLabel},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:M.noop,afterBody:M.noop,beforeFooter:M.noop,footer:M.noop,afterFooter:M.noop}}}),e.exports=function(k){function h(t,e){var i=M.color(t);return i.alpha(e*i.alpha()).rgbaString()}function r(t,e){return e&&(M.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function w(t){var e=n.global,i=M.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:i(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:i(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:i(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:i(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:i(t.titleFontStyle,e.defaultFontStyle),titleFontSize:i(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:i(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:i(t.footerFontStyle,e.defaultFontStyle),footerFontSize:i(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}k.Tooltip=a.extend({initialize:function(){this._model=w(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),i=t.title.apply(this,arguments),n=t.afterTitle.apply(this,arguments),a=[];return a=r(a=r(a=r(a,e),i),n)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return M.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,i){var n=this,a=n._options.callbacks,o=[];return M.each(t,function(t){var e={before:[],lines:[],after:[]};r(e.before,a.beforeLabel.call(n,t,i)),r(e.lines,a.label.call(n,t,i)),r(e.after,a.afterLabel.call(n,t,i)),o.push(e)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return M.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),i=t.footer.apply(this,arguments),n=t.afterFooter.apply(this,arguments),a=[];return a=r(a=r(a=r(a,e),i),n)},update:function(t){var e,i,n,a,o,r,s,l=this,u=l._options,d=l._model,c=l._model=w(u),h=l._active,f=l._data,g={xAlign:d.xAlign,yAlign:d.yAlign},p={x:d.x,y:d.y},v={width:d.width,height:d.height},m={x:d.caretX,y:d.caretY};if(h.length){c.opacity=1;var b=[],x=[];m=k.Tooltip.positioners[u.position].call(l,h,l._eventPosition);var y=[];for(e=0,i=h.length;e<i;++e)y.push((n=h[e],o=a=void 0,a=n._xScale,o=n._yScale||n._scale,r=n._index,s=n._datasetIndex,{xLabel:a?a.getLabelForIndex(r,s):"",yLabel:o?o.getLabelForIndex(r,s):"",index:r,datasetIndex:s,x:n._model.x,y:n._model.y}));u.filter&&(y=y.filter(function(t){return u.filter(t,f)})),u.itemSort&&(y=y.sort(function(t,e){return u.itemSort(t,e,f)})),M.each(y,function(t){b.push(u.callbacks.labelColor.call(l,t,l._chart)),x.push(u.callbacks.labelTextColor.call(l,t,l._chart))}),c.title=l.getTitle(y,f),c.beforeBody=l.getBeforeBody(y,f),c.body=l.getBody(y,f),c.afterBody=l.getAfterBody(y,f),c.footer=l.getFooter(y,f),c.x=Math.round(m.x),c.y=Math.round(m.y),c.caretPadding=u.caretPadding,c.labelColors=b,c.labelTextColors=x,c.dataPoints=y,p=function(t,e,i){var n=t.x,a=t.y,o=t.caretSize,r=t.caretPadding,s=t.cornerRadius,l=i.xAlign,u=i.yAlign,d=o+r,c=s+r;return"right"===l?n-=e.width:"center"===l&&(n-=e.width/2),"top"===u?a+=d:a-="bottom"===u?e.height+d:e.height/2,"center"===u?"left"===l?n+=d:"right"===l&&(n-=d):"left"===l?n-=c:"right"===l&&(n+=c),{x:n,y:a}}(c,v=function(t,e){var i=t._chart.ctx,n=2*e.yPadding,a=0,o=e.body,r=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);r+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,d=e.bodyFontSize,c=e.footerFontSize;function h(t){a=Math.max(a,i.measureText(t).width+f)}n+=s*u,n+=s?(s-1)*e.titleSpacing:0,n+=s?e.titleMarginBottom:0,n+=r*d,n+=r?(r-1)*e.bodySpacing:0,n+=l?e.footerMarginTop:0,n+=l*c,n+=l?(l-1)*e.footerSpacing:0;var f=0;return i.font=M.fontString(u,e._titleFontStyle,e._titleFontFamily),M.each(e.title,h),i.font=M.fontString(d,e._bodyFontStyle,e._bodyFontFamily),M.each(e.beforeBody.concat(e.afterBody),h),f=e.displayColors?d+2:0,M.each(o,function(t){M.each(t.before,h),M.each(t.lines,h),M.each(t.after,h)}),f=0,i.font=M.fontString(c,e._footerFontStyle,e._footerFontFamily),M.each(e.footer,h),{width:a+=2*e.xPadding,height:n}}(this,c),g=function(t,e){var i,n,a,o,r,s=t._model,l=t._chart,u=t._chart.chartArea,d="center",c="center";s.y<e.height?c="top":s.y>l.height-e.height&&(c="bottom");var h=(u.left+u.right)/2,f=(u.top+u.bottom)/2;n="center"===c?(i=function(t){return t<=h},function(t){return h<t}):(i=function(t){return t<=e.width/2},function(t){return t>=l.width-e.width/2}),a=function(t){return t+e.width>l.width},o=function(t){return t-e.width<0},r=function(t){return t<=f?"top":"bottom"},i(s.x)?(d="left",a(s.x)&&(d="center",c=r(s.y))):n(s.x)&&(d="right",o(s.x)&&(d="center",c=r(s.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:d,yAlign:g.yAlign?g.yAlign:c}}(this,v))}else c.opacity=0;return c.xAlign=g.xAlign,c.yAlign=g.yAlign,c.x=p.x,c.y=p.y,c.width=v.width,c.height=v.height,c.caretX=m.x,c.caretY=m.y,l._model=c,t&&u.custom&&u.custom.call(l,c),l},drawCaret:function(t,e){var i=this._chart.ctx,n=this._view,a=this.getCaretPosition(t,e,n);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,i){var n,a,o,r,s,l,u=i.caretSize,d=i.cornerRadius,c=i.xAlign,h=i.yAlign,f=t.x,g=t.y,p=e.width,v=e.height;if("center"===h)s=g+v/2,l="left"===c?(a=(n=f)-u,o=n,r=s+u,s-u):(a=(n=f+p)+u,o=n,r=s-u,s+u);else if(o=(n="left"===c?(a=f+d+u)-u:"right"===c?(a=f+p-d-u)-u:(a=f+p/2)-u,a+u),"top"===h)s=(r=g)-u,l=r;else{s=(r=g+v)+u,l=r;var m=o;o=n,n=m}return{x1:n,x2:a,x3:o,y1:r,y2:s,y3:l}},drawTitle:function(t,e,i,n){var a=e.title;if(a.length){i.textAlign=e._titleAlign,i.textBaseline="top";var o,r,s=e.titleFontSize,l=e.titleSpacing;for(i.fillStyle=h(e.titleFontColor,n),i.font=M.fontString(s,e._titleFontStyle,e._titleFontFamily),o=0,r=a.length;o<r;++o)i.fillText(a[o],t.x,t.y),t.y+=s+l,o+1===a.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(n,a,o,r){var s=a.bodyFontSize,e=a.bodySpacing,t=a.body;o.textAlign=a._bodyAlign,o.textBaseline="top",o.font=M.fontString(s,a._bodyFontStyle,a._bodyFontFamily);function l(t){o.fillText(t,n.x+i,n.y),n.y+=s+e}var i=0;o.fillStyle=h(a.bodyFontColor,r),M.each(a.beforeBody,l);var u=a.displayColors;i=u?s+2:0,M.each(t,function(t,e){var i=h(a.labelTextColors[e],r);o.fillStyle=i,M.each(t.before,l),M.each(t.lines,function(t){u&&(o.fillStyle=h(a.legendColorBackground,r),o.fillRect(n.x,n.y,s,s),o.lineWidth=1,o.strokeStyle=h(a.labelColors[e].borderColor,r),o.strokeRect(n.x,n.y,s,s),o.fillStyle=h(a.labelColors[e].backgroundColor,r),o.fillRect(n.x+1,n.y+1,s-2,s-2),o.fillStyle=i),l(t)}),M.each(t.after,l)}),i=0,M.each(a.afterBody,l),n.y-=e},drawFooter:function(e,i,n,t){var a=i.footer;a.length&&(e.y+=i.footerMarginTop,n.textAlign=i._footerAlign,n.textBaseline="top",n.fillStyle=h(i.footerFontColor,t),n.font=M.fontString(i.footerFontSize,i._footerFontStyle,i._footerFontFamily),M.each(a,function(t){n.fillText(t,e.x,e.y),e.y+=i.footerFontSize+i.footerSpacing}))},drawBackground:function(t,e,i,n,a){i.fillStyle=h(e.backgroundColor,a),i.strokeStyle=h(e.borderColor,a),i.lineWidth=e.borderWidth;var o=e.xAlign,r=e.yAlign,s=t.x,l=t.y,u=n.width,d=n.height,c=e.cornerRadius;i.beginPath(),i.moveTo(s+c,l),"top"===r&&this.drawCaret(t,n),i.lineTo(s+u-c,l),i.quadraticCurveTo(s+u,l,s+u,l+c),"center"===r&&"right"===o&&this.drawCaret(t,n),i.lineTo(s+u,l+d-c),i.quadraticCurveTo(s+u,l+d,s+u-c,l+d),"bottom"===r&&this.drawCaret(t,n),i.lineTo(s+c,l+d),i.quadraticCurveTo(s,l+d,s,l+d-c),"center"===r&&"left"===o&&this.drawCaret(t,n),i.lineTo(s,l+c),i.quadraticCurveTo(s,l,s+c,l),i.closePath(),i.fill(),0<e.borderWidth&&i.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var i={width:e.width,height:e.height},n={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,o=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&o&&(this.drawBackground(n,e,t,i,a),n.x+=e.xPadding,n.y+=e.yPadding,this.drawTitle(n,e,t,a),this.drawBody(n,e,t,a),this.drawFooter(n,e,t,a))}},handleEvent:function(t){var e=this,i=e._options,n=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,i.mode,i),!(n=!M.arrayEquals(e._active,e._lastActive)))return!1;if(e._lastActive=e._active,i.enabled||i.custom){e._eventPosition={x:t.x,y:t.y};var a=e._model;e.update(!0),e.pivot(),n|=a.x!==e._model.x||a.y!==e._model.y}return n}}),k.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,i,n=0,a=0,o=0;for(e=0,i=t.length;e<i;++e){var r=t[e];if(r&&r.hasValue()){var s=r.tooltipPosition();n+=s.x,a+=s.y,++o}}return{x:Math.round(n/o),y:Math.round(a/o)}},nearest:function(t,e){var i,n,a,o=e.x,r=e.y,s=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){var l=t[i];if(l&&l.hasValue()){var u=l.getCenterPoint(),d=M.distanceBetweenPoints(e,u);d<s&&(s=d,a=l)}}if(a){var c=a.tooltipPosition();o=c.x,r=c.y}return{x:o,y:r}}}}},{25:25,26:26,45:45}],36:[function(t,e,i){"use strict";var n=t(25),a=t(26),d=t(45);n._set("global",{elements:{arc:{backgroundColor:n.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=a.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var i=this._view;if(i){for(var n=d.getAngleFromPoint(i,{x:t,y:e}),a=n.angle,o=n.distance,r=i.startAngle,s=i.endAngle;s<r;)s+=2*Math.PI;for(;s<a;)a-=2*Math.PI;for(;a<r;)a+=2*Math.PI;var l=r<=a&&a<=s,u=o>=i.innerRadius&&o<=i.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx,e=this._view,i=e.startAngle,n=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,i,n),t.arc(e.x,e.y,e.innerRadius,n,i,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},{25:25,26:26,45:45}],37:[function(t,e,i){"use strict";var n=t(25),a=t(26),d=t(45),c=n.global;n._set("global",{elements:{line:{tension:.4,backgroundColor:c.defaultColor,borderWidth:3,borderColor:c.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=a.extend({draw:function(){var t,e,i,n,a=this._view,o=this._chart.ctx,r=a.spanGaps,s=this._children.slice(),l=c.elements.line,u=-1;for(this._loop&&s.length&&s.push(s[0]),o.save(),o.lineCap=a.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(a.borderDash||l.borderDash),o.lineDashOffset=a.borderDashOffset||l.borderDashOffset,o.lineJoin=a.borderJoinStyle||l.borderJoinStyle,o.lineWidth=a.borderWidth||l.borderWidth,o.strokeStyle=a.borderColor||c.defaultColor,o.beginPath(),u=-1,t=0;t<s.length;++t)e=s[t],i=d.previousItem(s,t),n=e._view,0===t?n.skip||(o.moveTo(n.x,n.y),u=t):(i=-1===u?i:s[u],n.skip||(u!==t-1&&!r||-1===u?o.moveTo(n.x,n.y):d.canvas.lineTo(o,i._view,e._view),u=t));o.stroke(),o.restore()}})},{25:25,26:26,45:45}],38:[function(t,e,i){"use strict";var d=t(25),n=t(26),c=t(45),h=d.global.defaultColor;function a(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}d._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:h,borderColor:h,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=n.extend({inRange:function(t,e){var i=this._view;return!!i&&Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2)},inLabelRange:a,inXRange:a,inYRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,i=this._model,n=this._chart.ctx,a=e.pointStyle,o=e.radius,r=e.x,s=e.y,l=c.color,u=0;e.skip||(n.strokeStyle=e.borderColor||h,n.lineWidth=c.valueOrDefault(e.borderWidth,d.global.elements.point.borderWidth),n.fillStyle=e.backgroundColor||h,void 0!==t&&(i.x<t.left||1.01*t.right<i.x||i.y<t.top||1.01*t.bottom<i.y)&&(i.x<t.left?u=(r-i.x)/(t.left-i.x):1.01*t.right<i.x?u=(i.x-r)/(i.x-t.right):i.y<t.top?u=(s-i.y)/(t.top-i.y):1.01*t.bottom<i.y&&(u=(i.y-s)/(i.y-t.bottom)),u=Math.round(100*u)/100,n.strokeStyle=l(n.strokeStyle).alpha(u).rgbString(),n.fillStyle=l(n.fillStyle).alpha(u).rgbString()),c.canvas.drawPoint(n,a,o,r,s))}})},{25:25,26:26,45:45}],39:[function(t,e,i){"use strict";var n=t(25),a=t(26);function l(t){return void 0!==t._view.width}function o(t){var e,i,n,a,o=t._view;if(l(t)){var r=o.width/2;e=o.x-r,i=o.x+r,n=Math.min(o.y,o.base),a=Math.max(o.y,o.base)}else{var s=o.height/2;e=Math.min(o.x,o.base),i=Math.max(o.x,o.base),n=o.y-s,a=o.y+s}return{left:e,top:n,right:i,bottom:a}}n._set("global",{elements:{rectangle:{backgroundColor:n.global.defaultColor,borderColor:n.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=a.extend({draw:function(){var t,e,i,n,a,o,r,s=this._chart.ctx,l=this._view,u=l.borderWidth;if(r=l.horizontal?(t=l.base,e=l.x,i=l.y-l.height/2,n=l.y+l.height/2,a=t<e?1:-1,o=1,l.borderSkipped||"left"):(t=l.x-l.width/2,e=l.x+l.width/2,a=1,o=(i=l.y)<(n=l.base)?1:-1,l.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(t-e),Math.abs(i-n)),c=(u=d<u?d:u)/2,h=t+("left"!==r?c*a:0),f=e+("right"!==r?-c*a:0),g=i+("top"!==r?c*o:0),p=n+("bottom"!==r?-c*o:0);h!==f&&(i=g,n=p),g!==p&&(t=h,e=f)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=u;var v=[[t,n],[t,i],[e,i],[e,n]],m=["bottom","left","top","right"].indexOf(r,0);function b(t){return v[(m+t)%4]}-1===m&&(m=0);var x=b(0);s.moveTo(x[0],x[1]);for(var y=1;y<4;y++)x=b(y),s.lineTo(x[0],x[1]);s.fill(),u&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var n=o(this);i=t>=n.left&&t<=n.right&&e>=n.top&&e<=n.bottom}return i},inLabelRange:function(t,e){if(!this._view)return!1;var i=o(this);return l(this)?t>=i.left&&t<=i.right:e>=i.top&&e<=i.bottom},inXRange:function(t){var e=o(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=o(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,i=this._view;return e=l(this)?(t=i.x,(i.y+i.base)/2):(t=(i.x+i.base)/2,i.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},{25:25,26:26}],40:[function(t,e,i){"use strict";e.exports={},e.exports.Arc=t(36),e.exports.Line=t(37),e.exports.Point=t(38),e.exports.Rectangle=t(39)},{36:36,37:37,38:38,39:39}],41:[function(t,e,i){"use strict";var n=t(42);i=e.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,a,o){if(o){var r=Math.min(o,n/2),s=Math.min(o,a/2);t.moveTo(e+r,i),t.lineTo(e+n-r,i),t.quadraticCurveTo(e+n,i,e+n,i+s),t.lineTo(e+n,i+a-s),t.quadraticCurveTo(e+n,i+a,e+n-r,i+a),t.lineTo(e+r,i+a),t.quadraticCurveTo(e,i+a,e,i+a-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+r,i)}else t.rect(e,i,n,a)},drawPoint:function(t,e,i,n,a){var o,r,s,l,u,d;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(o=e.toString())&&"[object HTMLCanvasElement]"!==o){if(!(isNaN(i)||i<=0)){switch(e){default:t.beginPath(),t.arc(n,a,i,0,2*Math.PI),t.closePath(),t.fill();break;case"triangle":t.beginPath(),u=(r=3*i/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(n-r/2,a+u/3),t.lineTo(n+r/2,a+u/3),t.lineTo(n,a-2*u/3),t.closePath(),t.fill();break;case"rect":d=1/Math.SQRT2*i,t.beginPath(),t.fillRect(n-d,a-d,2*d,2*d),t.strokeRect(n-d,a-d,2*d,2*d);break;case"rectRounded":var c=i/Math.SQRT2,h=n-c,f=a-c,g=Math.SQRT2*i;t.beginPath(),this.roundedRect(t,h,f,g,g,i/2),t.closePath(),t.fill();break;case"rectRot":d=1/Math.SQRT2*i,t.beginPath(),t.moveTo(n-d,a),t.lineTo(n,a+d),t.lineTo(n+d,a),t.lineTo(n,a-d),t.closePath(),t.fill();break;case"cross":t.beginPath(),t.moveTo(n,a+i),t.lineTo(n,a-i),t.moveTo(n-i,a),t.lineTo(n+i,a),t.closePath();break;case"crossRot":t.beginPath(),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l),t.moveTo(n-s,a+l),t.lineTo(n+s,a-l),t.closePath();break;case"star":t.beginPath(),t.moveTo(n,a+i),t.lineTo(n,a-i),t.moveTo(n-i,a),t.lineTo(n+i,a),s=Math.cos(Math.PI/4)*i,l=Math.sin(Math.PI/4)*i,t.moveTo(n-s,a-l),t.lineTo(n+s,a+l),t.moveTo(n-s,a+l),t.lineTo(n+s,a-l),t.closePath();break;case"line":t.beginPath(),t.moveTo(n-i,a),t.lineTo(n+i,a),t.closePath();break;case"dash":t.beginPath(),t.moveTo(n,a),t.lineTo(n+i,a),t.closePath()}t.stroke()}}else t.drawImage(e,n-e.width/2,a-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){if(i.steppedLine)return"after"===i.steppedLine&&!n||"after"!==i.steppedLine&&n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),void t.lineTo(i.x,i.y);i.tension?t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y):t.lineTo(i.x,i.y)}};n.clear=i.clear,n.drawRoundedRectangle=function(t){t.beginPath(),i.roundedRect.apply(i,arguments),t.closePath()}},{42:42}],42:[function(t,e,i){"use strict";var n,d={noop:function(){},uid:(n=0,function(){return n++}),isNullOrUndef:function(t){return null==t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,i){return d.valueOrDefault(d.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)},each:function(t,e,i,n){var a,o,r;if(d.isArray(t))if(o=t.length,n)for(a=o-1;0<=a;a--)e.call(i,t[a],a);else for(a=0;a<o;a++)e.call(i,t[a],a);else if(d.isObject(t))for(o=(r=Object.keys(t)).length,a=0;a<o;a++)e.call(i,t[r[a]],r[a])},arrayEquals:function(t,e){var i,n,a,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(a=t[i],o=e[i],a instanceof Array&&o instanceof Array){if(!d.arrayEquals(a,o))return!1}else if(a!==o)return!1;return!0},clone:function(t){if(d.isArray(t))return t.map(d.clone);if(d.isObject(t)){for(var e={},i=Object.keys(t),n=i.length,a=0;a<n;++a)e[i[a]]=d.clone(t[i[a]]);return e}return t},_merger:function(t,e,i,n){var a=e[t],o=i[t];d.isObject(a)&&d.isObject(o)?d.merge(a,o,n):e[t]=d.clone(o)},_mergerIf:function(t,e,i){var n=e[t],a=i[t];d.isObject(n)&&d.isObject(a)?d.mergeIf(n,a):e.hasOwnProperty(t)||(e[t]=d.clone(a))},merge:function(t,e,i){var n,a,o,r,s,l=d.isArray(e)?e:[e],u=l.length;if(!d.isObject(t))return t;for(n=(i=i||{}).merger||d._merger,a=0;a<u;++a)if(e=l[a],d.isObject(e))for(s=0,r=(o=Object.keys(e)).length;s<r;++s)n(o[s],t,e,i);return t},mergeIf:function(t,e){return d.merge(t,e,{merger:d._mergerIf})},extend:function(i){for(var t=function(t,e){i[e]=t},e=1,n=arguments.length;e<n;++e)d.each(arguments[e],t);return i},inherits:function(t){function e(){this.constructor=n}var i=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)};return e.prototype=i.prototype,n.prototype=new e,n.extend=d.inherits,t&&d.extend(n.prototype,t),n.__super__=i.prototype,n}};(e.exports=d).callCallback=d.callback,d.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},d.getValueOrDefault=d.valueOrDefault,d.getValueAtIndexOrDefault=d.valueAtIndexOrDefault},{}],43:[function(t,e,i){"use strict";var n=t(42),a={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:1===t?1:(i||(i=.3),e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},easeInOutElastic:function(t){var e=1.70158,i=0,n=1;return 0===t?0:2==(t/=.5)?1:(i||(i=.45),e=n<1?(n=1,i/4):i/(2*Math.PI)*Math.asin(1/n),t<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};e.exports={effects:a},n.easingEffects=a},{42:42}],44:[function(t,e,i){"use strict";var r=t(42);e.exports={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,i,n,a;return r.isObject(t)?(e=+t.top||0,i=+t.right||0,n=+t.bottom||0,a=+t.left||0):e=i=n=a=+t||0,{top:e,right:i,bottom:n,left:a,height:e+n,width:a+i}},resolve:function(t,e,i){var n,a,o;for(n=0,a=t.length;n<a;++n)if(void 0!==(o=t[n])&&(void 0!==e&&"function"==typeof o&&(o=o(e)),void 0!==i&&r.isArray(o)&&(o=o[i]),void 0!==o))return o}}},{42:42}],45:[function(t,e,i){"use strict";e.exports=t(42),e.exports.easing=t(43),e.exports.canvas=t(41),e.exports.options=t(44)},{41:41,42:42,43:43,44:44}],46:[function(t,e,i){e.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},{}],47:[function(t,e,i){"use strict";var o=t(45),s="$chartjs",l="chartjs-",r=l+"render-monitor",u=l+"render-animation",d=["animationstart","webkitAnimationStart"],c={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function h(t,e){var i=o.getStyle(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):void 0}var n=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function f(t,e,i){t.addEventListener(e,i,n)}function g(t,e,i){t.removeEventListener(e,i,n)}function p(t,e,i,n,a){return{type:t,chart:e,native:a||null,x:void 0!==i?i:null,y:void 0!==n?n:null}}function v(e,t,i){var n=e[s]||(e[s]={}),a=n.resizer=function(t){var e=document.createElement("div"),i=l+"size-monitor",n="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=n,e.className=i,e.innerHTML='<div class="'+i+'-expand" style="'+n+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+i+'-shrink" style="'+n+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var a=e.childNodes[0],o=e.childNodes[1];function r(){e._reset(),t()}return e._reset=function(){a.scrollLeft=1e6,a.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6},f(a,"scroll",r.bind(a,"expand")),f(o,"scroll",r.bind(o,"shrink")),e}(function(t,e){var i=!1,n=[];return function(){n=Array.prototype.slice.call(arguments),e=e||this,i||(i=!0,o.requestAnimFrame.call(window,function(){i=!1,t.apply(e,n)}))}}(function(){if(n.resizer)return t(p("resize",i))}));!function(e,i){var t=e[s]||(e[s]={}),n=t.renderProxy=function(t){t.animationName===u&&i()};o.each(d,function(t){f(e,t,n)}),t.reflow=!!e.offsetParent,e.classList.add(r)}(e,function(){if(n.resizer){var t=e.parentNode;t&&t!==a.parentNode&&t.insertBefore(a,t.firstChild),a._reset()}})}function m(t){var e=t[s]||{},i=e.resizer;delete e.resizer,function(e){var t=e[s]||{},i=t.renderProxy;i&&(o.each(d,function(t){g(e,t,i)}),delete t.renderProxy),e.classList.remove(r)}(t),i&&i.parentNode&&i.parentNode.removeChild(i)}e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t="from{opacity:0.99}to{opacity:1}";!function(t,e){var i=t._style||document.createElement("style");t._style||(e="/* Chart.js */\n"+e,(t._style=i).setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(i)),i.appendChild(document.createTextNode(e))}(this,"@-webkit-keyframes "+u+"{"+t+"}@keyframes "+u+"{"+t+"}."+r+"{-webkit-animation:"+u+" 0.001s;animation:"+u+" 0.001s;}")},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){var i=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[s]={initial:{height:n,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===a||""===a){var o=h(t,"width");void 0!==o&&(t.width=o)}if(null===n||""===n)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var r=h(t,"height");void 0!==o&&(t.height=r)}}(t,e),i):null},releaseContext:function(t){var i=t.canvas;if(i[s]){var n=i[s].initial;["height","width"].forEach(function(t){var e=n[t];o.isNullOrUndef(e)?i.removeAttribute(t):i.setAttribute(t,e)}),o.each(n.style||{},function(t,e){i.style[e]=t}),i.width=i.width,delete i[s]}},addEventListener:function(e,t,i){var n=e.canvas;if("resize"!==t){var a=i[s]||(i[s]={});f(n,t,(a.proxies||(a.proxies={}))[e.id+"_"+t]=function(t){i(function(t,e){var i=c[t.type]||t.type,n=o.getRelativePosition(t,e);return p(i,e,n.x,n.y,t)}(t,e))})}else v(n,i,e)},removeEventListener:function(t,e,i){var n=t.canvas;if("resize"!==e){var a=((i[s]||{}).proxies||{})[t.id+"_"+e];a&&g(n,e,a)}else m(n)}},o.addEvent=f,o.removeEvent=g},{45:45}],48:[function(t,e,i){"use strict";var n=t(45),a=t(46),o=t(47),r=o._enabled?o:a;e.exports=n.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},r)},{45:45,46:46,47:47}],49:[function(t,e,i){"use strict";var u=t(25),v=t(40),d=t(45);u._set("global",{plugins:{filler:{propagate:!0}}}),e.exports=function(){var h={dataset:function(t){var e=t.fill,i=t.chart,n=i.getDatasetMeta(e),a=n&&i.isDatasetVisible(e)&&n.dataset._children||[],o=a.length||0;return o?function(t,e){return e<o&&a[e]._view||null}:null},boundary:function(t){var e=t.boundary,i=e?e.x:null,n=e?e.y:null;return function(t){return{x:null===i?t.x:i,y:null===n?t.y:n}}}};function f(t,e,i){var n,a=t._model||{},o=a.fill;if(void 0===o&&(o=!!a.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(n=parseFloat(o,10),isFinite(n)&&Math.floor(n)===n)return"-"!==o[0]&&"+"!==o[0]||(n=e+n),!(n===e||n<0||i<=n)&&n;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function g(t){var e,i=t.el._model||{},n=t.el._scale||{},a=t.fill,o=null;if(isFinite(a))return null;if("start"===a?o=void 0===i.scaleBottom?n.bottom:i.scaleBottom:"end"===a?o=void 0===i.scaleTop?n.top:i.scaleTop:void 0!==i.scaleZero?o=i.scaleZero:n.getBasePosition?o=n.getBasePosition():n.getBasePixel&&(o=n.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if("number"==typeof o&&isFinite(o))return{x:(e=n.isHorizontal())?o:null,y:e?null:o}}return null}function p(t,e,i){var n,a=t[e].fill,o=[e];if(!i)return a;for(;!1!==a&&-1===o.indexOf(a);){if(!isFinite(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;o.push(a),a=n.fill}return!1}function x(t){return t&&!t.skip}function y(t,e,i,n,a){var o;if(n&&a){for(t.moveTo(e[0].x,e[0].y),o=1;o<n;++o)d.canvas.lineTo(t,e[o-1],e[o]);for(t.lineTo(i[a-1].x,i[a-1].y),o=a-1;0<o;--o)d.canvas.lineTo(t,i[o],i[o-1],!0)}}return{id:"filler",afterDatasetsUpdate:function(t,e){var i,n,a,o,r,s,l,u=(t.data.datasets||[]).length,d=e.propagate,c=[];for(n=0;n<u;++n)o=null,(a=(i=t.getDatasetMeta(n)).dataset)&&a._model&&a instanceof v.Line&&(o={visible:t.isDatasetVisible(n),fill:f(a,n,u),chart:t,el:a}),i.$filler=o,c.push(o);for(n=0;n<u;++n)(o=c[n])&&(o.fill=p(c,n,d),o.boundary=g(o),o.mapper=(l=void 0,s=(r=o).fill,!(l="dataset")===s?null:(isFinite(s)||(l="boundary"),h[l](r))))},beforeDatasetDraw:function(t,e){var i=e.meta.$filler;if(i){var n=t.ctx,a=i.el,o=a._view,r=a._children||[],s=i.mapper,l=o.backgroundColor||u.global.defaultColor;s&&l&&r.length&&(d.canvas.clipArea(n,t.chartArea),function(t,e,i,n,a,o){var r,s,l,u,d,c,h,f=e.length,g=n.spanGaps,p=[],v=[],m=0,b=0;for(t.beginPath(),r=0,s=f+!!o;r<s;++r)d=i(u=e[l=r%f]._view,l,n),c=x(u),h=x(d),c&&h?(m=p.push(u),b=v.push(d)):m&&b&&(g?(c&&p.push(u),h&&v.push(d)):(y(t,p,v,m,b),m=b=0,p=[],v=[]));y(t,p,v,m,b),t.closePath(),t.fillStyle=a,t.fill()}(n,r,s,o,l,a._loop),d.canvas.unclipArea(n))}}}}},{25:25,40:40,45:45}],50:[function(t,e,i){"use strict";var M=t(25),r=t(26),S=t(45);M._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex,n=this.chart,a=n.getDatasetMeta(i);a.hidden=null===a.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(i){var t=i.data;return S.isArray(t.datasets)?t.datasets.map(function(t,e){return{text:t.label,fillStyle:S.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!i.isDatasetVisible(e),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:e}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var i=0;i<t.data.datasets.length;i++)e.push('<li><span style="background-color:'+t.data.datasets[i].backgroundColor+'"></span>'),t.data.datasets[i].label&&e.push(t.data.datasets[i].label),e.push("</li>");return e.push("</ul>"),e.join("")}}),e.exports=function(n){var a=n.layoutService,t=S.noop;function w(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function o(t,e){var i=new n.Legend({ctx:t.ctx,options:e,chart:t});a.configure(t,i,e),a.addBox(t,i),t.legend=i}return n.Legend=r.extend({initialize:function(t){S.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:t,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:t,beforeSetDimensions:t,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:t,beforeBuildLabels:t,buildLabels:function(){var e=this,i=e.options.labels||{},t=S.callback(i.generateLabels,[e.chart],e)||[];i.filter&&(t=t.filter(function(t){return i.filter(t,e.chart.data)})),e.options.reverse&&t.reverse(),e.legendItems=t},afterBuildLabels:t,beforeFit:t,fit:function(){var n=this,t=n.options,a=t.labels,e=t.display,o=n.ctx,i=M.global,r=S.valueOrDefault,s=r(a.fontSize,i.defaultFontSize),l=r(a.fontStyle,i.defaultFontStyle),u=r(a.fontFamily,i.defaultFontFamily),d=S.fontString(s,l,u),c=n.legendHitBoxes=[],h=n.minSize,f=n.isHorizontal();if(f?(h.width=n.maxWidth,h.height=e?10:0):(h.width=e?10:0,h.height=n.maxHeight),e)if(o.font=d,f){var g=n.lineWidths=[0],p=n.legendItems.length?s+a.padding:0;o.textAlign="left",o.textBaseline="top",S.each(n.legendItems,function(t,e){var i=w(a,s)+s/2+o.measureText(t.text).width;g[g.length-1]+i+a.padding>=n.width&&(p+=s+a.padding,g[g.length]=n.left),c[e]={left:0,top:0,width:i,height:s},g[g.length-1]+=i+a.padding}),h.height+=p}else{var v=a.padding,m=n.columnWidths=[],b=a.padding,x=0,y=0,k=s+v;S.each(n.legendItems,function(t,e){var i=w(a,s)+s/2+o.measureText(t.text).width;y+k>h.height&&(b+=x+a.padding,m.push(x),y=x=0),x=Math.max(x,i),y+=k,c[e]={left:0,top:0,width:i,height:s}}),b+=x,m.push(x),h.width+=b}n.width=h.width,n.height=h.height},afterFit:t,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var r=this,l=r.options,s=l.labels,u=M.global,d=u.elements.line,c=r.width,h=r.lineWidths;if(l.display){var f,g=r.ctx,p=S.valueOrDefault,t=p(s.fontColor,u.defaultFontColor),v=p(s.fontSize,u.defaultFontSize),e=p(s.fontStyle,u.defaultFontStyle),i=p(s.fontFamily,u.defaultFontFamily),n=S.fontString(v,e,i);g.textAlign="left",g.textBaseline="middle",g.lineWidth=.5,g.strokeStyle=t,g.fillStyle=t,g.font=n;var m=w(s,v),b=r.legendHitBoxes,x=r.isHorizontal();f=x?{x:r.left+(c-h[0])/2,y:r.top+s.padding,line:0}:{x:r.left+s.padding,y:r.top+s.padding,line:0};var y=v+s.padding;S.each(r.legendItems,function(t,e){var i=g.measureText(t.text).width,n=m+v/2+i,a=f.x,o=f.y;x?c<=a+n&&(o=f.y+=y,f.line++,a=f.x=r.left+(c-h[f.line])/2):o+y>r.bottom&&(a=f.x=a+r.columnWidths[f.line]+s.padding,o=f.y=r.top+s.padding,f.line++),function(t,e,i){if(!(isNaN(m)||m<=0)){g.save(),g.fillStyle=p(i.fillStyle,u.defaultColor),g.lineCap=p(i.lineCap,d.borderCapStyle),g.lineDashOffset=p(i.lineDashOffset,d.borderDashOffset),g.lineJoin=p(i.lineJoin,d.borderJoinStyle),g.lineWidth=p(i.lineWidth,d.borderWidth),g.strokeStyle=p(i.strokeStyle,u.defaultColor);var n=0===p(i.lineWidth,d.borderWidth);if(g.setLineDash&&g.setLineDash(p(i.lineDash,d.borderDash)),l.labels&&l.labels.usePointStyle){var a=v*Math.SQRT2/2,o=a/Math.SQRT2,r=t+o,s=e+o;S.canvas.drawPoint(g,i.pointStyle,a,r,s)}else n||g.strokeRect(t,e,m,v),g.fillRect(t,e,m,v);g.restore()}}(a,o,t),function(t,e,i,n){var a=v/2,o=m+a+t,r=e+a;g.fillText(i.text,o,r),i.hidden&&(g.beginPath(),g.lineWidth=2,g.moveTo(o,r),g.lineTo(o+n,r),g.stroke())}(b[e].left=a,b[e].top=o,t,i),x?f.x+=n+s.padding:f.y+=y})}},handleEvent:function(t){var e=this,i=e.options,n="mouseup"===t.type?"click":t.type,a=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var o=t.x,r=t.y;if(o>=e.left&&o<=e.right&&r>=e.top&&r<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&r>=u.top&&r<=u.top+u.height){if("click"===n){i.onClick.call(e,t.native,e.legendItems[l]),a=!0;break}if("mousemove"===n){i.onHover.call(e,t.native,e.legendItems[l]),a=!0;break}}}return a}}),{id:"legend",beforeInit:function(t){var e=t.options.legend;e&&o(t,e)},beforeUpdate:function(t){var e=t.options.legend,i=t.legend;e?(S.mergeIf(e,M.global.legend),i?(a.configure(t,i,e),i.options=e):o(t,e)):i&&(a.removeBox(t,i),delete t.legend)},afterEvent:function(t,e){var i=t.legend;i&&i.handleEvent(e)}}}},{25:25,26:26,45:45}],51:[function(t,e,i){"use strict";var w=t(25),r=t(26),M=t(45);w._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),e.exports=function(n){var a=n.layoutService,t=M.noop;function o(t,e){var i=new n.Title({ctx:t.ctx,options:e,chart:t});a.configure(t,i,e),a.addBox(t,i),t.titleBlock=i}return n.Title=r.extend({initialize:function(t){M.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:t,update:function(t,e,i){var n=this;return n.beforeUpdate(),n.maxWidth=t,n.maxHeight=e,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:t,beforeSetDimensions:t,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:t,beforeBuildLabels:t,buildLabels:t,afterBuildLabels:t,beforeFit:t,fit:function(){var t=this,e=M.valueOrDefault,i=t.options,n=i.display,a=e(i.fontSize,w.global.defaultFontSize),o=t.minSize,r=M.isArray(i.text)?i.text.length:1,s=M.options.toLineHeight(i.lineHeight,a),l=n?r*s+2*i.padding:0;t.isHorizontal()?(o.width=t.maxWidth,o.height=l):(o.width=l,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:t,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=M.valueOrDefault,n=t.options,a=w.global;if(n.display){var o,r,s,l=i(n.fontSize,a.defaultFontSize),u=i(n.fontStyle,a.defaultFontStyle),d=i(n.fontFamily,a.defaultFontFamily),c=M.fontString(l,u,d),h=M.options.toLineHeight(n.lineHeight,l),f=h/2+n.padding,g=0,p=t.top,v=t.left,m=t.bottom,b=t.right;e.fillStyle=i(n.fontColor,a.defaultFontColor),e.font=c,t.isHorizontal()?(r=v+(b-v)/2,s=p+f,o=b-v):(r="left"===n.position?v+f:b-f,s=p+(m-p)/2,o=m-p,g=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,s),e.rotate(g),e.textAlign="center",e.textBaseline="middle";var x=n.text;if(M.isArray(x))for(var y=0,k=0;k<x.length;++k)e.fillText(x[k],0,y,o),y+=h;else e.fillText(x,0,0,o);e.restore()}}}),{id:"title",beforeInit:function(t){var e=t.options.title;e&&o(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(M.mergeIf(e,w.global.title),i?(a.configure(t,i,e),i.options=e):o(t,e)):i&&(n.layoutService.removeBox(t,i),delete t.titleBlock)}}}},{25:25,26:26,45:45}],52:[function(t,e,i){"use strict";e.exports=function(t){var e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,i=e.getLabels();e.minIndex=0,e.maxIndex=i.length-1,void 0!==e.options.ticks.min&&(t=i.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=i.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=i[e.minIndex],e.max=i[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,a=i.isHorizontal();return n.yLabels&&!a?i.getRightValue(n.datasets[e].data[t]):i.ticks[t-i.minIndex]},getPixelForValue:function(t,e){var i,n=this,a=n.options.offset,o=Math.max(n.maxIndex+1-n.minIndex-(a?0:1),1);if(null!=t&&(i=n.isHorizontal()?t.x:t.y),void 0!==i||void 0!==t&&isNaN(e)){t=i||t;var r=n.getLabels().indexOf(t);e=-1!==r?r:e}if(n.isHorizontal()){var s=n.width/o,l=s*(e-n.minIndex);return a&&(l+=s/2),n.left+Math.round(l)}var u=n.height/o,d=u*(e-n.minIndex);return a&&(d+=u/2),n.top+Math.round(d)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,i=e.options.offset,n=Math.max(e._ticks.length-(i?0:1),1),a=e.isHorizontal(),o=(a?e.width:e.height)/n;return t-=a?e.left:e.top,i&&(t-=o/2),(t<=0?0:Math.round(t/o))+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",e,{position:"bottom"})}},{}],53:[function(t,e,i){"use strict";var n=t(25),c=t(45),a=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.linear}},i=t.LinearScaleBase.extend({determineDataLimits:function(){var r=this,s=r.options,l=r.chart,t=l.data.datasets,e=r.isHorizontal();function u(t){return e?t.xAxisID===r.id:t.yAxisID===r.id}r.min=null,r.max=null;var n=s.stacked;if(void 0===n&&c.each(t,function(t,e){if(!n){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&u(i)&&void 0!==i.stack&&(n=!0)}}),s.stacked||n){var d={};c.each(t,function(t,e){var n=l.getDatasetMeta(e),i=[n.type,void 0===s.stacked&&void 0===n.stack?e:"",n.stack].join(".");void 0===d[i]&&(d[i]={positiveValues:[],negativeValues:[]});var a=d[i].positiveValues,o=d[i].negativeValues;l.isDatasetVisible(e)&&u(n)&&c.each(t.data,function(t,e){var i=+r.getRightValue(t);isNaN(i)||n.data[e].hidden||(a[e]=a[e]||0,o[e]=o[e]||0,s.relativePoints?a[e]=100:i<0?o[e]+=i:a[e]+=i)})}),c.each(d,function(t){var e=t.positiveValues.concat(t.negativeValues),i=c.min(e),n=c.max(e);r.min=null===r.min?i:Math.min(r.min,i),r.max=null===r.max?n:Math.max(r.max,n)})}else c.each(t,function(t,e){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&u(n)&&c.each(t.data,function(t,e){var i=+r.getRightValue(t);isNaN(i)||n.data[e].hidden||(null===r.min?r.min=i:i<r.min&&(r.min=i),null===r.max?r.max=i:i>r.max&&(r.max=i))})});r.min=isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=isFinite(r.max)&&!isNaN(r.max)?r.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this.options.ticks;if(this.isHorizontal())t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.width/50));else{var i=c.valueOrDefault(e.fontSize,n.global.defaultFontSize);t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.height/(2*i)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,i=this,n=i.start,a=+i.getRightValue(t),o=i.end-n;return e=i.isHorizontal()?i.left+i.width/o*(a-n):i.bottom-i.height/o*(a-n),Math.round(e)},getValueForPixel:function(t){var e=this,i=e.isHorizontal(),n=i?e.width:e.height,a=(i?t-e.left:e.bottom-t)/n;return e.start+(e.end-e.start)*a},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,e)}},{25:25,34:34,45:45}],54:[function(t,e,i){"use strict";var r=t(45),o=t(34);e.exports=function(e){var t=r.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var i=r.sign(t.min),n=r.sign(t.max);i<0&&n<0?t.max=0:0<i&&0<n&&(t.min=0)}var a=void 0!==e.min||void 0!==e.suggestedMin,o=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),a!=o&&t.min>=t.max&&(a?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var t=this,e=t.options.ticks,i=t.getTickLimit(),n={maxTicks:i=Math.max(2,i),min:e.min,max:e.max,stepSize:r.valueOrDefault(e.fixedStepSize,e.stepSize)},a=t.ticks=o.generators.linear(n,t);t.handleDirectionalChanges(),t.max=r.max(a),t.min=r.min(a),e.reverse?(a.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{34:34,45:45}],55:[function(t,e,i){"use strict";var c=t(45),a=t(34);e.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.logarithmic}},i=t.Scale.extend({determineDataLimits:function(){var r=this,s=r.options,t=s.ticks,l=r.chart,e=l.data.datasets,i=c.valueOrDefault,n=r.isHorizontal();function u(t){return n?t.xAxisID===r.id:t.yAxisID===r.id}r.min=null,r.max=null,r.minNotZero=null;var a=s.stacked;if(void 0===a&&c.each(e,function(t,e){if(!a){var i=l.getDatasetMeta(e);l.isDatasetVisible(e)&&u(i)&&void 0!==i.stack&&(a=!0)}}),s.stacked||a){var d={};c.each(e,function(t,e){var a=l.getDatasetMeta(e),o=[a.type,void 0===s.stacked&&void 0===a.stack?e:"",a.stack].join(".");l.isDatasetVisible(e)&&u(a)&&(void 0===d[o]&&(d[o]=[]),c.each(t.data,function(t,e){var i=d[o],n=+r.getRightValue(t);isNaN(n)||a.data[e].hidden||(i[e]=i[e]||0,s.relativePoints?i[e]=100:i[e]+=n)}))}),c.each(d,function(t){var e=c.min(t),i=c.max(t);r.min=null===r.min?e:Math.min(r.min,e),r.max=null===r.max?i:Math.max(r.max,i)})}else c.each(e,function(t,e){var n=l.getDatasetMeta(e);l.isDatasetVisible(e)&&u(n)&&c.each(t.data,function(t,e){var i=+r.getRightValue(t);isNaN(i)||n.data[e].hidden||(null===r.min?r.min=i:i<r.min&&(r.min=i),null===r.max?r.max=i:i>r.max&&(r.max=i),0!=i&&(null===r.minNotZero||i<r.minNotZero)&&(r.minNotZero=i))})});r.min=i(t.min,r.min),r.max=i(t.max,r.max),r.min===r.max&&(0!==r.min&&null!==r.min?(r.min=Math.pow(10,Math.floor(c.log10(r.min))-1),r.max=Math.pow(10,Math.floor(c.log10(r.max))+1)):(r.min=1,r.max=10))},buildTicks:function(){var t=this,e=t.options.ticks,i={min:e.min,max:e.max},n=t.ticks=a.generators.logarithmic(i,t);t.isHorizontal()||n.reverse(),t.max=c.max(n),t.min=c.min(n),e.reverse?(n.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var e,i,n=this,a=n.start,o=+n.getRightValue(t),r=n.options.ticks;return n.isHorizontal()?(i=c.log10(n.end)-c.log10(a),0==o?n.left:(e=n.width,n.left+e/i*(c.log10(o)-c.log10(a)))):(e=n.height,0!==a||r.reverse?0===n.end&&r.reverse?(i=c.log10(n.start)-c.log10(n.minNotZero),o===n.end?n.top:o===n.minNotZero?n.top+.02*e:n.top+.02*e+.98*e/i*(c.log10(o)-c.log10(n.minNotZero))):0==o?r.reverse?n.top:n.bottom:(i=c.log10(n.end)-c.log10(a),e=n.height,n.bottom-e/i*(c.log10(o)-c.log10(a))):(i=c.log10(n.end)-c.log10(n.minNotZero),o===a?n.bottom:o===n.minNotZero?n.bottom-.02*e:n.bottom-.02*e-.98*e/i*(c.log10(o)-c.log10(n.minNotZero))))},getValueForPixel:function(t){var e,i=this,n=c.log10(i.end)-c.log10(i.start);return i.isHorizontal()?(e=i.width,i.start*Math.pow(10,(t-i.left)*n/e)):(e=i.height,Math.pow(10,(i.bottom-t)*n/e)/i.start)}});t.scaleService.registerScaleType("logarithmic",i,e)}},{34:34,45:45}],56:[function(t,e,i){"use strict";var n=t(25),w=t(45),a=t(34);e.exports=function(e){var b=n.global,t={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function x(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function y(t){var e=t.options.pointLabels,i=w.valueOrDefault(e.fontSize,b.defaultFontSize),n=w.valueOrDefault(e.fontStyle,b.defaultFontStyle),a=w.valueOrDefault(e.fontFamily,b.defaultFontFamily);return{size:i,style:n,family:a,font:w.fontString(i,n,a)}}function v(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||a<t?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function k(t,e,i,n){if(w.isArray(e))for(var a=i.y,o=1.5*n,r=0;r<e.length;++r)t.fillText(e[r],i.x,a),a+=o;else t.fillText(e,i.x,i.y)}function s(t){return w.isNumber(t)?t:0}var i=e.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,i=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var n=w.min([t.height,t.width]),a=w.valueOrDefault(i.fontSize,b.defaultFontSize);t.drawingArea=e.display?n/2-(a/2+i.backdropPaddingY):n/2},determineDataLimits:function(){var a=this,i=a.chart,o=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;w.each(i.data.datasets,function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e);w.each(t.data,function(t,e){var i=+a.getRightValue(t);isNaN(i)||n.data[e].hidden||(o=Math.min(i,o),r=Math.max(i,r))})}}),a.min=o===Number.POSITIVE_INFINITY?0:o,a.max=r===Number.NEGATIVE_INFINITY?0:r,a.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=w.valueOrDefault(t.fontSize,b.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?function(t){var e,i,n,a=y(t),o=Math.min(t.height/2,t.width/2),r={r:t.width,l:0,t:t.height,b:0},s={};t.ctx.font=a.font,t._pointLabelSizes=[];var l,u,d,c=x(t);for(e=0;e<c;e++){n=t.getPointPosition(e,o),l=t.ctx,u=a.size,d=t.pointLabels[e]||"",i=w.isArray(d)?{w:w.longestText(l,l.font,d),h:d.length*u+1.5*(d.length-1)*u}:{w:l.measureText(d).width,h:u},t._pointLabelSizes[e]=i;var h=t.getIndexAngle(e),f=w.toDegrees(h)%360,g=v(f,n.x,i.w,0,180),p=v(f,n.y,i.h,90,270);g.start<r.l&&(r.l=g.start,s.l=h),g.end>r.r&&(r.r=g.end,s.r=h),p.start<r.t&&(r.t=p.start,s.t=h),p.end>r.b&&(r.b=p.end,s.b=h)}t.setReductions(o,r,s)}(this):function(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}(this)},setReductions:function(t,e,i){var n=e.l/Math.sin(i.l),a=Math.max(e.r-this.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),r=-Math.max(e.b-this.height,0)/Math.cos(i.b);n=s(n),a=s(a),o=s(o),r=s(r),this.drawingArea=Math.min(Math.round(t-(n+a)/2),Math.round(t-(o+r)/2)),this.setCenterPoint(n,a,o,r)},setCenterPoint:function(t,e,i,n){var a=this,o=a.width-e-a.drawingArea,r=t+a.drawingArea,s=i+a.drawingArea,l=a.height-n-a.drawingArea;a.xCenter=Math.round((r+o)/2+a.left),a.yCenter=Math.round((s+l)/2+a.top)},getIndexAngle:function(t){return t*(2*Math.PI/x(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+this.xCenter,y:Math.round(Math.sin(i)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:0<t&&0<e?t:0)},draw:function(){var o=this,t=o.options,r=t.gridLines,s=t.ticks,l=w.valueOrDefault;if(t.display){var u=o.ctx,d=this.getIndexAngle(0),c=l(s.fontSize,b.defaultFontSize),e=l(s.fontStyle,b.defaultFontStyle),i=l(s.fontFamily,b.defaultFontFamily),h=w.fontString(c,e,i);w.each(o.ticks,function(t,e){if(0<e||s.reverse){var i=o.getDistanceFromCenterForValue(o.ticksAsNumbers[e]);if(r.display&&0!==e&&function(t,e,i,n){var a=t.ctx;if(a.strokeStyle=w.valueAtIndexOrDefault(e.color,n-1),a.lineWidth=w.valueAtIndexOrDefault(e.lineWidth,n-1),t.options.gridLines.circular)a.beginPath(),a.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),a.closePath(),a.stroke();else{var o=x(t);if(0===o)return;a.beginPath();var r=t.getPointPosition(0,i);a.moveTo(r.x,r.y);for(var s=1;s<o;s++)r=t.getPointPosition(s,i),a.lineTo(r.x,r.y);a.closePath(),a.stroke()}}(o,r,i,e),s.display){var n=l(s.fontColor,b.defaultFontColor);if(u.font=h,u.save(),u.translate(o.xCenter,o.yCenter),u.rotate(d),s.showLabelBackdrop){var a=u.measureText(t).width;u.fillStyle=s.backdropColor,u.fillRect(-a/2-s.backdropPaddingX,-i-c/2-s.backdropPaddingY,a+2*s.backdropPaddingX,c+2*s.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=n,u.fillText(t,0,-i),u.restore()}}}),(t.angleLines.display||t.pointLabels.display)&&function(t){var e=t.ctx,i=w.valueOrDefault,n=t.options,a=n.angleLines,o=n.pointLabels;e.lineWidth=a.lineWidth,e.strokeStyle=a.color;var r,s,l,u,d=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),c=y(t);e.textBaseline="top";for(var h=x(t)-1;0<=h;h--){if(a.display){var f=t.getPointPosition(h,d);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(f.x,f.y),e.stroke(),e.closePath()}if(o.display){var g=t.getPointPosition(h,d+5),p=i(o.fontColor,b.defaultFontColor);e.font=c.font,e.fillStyle=p;var v=t.getIndexAngle(h),m=w.toDegrees(v);e.textAlign=0===(u=m)||180===u?"center":u<180?"left":"right",r=m,s=t._pointLabelSizes[h],l=g,90===r||270===r?l.y-=s.h/2:(270<r||r<90)&&(l.y-=s.h),k(e,t.pointLabels[h]||"",g,c.size)}}}(o)}}});e.scaleService.registerScaleType("radialLinear",i,t)}},{25:25,34:34,45:45}],57:[function(t,e,i){"use strict";var p=t(1);p="function"==typeof p?p:window.moment;var r=t(25),v=t(45),g=Number.MIN_SAFE_INTEGER||-9007199254740991,m=Number.MAX_SAFE_INTEGER||9007199254740991,b={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},x=Object.keys(b);function y(t,e){return t-e}function k(t){var e,i,n,a={},o=[];for(e=0,i=t.length;e<i;++e)a[n=t[e]]||(a[n]=!0,o.push(n));return o}function d(t,e,i,n){var a=function(t,e,i){for(var n,a,o,r=0,s=t.length-1;0<=r&&r<=s;){if(a=t[(n=r+s>>1)-1]||null,o=t[n],!a)return{lo:null,hi:o};if(o[e]<i)r=1+n;else{if(!(a[e]>i))return{lo:a,hi:o};s=n-1}}return{lo:o,hi:null}}(t,e,i),o=a.lo?a.hi?a.lo:t[t.length-2]:t[0],r=a.lo?a.hi?a.hi:t[t.length-1]:t[1],s=r[e]-o[e],l=s?(i-o[e])/s:0,u=(r[n]-o[n])*l;return o[n]+u}function s(t,e){var i=e.parser,n=e.parser||e.format;return"function"==typeof i?i(t):"string"==typeof t&&"string"==typeof n?p(t,n):(t instanceof p||(t=p(t)),t.isValid()?t:"function"==typeof n?n(t):t)}function w(t,e){if(v.isNullOrUndef(t))return null;var i=e.options.time,n=s(e.getRightValue(t),i);return n.isValid()?(i.round&&n.startOf(i.round),n.valueOf()):null}function M(t){for(var e=x.indexOf(t)+1,i=x.length;e<i;++e)if(b[x[e]].common)return x[e]}function c(t,e,i,n){var a,o=n.time,r=o.unit||function(t,e,i,n){var a,o,r,s=x.length;for(a=x.indexOf(t);a<s-1;++a)if(r=(o=b[x[a]]).steps?o.steps[o.steps.length-1]:m,o.common&&Math.ceil((i-e)/(r*o.size))<=n)return x[a];return x[s-1]}(o.minUnit,t,e,i),s=M(r),l=v.valueOrDefault(o.stepSize,o.unitStepSize),u="week"===r&&o.isoWeekday,d=n.ticks.major.enabled,c=b[r],h=p(t),f=p(e),g=[];for(l||(l=function(t,e,i,n){var a,o,r,s=e-t,l=b[i],u=l.size,d=l.steps;if(!d)return Math.ceil(s/((n||1)*u));for(a=0,o=d.length;a<o&&(r=d[a],!(Math.ceil(s/(u*r))<=n));++a);return r}(t,e,r,i)),u&&(h=h.isoWeekday(u),f=f.isoWeekday(u)),h=h.startOf(u?"day":r),(f=f.startOf(u?"day":r))<e&&f.add(1,r),a=p(h),d&&s&&!u&&!o.round&&(a.startOf(s),a.add(~~((h-a)/(c.size*l))*l,r));a<f;a.add(l,r))g.push(+a);return g.push(+a),g}e.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!p)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this.options;return t.time&&t.time.format,e.Scale.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,a,o,r=this,s=r.chart,l=r.options.time,u=m,d=g,c=[],h=[],f=[];for(t=0,i=s.data.labels.length;t<i;++t)f.push(w(s.data.labels[t],r));for(t=0,i=(s.data.datasets||[]).length;t<i;++t)if(s.isDatasetVisible(t))if(a=s.data.datasets[t].data,v.isObject(a[0]))for(h[t]=[],e=0,n=a.length;e<n;++e)o=w(a[e],r),c.push(o),h[t][e]=o;else c.push.apply(c,f),h[t]=f.slice(0);else h[t]=[];f.length&&(f=k(f).sort(y),u=Math.min(u,f[0]),d=Math.max(d,f[f.length-1])),c.length&&(c=k(c).sort(y),u=Math.min(u,c[0]),d=Math.max(d,c[c.length-1])),u=w(l.min,r)||u,d=w(l.max,r)||d,u=u===m?+p().startOf("day"):u,d=d===g?+p().endOf("day")+1:d,r.min=Math.min(u,d),r.max=Math.max(u+1,d),r._horizontal=r.isHorizontal(),r._table=[],r._timestamps={data:c,datasets:h,labels:f}},buildTicks:function(){var t,e,i,n=this,a=n.min,o=n.max,r=n.options,s=r.time,l=[],u=[];switch(r.ticks.source){case"data":l=n._timestamps.data;break;case"labels":l=n._timestamps.labels;break;case"auto":default:l=c(a,o,n.getLabelCapacity(a),r)}for("ticks"===r.bounds&&l.length&&(a=l[0],o=l[l.length-1]),a=w(s.min,n)||a,o=w(s.max,n)||o,t=0,e=l.length;t<e;++t)a<=(i=l[t])&&i<=o&&u.push(i);return n.min=a,n.max=o,n._unit=s.unit||function(t,e,i,n){var a,o,r=p.duration(p(n).diff(p(i)));for(a=x.length-1;a>=x.indexOf(e);a--)if(o=x[a],b[o].common&&r.as(o)>=t.length)return o;return x[e?x.indexOf(e):0]}(u,s.minUnit,n.min,n.max),n._majorUnit=M(n._unit),n._table=function(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var a,o,r,s,l,u=[],d=[e];for(a=0,o=t.length;a<o;++a)e<(s=t[a])&&s<i&&d.push(s);for(d.push(i),a=0,o=d.length;a<o;++a)l=d[a+1],r=d[a-1],s=d[a],void 0!==r&&void 0!==l&&Math.round((l+r)/2)===s||u.push({time:s,pos:a/(o-1)});return u}(n._timestamps.data,a,o,r.distribution),n._offsets=function(t,e,i,n,a){var o,r,s=0,l=0;return a.offset&&e.length&&(a.time.min||(o=1<e.length?e[1]:n,r=e[0],s=(d(t,"time",o,"pos")-d(t,"time",r,"pos"))/2),a.time.max||(o=e[e.length-1],r=1<e.length?e[e.length-2]:i,l=(d(t,"time",o,"pos")-d(t,"time",r,"pos"))/2)),{left:s,right:l}}(n._table,u,a,o,r),function(t,e){var i,n,a,o,r=[];for(i=0,n=t.length;i<n;++i)a=t[i],o=!!e&&a===+p(a).startOf(e),r.push({value:a,major:o});return r}(u,n._majorUnit)},getLabelForIndex:function(t,e){var i=this.chart.data,n=this.options.time,a=i.labels&&t<i.labels.length?i.labels[t]:"",o=i.datasets[e].data[t];return v.isObject(o)&&(a=this.getRightValue(o)),n.tooltipFormat&&(a=s(a,n).format(n.tooltipFormat)),a},tickFormatFunction:function(t,e,i,n){var a=this.options,o=t.valueOf(),r=a.time.displayFormats,s=r[this._unit],l=this._majorUnit,u=r[l],d=t.clone().startOf(l).valueOf(),c=a.ticks.major,h=c.enabled&&l&&u&&o===d,f=t.format(n||(h?u:s)),g=h?c:a.ticks.minor,p=v.valueOrDefault(g.callback,g.userCallback);return p?p(f,e,i):f},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(p(t[e].value),e,t));return n},getPixelForOffset:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,a=d(e._table,"time",t,"pos");return n+i*(e._offsets.left+a)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,i){var n=null;if(void 0!==e&&void 0!==i&&(n=this._timestamps.datasets[i][e]),null===n&&(n=w(t,this)),null!==n)return this.getPixelForOffset(n)},getPixelForTick:function(t){var e=this.getTicks();return 0<=t&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,a=(i?(t-n)/i:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,o=d(e._table,"pos",a,"time");return p(o)},getLabelWidth:function(t){var e=this.options.ticks,i=this.ctx.measureText(t).width,n=v.toRadians(e.maxRotation),a=Math.cos(n),o=Math.sin(n);return i*a+v.valueOrDefault(e.fontSize,r.global.defaultFontSize)*o},getLabelCapacity:function(t){var e=this,i=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(p(t),0,[],i),a=e.getLabelWidth(n),o=e.isHorizontal()?e.width:e.height;return Math.floor(o/a)}});e.scaleService.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},{1:1,25:25,45:45}]},{},[7])(7)});!function(t){"use strict";var e,i,l,o,r,d,n,c,h,p,_,g,b,x,u,v,y,A,f,k,L,C,S,m,z,w,B,j,R,Z,H={};t.each(t(".fusion-chart"),function(a,s){if(l=void 0!==t(this).data("type")?t(this).data("type"):"line",o=void 0!==t(this).data("border_size")?t(this).data("border_size"):1,r=void 0!==t(this).data("border_type")?t(this).data("border_type"):"smooth",d=void 0!==t(this).data("chart_fill")?t(this).data("chart_fill"):"yes",f=void 0!==t(this).data("x_axis_label")?t(this).data("x_axis_label"):"",k=void 0!==t(this).data("y_axis_label")?t(this).data("y_axis_label"):"",n=[],c=void 0!==t(this).data("show_tooltips")?t(this).data("show_tooltips"):"yes",b=[],u=[],v=x="",y=void 0!==t(this).data("chart_axis_text_color")?t(this).data("chart_axis_text_color"):null,A=void 0!==t(this).data("chart_gridline_color")?t(this).data("chart_gridline_color"):null,_=[],g=void(B=0)!==t(this).data("chart_legend_position")?t(this).data("chart_legend_position"):"off",L=void 0!==t(this).data("chart_point_style")?t(this).data("chart_point_style"):"",C=void 0!==t(this).data("chart_point_size")?t(this).data("chart_point_size"):"",S=void 0!==t(this).data("chart_point_border_color")?t(this).data("chart_point_border_color"):"",m=void 0!==t(this).data("chart_point_bg_color")?t(this).data("chart_point_bg_color"):"",!1,Z=t("body").hasClass("rtl"),z={responsive:!0,tooltips:{enabled:!0},scales:{xAxes:[{display:!(H={labels:[],datasets:[]})}],yAxes:[{display:!1}]},legend:{labels:{},display:!0},layout:{padding:{left:5,right:5,top:5,bottom:5}}},i=t(this).find(".fusion-chart-dataset"),0!==(w=t(i).length)){for((5<C||5<o)&&(z.layout.padding.top=C<o?o:C),"polarArea"!==l&&"radar"!==l||(z.scale={}),(R="pie"===l||"doughnut"===l||"polarArea"===l||("bar"===l||"horizontalBar"===l)&&1===i.length)&&(void 0!==t(this).data("bg_colors")&&(b=t(this).data("bg_colors").toString().split("|")),void 0!==t(this).data("border_colors")&&(u=t(this).data("border_colors").toString().split("|")),void 0!==t(this).data("x_axis_labels")&&(_=t(this).data("x_axis_labels").toString().split("|"))),"off"===d&&(d=!1),z.tooltips.enabled="yes"===c,j=0;j<w;j++)p="",R||void 0!==t(i[j]).data("label")&&(p=t(i[j]).data("label").toString().trim(),H.labels.push(p),_.push(p)),R||(void 0!==t(i[j]).data("background_color")&&b.push(t(i[j]).data("background_color").toString().trim()),void 0!==t(i[j]).data("border_color")&&u.push(t(i[j]).data("border_color").toString().trim())),void 0!==t(i[j]).data("values")&&(n[j]=t(i[j]).data("values").toString().split("|"),!R&&B<n[j].length&&(B=n[j].length));if(void 0!==t(this).data("x_axis_labels")?H.labels=t(this).data("x_axis_labels").toString().split("|"):H.labels="pie"===l||"doughnut"===l||"polarArea"===l?new Array(i.length):new Array(B),!0===Z)for(H.labels=H.labels.reverse(),b=b.reverse(),u=u.reverse(),_=_.reverse(),a=0;a<n.length;a++)n[a]=n[a].reverse();for(j=0;j<w;j++)h=[],p=R?(x=b,v=u,h=n[j],void 0!==t(i[j]).data("label")?t(i[j]).data("label").toString().trim():""):(x=void 0!==b[j]?b[j]:"",v=void 0!==u[j]?u[j]:"",h=n[j],void 0!==_[j]&&!0===Array.isArray(_)?_[j]:""),H.datasets.push({label:p,data:h,backgroundColor:x,borderColor:v,borderWidth:o}),"line"===l&&(H.datasets[j].fill=d,"stepped"===r&&(H.datasets[j].steppedLine=!0),""!==L&&(H.datasets[j].pointStyle=L),""!==C&&(H.datasets[j].pointRadius=C,H.datasets[j].pointHoverRadius=C),""!==S&&(H.datasets[j].pointBorderColor=S),""!==m&&(H.datasets[j].pointBackgroundColor=m));R&&(H.labels=_),"bar"!==l&&"line"!==l||(z.scales.yAxes[0].ticks={beginAtZero:!0}),"horizontalBar"===l&&(z.scales.xAxes[0].ticks={beginAtZero:!0}),""!==f&&"pie"!==l&&"doughnut"!==l&&"polarArea"!==l&&"radar"!==l&&(z.scales.xAxes[0].display=!0,z.scales.xAxes[0].scaleLabel={display:!0,labelString:f},null!==y&&(z.scales.xAxes[0].scaleLabel.fontColor=y)),""!==k&&"pie"!==l&&"doughnut"!==l&&"polarArea"!==l&&"radar"!==l&&(z.scales.yAxes[0].display=!0,z.scales.yAxes[0].scaleLabel={display:!0,labelString:k},null!==y&&(z.scales.yAxes[0].scaleLabel.fontColor=y),!0===Z&&"horizontalBar"!==l&&(z.scales.yAxes[0].position="right")),"line"===l&&"non_smooth"===r&&(z.elements={line:{tension:1e-6}}),z.legend.display=!1,z.legendCallback=function(a){var s,t,e=[];for(e.push('<ul class="fusion-chart-legend-'+a.id+'">'),s=0;s<_.length;s++)t=void 0!==b[s]?b[s]:"transparent",e.push('<li><span style="background-color:'+t+'">'),_[s]&&e.push(_[s]),e.push("</span></li>");return e.push("</ul>"),e.join("")},null!==A&&("polarArea"===l||"radar"===l?(void 0===z.scale.gridLines&&(z.scale.gridLines={},z.scale.angleLines={}),z.scale.gridLines.color=A,z.scale.angleLines.color=A):(void 0===z.scales.yAxes[0].gridLines&&(z.scales.yAxes[0].gridLines={}),void 0===z.scales.xAxes[0].gridLines&&(z.scales.xAxes[0].gridLines={}),z.scales.xAxes[0].gridLines.color=A,z.scales.yAxes[0].gridLines.color=A)),null!==y&&("polarArea"===l||"radar"===l?(void 0===z.scale.ticks&&(z.scale.ticks={}),z.scale.ticks.fontColor=y):(void 0===z.scales.yAxes[0].ticks&&(z.scales.yAxes[0].ticks={}),void 0===z.scales.xAxes[0].ticks&&(z.scales.xAxes[0].ticks={}),z.scales.xAxes[0].ticks.fontColor=y,z.scales.yAxes[0].ticks.fontColor=y)),e=new Chart(t(this).find("canvas").get(0),{type:l,data:H,options:z}),"off"!==g&&t(this).find(".fusion-chart-legend-wrap").html(e.generateLegend())}})}(jQuery);!function(n){"use strict";function r(t){var e,i;(i={}).readOnly=void 0!==n(t).data("readonly")&&n(t).data("readonly"),i.lineNumbers=void 0!==n(t).data("linenumbers")&&n(t).data("linenumbers"),i.lineWrapping=void 0!==n(t).data("linewrapping")&&n(t).data("linewrapping"),i.theme=void 0!==n(t).data("theme")?n(t).data("theme"):"default",i.mode=void 0!==n(t).data("mode")?n(t).data("mode"):"text/html",e=wp.CodeMirror.fromTextArea(t,i),n(t).addClass("code-mirror-initialized"),e.setSize("100%","auto"),n(document).trigger("resize"),n(t).parents(".fusion-syntax-highlighter-container").css("opacity","1")}n(document).ready(function(){var e,i,a,t=n(".fusion-syntax-highlighter-textarea");n.each(t,function(t,e){i=n(e).parents(".fusion-tabs"),a=n(e).parents(".fusion-panel"),i.length?0===i.find(".nav-tabs li.active").index()&&i.find(".nav-tabs li.active .tab-link").attr("href")==="#"+n(e).parents(".tab-pane").attr("id")?r(e):i.find(".tab-link").click(function(){n(this).attr("href")!=="#"+n(e).parents(".tab-pane").attr("id")||n(e).hasClass("code-mirror-initialized")||setTimeout(function(){r(e)},200)}):a.length?(a.find(".panel-title a.active").length&&(e=a.find(a.find(".panel-title a.active").attr("href")).find(".fusion-syntax-highlighter-textarea")[0],r(e)),a.find(".panel-title a").click(function(){n(this).attr("href")!=="#"+n(e).parents(".panel-collapse").attr("id")||n(e).hasClass("code-mirror-initialized")||setTimeout(function(){r(e)},200)})):r(e)}),n(".syntax-highlighter-copy-code-title").click(function(){var t=n(this);e=document.getElementById(n(this).data("id")),t.parent(".syntax-highlighter-copy-code").addClass("syntax-highlighter-copying"),n(e).removeAttr("style").css({position:"absolute",left:"-1000%"}),n(e).select(),document.execCommand("Copy",!1,null),setTimeout(function(){t.parent(".syntax-highlighter-copy-code").removeClass("syntax-highlighter-copying")},200)})})}(jQuery);jQuery(window).load(function(){jQuery(".fusion-gallery-layout-grid, .fusion-gallery-layout-masonry").each(function(){var o,e=jQuery(this);o=e.find(".fusion-gallery-column"),e.css("min-height","500px"),o.hide(),jQuery(this).hasClass("fusion-gallery-layout-masonry")&&!jQuery(this).hasClass("fusion-masonry-has-vertical")&&0<jQuery(this).find(".fusion-grid-column:not(.fusion-grid-sizer)").not(".fusion-element-landscape").length&&jQuery(this).addClass("fusion-masonry-has-vertical"),imagesLoaded(o,function(){e.css("min-height",""),o.fadeIn(),e.isotope({layoutMode:"packery",itemSelector:".fusion-gallery-column",isOriginLeft:!jQuery("body.rtl").length,resizable:!0,initLayout:!1}),e.on("layoutComplete",function(o,e){var i=jQuery(o.target);i.parents(".fusion-blog-layout-grid").length&&!i.parents(".fusion-blog-layout-grid").hasClass("fusion-blog-equal-heights")&&setTimeout(function(){i.parents(".fusion-blog-layout-grid").isotope()},50),i.parents(".fusion-portfolio-wrapper").length&&setTimeout(function(){i.parents(".fusion-portfolio-wrapper").isotope()},50)}),e.isotope(),jQuery(window).trigger("resize"),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})})})});!function(d){d.fn.countTo=function(f){return f=d.extend({},d.fn.countTo.defaults,f||{}),d(this).each(function(){var a=d.extend({},f,{from:parseFloat(d(this).attr("data-from")||f.from),to:parseFloat(d(this).attr("data-to")||f.to),speed:parseInt(d(this).attr("data-speed")||f.speed,10),refreshInterval:parseInt(d(this).attr("data-refresh-interval")||f.refreshInterval,10),decimals:parseInt(d(this).attr("data-decimals")||f.decimals,10)}),t=Math.ceil(a.speed/a.refreshInterval),e=(a.to-a.from)/t,r=this,n=0,o=a.from,l=setInterval(function(){n++,s(o+=e),"function"==typeof a.onUpdate&&a.onUpdate.call(r,o);t<=n&&(clearInterval(l),o=a.to,"function"==typeof a.onComplete&&a.onComplete.call(r,o))},a.refreshInterval);function s(t){var e=a.formatter.call(r,t,a);d(r).html(e)}s(o)})},d.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:function(t,e){return t.toFixed(e.decimals)},onUpdate:null,onComplete:null}}(jQuery);!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof exports?module.exports=b(require("jquery")):b(jQuery)}(0,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((b.rotate/180-.5)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=c<=0;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6==0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,b<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){},onStep:function(a,b,c){},onStop:function(a,b){}};if(void 0!==b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&void 0!==c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));"string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?e.easing=jQuery.easing[e.easing]:e.easing=d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});!function(a,b,c){function d(){var b=a(this),c=b.is(":visible")&&e(this);c?(b.trigger(u),c!=b.data(s)&&b.trigger(t)):c!=b.data(s)&&b.trigger(v),b.data(s,c)}function e(a){var b=a.getBoundingClientRect();return(b.top>=0&&b.top<=q||b.bottom>=0&&b.bottom<=q)&&(b.left>=0&&b.left<=r||b.right>=0&&b.right<=r)}function f(){q=b.innerHeight||c.documentElement.clientHeight,r=b.innerWidth||c.documentElement.clientWidth,I()}function g(){a(this).find(x).each(d)}function h(){var b=a(this);j(b)|k(b)&&(b.data(A)||(b.data(A,1),H=H.add(b)))}function i(){var b=a(this);b.data(A)&&0===b.find(x).length&&(b.removeData(y).removeData(z).removeData(A),b.unbind("scroll",g)._unbindShow(g))}function j(a){if(a.data(y))return!1;var b=a.css("overflow");return("scroll"==b||"auto"==b)&&(a.data(y,1),a.bind("scroll",g),!0)}function k(a){if(!C&&!a.data(z)){if("none"==a.css("display"))return a.data(z,1),a._bindShow(g),!0}}function l(e){var g=a(this);if(!g.is(x)){if(!F&&(F=!0,f(),a(c).ready(function(){a(b).on("resize",f).on("scroll",I),a(c.body).on(D+" "+E,I)}),C)){new MutationObserver(I).observe(c,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}g.data(s,!1),g.parents().each(h),setTimeout(function(){d.call(g[0])},1),G=G.add(this)}}function m(b){var c=a(this);setTimeout(function(){for(var b=a._data(c[0],"events")||{},d=!1,e=0;e<w.length;++e)if(b[w[e]]){d=!0;break}d&&(c.removeData(s),H=H.filter(B),H.each(i))},1)}function n(b){(void 0===b?G:a(b)).each(function(){var b=a(this);b.is(x)&&b.parents().each(h)})}function o(){for(var b=0;b<w.length;++b)a.event.special[w[b]]={add:l,remove:m}}function p(b){for(var c=0;c<w.length;++c)delete a.event.special[w[c]];t=b+"appear",u=b+"appearing",v=b+"disappear",w=[t,u,v],o()}var q,r,s="jquery-appear",t="appear",u="appearing",v="disappear",w=[t,u,v],x=":"+s,y=s+"-scroller",z=s+"-display",A=s+"-watch",B=":"+A,C=void 0!==b.MutationObserver,D="animationend webkitAnimationEnd oAnimationEnd",E="transitionend webkitTransitionEnd oTransitionEnd",F=!1,G=a(),H=a();a.expr[":"][s]=function(b){return void 0!==a(b).data(s)},a.expr[":"][A]=function(b){return void 0!==a(b).data(A)};var I=function(a){var b,c=0;return function(){var d=this,e=arguments,f=function(){c=new Date,a.apply(d,e)};b&&(clearTimeout(b),b=null);var g=new Date-c;g>10?f():b=setTimeout(f,10-g)}}(function(){G=G.filter(x),G.each(d)});a.appear={check:I,refresh:n,setEventPrefix:p},o(),function(){function b(){var b=a(this),c="none"!=b.css("display");b.data(f)!=c&&(b.data(f,c),c&&b.trigger(e))}function c(){i=i.filter(g),i.each(b),0===i.length&&(d=clearInterval(d))}var d,e="jquery-appear-show",f=s+"-"+e,g=":"+f,h=50,i=a();a.expr[":"][f]=function(b){return void 0!==a(b).data(f)},a.fn._bindShow=function(a){this.bind(e,a),this.data(f,"none"!=this.css("display")),i=i.add(this),h&&!d&&(d=setInterval(c,h))},a.fn._unbindShow=function(a){this.unbind(e,a),this.removeData(f)},a.appear.setInterval=function(b){b==h||!a.isNumeric(b)||b<0||(h=b,d=clearInterval(d),h>0&&(d=setInterval(c,h)))}}()}(jQuery,window,document);!function(d){"use strict";d.fn.fusion_draw_circles=function(){var e=d(this),t=e.children(".counter-circle").attr("data-countdown"),i=e.children(".counter-circle").attr("data-filledcolor"),r=e.children(".counter-circle").attr("data-unfilledcolor"),c=e.children(".counter-circle").attr("data-scale"),a=e.children(".counter-circle").attr("data-size"),n=e.children(".counter-circle").attr("data-speed"),o=e.children(".counter-circle").attr("data-strokesize"),s=e.children(".counter-circle").attr("data-percent-original");c&&(c=d("body").css("color")),t?(e.children(".counter-circle").attr("data-percent",100),e.children(".counter-circle").easyPieChart({barColor:i,trackColor:r,scaleColor:c,scaleLength:5,lineCap:"round",lineWidth:o,size:a,rotate:0,animate:{duration:n,enabled:!0}}),e.children(".counter-circle").data("easyPieChart").enableAnimation(),e.children(".counter-circle").data("easyPieChart").update(s)):e.children(".counter-circle").easyPieChart({barColor:i,trackColor:r,scaleColor:c,scaleLength:5,lineCap:"round",lineWidth:o,size:a,rotate:0,animate:{duration:n,enabled:!0}})},d.fn.fusion_recalc_circles=function(e){var t,i,r=d(this);r.is(":hidden")||(r.attr("data-currentsize",r.width()),r.removeAttr("style"),r.children().removeAttr("style"),r.data("currentsize"),t=r.data("originalsize"),(i=r.parent().width())<r.data("currentsize")?(r.css({width:i,height:i,"line-height":i+"px"}),r.find(".fusion-counter-circle").each(function(){d(this).css({width:i,height:i,"line-height":i+"px","font-size":50*i/220}),d(this).data("size",i),d(this).data("strokesize",i/220*11),e||d(this).data("animate",!1),d(this).attr("data-size",i),d(this).attr("data-strokesize",i/220*11)})):(r.css({width:t,height:t,"line-height":t+"px"}),r.find(".fusion-counter-circle").each(function(){d(this).css({width:t,height:t,"line-height":t+"px","font-size":50*t/220}),d(this).data("size",t),d(this).data("strokesize",t/220*11),e||d(this).data("animate",!1),d(this).attr("data-size",t),d(this).attr("data-strokesize",t/220*11)})))},d.fn.fusion_redraw_circles=function(){var e=d(this);e.is(":hidden")||(e.fusion_recalc_circles(!1),e.find("canvas").remove(),e.find(".counter-circle").removeData("easyPieChart"),e.fusion_draw_circles())}}(jQuery),jQuery(window).load(function(){jQuery(".counter-circle-wrapper").not(".fusion-accordian .counter-circle-wrapper, .fusion-tabs .counter-circle-wrapper, .fusion-modal .counter-circle-wrapper").each(function(){var e=getWaypointOffset(jQuery(this));jQuery(this).waypoint(function(){jQuery(this).fusion_recalc_circles(!0),jQuery(this).fusion_draw_circles()},{triggerOnce:!0,offset:e})}),jQuery(".counter-circle-wrapper").not(".fusion-modal .counter-circle-wrapper").each(function(){var r=jQuery(window).width(),c=jQuery(window).height(),e=getWaypointOffset(jQuery(this));"top-out-of-view"===e&&(e=getAdminbarHeight()+("function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():"0")),jQuery(this).waypoint(function(){var i=jQuery(this);jQuery(window).on("resize",function(e,t){void 0!==t&&"modal-open"===t||(jQuery(window).width()!=r||jQuery(window).width()!=r&&jQuery(window).height()!=c)&&i.fusion_redraw_circles()})},{triggerOnce:!0,offset:e})}),jQuery(".fusion-accordian .counter-circle-wrapper, .fusion-tabs .counter-circle-wrapper, .fusion-modal .counter-circle-wrapper").on("appear",function(){jQuery(this).fusion_draw_circles()})});!function(i){"use strict";i.fn.fusion_draw_progress=function(){var s,r=i(this);i("html").hasClass("lt-ie9")?(r.css("visibility","visible"),r.each(function(){s=r.find(".progress").attr("aria-valuenow"),r.find(".progress").css("width","0%"),r.find(".progress").animate({width:s+"%"},"slow")})):r.find(".progress").css("width",function(){return i(this).attr("aria-valuenow")+"%"})}}(jQuery),jQuery(document).ready(function(){jQuery(".fusion-progressbar").not(".fusion-modal .fusion-progressbar").each(function(){var s=getWaypointOffset(jQuery(this));jQuery(this).waypoint(function(){jQuery(this).fusion_draw_progress()},{triggerOnce:!0,offset:s})})}),jQuery(window).load(function(){jQuery(".fusion-modal .fusion-progressbar").on("appear",function(){jQuery(this).fusion_draw_progress()})});var fusionRecentPostsVars={"infinite_loading_text":"<em>Loading the next set of posts...<\/em>","infinite_finished_msg":"<em>All items displayed.<\/em>","slideshow_autoplay":"1","slideshow_speed":"7000","pagination_video_slide":"","status_yt":"1"};jQuery(window).load(function(){jQuery(".fusion-recent-posts-infinite .fusion-columns").each(function(){var i,n=jQuery(this),s=n.parent(),e="."+s.attr("class").replace(/\ /g,".")+" ",t=jQuery(this).find(".fusion-column");jQuery(n).infinitescroll({navSelector:e+".fusion-infinite-scroll-trigger",nextSelector:e+"a.pagination-next",itemSelector:e+"div.pagination .current, "+e+"article.post",loading:{finishedMsg:fusionRecentPostsVars.infinite_finished_msg,msg:jQuery('<div class="fusion-loading-container fusion-clearfix"><div class="fusion-loading-spinner"><div class="fusion-spinner-1"></div><div class="fusion-spinner-2"></div><div class="fusion-spinner-3"></div></div><div class="fusion-loading-msg">'+fusionRecentPostsVars.infinite_loading_text+"</div>")},maxPage:s.data("pages")?s.data("pages"):void 0,errorCallback:function(){}},function(e){jQuery(e).hide(),imagesLoaded(e,function(){jQuery(e).fadeIn()}),jQuery(n).find(".flexslider").flexslider({slideshow:Boolean(Number(fusionRecentPostsVars.slideshow_autoplay)),slideshowSpeed:fusionRecentPostsVars.slideshow_speed,video:!0,smoothHeight:!1,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",start:function(e){e.removeClass("fusion-flexslider-loading"),void 0!==e.slides&&0!==e.slides.eq(e.currentSlide).find("iframe").length?(Number(fusionRecentPostsVars.pagination_video_slide)?jQuery(e).find(".flex-control-nav").css("bottom","-20px"):jQuery(e).find(".flex-control-nav").hide(),Number(fusionRecentPostsVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})):Number(fusionRecentPostsVars.pagination_video_slide)?jQuery(e).find(".flex-control-nav").css("bottom","0px"):jQuery(e).find(".flex-control-nav").show(),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(e){0!==e.slides.eq(e.currentSlide).find("iframe").length&&(Number(fusionRecentPostsVars.status_vimeo)&&-1!==e.slides.eq(e.currentSlide).find("iframe")[0].src.indexOf("vimeo")&&new Vimeo.Player(e.slides.eq(e.currentSlide).find("iframe")[0]).pause(),Number(fusionRecentPostsVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})}))},after:function(e){0!==e.slides.eq(e.currentSlide).find("iframe").length?(Number(fusionRecentPostsVars.pagination_video_slide)?jQuery(e).find(".flex-control-nav").css("bottom","-20px"):jQuery(e).find(".flex-control-nav").hide(),Number(fusionRecentPostsVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(e.slides.eq(e.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(e.slides.eq(e.currentSlide).find("iframe").attr("id"),e)}})})):Number(fusionRecentPostsVars.pagination_video_slide)?jQuery(e).find(".flex-control-nav").css("bottom","0px"):jQuery(e).find(".flex-control-nav").show(),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}}),jQuery(e).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()}),i=s.find(".current").html(),s.find(".current").remove(),s.data("pages")==i&&(s.find(".fusion-loading-container").hide(),s.find(".fusion-load-more-button").hide()),"individual"!==fusionRecentPostsVars.lightbox_behavior&&t.find(".fusion-post-slideshow").length||(window.avadaLightBox.activate_lightbox(jQuery(e)),t=n.find(".post")),window.avadaLightBox.refresh_lightbox(),jQuery(window).trigger("resize",[!1]),setTimeout(function(){jQuery(window).trigger("resize",[!1])},500),jQuery.isFunction(jQuery.fn.initWaypoint)&&jQuery(window).initWaypoint(),"undefined"!=typeof niceScrollReInit&&niceScrollReInit()}),jQuery(s).hasClass("fusion-recent-posts-load-more")&&(jQuery(n).infinitescroll("unbind"),jQuery(s).find(".fusion-load-more-button").on("click",function(e){e.preventDefault(),jQuery(n).infinitescroll("retrieve")})),1===parseInt(s.data("pages"),10)&&(s.find(".fusion-loading-container").hide(),s.find(".fusion-load-more-button").hide())})});var fusionCountersBox={"counter_box_speed":"1000"};!function(s){"use strict";s.fn.$fusionBoxCounting=function(){var o=s(this).data("value"),n=s(this).data("direction"),t=s(this).data("delimiter"),e=0,i=o,u=fusionCountersBox.counter_box_speed,r=Math.round(fusionCountersBox.counter_box_speed/100);t||(t=""),"down"===n&&(e=o,i=0),s(this).countTo({from:e,to:i,refreshInterval:r,speed:u,formatter:function(o,n){return"-0"===(o=(o=o.toFixed(n.decimals)).replace(/\B(?=(\d{3})+(?!\d))/g,t))&&(o=0),o}})}}(jQuery),jQuery(window).load(function(){jQuery(".fusion-counter-box").not(".fusion-modal .fusion-counter-box").each(function(){var o=getWaypointOffset(jQuery(this));jQuery(this).waypoint(function(){jQuery(this).find(".display-counter").each(function(){jQuery(this).$fusionBoxCounting()})},{triggerOnce:!0,offset:o})}),jQuery(".fusion-modal .fusion-counter-box").on("appear",function(){jQuery(this).find(".display-counter").each(function(){jQuery(this).$fusionBoxCounting()})})});+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop="",this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(document).find(e),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},f.data(),c.data());c.is("a")&&b.preventDefault(),f.modal(g,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);function getScrollBarWidth(){var e=jQuery("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),i=jQuery("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),100-i}jQuery(window).load(function(){var o=parseFloat(getScrollBarWidth());jQuery(".fusion-modal").each(function(){jQuery("body").append(jQuery(this))}),jQuery(".fusion-modal").bind("hidden.bs.modal",function(){jQuery("html").css("overflow",""),0!==o&&(jQuery("body").hasClass("layout-boxed-mode")&&jQuery('#sliders-container .main-flex[data-parallax="1"]').css("margin-left",function(e,i){return parseFloat(i)+o/2+"px"}),jQuery('body, .fusion-is-sticky .fusion-header, .fusion-is-sticky .fusion-secondary-main-menu, #sliders-container .main-flex[data-parallax="1"], #wpadminbar, .fusion-footer.fusion-footer-parallax').css("padding-right",""))}),jQuery(".fusion-modal").bind("show.bs.modal",function(){var e,i='body, .fusion-is-sticky .fusion-header, .fusion-is-sticky .fusion-secondary-main-menu, #sliders-container .main-flex[data-parallax="1"], #wpadminbar, .fusion-footer.fusion-footer-parallax';jQuery("html").css("overflow","visible"),0!==o&&(jQuery("body").hasClass("layout-boxed-mode")&&(i="body, #wpadminbar",jQuery('#sliders-container .main-flex[data-parallax="1"]').css("margin-left",function(e,i){return parseFloat(i)-o/2+"px"})),jQuery(i).css("padding-right",function(e,i){return parseFloat(i)+o+"px"})),e=jQuery(this),setTimeout(function(){e.find(".fusion-youtube").find("iframe").each(function(){1!==jQuery(this).parents(".fusion-video").data("autoplay")&&"true"!==jQuery(this).parents(".fusion-video").data("autoplay")||(jQuery(this).parents(".fusion-video").data("autoplay","false"),this.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"))}),e.find(".fusion-vimeo").find("iframe").each(function(){1!==jQuery(this).parents(".fusion-video").data("autoplay")&&"true"!==jQuery(this).parents(".fusion-video").data("autoplay")||(jQuery(this).parents(".fusion-video").data("autoplay","false"),new Vimeo.Player(jQuery(this)[0]).play())}),"function"==typeof jQuery.fn.reinitializeGoogleMap&&e.find(".shortcode-map").each(function(){jQuery(this).reinitializeGoogleMap()}),e.find(".fusion-carousel").length&&"function"==typeof generateCarousel&&generateCarousel(),e.find(".fusion-portfolio").each(function(){jQuery(this).find(".fusion-portfolio-wrapper").isotope()}),e.find(".fusion-gallery").each(function(){jQuery(this).isotope()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesHeight&&e.find(".fusion-flip-boxes").not(".equal-heights").find(".flip-box-inner-wrapper").each(function(){jQuery(this).fusionCalcFlipBoxesHeight()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesEqualHeights&&e.find(".fusion-flip-boxes.equal-heights").each(function(){jQuery(this).fusionCalcFlipBoxesEqualHeights()}),"function"==typeof jQuery.fn.equalHeights&&e.find(".fusion-fullwidth.fusion-equal-height-columns").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").equalHeights()}),e.find(".crossfade-images").each(function(){fusionResizeCrossfadeImagesContainer(jQuery(this)),fusionResizeCrossfadeImages(jQuery(this))}),e.find(".fusion-blog-shortcode").each(function(){jQuery(this).find(".fusion-blog-layout-grid").isotope()}),e.find(".fusion-testimonials .reviews").each(function(){jQuery(this).css("height",jQuery(this).children(".active-testimonial").height())}),"function"==typeof calcSelectArrowDimensions&&calcSelectArrowDimensions(),"function"==typeof wrapGravitySelects&&wrapGravitySelects(),jQuery(window).trigger("resize",["modal-open"])},350)}),1==jQuery("#sliders-container .tfs-slider").data("parallax")&&jQuery(".fusion-modal").css("top",jQuery(".header-wrapper").height()),jQuery(".fusion-modal").each(function(){jQuery(this).on("hide.bs.modal",function(){jQuery(this).find(".fusion-youtube iframe").each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),jQuery(this).find(".fusion-vimeo iframe").each(function(){new Vimeo.Player(this).pause()})})}),jQuery("[data-toggle=modal]").on("click",function(e){e.preventDefault()}),jQuery(".fusion-modal-text-link").click(function(e){e.preventDefault()})}),jQuery(document).ready(function(){jQuery(".fusion-modal").on("shown.bs.modal",function(){jQuery(this).find(".shortcode-map").each(function(){jQuery(this).reinitializeGoogleMap()})})});+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(document).find(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .fusion-panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing toggle-fadein")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing toggle-fadein").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing toggle-fadeout").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing toggle-fadeout").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){if(!jQuery(this).parents(".fusion-accordian").find(".toggle-fadein").length||jQuery(this).parents(".fusion-accordian").find(".toggle-fadein")[0]===jQuery(this).parents(".fusion-panel").find(".panel-collapse")[0]){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(document).find(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)}}),jQuery("click.bs.collapse.data-api, [data-toggle=collapse]").each(function(){jQuery(this).attr("data-parent");if(0==jQuery(this).parents(".panel-group").length){var a=Math.floor(10*Math.random()+1),b=jQuery(this).parents(".fusion-panel");jQuery(this).attr("data-parent","accordian-"+a),jQuery(b).wrap('<div class="accordian fusion-accordian fusion-single-accordian"><div class="panel-group" id="accordion-'+a+'"></div></div>')}})}(jQuery);jQuery(window).load(function(){jQuery(".fusion-toggle-boxed-mode .panel-collapse").on("click",function(i){jQuery(i.target).is("a")||jQuery(i.target).is("button")||jQuery(i.target).hasClass("fusion-button-text")||jQuery(this).parents(".fusion-panel").find(".panel-title > a").trigger("click")}),window.fusionAccordianClick=!1,jQuery(document).on("click dblclick",".fusion-accordian .panel-title a",function(i){var e,n,o;i.preventDefault(),jQuery(this).parents(".fusion-accordian").find(".toggle-fadein").length&&jQuery(this).parents(".fusion-accordian").find(".toggle-fadein")[0]!==jQuery(this).parents(".fusion-panel").find(".panel-collapse")[0]||!0!==window.fusionAccordianClick&&(window.fusionAccordianClick=!0,e=jQuery(this),n=jQuery(jQuery(this).data("target")).find(".panel-body"),o=e.parents(".fusion-accordian").find(".panel-title a"),e.hasClass("collapsed")?(void 0!==e.data("parent")?o.removeClass("active"):e.removeClass("active"),e.closest(".fusion-fullwidth").hasClass("fusion-equal-height-columns")&&setTimeout(function(){jQuery(window).trigger("resize")},350)):(void 0!==e.data("parent")&&o.removeClass("active"),e.addClass("active"),setTimeout(function(){"function"==typeof jQuery.fn.reinitializeGoogleMap&&n.find(".shortcode-map").each(function(){jQuery(this).reinitializeGoogleMap()}),n.find(".fusion-carousel").length&&"function"==typeof generateCarousel&&generateCarousel(),n.find(".fusion-portfolio").each(function(){var i=jQuery(this).find(".fusion-portfolio-wrapper"),e=i.attr("id");e&&(i=jQuery("#"+e)),i.isotope()}),n.find(".fusion-gallery").each(function(){jQuery(this).isotope()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesHeight&&n.find(".fusion-flip-boxes").not(".equal-heights").find(".flip-box-inner-wrapper").each(function(){jQuery(this).fusionCalcFlipBoxesHeight()}),"function"==typeof jQuery.fn.fusionCalcFlipBoxesEqualHeights&&n.find(".fusion-flip-boxes.equal-heights").each(function(){jQuery(this).fusionCalcFlipBoxesEqualHeights()}),"function"==typeof jQuery.fn.equalHeights&&n.find(".fusion-fullwidth.fusion-equal-height-columns").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").equalHeights()}),n.find(".crossfade-images").each(function(){fusionResizeCrossfadeImagesContainer(jQuery(this)),fusionResizeCrossfadeImages(jQuery(this))}),n.find(".fusion-blog-shortcode").each(function(){jQuery(this).find(".fusion-blog-layout-grid").isotope()}),n.find(".fusion-testimonials .reviews").each(function(){jQuery(this).css("height",jQuery(this).children(".active-testimonial").height())}),"function"==typeof calcSelectArrowDimensions&&calcSelectArrowDimensions(),"function"==typeof wrapGravitySelects&&wrapGravitySelects(),jQuery(window).trigger("resize")},350)),window.fusionAccordianClick=!1)})}),jQuery(document).ready(function(){jQuery(".fusion-accordian .panel-title a").click(function(i){i.preventDefault()})});var fusionBgImageVars={"content_break_point":"1000"};!function(a){"use strict";a.fn.fusion_set_bg_img_dims=function(){a(this).each(function(){var t,i,s;'<div class="fusion-clearfix"></div>'!==a.trim(a(this).html())&&'<div class="fusion-column-content-centered"><div class="fusion-column-content"></div></div><div class="fusion-clearfix"></div>'!==a.trim(a(this).html().replace(/\s/g,""))&&""!==a.trim(a(this).html())||!a(this).data("bg-url")||((t=new Image).src=a(this).data("bg-url"),i=parseInt(t.naturalHeight,10),s=parseInt(t.naturalWidth,10),(i&&s||!a(this).attr("data-bg-height")||!a(this).attr("data-bg-width"))&&(a(this).attr("data-bg-height",i),a(this).attr("data-bg-width",s)))})},a.fn.fusion_calculate_empty_column_height=function(){a(this).each(function(){var t,i,s;(!a(this).parents(".fusion-equal-height-columns").length||!Modernizr.mq("only screen and (max-width: "+fusionBgImageVars.content_break_point+"px)")&&!0!==a(this).data("empty-column"))&&a(this).parents(".fusion-equal-height-columns").length||(!a(this).parent().hasClass("fusion-column-wrapper")||2!==a(this).parent().children().length)&&a(this).parent().hasClass("fusion-column-wrapper")||'<div class="fusion-clearfix"></div>'!==a.trim(a(this).html())&&""!==a.trim(a(this).html())||(t=a(this).data("bg-height"),i=a(this).data("bg-width"),s=t*(a(this).outerWidth()/i),a(this).height(s),(a("html").hasClass("ua-edge")||a("html").hasClass("ua-ie"))&&a(this).parent().height(s))})}}(jQuery);function fusionCalcColumnEqualHeights(){jQuery(".fusion-fullwidth.fusion-equal-height-columns").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").not(function(u,n){return jQuery(n).parents(".fusion-column-wrapper").length?1:0}).equalHeights()}),jQuery(".fusion-fullwidth.fusion-equal-height-columns .fusion-builder-row").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").not(function(u,n){return jQuery(n).parent(".fusion-column-wrapper").length||jQuery(n).parents(".fusion-events-shortcode").length?1:0}).equalHeights()}),jQuery(".fusion-layout-column > .fusion-column-wrapper > .fusion-column-wrapper").length?jQuery(".fusion-layout-column > .fusion-column-wrapper > .fusion-column-wrapper").fusion_calculate_empty_column_height():jQuery(".fusion-layout-column > .fusion-column-wrapper").fusion_calculate_empty_column_height()}jQuery(document).ready(function(){jQuery(".fusion-image-hovers .hover-type-liftup.fusion-column-inner-bg").hover(function(){jQuery(this).css("z-index","4"),jQuery(this).prev(".fusion-column-wrapper").css("z-index","5")},function(){jQuery(this).css("z-index",""),jQuery(this).prev(".fusion-column-wrapper").css("z-index","")})}),jQuery(window).load(function(){jQuery(".fusion-fullwidth.fusion-equal-height-columns").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").not(function(u,n){return jQuery(n).parents(".fusion-column-wrapper").length?1:0}).equalHeights()}),jQuery(".fusion-fullwidth.fusion-equal-height-columns .fusion-builder-row").each(function(){jQuery(this).find(".fusion-layout-column .fusion-column-wrapper").not(function(u,n){return jQuery(n).parent(".fusion-column-wrapper").length||jQuery(n).parents(".fusion-events-shortcode").length?1:0}).equalHeights()}),jQuery(".fusion-layout-column .fusion-column-wrapper").fusion_set_bg_img_dims(),jQuery(".fusion-layout-column > .fusion-column-wrapper > .fusion-column-wrapper").length?jQuery(".fusion-layout-column > .fusion-column-wrapper > .fusion-column-wrapper").fusion_calculate_empty_column_height():jQuery(".fusion-layout-column > .fusion-column-wrapper").fusion_calculate_empty_column_height(),jQuery(window).on("resize",function(){fusionCalcColumnEqualHeights(),setTimeout(function(){fusionCalcColumnEqualHeights()},500)})});!function(o){o.fn.countDown=function(t){return config={},o.extend(config,t),diffSecs=this.setCountDown(config),config.onComplete&&o.data(o(this)[0],"callback",config.onComplete),config.omitWeeks&&o.data(o(this)[0],"omitWeeks",config.omitWeeks),o("#"+o(this).attr("id")+" .fusion-digit").html('<div class="top"></div><div class="bottom"></div>'),o(this).doCountDown(o(this).attr("id"),diffSecs,500),this},o.fn.stopCountDown=function(){clearTimeout(o.data(this[0],"timer"))},o.fn.startCountDown=function(){this.doCountDown(o(this).attr("id"),o.data(this[0],"diffSecs"),500)},o.fn.setCountDown=function(t){var e=new Date;t.targetDate?e=new Date(t.targetDate.month+"/"+t.targetDate.day+"/"+t.targetDate.year+" "+t.targetDate.hour+":"+t.targetDate.min+":"+t.targetDate.sec+(t.targetDate.utc?" UTC":"")):t.targetOffset&&(e.setFullYear(t.targetOffset.year+e.getFullYear()),e.setMonth(t.targetOffset.month+e.getMonth()),e.setDate(t.targetOffset.day+e.getDate()),e.setHours(t.targetOffset.hour+e.getHours()),e.setMinutes(t.targetOffset.min+e.getMinutes()),e.setSeconds(t.targetOffset.sec+e.getSeconds()));var s=new Date;if(t.gmtOffset){var i=60*t.gmtOffset*6e4,a=6e4*s.getTimezoneOffset();s=new Date(s.getTime()+i+a)}return diffSecs=Math.floor((e.valueOf()-s.valueOf())/1e3),o.data(this[0],"diffSecs",diffSecs),diffSecs},o.fn.doCountDown=function(s,i,a){$this=o("#"+s),i<=0&&(i=0,$this.data("timer")&&clearTimeout($this.data("timer"))),secs=i%60,mins=Math.floor(i/60)%60,hours=Math.floor(i/60/60)%24,1==$this.data("omitWeeks")?days=Math.floor(i/60/60/24):days=Math.floor(i/60/60/24)%7,weeks=Math.floor(i/60/60/24/7),99<days&&$this.find(".fusion-dash-days").find(".fusion-hundred-digit").css("display","inline-block"),999<days&&$this.find(".fusion-dash-days").find(".fusion-thousand-digit").css("display","inline-block"),99<weeks&&$this.find(".fusion-dash-weeks").find(".fusion-hundred-digit").css("display","inline-block"),$this.dashChangeTo(s,"fusion-dash-seconds",secs,a||800),$this.dashChangeTo(s,"fusion-dash-minutes",mins,a||1200),$this.dashChangeTo(s,"fusion-dash-hours",hours,a||1200),$this.dashChangeTo(s,"fusion-dash-days",days,a||1200),$this.dashChangeTo(s,"fusion-dash-weeks",weeks,a||1200),o.data($this[0],"diffSecs",i),0<i?(e=$this,t=setTimeout(function(){e.doCountDown(s,i-1)},1e3),o.data(e[0],"timer",t)):(cb=o.data($this[0],"callback"))&&o.data($this[0],"callback")()},o.fn.dashChangeTo=function(t,e,s,i){$this=o("#"+t);for(var a=$this.find("."+e+" .fusion-digit").length-1;0<=a;a--){var n=s%10;s=(s-n)/10,$this.digitChangeTo("#"+$this.attr("id")+" ."+e+" .fusion-digit:eq("+a+")",n,i)}},o.fn.digitChangeTo=function(t,e,s){var i=o(t+" div.top"),a=o(t+" div.bottom");s||(s=800),i.html()!=e+""&&i.not(":animated").length&&(i.css({display:"none"}),i.html(e||"0").fadeOut(s,function(){a.html(i.html()),a.css({display:"block",height:"auto"}),i.css({display:"none"})}))}}(jQuery);!function(o){"use strict";o.fn.fusion_countdown=function(){var t=o(this),n=t.data("timer").split("-"),e=t.data("gmt-offset"),i=t.data("omit-weeks");t.countDown({gmtOffset:e,omitWeeks:i,targetDate:{year:n[0],month:n[1],day:n[2],hour:n[3],min:n[4],sec:n[5]}}),t.css("visibility","visible")}}(jQuery),jQuery(document).ready(function(){jQuery(".fusion-countdown-counter-wrapper").each(function(){var t=jQuery(this).attr("id");jQuery("#"+t).fusion_countdown()})});var fusionMapsVars={"admin_ajax":"https:\/\/estatenation.com\/wp-admin\/admin-ajax.php"};!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.geocoder=new google.maps.Geocoder,this.next_address=0,this.infowindow=new google.maps.InfoWindow,this.markers=[],this.query_sent=!1,this.last_cache_index="none",this.bounds=new google.maps.LatLngBounds,this.init()}var f="fusion_maps",g={addresses:{},address_pin:!0,animations:!0,delay:10,infobox_background_color:!1,infobox_styling:"default",infobox_text_color:!1,map_style:"default",map_type:"roadmap",marker_icon:!1,overlay_color:!1,overlay_color_hsl:{},pan_control:!0,show_address:!0,scale_control:!0,scrollwheel:!0,zoom:9,zoom_control:!0};a.extend(e.prototype,{init:function(){var a,b,c,d={zoom:this.settings.zoom,mapTypeId:this.settings.map_type,scrollwheel:this.settings.scrollwheel,scaleControl:this.settings.scale_control,panControl:this.settings.pan_control,zoomControl:this.settings.zoom_control},e=this;this.settings.scrollwheel||(d.gestureHandling="cooperative",delete d.scrollwheel),this.settings.address_pin||(this.settings.addresses=[this.settings.addresses[0]]),jQuery.each(this.settings.addresses,function(a){!1===this.cache&&(e.last_cache_index=a)}),this.settings.addresses[0].coordinates&&(a=new google.maps.LatLng(this.settings.addresses[0].latitude,this.settings.addresses[0].longitude),d.center=a),this.map=new google.maps.Map(this.element,d),this.settings.overlay_color&&"custom"===this.settings.map_style&&(b=[{stylers:[{hue:this.settings.overlay_color},{lightness:2*this.settings.overlay_color_hsl.lum-100},{saturation:2*this.settings.overlay_color_hsl.sat-100}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels"}],this.map.setOptions({styles:b})),c=google.maps.event.addListener(this.map,"bounds_changed",function(){var a=new google.maps.LatLng(e.settings.addresses[0].latitude,e.settings.addresses[0].longitude);e.map.setZoom(e.settings.zoom),e.map.setCenter(a),google.maps.event.removeListener(c)}),this.next_geocode_request()},geocode_address:function(a,b){var c,d,e,f,g,h=this,i=!0;"object"==typeof a&&!1===a.cache?(i=!1,!0===a.coordinates?(c=new google.maps.LatLng(a.latitude,a.longitude),d={latLng:c}):d={address:a.address},this.geocoder.geocode(d,function(d,e){var f,g,j,k;e===google.maps.GeocoderStatus.OK?(!0===a.coordinates?(j=c,f=jQuery.trim(a.latitude),g=jQuery.trim(a.longitude)):(j=d[0].geometry.location,f=j.lat(),g=j.lng()),h.settings.addresses[b].latitude=f,h.settings.addresses[b].longitude=g,!0===a.coordinates&&""===a.infobox_content&&(a.geocoded_address=d[0].formatted_address),1!==h.next_address&&"1"!==h.next_address&&!0!==h.next_address||a.coordinates||h.map.setCenter(j),h.settings.address_pin&&h.create_marker(a,f,g,b),0!==h.next_address&&"0"!==h.next_address&&!1!==h.next_address||h.map.setCenter(j)):e===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&(h.next_address--,h.settings.delay++),!1===i&&!1===h.query_sent&&h.last_cache_index===b&&"undefined"!=typeof fusionMapNonce&&(k={action:"fusion_cache_map",addresses:h.settings.addresses,security:fusionMapNonce},jQuery.post(fusionMapsVars.admin_ajax,k),h.query_sent=!0),h.next_geocode_request()})):"object"==typeof a&&!0===a.cache&&(e=jQuery.trim(a.latitude),f=jQuery.trim(a.longitude),g=new google.maps.LatLng(e,f),!0===a.coordinates&&""===a.infobox_content&&(a.geocoded_address=a.geocoded_address),h.settings.address_pin&&h.create_marker(a,e,f,b),0!==h.next_address&&"0"!==h.next_address&&!1!==h.next_address||h.map.setCenter(g),h.next_geocode_request())},create_marker:function(a,b,c,d){var e,f,g={position:new google.maps.LatLng(b,c),map:this.map};this.bounds.extend(g.position),a.infobox_content?e=a.infobox_content:(e=a.address,!0===a.coordinates&&a.geocoded_address&&(e=a.geocoded_address)),this.settings.animations&&(g.animation=google.maps.Animation.DROP),"custom"===this.settings.map_style&&"theme"===this.settings.marker_icon?g.icon=new google.maps.MarkerImage(a.marker,null,null,null,new google.maps.Size(37,55)):"custom"===this.settings.map_style&&a.marker&&(g.icon=a.marker),f=new google.maps.Marker(g),this.markers.push(f),this.create_infowindow(e,f),d+1>=this.settings.addresses.length&&this.map.setCenter(this.bounds.getCenter()),this.map.setZoom(this.settings.zoom)},create_infowindow:function(a,b){var d,e,f,g=this;"custom"===this.settings.infobox_styling&&"custom"===this.settings.map_style?(e=c.createElement("div"),f={content:e,disableAutoPan:!0,maxWidth:150,pixelOffset:new google.maps.Size(-125,10),zIndex:null,boxStyle:{background:"none",opacity:1,width:"250px"},closeBoxMargin:"2px 2px 2px 2px",closeBoxURL:"//www.google.com/intl/en_us/mapfiles/close.gif",infoBoxClearance:new google.maps.Size(1,1)},e.className="fusion-info-box",e.style.cssText="background-color:"+this.settings.infobox_background_color+";color:"+this.settings.infobox_text_color+";",e.innerHTML=a,d=new InfoBox(f),this.settings.show_address&&d.open(this.map,b),google.maps.event.addListener(b,"click",function(){var a=d.getMap();null===a||void 0===a?d.open(g.map,this):d.close(g.map,this)})):(d=new google.maps.InfoWindow({disableAutoPan:!0,content:a}),this.settings.show_address&&(d.show=!0,d.open(this.map,b)),google.maps.event.addListener(b,"click",function(){var a=d.getMap();null===a||void 0===a?d.open(g.map,this):d.close(g.map,this)}))},next_geocode_request:function(){var a=this;a.next_address<a.settings.addresses.length&&setTimeout(function(){a.geocode_address(a.settings.addresses[a.next_address],a.next_address),a.next_address++},a.settings.delay)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this}}(jQuery,window,document);!function(a){"use strict";a.fn.reinitializeGoogleMap=function(){var b,c,d,e,f=a(this).data("plugin_fusion_maps");if(f&&(b=f.map,c=b.getCenter(),d=f.markers,google.maps.event.trigger(b,"resize"),b.setCenter(c),d))for(e=0;e<d.length;e++)google.maps.event.trigger(d[e],"click"),google.maps.event.trigger(d[e],"click")}}(jQuery);;
/*! @vimeo/player v2.2.1 | (c) 2017 Vimeo | MIT License | https://github.com/vimeo/player.js */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function e(e,t){return 0===e.indexOf(t.toLowerCase())?e:""+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function t(e){return e instanceof window.HTMLElement}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function r(e){return/^(https?:)?\/\/((player|www).)?vimeo.com(?=$|\/)/.test(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,o=e.url,i=t||o;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(n(i))return"https://vimeo.com/"+i;if(r(i))return i.replace("http:","https:");if(t)throw new TypeError("“"+t+"” is not a valid video id.");throw new TypeError("“"+i+"” is not a vimeo.com url.")}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(e,t,n){var r=T.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),T.set(e.element,r)}function u(e,t){return(T.get(e.element)||{})[t]||[]}function s(e,t,n){var r=T.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],T.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),T.set(e.element,r),r[t]&&0===r[t].length}function c(e,t){var n=u(e,t);if(n.length<1)return!1;var r=n.shift();return s(e,t,r),r}function f(e,t){var n=T.get(e);T.set(t,n),T.delete(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.reduce(function(t,n){var r=e.getAttribute("data-vimeo-"+n);return(r||""===r)&&(t[n]=""===r?1:r),t},t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,o){if(!r(e))throw new TypeError("“"+e+"” is not a vimeo.com url.");var i="https://vimeo.com/api/oembed.json?url="+encodeURIComponent(e);for(var a in t)t.hasOwnProperty(a)&&(i+="&"+a+"="+encodeURIComponent(t[a]));var u="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;u.open("GET",i,!0),u.onload=function(){if(404===u.status)return void o(new Error("“"+e+"” was not found."));if(403===u.status)return void o(new Error("“"+e+"” is not embeddable."));try{var t=JSON.parse(u.responseText);n(t)}catch(e){o(e)}},u.onerror=function(){var e=u.status?" ("+u.status+")":"";o(new Error("There was an error fetching the embed code from Vimeo"+e+"."))},u.send()})}function d(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function v(e){return"string"==typeof e&&(e=JSON.parse(e)),e}function p(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function y(e,t){t=v(t);var n=[],r=void 0;if(t.event){if("error"===t.event){u(e,t.data.method).forEach(function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),s(e,t.data.method,n)})}n=u(e,"event:"+t.event),r=t.data}else if(t.method){var o=c(e,t.method);o&&(n.push(o),r=t.value)}n.forEach(function(t){try{if("function"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}})}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),w=void 0!==Array.prototype.indexOf,b="undefined"!=typeof window&&void 0!==window.postMessage;if(!(g||w&&b))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var k="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},E=(i(function(e,t){!function(e){function t(e,t){function r(e){if(!this||this.constructor!==r)return new r(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e)}return t||w(e,"size",{get:y}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(g,1),this._values.splice(g,1),this._itp.forEach(function(e){g<e[0]&&e[0]--})),-1<g}function o(e){return this.has(e)?this._values[g]:void 0}function i(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError("Invalid value used as weak collection key");if(t!=t||0===t)for(g=e.length;g--&&!b(e[g],t););else g=e.indexOf(t);return-1<g}function a(e){return i.call(this,this._values,e)}function u(e){return i.call(this,this._keys,e)}function s(e,t){return this.has(e)?this._values[g]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function f(){(this._keys||0).length=this._values.length=0}function l(){return p(this._itp,this._keys)}function h(){return p(this._itp,this._values)}function d(){return p(this._itp,this._keys,this._values)}function v(){return p(this._itp,this._values,this._values)}function p(e,t,n){var r=[0],o=!1;return e.push(r),{next:function(){var i,a=r[0];return!o&&a<t.length?(i=n?[t[a],n[a]]:t[a],r[0]++):(o=!0,e.splice(e.indexOf(r),1)),{done:o,value:i}}}}function y(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var g,w=Object.defineProperty,b=function(e,t){return e===t||e!==e&&t!==t};"undefined"==typeof WeakMap&&(e.WeakMap=t({delete:r,clear:f,get:o,has:u,set:s},!0)),"undefined"!=typeof Map&&"function"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:r,has:u,get:o,set:s,keys:l,values:h,entries:d,forEach:m,clear:f})),"undefined"!=typeof Set&&"function"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:a,add:c,delete:r,clear:f,keys:h,values:h,entries:v,forEach:m})),"undefined"==typeof WeakSet&&(e.WeakSet=t({delete:r,add:c,clear:f,has:a},!0))}(void 0!==k?k:window)}),i(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t,n,r){n[t]=n[t]||r(),e.exports&&(e.exports=n[t])}("Promise",k,function(){function e(e,t){d.add(e,t),h||(h=p(d.drain))}function n(e){var n,r=void 0===e?"undefined":t(e);return null==e||"object"!=r&&"function"!=r||(n=e.then),"function"==typeof n&&n}function r(){for(var e=0;e<this.chain.length;e++)o(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function o(e,t,r){var o,i;try{!1===t?r.reject(e.msg):(o=!0===t?e.msg:t.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=n(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(e){r.reject(e)}}function i(t){var o,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(o=n(t))?e(function(){var e=new s(u);try{o.call(t,function(){i.apply(e,arguments)},function(){a.apply(e,arguments)})}catch(t){a.call(e,t)}}):(u.msg=t,u.state=1,u.chain.length>0&&e(r,u))}catch(e){a.call(new s(u),e)}}}function a(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function u(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function s(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new c(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),n.chain.push(i),0!==n.state&&e(r,n),i.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){i.call(n,e)},function(e){a.call(n,e)})}catch(e){a.call(n,e)}}var l,h,d,v=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){l=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var y=l({},"constructor",f,!1);return f.prototype=y,l(y,"__NPO__",0,!1),l(f,"resolve",function(e){var n=this;return e&&"object"==(void 0===e?"undefined":t(e))&&1===e.__NPO__?e:new n(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),l(f,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),l(f,"all",function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;u(t,e,function(e,t){i[e]=t,++a===o&&n(i)},r)})}),l(f,"race",function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");u(t,e,function(e,t){n(t)},r)})}),f})})),T=new WeakMap,_=["id","url","width","maxwidth","height","maxheight","portrait","title","byline","color","autoplay","autopause","loop","responsive","speed","background","transparent"],j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=new WeakMap,M=new WeakMap,Player=function(){function Player(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(this,Player),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),e=e[0]),"string"==typeof e&&(e=document.getElementById(e)),!t(e))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==e.nodeName){var a=e.querySelector("iframe");a&&(e=a)}if("IFRAME"===e.nodeName&&!r(e.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(x.has(e))return x.get(e);this.element=e,this.origin="*";var u=new E(function(t,a){var u=function(e){if(r(e.origin)&&n.element.contentWindow===e.source){"*"===n.origin&&(n.origin=e.origin);var o=v(e.data),i="event"in o&&"ready"===o.event,a="method"in o&&"ping"===o.method;if(i||a)return n.element.setAttribute("data-ready","true"),void t();y(n,o)}};if(window.addEventListener?window.addEventListener("message",u,!1):window.attachEvent&&window.attachEvent("onmessage",u),"IFRAME"!==n.element.nodeName){var s=l(e,i);h(o(s),s).then(function(t){var r=d(t,e);return n.element=r,f(e,r),x.set(n.element,n),t}).catch(function(e){return a(e)})}});return M.set(this,u),x.set(this.element,this),"IFRAME"===this.element.nodeName&&p(this,"ping"),this}return j(Player,[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new E(function(r,o){return t.ready().then(function(){a(t,e,{resolve:r,reject:o}),p(t,e,n)})})}},{key:"get",value:function(t){var n=this;return new E(function(r,o){return t=e(t,"get"),n.ready().then(function(){a(n,t,{resolve:r,reject:o}),p(n,t)})})}},{key:"set",value:function(t,n){var r=this;return E.resolve(n).then(function(n){if(t=e(t,"set"),void 0===n||null===n)throw new TypeError("There must be a value to set.");return r.ready().then(function(){return new E(function(e,o){a(r,t,{resolve:e,reject:o}),p(r,t,n)})})})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===u(this,"event:"+e).length&&this.callMethod("addEventListener",e).catch(function(){}),a(this,"event:"+e,t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");s(this,"event:"+e,t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=M.get(this);return E.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}]),Player}();return g||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: "+e)};t.forEach(function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=l(e);h(o(t),t).then(function(t){return d(t,e)}).catch(n)}catch(e){n(e)}})}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=function(t){if(r(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),o=0;o<n.length;o++)if(n[o].contentWindow===t.source){var i=n[o].parentElement;i&&-1!==i.className.indexOf("vimeo-space")&&(i.style.paddingBottom=t.data.data[0].bottom+"px");break}};window.addEventListener?window.addEventListener("message",t,!1):window.attachEvent&&window.attachEvent("onmessage",t)}()),Player});var fusionVideoVars={"status_vimeo":"1"};jQuery(document).ready(function(){jQuery(".fusion-video").each(function(){!jQuery(this).parents(".fusion-modal").length&&1==jQuery(this).data("autoplay")&&jQuery(this).is(":visible")&&jQuery(this).find("iframe").each(function(){jQuery(this).attr("src",jQuery(this).attr("src").replace("autoplay=0","autoplay=1"))})}),jQuery(window).on("resize",function(){var e,i=document.querySelectorAll("iframe"),s=i.length;if(jQuery(".fusion-youtube").each(function(){jQuery(this).is(":visible")||jQuery(this).parents(".fusion-modal").length&&!jQuery(this).parents(".fusion-modal").is(":visible")||jQuery(this).find("iframe").each(function(){this.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}),"undefined"!=typeof Vimeo)for(e=0;e<s;e++)!(-1<i[e].src.toLowerCase().indexOf("vimeo"))||jQuery(i[e]).is(":visible")||jQuery(i[e]).data("privacy-src")&&jQuery(i[e]).hasClass("fusion-hidden")||jQuery(i[e]).parents(".fusion-modal").length&&!jQuery(i[e]).parents(".fusion-modal").is(":visible")||new Vimeo.Player(i[e]).pause()})});;!function(a){a.fn.hoverIntent=function(b,c,d){var e={interval:100,sensitivity:7,timeout:0};e="object"==typeof b?a.extend(e,b):a.isFunction(c)?a.extend(e,{over:b,out:c,selector:d}):a.extend(e,{over:b,out:b,selector:c});var f,g,h,i,j=function(a){f=a.pageX,g=a.pageY},k=function(b,c){if(c.hoverIntent_t=clearTimeout(c.hoverIntent_t),Math.abs(h-f)+Math.abs(i-g)<e.sensitivity)return a(c).off("mousemove.hoverIntent",j),c.hoverIntent_s=1,e.over.apply(c,[b]);h=f,i=g,c.hoverIntent_t=setTimeout(function(){k(b,c)},e.interval)},l=function(a,b){return b.hoverIntent_t=clearTimeout(b.hoverIntent_t),b.hoverIntent_s=0,e.out.apply(b,[a])},m=function(b){var c=jQuery.extend({},b),d=this;d.hoverIntent_t&&(d.hoverIntent_t=clearTimeout(d.hoverIntent_t)),"mouseenter"==b.type?(h=c.pageX,i=c.pageY,a(d).on("mousemove.hoverIntent",j),1!=d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){k(c,d)},e.interval))):(a(d).off("mousemove.hoverIntent",j),1==d.hoverIntent_s&&(d.hoverIntent_t=setTimeout(function(){l(c,d)},e.timeout)))};return this.on({"mouseenter.hoverIntent":m,"mouseleave.hoverIntent":m},e.selector)}}(jQuery);jQuery(document).ready(function(){jQuery(".fusion-vertical-menu-widget .current_page_item, .fusion-vertical-menu-widget .current-menu-item").each(function(){jQuery(this).find(".children, .sub-menu").length&&jQuery(this).find("> .children, > .sub-menu").show("slow")}),jQuery(".fusion-vertical-menu-widget .current_page_item , .fusion-vertical-menu-widget .current-menu-item").each(function(){jQuery(this).parent().hasClass("fusion-vertical-menu-widget")&&jQuery(this).find("ul").show("slow"),(jQuery(this).parent().hasClass("children")||jQuery(this).parent().hasClass("sub-menu"))&&jQuery(this).parents("ul").show("slow")})}),jQuery(window).load(function(){jQuery(".fusion-vertical-menu-widget.click li a .arrow").on("click",function(a){if(a.preventDefault(),(jQuery(this).parent().parent(".page_item_has_children").length||jQuery(this).parent().parent(".menu-item-has-children").length)&&(jQuery(this).parent().parent().find("> .children, > .sub-menu").length&&!jQuery(this).parent().parent().find("> .children, > .sub-menu").is(":visible")?jQuery(this).parent().parent().find("> .children, > .sub-menu").stop(!0,!0).slideDown("slow"):jQuery(this).parent().parent().find("> .children, > .sub-menu").stop(!0,!0).slideUp("slow")),jQuery(this).parent().parent(".page_item_has_children.current_page_item, .menu-item-has-children.current-menu-item").length)return!1}),jQuery(".fusion-vertical-menu-widget.hover li").hoverIntent({over:function(){jQuery(this).find("> .children, > .sub-menu").length&&jQuery(this).find("> .children, > .sub-menu").stop(!0,!0).slideDown("slow")},out:function(){(0===jQuery(this).find(".current_page_item").length&&!1===jQuery(this).hasClass("current_page_item")||0===jQuery(this).find(".current-menu-item").length&&!1===jQuery(this).hasClass("current-menu-item"))&&jQuery(this).find("> .children, > .sub-menu").stop(!0,!0).slideUp("slow")},timeout:500})});!function(a,b){var c=function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h=a.addEventListener,i=a.setTimeout,j=a.requestAnimationFrame||i,k=a.requestIdleCallback,l=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],n={},o=Array.prototype.forEach,p=function(a,b){return n[b]||(n[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),n[b].test(a.getAttribute("class")||"")&&n[b]},q=function(a,b){p(a,b)||a.setAttribute("class",(a.getAttribute("class")||"").trim()+" "+b)},r=function(a,b){var c;(c=p(a,b))&&a.setAttribute("class",(a.getAttribute("class")||"").replace(c," "))},s=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&s(a,b),m.forEach(function(c){a[d](c,b)})},t=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},u=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?(c&&c.src&&!b.getAttribute("srcset")&&b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},v=function(a,b){return(getComputedStyle(a,null)||{})[b]},w=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},x=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?i:j)(g)))};return h._lsFlush=g,h}(),y=function(a,b){return b?function(){x(a)}:function(){var b=this,c=arguments;x(function(){a.apply(b,c)})}},z=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},j=k&&g>49?function(){k(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:y(function(){i(h)},!0);return function(a){var d;(a=!0===a)&&(g=33),b||(b=!0,d=e-(f.now()-c),d<0&&(d=0),a||d<9?j():i(j,d))}},A=function(a){var b,c,d=function(){b=null,a()},e=function(){var a=f.now()-c;a<99?i(e,99-a):(k||d)(d)};return function(){c=f.now(),b||(b=i(e,99))}};!function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-orig-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,i(function(){d.init&&D()})}();var B=function(){var g,j,k,m,n,w,B,D,E,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=-1,Q=function(a){O--,a&&a.target&&s(a.target,Q),(!a||O<0||!a.target)&&(O=0)},R=function(a,c){var d,f=a,g="hidden"==v(b.body,"visibility")||"hidden"!=v(a.parentNode,"visibility")&&"hidden"!=v(a,"visibility");for(D-=c,G+=c,E-=c,F+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(v(f,"opacity")||1)>0)&&"visible"!=v(f,"overflow")&&(d=f.getBoundingClientRect(),g=F>d.left&&E<d.right&&G>d.top-1&&D<d.bottom+1);return g},S=function(){var a,f,h,i,k,l,n,o,p,q=c.elements;if((m=d.loadMode)&&O<8&&(a=q.length)){f=0,P++,null==I&&("expand"in d||(d.expand=e.clientHeight>500&&e.clientWidth>500?500:370),H=d.expand,I=H*d.expFactor),N<I&&O<1&&P>2&&m>2&&!b.hidden?(N=I,P=0):N=m>1&&P>1&&O<6?H:0;for(;f<a;f++)if(q[f]&&!q[f]._lazyRace)if(M)if((o=q[f].getAttribute("data-expand"))&&(l=1*o)||(l=N),p!==l&&(w=innerWidth+l*J,B=innerHeight+l,n=-1*l,p=l),h=q[f].getBoundingClientRect(),(G=h.bottom)>=n&&(D=h.top)<=B&&(F=h.right)>=n*J&&(E=h.left)<=w&&(G||F||E||D)&&(d.loadHidden||"hidden"!=v(q[f],"visibility"))&&(j&&O<3&&!o&&(m<3||P<4)||R(q[f],l))){if($(q[f]),k=!0,O>9)break}else!k&&j&&!i&&O<4&&P<4&&m>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!o&&(G||F||E||D||"auto"!=q[f].getAttribute(d.sizesAttr)))&&(i=g[0]||q[f]);else $(q[f]);i&&!k&&$(i)}},T=z(S),U=function(a){q(a.target,d.loadedClass),r(a.target,d.loadingClass),s(a.target,W),t(a.target,"lazyloaded")},V=y(U),W=function(a){V({target:a.target})},X=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},Y=function(a){var b,c=a.getAttribute(d.srcsetAttr);(b=d.customMedia[a.getAttribute("data-media")||a.getAttribute("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},Z=y(function(a,b,c,e,f){var g,h,j,m,n,p;(n=t(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?q(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a.getAttribute(d.srcsetAttr),g=a.getAttribute(d.srcAttr),f&&(j=a.parentNode,m=j&&l.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||m),n={target:a},p&&(s(a,Q,!0),clearTimeout(k),k=i(Q,2500),q(a,d.loadingClass),s(a,W,!0)),m&&o.call(j.getElementsByTagName("source"),Y),h?a.setAttribute("srcset",h):g&&!m&&(L.test(a.nodeName)?X(a,g):a.src=g),f&&(h||m)&&u(a,{src:g})),a._lazyRace&&delete a._lazyRace,r(a,d.lazyClass),x(function(){(!p||a.complete&&a.naturalWidth>1)&&(p?Q(n):O--,U(n))},!0)}),$=function(a){var b,c=K.test(a.nodeName),e=c&&(a.getAttribute(d.sizesAttr)||a.getAttribute("sizes")),f="auto"==e;(!f&&j||!c||!a.getAttribute("src")&&!a.srcset||a.complete||p(a,d.errorClass)||!p(a,d.lazyClass))&&(b=t(a,"lazyunveilread").detail,f&&C.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,O++,Z(a,b,f,e,c))},_=function(){if(!j){if(f.now()-n<999)return void i(_,999);var a=A(function(){d.loadMode=3,T()});j=!0,d.loadMode=3,T(),h("scroll",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){n=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),J=d.hFac,h("scroll",T,!0),h("resize",T,!0),a.MutationObserver?new MutationObserver(T).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e.addEventListener("DOMNodeInserted",T,!0),e.addEventListener("DOMAttrModified",T,!0),setInterval(T,999)),h("hashchange",T,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b.addEventListener(a,T,!0)}),/d$|^c/.test(b.readyState)?_():(h("load",_),b.addEventListener("DOMContentLoaded",T),i(_,2e4)),c.elements.length?(S(),x._lsFlush()):T()},checkElems:T,unveil:$}}(),C=function(){var a,c=y(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),l.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||u(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=w(a,f,d),e=t(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},g=A(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),h("resize",g)},checkElems:g,updateElem:e}}(),D=function(){D.i||(D.i=!0,C._(),B._())};return c={cfg:d,autoSizer:C,loader:B,init:D,uP:u,aC:q,rC:r,hC:p,fire:t,gW:w,rAF:x}}}(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window),document.addEventListener("lazybeforeunveil",function(a){var b=a.target.getAttribute("data-bg");b&&(a.target.style.backgroundImage="url("+b+")")});+function(a){"use strict";function b(b,c){var d=b.nodeName.toLowerCase();if(-1!==a.inArray(d,c))return-1===a.inArray(d,f)||Boolean(b.nodeValue.match(i)||b.nodeValue.match(j));for(var e=a(c).filter(function(a,b){return b instanceof RegExp}),g=0,h=e.length;g<h;g++)if(d.match(e[g]))return!0;return!1}function c(c,d,e){if(0===c.length)return c;if(e&&"function"==typeof e)return e(c);if(!document.implementation||!document.implementation.createHTMLDocument)return c;var f=document.implementation.createHTMLDocument("sanitization");f.body.innerHTML=c;for(var g=a.map(d,function(a,b){return b}),h=a(f.body).find("*"),i=0,j=h.length;i<j;i++){var k=h[i],l=k.nodeName.toLowerCase();if(-1!==a.inArray(l,g))for(var m=a.map(k.attributes,function(a){return a}),n=[].concat(d["*"]||[],d[l]||[]),o=0,p=m.length;o<p;o++)b(m[o],n)||k.removeAttribute(m[o].nodeName);else k.parentNode.removeChild(k)}return f.body.innerHTML}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.tooltip"),e="object"==typeof b&&b;!d&&/destroy|hide/.test(b)||(d||c.data("bs.tooltip",d=new k(this,e)),"string"==typeof b&&d[b]())})}var e=["sanitize","whiteList","sanitizeFn"],f=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],g=/^aria-[\w-]*$/i,h={"*":["class","dir","id","lang","role",g],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,j=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,k=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};k.VERSION="3.3.5",k.TRANSITION_DURATION=150,k.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:h},k.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(document).find(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},k.prototype.getDefaults=function(){return k.DEFAULTS},k.prototype.getOptions=function(b){var d=this.$element.data();for(var f in d)d.hasOwnProperty(f)&&-1!==a.inArray(f,e)&&delete d[f];return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b.sanitize&&(b.template=c(b.template,b.whiteList,b.sanitizeFn)),b},k.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},k.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},k.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},k.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue()){if(clearTimeout(c.timeout),c.hoverState="out",!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)}},k.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\s?auto?\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this).addClass(this.$element.data("class")),this.options.container?e.appendTo(a(document).find(this.options.container)):e.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var j=this.getPosition(),l=e[0].offsetWidth,m=e[0].offsetHeight;if(i){var n=g,o=this.getPosition(this.$viewport);g="bottom"==g&&j.bottom+m>o.bottom?"top":"top"==g&&j.top-m<o.top?"bottom":"right"==g&&j.right+l>o.width?"left":"left"==g&&j.left-l<o.left?"right":g,e.removeClass(n).addClass(g)}var p=this.getCalculatedOffset(g,j,l,m);this.applyPlacement(p,g);var q=function(){var a=d.hoverState;d.$element.trigger("shown.bs."+d.type),d.hoverState=null,"out"==a&&d.leave(d)};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(k.TRANSITION_DURATION):q()}},k.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},k.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},k.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();this.options.html?(this.options.sanitize&&(b=c(b,this.options.whiteList,this.options.sanitizeFn)),a.find(".tooltip-inner").html(b)):a.find(".tooltip-inner").text(b),a.removeClass("fade in top bottom left right")},k.prototype.hide=function(b){function c(){"in"!=d.hoverState&&e.detach(),d.$element.removeAttr("aria-describedby").trigger("hidden.bs."+d.type),b&&b()}var d=this,e=a(this.$tip),f=a.Event("hide.bs."+this.type);if(this.$element.trigger(f),!f.isDefaultPrevented())return e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one("bsTransitionEnd",c).emulateTransitionEnd(k.TRANSITION_DURATION):c(),this.hoverState=null,this},k.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},k.prototype.hasContent=function(){return this.getTitle()},k.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},k.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},k.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},k.prototype.getTitle=function(){var a=this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},k.prototype.getUID=function(a){do{a+=~~(1e6*Math.random())}while(document.getElementById(a));return a},k.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},k.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},k.prototype.enable=function(){this.enabled=!0},k.prototype.disable=function(){this.enabled=!1},k.prototype.toggleEnabled=function(){this.enabled=!this.enabled},k.prototype.toggle=function(b){var c=this;b&&((c=a(b.currentTarget).data("bs."+this.type))||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},k.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})},k.prototype.sanitizeHtml=function(a){return c(a,this.options.whiteList,this.options.sanitizeFn)};var l=a.fn.tooltip;a.fn.tooltip=d,a.fn.tooltip.Constructor=k,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=l,this}}(jQuery);+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.5",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();if(this.options.html){var d=typeof c;this.options.sanitize&&(b=this.sanitizeHtml(b),"string"===d&&(c=this.sanitizeHtml(c))),a.find(".popover-title").html(b),a.find(".popover-content").children().detach().end()["string"===d?"html":"append"](c)}else a.find(".popover-title").text(b),a.find(".popover-content").children().detach().end().text(c);a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery);!function($){function sc_setScroll(a,b,c){return"transition"==c.transition&&"swing"==b&&(b="ease"),{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a,b){for(var c=0,d=a.anims.length;c<d;c++){var e=a.anims[c];e&&e[0][b.transition](e[1],a.duration,a.easing,e[2])}}function sc_stopScroll(a,b){is_boolean(b)||(b=!0),is_object(a.pre)&&sc_stopScroll(a.pre,b);for(var c=0,d=a.anims.length;c<d;c++){var e=a.anims[c];e[0].stop(!0),b&&(e[0].css(e[1]),is_function(e[2])&&e[2]())}is_object(a.post)&&sc_stopScroll(a.post,b)}function sc_afterScroll(a,b,c){switch(b&&b.remove(),c.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":a.css("opacity",1),a.css("filter","")}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]&&b[c].call(a,d),e[c].length)for(var f=0,g=e[c].length;f<g;f++)e[c][f].call(a,d);return[]}function sc_fireQueue(a,b,c){return b.length&&(a.trigger(cf_e(b[0][0],c),b[0][1]),b.shift()),b}function sc_hideHiddenItems(a){a.each(function(){var a=$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a){a&&a.each(function(){var a=$(this);a.data("_cfs_isHidden")||a.show()})}function sc_clearTimers(a){return a.auto&&clearTimeout(a.auto),a.progress&&clearInterval(a.progress),a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;return"none"==a.fx?0:("auto"==e?e=b.scroll.duration/b.scroll.items*c:e<10&&(e=d/e),e<1?0:("fade"==a.fx&&(e/=2),Math.round(e)))}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if("show"==b||"hide"==b)var e=b;else if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");var e="hide"}else var e="show";var f="show"==e?"removeClass":"addClass",g=cf_c("hidden",c);a.auto.button&&a.auto.button[e]()[f](g),a.prev.button&&a.prev.button[e]()[f](g),a.next.button&&a.next.button[e]()[f](g),a.pagination.container&&a.pagination.container[e]()[f](g)}function nv_enableNavi(a,b,c){if(!a.circular&&!a.infinite){var d=("removeClass"==b||"addClass"==b)&&b,e=cf_c("disabled",c);if(a.auto.button&&d&&a.auto.button[d](e),a.prev.button){var f=d||0==b?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}}function go_getObject(a,b){return is_function(b)?b=b.call(a):is_undefined(b)&&(b={}),b}function go_getItemsObject(a,b){return b=go_getObject(a,b),is_number(b)?b={visible:b}:"variable"==b?b={visible:b,width:b,height:b}:is_object(b)||(b={}),b}function go_getScrollObject(a,b){return b=go_getObject(a,b),is_number(b)?b=b<=50?{items:b}:{duration:b}:is_string(b)?b={easing:b}:is_object(b)||(b={}),b}function go_getNaviObject(a,b){if(b=go_getObject(a,b),is_string(b)){var c=cf_getKeyCode(b);b=-1==c?$(b):c}return b}function go_getAutoObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_boolean(b)?b={play:b}:is_number(b)&&(b={timeoutDuration:b}),b.progress&&(is_string(b.progress)||is_jquery(b.progress))&&(b.progress={bar:b.progress}),b}function go_complementAutoObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_boolean(b.play)||(b.play=!0),is_number(b.delay)||(b.delay=0),is_undefined(b.pauseOnEvent)&&(b.pauseOnEvent=!0),is_boolean(b.pauseOnResize)||(b.pauseOnResize=!0),is_number(b.timeoutDuration)||(b.timeoutDuration=b.duration<10?2500:5*b.duration),b.progress&&(is_function(b.progress.bar)&&(b.progress.bar=b.progress.bar.call(a)),is_string(b.progress.bar)&&(b.progress.bar=$(b.progress.bar)),b.progress.bar?(is_function(b.progress.updater)||(b.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(b.progress.interval)||(b.progress.interval=50)):b.progress=!1),b}function go_getPrevNextObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_number(b)&&(b={key:b}),b}function go_complementPrevNextObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_string(b.key)&&(b.key=cf_getKeyCode(b.key)),b}function go_getPaginationObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={container:b}:is_boolean(b)&&(b={keys:b}),b}function go_complementPaginationObject(a,b){return is_function(b.container)&&(b.container=b.container.call(a)),is_string(b.container)&&(b.container=$(b.container)),is_number(b.items)||(b.items=!1),is_boolean(b.keys)||(b.keys=!1),is_function(b.anchorBuilder)||is_false(b.anchorBuilder)||(b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(b.deviation)||(b.deviation=0),b}function go_getSwipeObject(a,b){return is_function(b)&&(b=b.call(a)),is_undefined(b)&&(b={onTouch:!1}),is_true(b)?b={onTouch:b}:is_number(b)&&(b={items:b}),b}function go_complementSwipeObject(a,b){return is_boolean(b.onTouch)||(b.onTouch=!0),is_boolean(b.onMouse)||(b.onMouse=!1),is_object(b.options)||(b.options={}),is_boolean(b.options.triggerOnTouchEnd)||(b.options.triggerOnTouchEnd=!1),b}function go_getMousewheelObject(a,b){return is_function(b)&&(b=b.call(a)),is_true(b)?b={}:is_number(b)?b={items:b}:is_undefined(b)&&(b=!1),b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)&&(a=$(a,e)),is_object(a)&&(a=$(a,e)),is_jquery(a)?(a=e.children().index(a),is_boolean(c)||(c=!1)):is_boolean(c)||(c=!0),is_number(a)||(a=0),is_number(b)||(b=0),c&&(a+=d.first),a+=b,d.total>0){for(;a>=d.total;)a-=d.total;for(;a<0;)a+=d.total}return a}function gn_getVisibleItemsPrev(a,b,c){for(var d=0,e=0,f=c;f>=0;f--){var g=a.eq(f);if((d+=g.is(":visible")?g[b.d.outerWidth](!0):0)>b.maxDimension)return e;0==f&&(f=a.length),e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){for(var e=0,f=0,g=d,h=a.length;g>=0;g--){if(++f==h)return f;if(a.eq(g).is(b)&&++e==c)return f;0==g&&(g=h)}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){for(var d=0,e=0,f=c,g=a.length-1;f<=g;f++){var h=a.eq(f);if((d+=h.is(":visible")?h[b.d.outerWidth](!0):0)>b.maxDimension)return e;if(++e==g+1)return e;f==g&&(f=-1)}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);return b.circular||c+e>d&&(e=d-c),e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d,e){for(var f=0,g=0,h=d,i=a.length-1;h<=i;h++){if(++g>=i)return g;if(a.eq(h).is(b)&&++f==c)return g;h==i&&(h=-1)}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a,b,c){b.usePadding&&(is_string(c)||(c="_cfs_origCssMargin"),a.each(function(){var a=$(this),d=parseInt(a.css(b.d.marginRight),10);is_number(d)||(d=0),a.data(c,d)}))}function sz_resetMargin(a,b,c){if(b.usePadding){var d=!!is_boolean(c)&&c;is_number(c)||(c=0),sz_storeMargin(a,b,"_cfs_tempCssMargin"),a.each(function(){var a=$(this);a.css(b.d.marginRight,d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(a){a.each(function(){var a=$(this);a.data("_cfs_origCss",a.attr("style")||"")})}function sz_restoreOrigCss(a){a.each(function(){var a=$(this);a.attr("style",a.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(a,b){var c=(a.items.visible,a.items[a.d.width]),d=a[a.d.height],e=is_percentage(d);b.each(function(){var b=$(this),f=c-ms_getPaddingBorderMargin(b,a,"Width");b[a.d.width](f),e&&b[a.d.height](ms_getPercentage(f,d))})}function sz_setSizes(a,b){var c=a.parent(),d=a.children(),e=gi_getCurrentItems(d,b),f=cf_mapWrapperSizes(ms_getSizes(e,b,!0),b,!1);if(c.css(f),b.usePadding){var g=b.padding,h=g[b.d[1]];b.align&&h<0&&(h=0);var i=e.last();i.css(b.d.marginRight,i.data("_cfs_origCssMargin")+h),a.css(b.d.top,g[b.d[0]]),a.css(b.d.left,g[b.d[3]])}return a.css(b.d.width,f[b.d.width]+2*ms_getTotalSize(d,b,"width")),a.css(b.d.height,ms_getLargestSize(d,b,"height")),b.centerVertically&&a.css("line-height",f.height+"px"),f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){return is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d?b[b.d[c]]:is_number(b.items[b.d[c]])?b.items[b.d[c]]:(c=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(a,b,c))}function ms_getTrueLargestSize(a,b,c){for(var d=0,e=0,f=a.length;e<f;e++){var g=a.eq(e).find(".fusion-carousel-item-wrapper"),h=g.is(":visible")?g[b.d[c]](!0):0;d<h&&(d=h)}return d}function ms_getTotalSize(a,b,c,d){if(is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d)return b[b.d[c]];if(is_number(b.items[b.d[c]]))return b.items[b.d[c]]*a.length;for(var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0,g=0,h=a.length;g<h;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](!0):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");d&&a.hide();var e=a.parent()[b.d[c]]();return d&&a.show(),e}function ms_getMaxDimension(a,b){return is_number(a[a.d.width])?a[a.d.width]:b}function ms_hasVariableSizes(a,b,c){for(var d=!1,e=!1,f=0,g=a.length;f<g;f++){var h=a.eq(f),i=h.is(":visible")?h[b.d[c]](!0):0;!1===d?d=i:d!=i&&(e=!0),0==d&&(e=!0)}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](!0)-a[b.d[c.toLowerCase()]]()}function ms_getPercentage(a,b){if(is_percentage(b)){if(b=parseInt(b.slice(0,-1),10),!is_number(b))return a;a*=b/100}return a}function cf_e(a,b,c,d,e){return is_boolean(c)||(c=!0),is_boolean(d)||(d=!0),is_boolean(e)||(e=!1),c&&(a=b.events.prefix+a),d&&(a=a+"."+b.events.namespace),d&&e&&(a+=b.serialNumber),a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){is_boolean(c)||(c=!0);var d=b.usePadding&&c?b.padding:[0,0,0,0],e={};return e[b.d.width]=a[0]+d[1]+d[3],e[b.d.height]=a[1]+d[0]+d[2],e}function cf_sortParams(a,b){for(var c=[],d=0,e=a.length;d<e;d++)for(var f=0,g=b.length;f<g;f++)if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}return c}function cf_getPadding(a){if(is_undefined(a))return[0,0,0,0];if(is_number(a))return[a,a,a,a];if(is_string(a)&&(a=a.split("px").join("").split("em").join("").split(" ")),!is_array(a))return[0,0,0,0];for(var b=0;b<4;b++)a[b]=parseInt(a[b],10);switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d.width])?Math.ceil(b[b.d.width]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){for(var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],c=b[0].length,d="right"==a.direction||"left"==a.direction?0:1,e={},f=0;f<c;f++)e[b[0][f]]=b[d][f];return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c))e=c.call(d,e);else if(is_string(c)){var f=c.split("+"),g=c.split("-");if(g.length>f.length)var h=!0,i=g[0],j=g[1];else var h=!1,i=f[0],j=f[1];switch(i){case"even":e=a%2==1?a-1:a;break;case"odd":e=a%2==0?a-1:a;break;default:e=a}j=parseInt(j,10),is_number(j)&&(h&&(j=-j),e+=j)}return(!is_number(e)||e<1)&&(e=1),e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){return is_number(b.min)&&a<b.min&&(a=b.min),is_number(b.max)&&a>b.max&&(a=b.max),a<1&&(a=1),a}function cf_getSynchArr(a){is_array(a)||(a=[[a]]),is_array(a[0])||(a=[a]);for(var b=0,c=a.length;b<c;b++)is_string(a[b][0])&&(a[b][0]=$(a[b][0])),is_boolean(a[b][1])||(a[b][1]=!0),is_boolean(a[b][2])||(a[b][2]=!0),is_number(a[b][3])||(a[b][3]=0);return a}function cf_getKeyCode(a){return"right"==a?39:"left"==a?37:"up"==a?38:"down"==a?40:-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return""==b?0:b}function in_mapCss(a,b){for(var c={},d=0,e=b.length;d<e;d++)c[b[d]]=a.css(b[d]);return c}function in_complementItems(a,b,c,d){return is_object(a.visibleConf)||(a.visibleConf={}),is_object(a.sizesConf)||(a.sizesConf={}),0==a.start&&is_number(d)&&(a.start=d),is_object(a.visible)?(a.visibleConf.min=a.visible.min,a.visibleConf.max=a.visible.max,a.visible=!1):is_string(a.visible)?("variable"==a.visible?a.visibleConf.variable=!0:a.visibleConf.adjust=a.visible,a.visible=!1):is_function(a.visible)&&(a.visibleConf.adjust=a.visible,a.visible=!1),is_string(a.filter)||(a.filter=c.filter(":hidden").length>0?":visible":"*"),a[b.d.width]||(b.responsive?(debug(!0,"Set a "+b.d.width+" for the items!"),a[b.d.width]=ms_getTrueLargestSize(c,b,"outerWidth")):a[b.d.width]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d.outerWidth](!0)),a[b.d.height]||(a[b.d.height]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d.outerHeight](!0)),a.sizesConf.width=a.width,a.sizesConf.height=a.height,a}function in_complementVisibleItems(a,b){return"variable"==a.items[a.d.width]&&(a.items.visibleConf.variable=!0),a.items.visibleConf.variable||(is_number(a[a.d.width])?a.items.visible=Math.floor(a[a.d.width]/a.items[a.d.width]):(a.items.visible=Math.floor(b/a.items[a.d.width]),a[a.d.width]=a.items.visible*a.items[a.d.width],a.items.visibleConf.adjust||(a.align=!1)),("Infinity"==a.items.visible||a.items.visible<1)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),a.items.visibleConf.variable=!0)),a}function in_complementPrimarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerWidth")),a}function in_complementSecondarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerHeight")),a||(a=b.items[b.d.height]),a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);return a.padding[a.d[1]]=c[1],a.padding[a.d[3]]=c[0],a}function in_getResponsiveValues(a,b,c){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d.width]/a.items[a.d.width]),a.items.visibleConf);d>b.length&&(d=b.length);var e=Math.floor(a[a.d.width]/d);return a.items.visible=d,a.items[a.d.width]=e,a[a.d.width]=d*e,a}function bt_pauseOnHoverConfig(a){if(is_string(a))var b=a.indexOf("immediate")>-1,c=a.indexOf("resume")>-1;else var b=c=!1;return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return null===a}function is_undefined(a){return is_null(a)||void 0===a||""===a||"undefined"===a}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||"object"==typeof a)&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||"number"==typeof a)&&!isNaN(a)}function is_string(a){return(a instanceof String||"string"==typeof a)&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||"function"==typeof a}function is_boolean(a){return a instanceof Boolean||"boolean"==typeof a||is_true(a)||is_false(a)}function is_true(a){return!0===a||"true"===a}function is_false(a){return!1===a||"false"===a}function is_percentage(a){return is_string(a)&&"%"==a.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(!0,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else var c="";if(!a)return!1;b=is_string(b)?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b],window.console.log(b)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(a,b,c){a=go_getObject($tt0,a),a.items=go_getItemsObject($tt0,a.items),a.scroll=go_getScrollObject($tt0,a.scroll),a.auto=go_getAutoObject($tt0,a.auto),a.prev=go_getPrevNextObject($tt0,a.prev),a.next=go_getPrevNextObject($tt0,a.next),a.pagination=go_getPaginationObject($tt0,a.pagination),a.swipe=go_getSwipeObject($tt0,a.swipe),a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel),b&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,a)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,a),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var d=$cfs.children(),e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,e),opts.items=in_complementItems(opts.items,opts,d,c),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,d),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,d),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(e,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,e)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=!!is_number(opts[opts.d.width])&&"center"),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(d,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,d,e);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,d),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0!=opts.padding[0]||0!=opts.padding[1]||0!=opts.padding[2]||0!=opts.padding[3]}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var a=$cfs.children(),b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),c="relative";switch(b.position){case"absolute":case"fixed":c=b.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(b),$wrp.css({overflow:"hidden",position:c}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",b.zIndex),$cfs.css({textAlign:"left",float:"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(a,opts),sz_storeOrigCss(a),opts.responsive&&sz_setResponsiveSizes(opts,a)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(a,b){return a.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),b)),!0}),$cfs.bind(cf_e("finish",conf),function(a){return a.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(a,b,c){if(a.stopPropagation(),tmrs=sc_clearTimers(tmrs),b&&crsl.isScrolling){scrl.isStopped=!0;var d=getTime()-scrl.startTime;scrl.duration-=d,scrl.pre&&(scrl.pre.duration-=d),scrl.post&&(scrl.post.duration-=d),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||c&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed,f=100-Math.ceil(100*e/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return!0}),$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation(),tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],"prev"!=b&&"next"!=b&&(b=crsl.direction),is_number(c)||(c=0),is_boolean(d)||(d=!1),d&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return a.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;return dur2=h-tmrs.timePassed,perc=100-Math.ceil(100*dur2/h),opts.auto.progress&&(tmrs.progress=setInterval(function(){var a=getTime()-tmrs.startTime+tmrs.timePassed,b=Math.ceil(100*a/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),b):$cfs.trigger(cf_e(b,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(a){return a.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){if(a.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return a.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var f=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(f>itms.total)return a.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.");var g=[b,c,d,e],h=["object","number/string","function","boolean"],i=cf_sortParams(g,h);b=i[0],c=i[1],d=i[2],e=i[3];var j=a.type.slice(conf.events.prefix.length);if(is_object(b)||(b={}),is_function(d)&&(b.onAfter=d),is_boolean(e)&&(b.queue=e),b=$.extend(!0,{},opts[j],b),b.conditions&&!b.conditions.call($tt0,j))return a.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(c)){if("*"!=opts.items.filter)c="visible";else for(var k=[c,b.items,opts[j].items],i=0,l=k.length;i<l;i++)if(is_number(k[i])||"page"==k[i]||"visible"==k[i]){c=k[i];break}switch(c){case"page":return a.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(c=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]),a.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(b.duration>0&&crsl.isScrolling)return b.queue&&("last"==b.queue&&(queu=[]),"first"==b.queue&&0!=queu.length||$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])),a.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+j,conf),[b,c]),opts.synchronise)for(var m=opts.synchronise,n=[b,c],o=0,l=m.length;o<l;o++){var p=j;m[o][2]||(p="prev"==p?"next":"prev"),m[o][1]||(n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])),n[1]=c+m[o][3],m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if(opts.items.visibleConf.variable)c=gn_getVisibleItemsPrev(d,opts,itms.total-1);else if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}if(opts.circular||itms.total-c<itms.first&&(c=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible+c<=f&&c<itms.total&&(c++,f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=f}else if("*"!=opts.items.filter){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items backward."),itms.first+=c;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&b.onEnd&&b.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();sz_resetMargin(d,opts);var l=0,m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0],m=n[1]}var o=l<0?opts.padding[opts.d[3]]:0,p=!1,q=$();if(opts.items.visible<c&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,i=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(h,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B={},C={},D=sc_getDuration(b,opts,c,t);switch(b.fx){case"cover":case"cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width")}p&&(opts.items[opts.d.width]=r),sz_resetMargin(d,opts,!0),m>=0&&sz_resetMargin(j,opts,opts.padding[opts.d[1]]),l>=0&&sz_resetMargin(i,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=m,opts.padding[opts.d[3]]=l),B[opts.d.left]=-(t-o),C[opts.d.left]=-(v-o),x[opts.d.left]=u[opts.d.width];var E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp)}switch(b.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,c).remove(),s.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(opts.items.visible).remove(),s.css(C)}if($cfs.css(B),scrl=sc_setScroll(D,b.easing,conf),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,opts.centerVertically&&(w["line-height"]=u.height+"px"),"variable"!=opts[opts.d.width]&&"variable"!=opts[opts.d.height]||(E=function(){$wrp.css(u)},F=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){switch(k.not(i).length&&(y[opts.d.marginRight]=i.data("_cfs_origCssMargin"),l<0?i.css(y):(K=function(){i.css(y)},L=function(){scrl.anims.push([i,y])})),b.fx){case"cover":case"cover-fade":s.children().eq(c-1).css(y)}k.not(j).length&&(z[opts.d.marginRight]=j.data("_cfs_origCssMargin"),G=function(){j.css(z)},H=function(){scrl.anims.push([j,z])}),m>=0&&(A[opts.d.marginRight]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){k.css(A)},J=function(){scrl.anims.push([k,A])})}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0&&($cfs.children().slice(itms.total).remove(),g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))),sc_showHiddenItems(p),opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);switch(M=function(){sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk),b.fx){case"none":$cfs.css(w),E(),G(),I(),K(),O(),N(),M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),G(),I(),K(),O(),N(),scrl=sc_setScroll(D,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),F(),G(),I(),K(),O(),N();break;case"cover":scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"uncover":scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;default:scrl.anims.push([$cfs,w,function(){N(),M()}]),F(),H(),J(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}var f=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1);else var g=opts.items.visible,e=opts.items.visible;c+g>f&&(c=f-e)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-c>=g&&c<itms.total;)c++,g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=g}else if("*"!=opts.items.filter){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items forward."),itms.first-=c;itms.first<0;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&b.onEnd&&b.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();sz_resetMargin(d,opts);var m=0,n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0],n=o[1]}var p=!1,q=$();if(opts.items.visibleConf.old<c&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,j=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(i,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B=sc_getDuration(b,opts,c,t);switch(b.fx){case"uncover":case"uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width")}p&&(opts.items[opts.d.width]=r),opts.align&&opts.padding[opts.d[1]]<0&&(opts.padding[opts.d[1]]=0),sz_resetMargin(d,opts,!0),sz_resetMargin(k,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=n,opts.padding[opts.d[3]]=m),A[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){},D=function(){},E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp),s.children().slice(opts.items.visibleConf.old).remove()}switch(b.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),s.css("zIndex",0)}if(scrl=sc_setScroll(B,b.easing,conf),w[opts.d.left]=-t,opts.centerVertically&&(w["line-height"]=u.height+"px"),x[opts.d.left]=-v,m<0&&(w[opts.d.left]+=m),"variable"!=opts[opts.d.width]&&"variable"!=opts[opts.d.height]||(C=function(){$wrp.css(u)},D=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){var L=l.data("_cfs_origCssMargin");n>=0&&(L+=opts.padding[opts.d[1]]),l.css(opts.d.marginRight,L),j.not(k).length&&(z[opts.d.marginRight]=k.data("_cfs_origCssMargin")),E=function(){k.css(z)},F=function(){scrl.anims.push([k,z])};var M=j.data("_cfs_origCssMargin");m>0&&(M+=opts.padding[opts.d[3]]),y[opts.d.marginRight]=M,G=function(){j.css(y)},H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){N>0&&$cfs.children().slice(itms.total).remove();var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0&&(i=gi_getCurrentItems(d,opts)),sc_showHiddenItems(p),opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d.marginRight,b.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",O,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",O,clbk),b.fx){case"none":$cfs.css(w),C(),E(),G(),K(),J(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){C(),E(),G(),K(),J(),scrl=sc_setScroll(B,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),D(),E(),G(),K(),J();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"uncover":scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;default:scrl.anims.push([$cfs,w,function(){K(),J(),I()}]),D(),F(),H()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);return e=j[3],f=j[4],g=j[5],0!=(b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs))&&(is_object(e)||(e=!1),"prev"!=f&&"next"!=f&&(f=opts.circular?b<=itms.total/2?"next":"prev":0==itms.first||itms.first>b?"next":"prev"),"prev"==f&&(b=itms.total-b),$cfs.trigger(cf_e(f,conf),[e,b,g]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])}),$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])}),$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation(),is_number(b)||(b=$cfs.triggerHandler(cf_e("currentPage",conf)));var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;return b<0&&(b=g),b>g&&(b=0),$cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,!0,c,d,e])}),$cfs.bind(cf_e("jumpToStart",conf),function(a,b){if(a.stopPropagation(),b=b?gn_getItemIndex(b,0,!0,itms,$cfs):0,0!=(b+=itms.first)){if(itms.total>0)for(;b>itms.total;)b-=itms.total;$cfs.prepend($cfs.children().slice(b,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(a,b){if(a.stopPropagation(),b)b=cf_getSynchArr(b);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");b=opts.synchronise}for(var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=!0,e=0,f=b.length;e<f;e++)b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],!0])||(d=!1);return d}),$cfs.bind(cf_e("queue",conf),function(a,b,c){return a.stopPropagation(),is_function(b)?b.call($tt0,queu):is_array(b)?queu=b:is_undefined(b)||queu.push([b,c]),queu}),$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);if(b=h[0],c=h[1],d=h[2],e=h[3],is_object(b)&&!is_jquery(b)?b=$(b):is_string(b)&&(b=$(b)),!is_jquery(b)||0==b.length)return debug(conf,"Not a valid object.");is_undefined(c)&&(c="end"),sz_storeMargin(b,opts),sz_storeOrigCss(b);var i=c,j="before";"end"==c?d?(0==itms.first?(c=itms.total-1,j="after"):(c=itms.first,itms.first+=b.length),c<0&&(c=0)):(c=itms.total-1,j="after"):c=gn_getItemIndex(c,e,d,itms,$cfs);var k=$cfs.children().eq(c);return k.length?k[j](b):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(b)),"end"==i||d||c<itms.first&&(itms.first+=b.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);b=g[0],c=g[1],d=g[2];if(b instanceof $&&b.length>1)return h=$(),b.each(function(a,b){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);e&&(h=h.add(e))}),h;if(is_undefined(b)||"end"==b)h=$cfs.children().last();else{b=gn_getItemIndex(b,d,c,itms,$cfs);var h=$cfs.children().eq(b);h.length&&b<itms.first&&(itms.first-=h.length)}return h&&h.length&&(h.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),h}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);return is_array(b)&&(clbk[c]=b),is_function(b)&&clbk[c].push(b),clbk[c]}),$cfs.bind(cf_e("currentPosition",conf),function(a,b){if(a.stopPropagation(),0==itms.first)var c=0;else var c=itms.total-itms.first;return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var c,d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d-1);return c=0==itms.first?0:itms.first<itms.total%d?0:itms.first!=d||opts.circular?Math.round((itms.total-itms.first)/d):e,c<0&&(c=0),c>e&&(c=e),is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("slice",conf),function(a,b,c,d){if(a.stopPropagation(),0==itms.total)return!1;var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);if(b=is_number(g[0])?g[0]:0,c=is_number(g[1])?g[1]:itms.total,d=g[2],b+=itms.first,c+=itms.first,items.total>0){for(;b>itms.total;)b-=itms.total;for(;c>itms.total;)c-=itms.total;for(;b<0;)b+=itms.total;for(;c<0;)c+=itms.total}var h,i=$cfs.children();return h=c>b?i.slice(b,c):$(i.slice(b,itms.total).get().concat(i.slice(0,c).get())),is_function(d)&&d.call($tt0,h),h}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length),d=crsl[c];return is_function(b)&&b.call($tt0,d),d}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),!1!==b?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),!1!==c?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){return a.stopPropagation(),is_undefined(b)?b=$("body"):is_string(b)&&(b=$(b)),is_jquery(b)&&0!=b.length?(is_string(c)||(c="a.caroufredsel"),b.find(c).each(function(){var a=this.hash||"";a.length>0&&-1!=$cfs.children().index($(a))&&$(this).unbind("click").click(function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),a)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(a,b,c){if(a.stopPropagation(),opts.pagination.container){var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);b&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=0;a<e;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,!0,opts.pagination])})})}));var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return f>=e&&(f=0),f<0&&(f=e-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(a){var b=opts.items.visible,c=$cfs.children(),d=ms_getParentSize($wrp,opts,"width");if(itms.total=c.length,crsl.primarySizePercentage?(opts.maxDimension=d,opts[opts.d.width]=ms_getPercentage(d,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,d),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,c,d),b=opts.items.visible,sz_setResponsiveSizes(opts,c)):opts.items.visibleConf.variable?b=gn_getVisibleItemsNext(c,opts,0):"*"!=opts.items.filter&&(b=gn_getVisibleItemsNextFilter(c,opts,0)),!opts.circular&&0!=itms.first&&b>itms.first){if(opts.items.visibleConf.variable)var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var e=gn_getVisibleItemsPrevFilter(c,opts,itms.first)-itms.first;else var e=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+e+" items backward."),$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,f]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),f}),$cfs.bind(cf_e("destroy",conf),function(a,b){return a.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),b&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(a){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(a,b,c){return a.stopPropagation(),$cfs.triggerHandler(cf_e(b,conf),c)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(a){a.preventDefault();var b=!1,c=null;crsl.isPaused?b="play":opts.auto.pauseOnEvent&&(b="pause",c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),b&&$cfs.trigger(cf_e(b,conf),c)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b==opts.next.key&&(a.preventDefault(),$cfs.trigger(cf_e("next",conf))),b==opts.prev.key&&(a.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b>=49&&b<58&&(b=(b-49)*opts.items.visible)<=itms.total&&(a.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[b,0,!0,opts.pagination]))}),$.fn.swipe){var b="ontouchstart"in window;if(b&&opts.swipe.onTouch||!b&&opts.swipe.onMouse){var c=$.extend(!0,{},opts.prev,opts.swipe),d=$.extend(!0,{},opts.next,opts.swipe),e=function(){$cfs.trigger(cf_e("prev",conf),[c])},f=function(){$cfs.trigger(cf_e("next",conf),[d])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=f,opts.swipe.options.swipeDown=e;break;default:opts.swipe.options.swipeLeft=f,opts.swipe.options.swipeRight=e}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var g=$.extend(!0,{},opts.prev,opts.mousewheel),h=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(a,b){a.preventDefault(),b>0?$cfs.trigger(cf_e("prev",conf),[g]):$cfs.trigger(cf_e("next",conf),[h])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var i=function(a){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},j=$(window),k=null;if($.debounce&&"debounce"==conf.onWindowResize)k=$.debounce(200,i);else if($.throttle&&"throttle"==conf.onWindowResize)k=$.throttle(300,i);else{var l=0,m=0;k=function(){var a=j.width(),b=j.height();a==l&&b==m||(i(),l=a,m=b)}}j.bind(cf_e("resize",conf,!1,!0,!0),k)}},FN._unbind_buttons=function(){var a=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(a),opts.auto.button&&opts.auto.button.unbind(a),opts.prev.button&&opts.prev.button.unbind(a),opts.next.button&&opts.next.button.unbind(a),opts.pagination.container&&(opts.pagination.container.unbind(a),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(0!=s){if(!0===s){if(s=window.location.hash,s.length<1)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,centerVertically:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")},$.fn.carouFredSel.cookie={get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0,d=b.length;c<d;c++){for(var e=b[c];" "==e.charAt(0);)e=e.slice(1);if(0==e.indexOf(a))return e.slice(a.length)}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}},$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}}))}(jQuery);jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(1-Math.pow(2,-10*b/e))+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(2-Math.pow(2,-10*--b))+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*-.5+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*((1+(f*=1.525))*b-f))+c:d/2*((b-=2)*b*((1+(f*=1.525))*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});!function(a){var b=!0;a.flexslider=function(c,d){var e=a(c);e.vars=a.extend({},a.flexslider.defaults,d);var f,g=e.vars.namespace,h=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,i=("ontouchstart"in window||h||window.DocumentTouch&&document instanceof DocumentTouch)&&e.vars.touch,j="click touchend MSPointerUp keyup",k="",l="vertical"===e.vars.direction,m=e.vars.reverse,n=e.vars.itemWidth>0,o="fade"===e.vars.animation,p=""!==e.vars.asNavFor,q={};a.data(c,"flexslider",e),q={init:function(){e.animating=!1,e.currentSlide=parseInt(e.vars.startAt?e.vars.startAt:0,10),isNaN(e.currentSlide)&&(e.currentSlide=0),e.animatingTo=e.currentSlide,e.atEnd=0===e.currentSlide||e.currentSlide===e.last,e.containerSelector=e.vars.selector.substr(0,e.vars.selector.search(" ")),e.slides=a(e.vars.selector,e),e.container=a(e.containerSelector,e),e.count=e.slides.length,e.syncExists=a(e.vars.sync).length>0,"slide"===e.vars.animation&&(e.vars.animation="swing"),e.prop=l?"top":"marginLeft",e.args={},e.manualPause=!1,e.stopped=!1,e.started=!1,e.startTimeout=null,e.transitions=!e.vars.video&&!o&&e.vars.useCSS&&function(){var a=document.createElement("div"),b=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return e.pfx=b[c].replace("Perspective","").toLowerCase(),e.prop="-"+e.pfx+"-transform",!0;return!1}(),e.ensureAnimationEnd="",""!==e.vars.controlsContainer&&(e.controlsContainer=a(e.vars.controlsContainer).length>0&&a(e.vars.controlsContainer)),""!==e.vars.manualControls&&(e.manualControls=a(e.vars.manualControls).length>0&&a(e.vars.manualControls)),""!==e.vars.customDirectionNav&&(e.customDirectionNav=2===a(e.vars.customDirectionNav).length&&a(e.vars.customDirectionNav)),e.vars.randomize&&(e.slides.sort(function(){return Math.round(Math.random())-.5}),e.container.empty().append(e.slides)),e.doMath(),e.setup("init"),e.vars.controlNav&&q.controlNav.setup(),e.vars.directionNav&&q.directionNav.setup(),e.vars.keyboard&&(1===a(e.containerSelector).length||e.vars.multipleKeyboard)&&a(document).bind("keyup",function(a){var b=a.keyCode;if(!e.animating&&(39===b||37===b)){var c=39===b?e.getTarget("next"):37===b&&e.getTarget("prev");e.flexAnimate(c,e.vars.pauseOnAction)}}),e.vars.mousewheel&&e.bind("mousewheel",function(a,b,c,d){a.preventDefault();var f=b<0?e.getTarget("next"):e.getTarget("prev");e.flexAnimate(f,e.vars.pauseOnAction)}),e.vars.pausePlay&&q.pausePlay.setup(),e.vars.slideshow&&e.vars.pauseInvisible&&q.pauseInvisible.init(),e.vars.slideshow&&(e.vars.pauseOnHover&&e.hover(function(){e.manualPlay||e.manualPause||e.pause()},function(){e.manualPause||e.manualPlay||e.stopped||e.play()}),e.vars.pauseInvisible&&q.pauseInvisible.isHidden()||(e.vars.initDelay>0?e.startTimeout=setTimeout(e.play,e.vars.initDelay):e.play())),p&&q.asNav.setup(),i&&e.vars.touch&&q.touch(),(!o||o&&e.vars.smoothHeight)&&a(window).bind("resize orientationchange focus",q.resize),e.find("img").attr("draggable","false"),setTimeout(function(){e.vars.start(e)},200)},asNav:{setup:function(){e.asNav=!0,e.animatingTo=Math.floor(e.currentSlide/e.move),e.currentItem=e.currentSlide,e.slides.removeClass(g+"active-slide").eq(e.currentItem).addClass(g+"active-slide"),h?(c._slider=e,e.slides.each(function(){var b=this;b._gesture=new MSGesture,b._gesture.target=b,b.addEventListener("MSPointerDown",function(a){a.preventDefault(),a.currentTarget._gesture&&a.currentTarget._gesture.addPointer(a.pointerId)},!1),b.addEventListener("MSGestureTap",function(b){b.preventDefault();var c=a(this),d=c.index();a(e.vars.asNavFor).data("flexslider").animating||c.hasClass("active")||(e.direction=e.currentItem<d?"next":"prev",e.flexAnimate(d,e.vars.pauseOnAction,!1,!0,!0))})})):e.slides.on(j,function(b){b.preventDefault();var c=a(this),d=c.index();c.offset().left-a(e).scrollLeft()<=0&&c.hasClass(g+"active-slide")?e.flexAnimate(e.getTarget("prev"),!0):a(e.vars.asNavFor).data("flexslider").animating||c.hasClass(g+"active-slide")||(e.direction=e.currentItem<d?"next":"prev",e.flexAnimate(d,e.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){e.manualControls?q.controlNav.setupManual():q.controlNav.setupPaging()},setupPaging:function(){var b,c,d="thumbnails"===e.vars.controlNav?"control-thumbs":"control-paging",f=1;if(e.controlNavScaffold=a('<ol class="'+g+"control-nav "+g+d+'"></ol>'),e.pagingCount>1)for(var h=0;h<e.pagingCount;h++){c=e.slides.eq(h),void 0===c.attr("data-thumb-alt")&&c.attr("data-thumb-alt","");var i=""!==c.attr("data-thumb-alt")?i=' alt="'+c.attr("data-thumb-alt")+'"':"";if(b="thumbnails"===e.vars.controlNav?'<img src="'+c.attr("data-thumb")+'"'+i+"/>":'<a href="#">'+f+"</a>","thumbnails"===e.vars.controlNav&&!0===e.vars.thumbCaptions){var l=c.attr("data-thumbcaption");""!==l&&void 0!==l&&(b+='<span class="'+g+'caption">'+l+"</span>")}e.controlNavScaffold.append("<li>"+b+"</li>"),f++}e.controlsContainer?a(e.controlsContainer).append(e.controlNavScaffold):e.append(e.controlNavScaffold),q.controlNav.set(),q.controlNav.active(),e.controlNavScaffold.delegate("a, img",j,function(b){if(b.preventDefault(),""===k||k===b.type){var c=a(this),d=e.controlNav.index(c);c.hasClass(g+"active")||(e.direction=d>e.currentSlide?"next":"prev",e.flexAnimate(d,e.vars.pauseOnAction))}""===k&&(k=b.type),q.setToClearWatchedEvent()})},setupManual:function(){e.controlNav=e.manualControls,q.controlNav.active(),e.controlNav.bind(j,function(b){if(b.preventDefault(),""===k||k===b.type){var c=a(this),d=e.controlNav.index(c);c.hasClass(g+"active")||(d>e.currentSlide?e.direction="next":e.direction="prev",e.flexAnimate(d,e.vars.pauseOnAction))}""===k&&(k=b.type),q.setToClearWatchedEvent()})},set:function(){var b="thumbnails"===e.vars.controlNav?"img":"a";e.controlNav=a("."+g+"control-nav li "+b,e.controlsContainer?e.controlsContainer:e)},active:function(){e.controlNav.removeClass(g+"active").eq(e.animatingTo).addClass(g+"active")},update:function(b,c){e.pagingCount>1&&"add"===b?e.controlNavScaffold.append(a('<li><a href="#">'+e.count+"</a></li>")):1===e.pagingCount?e.controlNavScaffold.find("li").remove():e.controlNav.eq(c).closest("li").remove(),q.controlNav.set(),e.pagingCount>1&&e.pagingCount!==e.controlNav.length?e.update(c,b):q.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+g+'direction-nav"><li class="'+g+'nav-prev"><a class="'+g+'prev" href="#">'+e.vars.prevText+'</a></li><li class="'+g+'nav-next"><a class="'+g+'next" href="#">'+e.vars.nextText+"</a></li></ul>");e.customDirectionNav?e.directionNav=e.customDirectionNav:e.controlsContainer?(a(e.controlsContainer).append(b),e.directionNav=a("."+g+"direction-nav li a",e.controlsContainer)):(e.append(b),e.directionNav=a("."+g+"direction-nav li a",e)),q.directionNav.update(),e.directionNav.bind(j,function(b){b.preventDefault();var c;""!==k&&k!==b.type||(c=a(this).hasClass(g+"next")?e.getTarget("next"):e.getTarget("prev"),e.flexAnimate(c,e.vars.pauseOnAction)),""===k&&(k=b.type),q.setToClearWatchedEvent()})},update:function(){var a=g+"disabled";1===e.pagingCount?e.directionNav.addClass(a).attr("tabindex","-1"):e.vars.animationLoop?e.directionNav.removeClass(a).removeAttr("tabindex"):0===e.animatingTo?e.directionNav.removeClass(a).filter("."+g+"prev").addClass(a).attr("tabindex","-1"):e.animatingTo===e.last?e.directionNav.removeClass(a).filter("."+g+"next").addClass(a).attr("tabindex","-1"):e.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=a('<div class="'+g+'pauseplay"><a href="#"></a></div>');e.controlsContainer?(e.controlsContainer.append(b),e.pausePlay=a("."+g+"pauseplay a",e.controlsContainer)):(e.append(b),e.pausePlay=a("."+g+"pauseplay a",e)),q.pausePlay.update(e.vars.slideshow?g+"pause":g+"play"),e.pausePlay.bind(j,function(b){b.preventDefault(),""!==k&&k!==b.type||(a(this).hasClass(g+"pause")?(e.manualPause=!0,e.manualPlay=!1,e.pause()):(e.manualPause=!1,e.manualPlay=!0,e.play())),""===k&&(k=b.type),q.setToClearWatchedEvent()})},update:function(a){"play"===a?e.pausePlay.removeClass(g+"pause").addClass(g+"play").html(e.vars.playText):e.pausePlay.removeClass(g+"play").addClass(g+"pause").html(e.vars.pauseText)}},touch:function(){function a(a){a.stopPropagation(),e.animating?a.preventDefault():(e.pause(),c._gesture.addPointer(a.pointerId),w=0,j=l?e.h:e.w,p=Number(new Date),i=n&&m&&e.animatingTo===e.last?0:n&&m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:n&&e.currentSlide===e.last?e.limit:n?(e.itemW+e.vars.itemMargin)*e.move*e.currentSlide:m?(e.last-e.currentSlide+e.cloneOffset)*j:(e.currentSlide+e.cloneOffset)*j)}function b(a){a.stopPropagation();var b=a.target._slider;if(b){var d=-a.translationX,e=-a.translationY;if(w+=l?e:d,k=w,t=l?Math.abs(w)<Math.abs(-d):Math.abs(w)<Math.abs(-e),a.detail===a.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){c._gesture.stop()});(!t||Number(new Date)-p>500)&&(a.preventDefault(),!o&&b.transitions&&(b.vars.animationLoop||(k=w/(0===b.currentSlide&&w<0||b.currentSlide===b.last&&w>0?Math.abs(w)/j+2:1)),b.setProps(i+k,"setTouch")))}}function d(a){a.stopPropagation();var b=a.target._slider;if(b){if(b.animatingTo===b.currentSlide&&!t&&null!==k){var c=m?-k:k,d=c>0?b.getTarget("next"):b.getTarget("prev");b.canAdvance(d)&&(Number(new Date)-p<550&&Math.abs(c)>50||Math.abs(c)>j/2)?b.flexAnimate(d,b.vars.pauseOnAction):o||b.flexAnimate(b.currentSlide,b.vars.pauseOnAction,!0)}f=null,g=null,k=null,i=null,w=0}}var f,g,i,j,k,p,q,r,s,t=!1,u=0,v=0,w=0;h?(c.style.msTouchAction="pan-y",c._gesture=new MSGesture,c._gesture.target=c,c.addEventListener("MSPointerDown",a,!1),c._slider=e,c.addEventListener("MSGestureChange",b,!1),c.addEventListener("MSGestureEnd",d,!1)):(q=function(a){e.animating?a.preventDefault():(window.navigator.msPointerEnabled||1===a.touches.length)&&(e.pause(),j=l?e.h:e.w,p=Number(new Date),u=a.touches[0].pageX,v=a.touches[0].pageY,i=n&&m&&e.animatingTo===e.last?0:n&&m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:n&&e.currentSlide===e.last?e.limit:n?(e.itemW+e.vars.itemMargin)*e.move*e.currentSlide:m?(e.last-e.currentSlide+e.cloneOffset)*j:(e.currentSlide+e.cloneOffset)*j,f=l?v:u,g=l?u:v,c.addEventListener("touchmove",r,!1),c.addEventListener("touchend",s,!1))},r=function(a){u=a.touches[0].pageX,v=a.touches[0].pageY,k=l?f-v:f-u,t=l?Math.abs(k)<Math.abs(u-g):Math.abs(k)<Math.abs(v-g);(!t||Number(new Date)-p>500)&&(a.preventDefault(),!o&&e.transitions&&(e.vars.animationLoop||(k/=0===e.currentSlide&&k<0||e.currentSlide===e.last&&k>0?Math.abs(k)/j+2:1),e.setProps(i+k,"setTouch")))},s=function(a){if(c.removeEventListener("touchmove",r,!1),e.animatingTo===e.currentSlide&&!t&&null!==k){var b=m?-k:k,d=b>0?e.getTarget("next"):e.getTarget("prev");e.canAdvance(d)&&(Number(new Date)-p<550&&Math.abs(b)>50||Math.abs(b)>j/2)?e.flexAnimate(d,e.vars.pauseOnAction):!o&&e.canAdvance(d)&&e.flexAnimate(e.currentSlide,e.vars.pauseOnAction,!0)}c.removeEventListener("touchend",s,!1),e.vars.slideshow&&e.play(),f=null,g=null,k=null,i=null},c.addEventListener("touchstart",q,!1))},resize:function(){!e.animating&&e.is(":visible")&&(n||e.doMath(),o?q.smoothHeight():n?(e.slides.width(e.computedW),e.update(e.pagingCount),e.setProps()):l?(e.viewport.height(e.h),e.setProps(e.h,"setTotal")):(e.vars.smoothHeight&&q.smoothHeight(),e.newSlides.width(e.computedW),e.setProps(e.computedW,"setTotal")))},smoothHeight:function(a){if(!l||o){var b=o?e:e.viewport;a?b.animate({height:e.slides.eq(e.animatingTo).innerHeight()},a):b.innerHeight(e.slides.eq(e.animatingTo).innerHeight())}},sync:function(b){var c=a(e.vars.sync).data("flexslider"),d=e.animatingTo;switch(b){case"animate":c.flexAnimate(d,e.vars.pauseOnAction,!1,!0);break;case"play":c.playing||c.asNav||c.play();break;case"pause":c.pause()}},uniqueID:function(b){return b.filter("[id]").add(b.find("[id]")).each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")}),b},pauseInvisible:{visProp:null,init:function(){var a=q.pauseInvisible.getHiddenProp();if(a){var b=a.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(b,function(){q.pauseInvisible.isHidden()?e.startTimeout?clearTimeout(e.startTimeout):e.pause():e.started?e.play():e.vars.initDelay>0?setTimeout(e.play,e.vars.initDelay):e.play()})}},isHidden:function(){var a=q.pauseInvisible.getHiddenProp();return!!a&&document[a]},getHiddenProp:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(f),f=setTimeout(function(){k=""},3e3)}},e.flexAnimate=function(b,c,d,f,h){if(e.vars.animationLoop||b===e.currentSlide||(e.direction=b>e.currentSlide?"next":"prev"),p&&1===e.pagingCount&&(e.direction=e.currentItem<b?"next":"prev"),!e.animating&&(e.canAdvance(b,h)||d)&&e.is(":visible")){if(p&&f){var j=a(e.vars.asNavFor).data("flexslider");if(e.atEnd=0===b||b===e.count-1,j.flexAnimate(b,!0,!1,!0,h),e.direction=e.currentItem<b?"next":"prev",j.direction=e.direction,Math.ceil((b+1)/e.visible)-1===e.currentSlide||0===b)return e.currentItem=b,e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),!1;e.currentItem=b,e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),b=Math.floor(b/e.visible)}if(e.animating=!0,e.animatingTo=b,c&&e.pause(),e.vars.before(e),e.syncExists&&!h&&q.sync("animate"),e.vars.controlNav&&q.controlNav.active(),n||e.slides.removeClass(g+"active-slide").eq(b).addClass(g+"active-slide"),e.atEnd=0===b||b===e.last,e.vars.directionNav&&q.directionNav.update(),b===e.last&&(e.vars.end(e),e.vars.animationLoop||e.pause()),o)i?(e.slides.eq(e.currentSlide).css({opacity:0,zIndex:1}),e.slides.eq(b).css({opacity:1,zIndex:2}),e.wrapup(t)):(e.slides.eq(e.currentSlide).css({zIndex:1}).animate({opacity:0},e.vars.animationSpeed,e.vars.easing),e.slides.eq(b).css({zIndex:2}).animate({opacity:1},e.vars.animationSpeed,e.vars.easing,e.wrapup));else{var k,r,s,t=l?e.slides.filter(":first").height():e.computedW;n?(k=e.vars.itemMargin,s=(e.itemW+k)*e.move*e.animatingTo,r=s>e.limit&&1!==e.visible?e.limit:s):r=0===e.currentSlide&&b===e.count-1&&e.vars.animationLoop&&"next"!==e.direction?m?(e.count+e.cloneOffset)*t:0:e.currentSlide===e.last&&0===b&&e.vars.animationLoop&&"prev"!==e.direction?m?0:(e.count+1)*t:m?(e.count-1-b+e.cloneOffset)*t:(b+e.cloneOffset)*t,e.setProps(r,"",e.vars.animationSpeed),e.transitions?(e.vars.animationLoop&&e.atEnd||(e.animating=!1,e.currentSlide=e.animatingTo),e.container.unbind("webkitTransitionEnd transitionend"),e.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(e.ensureAnimationEnd),e.wrapup(t)}),clearTimeout(e.ensureAnimationEnd),e.ensureAnimationEnd=setTimeout(function(){e.wrapup(t)},e.vars.animationSpeed+100)):e.container.animate(e.args,e.vars.animationSpeed,e.vars.easing,function(){e.wrapup(t)})}e.vars.smoothHeight&&q.smoothHeight(e.vars.animationSpeed)}},e.wrapup=function(a){o||n||(0===e.currentSlide&&e.animatingTo===e.last&&e.vars.animationLoop?e.setProps(a,"jumpEnd"):e.currentSlide===e.last&&0===e.animatingTo&&e.vars.animationLoop&&e.setProps(a,"jumpStart")),e.animating=!1,e.currentSlide=e.animatingTo,e.vars.after(e)},e.animateSlides=function(){!e.animating&&b&&e.flexAnimate(e.getTarget("next"))},e.pause=function(){clearInterval(e.animatedSlides),e.animatedSlides=null,e.playing=!1,e.vars.pausePlay&&q.pausePlay.update("play"),e.syncExists&&q.sync("pause")},e.play=function(){e.playing&&clearInterval(e.animatedSlides),e.animatedSlides=e.animatedSlides||setInterval(e.animateSlides,e.vars.slideshowSpeed),e.started=e.playing=!0,e.vars.pausePlay&&q.pausePlay.update("pause"),e.syncExists&&q.sync("play")},e.stop=function(){e.pause(),e.stopped=!0},e.canAdvance=function(a,b){var c=p?e.pagingCount-1:e.last;return!!b||(!(!p||e.currentItem!==e.count-1||0!==a||"prev"!==e.direction)||(!p||0!==e.currentItem||a!==e.pagingCount-1||"next"===e.direction)&&(!(a===e.currentSlide&&!p)&&(!!e.vars.animationLoop||(!e.atEnd||0!==e.currentSlide||a!==c||"next"===e.direction)&&(!e.atEnd||e.currentSlide!==c||0!==a||"next"!==e.direction))))},e.getTarget=function(a){return e.direction=a,"next"===a?e.currentSlide===e.last?0:e.currentSlide+1:0===e.currentSlide?e.last:e.currentSlide-1},e.setProps=function(a,b,c){var d=function(){var c=a||(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo;return-1*function(){if(n)return"setTouch"===b?a:m&&e.animatingTo===e.last?0:m?e.limit-(e.itemW+e.vars.itemMargin)*e.move*e.animatingTo:e.animatingTo===e.last?e.limit:c;switch(b){case"setTotal":return m?(e.count-1-e.currentSlide+e.cloneOffset)*a:(e.currentSlide+e.cloneOffset)*a;case"setTouch":return a;case"jumpEnd":return m?a:e.count*a;case"jumpStart":return m?e.count*a:a;default:return a}}()+"px"}();e.transitions&&(d=l?"translate3d(0,"+d+",0)":"translate3d("+d+",0,0)",c=void 0!==c?c/1e3+"s":"0s",e.container.css("-"+e.pfx+"-transition-duration",c),e.container.css("transition-duration",c)),e.args[e.prop]=d,(e.transitions||void 0===c)&&e.container.css(e.args),e.container.css("transform",d)},e.setup=function(b){if(o)e.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===b&&(i?e.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+e.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(e.currentSlide).css({opacity:1,zIndex:2}):0==e.vars.fadeFirstSlide?e.slides.css({opacity:0,display:"block",zIndex:1}).eq(e.currentSlide).css({zIndex:2}).css({opacity:1}):e.slides.css({opacity:0,display:"block",zIndex:1}).eq(e.currentSlide).css({zIndex:2}).animate({opacity:1},e.vars.animationSpeed,e.vars.easing)),e.vars.smoothHeight&&q.smoothHeight();else{var c,d;"init"===b&&(e.viewport=a('<div class="'+g+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(e).append(e.container),e.cloneCount=0,e.cloneOffset=0,m&&(d=a.makeArray(e.slides).reverse(),e.slides=a(d),e.container.empty().append(e.slides))),e.vars.animationLoop&&!n&&(e.cloneCount=2,e.cloneOffset=1,"init"!==b&&e.container.find(".clone").remove(),q.uniqueID(e.slides.first().clone().addClass("clone").attr("aria-hidden","true")).appendTo(e.container),q.uniqueID(e.slides.last().clone().addClass("clone").attr("aria-hidden","true")).prependTo(e.container)),e.newSlides=a(e.vars.selector,e),c=m?e.count-1-e.currentSlide+e.cloneOffset:e.currentSlide+e.cloneOffset,l&&!n?(e.container.height(200*(e.count+e.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){e.newSlides.css({display:"block"}),e.doMath(),e.viewport.height(e.h),e.setProps(c*e.h,"init")},"init"===b?100:0)):(e.container.width(200*(e.count+e.cloneCount)+"%"),e.setProps(c*e.computedW,"init"),setTimeout(function(){e.is(":visible")&&e.doMath(),e.newSlides.css({width:e.computedW,marginRight:e.computedM,float:"left",display:"block"}),e.vars.smoothHeight&&q.smoothHeight()},"init"===b?100:0))}n||e.slides.removeClass(g+"active-slide").eq(e.currentSlide).addClass(g+"active-slide"),e.vars.init(e)},e.doMath=function(){var a=e.slides.first(),b=e.vars.itemMargin,c=e.vars.minItems,d=e.vars.maxItems;e.w=void 0===e.viewport?e.width():e.viewport.width(),e.h=a.height(),e.boxPadding=a.outerWidth()-a.width(),n?(e.itemT=e.vars.itemWidth+b,e.itemM=b,e.minW=c?c*e.itemT:e.w,e.maxW=d?d*e.itemT-b:e.w,e.itemW=e.minW>e.w?(e.w-b*(c-1))/c:e.maxW<e.w?(e.w-b*(d-1))/d:e.vars.itemWidth>e.w?e.w:e.vars.itemWidth,e.visible=Math.floor(e.w/(e.itemW+b)),e.move=e.vars.move>0&&e.vars.move<e.visible?e.vars.move:e.visible,e.pagingCount=Math.ceil((e.count-e.visible)/e.move+1),e.last=e.pagingCount-1,e.limit=1===e.pagingCount?0:e.vars.itemWidth>e.w?e.itemW*(e.count-1)+b*(e.count-1):(e.itemW+b)*e.count-e.w-b):(e.itemW=e.w,e.itemM=b,e.pagingCount=e.count,e.last=e.count-1),e.computedW=e.itemW-e.boxPadding,e.computedM=e.itemM},e.update=function(a,b){e.doMath(),n||(a<e.currentSlide?e.currentSlide+=1:a<=e.currentSlide&&0!==a&&(e.currentSlide-=1),e.animatingTo=e.currentSlide),e.vars.controlNav&&!e.manualControls&&("add"===b&&!n||e.pagingCount>e.controlNav.length?q.controlNav.update("add"):("remove"===b&&!n||e.pagingCount<e.controlNav.length)&&(n&&e.currentSlide>e.last&&(e.currentSlide-=1,e.animatingTo-=1),q.controlNav.update("remove",e.last))),e.vars.directionNav&&q.directionNav.update()},e.addSlide=function(b,c){var d=a(b);e.count+=1,e.last=e.count-1,l&&m?void 0!==c?e.slides.eq(e.count-c).after(d):e.container.prepend(d):void 0!==c?e.slides.eq(c).before(d):e.container.append(d),e.update(c,"add"),e.slides=a(e.vars.selector+":not(.clone)",e),e.setup(),e.vars.added(e)},e.removeSlide=function(b){var c=isNaN(b)?e.slides.index(a(b)):b;e.count-=1,e.last=e.count-1,isNaN(b)?a(b,e.slides).remove():l&&m?e.slides.eq(e.last).remove():e.slides.eq(b).remove(),e.doMath(),e.update(c,"remove"),e.slides=a(e.vars.selector+":not(.clone)",e),e.setup(),e.vars.removed(e)},e.destroy=function(){var b="."+e.vars.namespace;e.vars.controlNav&&e.controlNav.closest(b+"control-nav").remove(),e.vars.directionNav&&e.directionNav.closest(b+"direction-nav").remove(),e.vars.pausePlay&&e.pausePlay.closest(b+"pauseplay").remove(),e.find(".clone").remove(),e.unbind(e.vars.eventNamespace),"fade"!=e.vars.animation&&e.container.unwrap(),e.container.removeAttr("style"),e.container.unbind(e.vars.eventNamespace),e.slides.removeAttr("style"),e.slides.filter(b+"active-slide").removeClass(e.vars.namespace+"active-slide"),e.slides.unbind(e.vars.eventNamespace),a(document).unbind(e.vars.eventNamespace+"-"+e.id),a(window).unbind(e.vars.eventNamespace+"-"+e.id),e.stop(),e.removeData("flexslider")},q.init()},a(window).blur(function(a){b=!1}).focus(function(a){b=!0}),a.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"&#xf104;",nextText:"&#xf105;",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},a.fn.flexslider=function(b){if(void 0===b&&(b={}),"object"==typeof b)return this.each(function(){var c=a(this),d=b.selector?b.selector:".slides > li",e=c.find(d);1===e.length&&!1===b.allowOneSlide||0===e.length?(e.fadeIn(400),b.start&&b.start(c)):void 0===c.data("flexslider")&&new a.flexslider(this,b)});var c=a(this).data("flexslider");switch(b){case"play":c.play();break;case"pause":c.pause();break;case"stop":c.stop();break;case"next":c.flexAnimate(c.getTarget("next"),!0);break;case"prev":case"previous":c.flexAnimate(c.getTarget("prev"),!0);break;case"destroy":c.destroy();break;default:"number"==typeof b&&c.flexAnimate(b,!0)}}}(jQuery);!function(a){a.fn.hoverFlow=function(b,c,d,e,f){if(-1==a.inArray(b,["mouseover","mouseenter","mouseout","mouseleave"]))return this;var g="object"==typeof d?d:{complete:f||!f&&e||a.isFunction(d)&&d,duration:d,easing:f&&e||e&&!a.isFunction(e)&&e};g.queue=!1;var h=g.complete;return g.complete=function(){a(this).dequeue(),a.isFunction(h)&&h.call(this)},this.each(function(){var d=a(this);"mouseover"==b||"mouseenter"==b?d.data("jQuery.hoverFlow",!0):d.removeData("jQuery.hoverFlow"),d.queue(function(){("mouseover"==b||"mouseenter"==b?void 0!==d.data("jQuery.hoverFlow"):void 0===d.data("jQuery.hoverFlow"))?d.animate(c,g):d.queue([])})})}}(jQuery);!function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,b){var d=this,e=c(d);if(d.value==e.attr("placeholder")&&e.hasClass("placeholder"))if(e.data("placeholder-password")){if(e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id")),!0===a)return e[0].value=b;e.focus()}else d.value="",e.removeClass("placeholder"),d==g()&&d.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(b){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function g(){try{return b.activeElement}catch(a){}}var h,i,j="placeholder"in b.createElement("input"),k="placeholder"in b.createElement("textarea"),l=c.fn,m=c.valHooks,n=c.propHooks;j&&k?(i=l.placeholder=function(){return this},i.input=i.textarea=!0):(i=l.placeholder=function(){var a=this;return a.filter((j?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=j,i.textarea=k,h={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,b){var d=c(a),h=d.data("placeholder-password");return h?h[0].value=b:d.data("placeholder-enabled")?(""==b?(a.value=b,a!=g()&&f.call(a)):d.hasClass("placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b,d):a.value=b}},j||(m.input=h,n.value=h),k||(m.textarea=h,n.value=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);!function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=j),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var d=a(this),e=d.data(B);e||(e=new c(this,b),d.data(B,e))})}function c(b,c){function C(b){if(!(ja()||a(b.target).closest(c.excludedElements,Sa).length>0)){var d,e=b.originalEvent?b.originalEvent:b,f=y?e.touches[0]:e;return Ta=u,(y?Ua=e.touches.length:b.preventDefault(),Ja=0,Ka=null,Qa=null,La=0,Ma=0,Na=0,Oa=1,Pa=0,Va=oa(),Ra=ra(),ha(),!y||Ua===c.fingers||c.fingers===s||R()?(la(0,f),Wa=Aa(),2==Ua&&(la(1,e.touches[1]),Ma=Na=ua(Va[0].start,Va[1].start)),(c.swipeStatus||c.pinchStatus)&&(d=J(e,Ta))):d=!1,!1===d)?(Ta=x,J(e,Ta),d):(c.hold&&(ab=setTimeout(a.proxy(function(){Sa.trigger("hold",[e.target]),c.hold&&(d=c.hold.call(Sa,e,e.target))},this),c.longTapThreshold)),ka(!0),null)}}function D(a){var b=a.originalEvent?a.originalEvent:a;if(Ta!==w&&Ta!==x&&!ia()){var d,e=y?b.touches[0]:b,f=ma(e);if(Xa=Aa(),y&&(Ua=b.touches.length),c.hold&&clearTimeout(ab),Ta=v,2==Ua&&(0==Ma?(la(1,b.touches[1]),Ma=Na=ua(Va[0].start,Va[1].start)):(ma(b.touches[1]),Na=ua(Va[0].end,Va[1].end),Qa=wa(Va[0].end,Va[1].end)),Oa=va(Ma,Na),Pa=Math.abs(Ma-Na)),Ua===c.fingers||c.fingers===s||!y||R()){if(Ka=za(f.start,f.end),P(a,Ka),Ja=xa(f.start,f.end),La=ta(),pa(Ka,Ja),(c.swipeStatus||c.pinchStatus)&&(d=J(b,Ta)),!c.triggerOnTouchEnd||c.triggerOnTouchLeave){var g=!0;if(c.triggerOnTouchLeave){var h=Ba(this);g=Ca(f.end,h)}!c.triggerOnTouchEnd&&g?Ta=I(v):c.triggerOnTouchLeave&&!g&&(Ta=I(w)),Ta!=x&&Ta!=w||J(b,Ta)}}else Ta=x,J(b,Ta);!1===d&&(Ta=x,J(b,Ta))}}function E(a){var b=a.originalEvent;return y&&b.touches.length>0?(ga(),!0):(ia()&&(Ua=Za),Xa=Aa(),La=ta(),M()||!L()?(Ta=x,J(b,Ta)):c.triggerOnTouchEnd||0==c.triggerOnTouchEnd&&Ta===v?(a.preventDefault(),Ta=w,J(b,Ta)):!c.triggerOnTouchEnd&&Y()?(Ta=w,K(b,Ta,n)):Ta===v&&(Ta=x,J(b,Ta)),ka(!1),null)}function F(){Ua=0,Xa=0,Wa=0,Ma=0,Na=0,Oa=1,ha(),ka(!1)}function G(a){var b=a.originalEvent;c.triggerOnTouchLeave&&(Ta=I(w),J(b,Ta))}function H(){Sa.unbind(Ea,C),Sa.unbind(Ia,F),Sa.unbind(Fa,D),Sa.unbind(Ga,E),Ha&&Sa.unbind(Ha,G),ka(!1)}function I(a){var b=a,d=O(),e=L(),f=M();return!d||f?b=x:!e||a!=v||c.triggerOnTouchEnd&&!c.triggerOnTouchLeave?!e&&a==w&&c.triggerOnTouchLeave&&(b=x):b=w,b}function J(a,b){var c=void 0;return V()||U()?c=K(a,b,l):(S()||R())&&!1!==c&&(c=K(a,b,m)),ea()&&!1!==c?c=K(a,b,o):fa()&&!1!==c?c=K(a,b,p):da()&&!1!==c&&(c=K(a,b,n)),b===x&&F(a),b===w&&(y?0==a.touches.length&&F(a):F(a)),c}function K(b,j,k){var q=void 0;if(k==l){if(Sa.trigger("swipeStatus",[j,Ka||null,Ja||0,La||0,Ua,Va]),c.swipeStatus&&!1===(q=c.swipeStatus.call(Sa,b,j,Ka||null,Ja||0,La||0,Ua,Va)))return!1;if(j==w&&T()){if(Sa.trigger("swipe",[Ka,Ja,La,Ua,Va]),c.swipe&&!1===(q=c.swipe.call(Sa,b,Ka,Ja,La,Ua,Va)))return!1;switch(Ka){case d:Sa.trigger("swipeLeft",[Ka,Ja,La,Ua,Va]),c.swipeLeft&&(q=c.swipeLeft.call(Sa,b,Ka,Ja,La,Ua,Va));break;case e:Sa.trigger("swipeRight",[Ka,Ja,La,Ua,Va]),c.swipeRight&&(q=c.swipeRight.call(Sa,b,Ka,Ja,La,Ua,Va));break;case f:Sa.trigger("swipeUp",[Ka,Ja,La,Ua,Va]),c.swipeUp&&(q=c.swipeUp.call(Sa,b,Ka,Ja,La,Ua,Va));break;case g:Sa.trigger("swipeDown",[Ka,Ja,La,Ua,Va]),c.swipeDown&&(q=c.swipeDown.call(Sa,b,Ka,Ja,La,Ua,Va))}}}if(k==m){if(Sa.trigger("pinchStatus",[j,Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchStatus&&!1===(q=c.pinchStatus.call(Sa,b,j,Qa||null,Pa||0,La||0,Ua,Oa,Va)))return!1;if(j==w&&Q())switch(Qa){case h:Sa.trigger("pinchIn",[Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchIn&&(q=c.pinchIn.call(Sa,b,Qa||null,Pa||0,La||0,Ua,Oa,Va));break;case i:Sa.trigger("pinchOut",[Qa||null,Pa||0,La||0,Ua,Oa,Va]),c.pinchOut&&(q=c.pinchOut.call(Sa,b,Qa||null,Pa||0,La||0,Ua,Oa,Va))}}return k==n?j!==x&&j!==w||(clearTimeout(_a),clearTimeout(ab),Z()&&!aa()?($a=Aa(),_a=setTimeout(a.proxy(function(){$a=null,Sa.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Sa,b,b.target))},this),c.doubleTapThreshold)):($a=null,Sa.trigger("tap",[b.target]),c.tap&&(q=c.tap.call(Sa,b,b.target)))):k==o?j!==x&&j!==w||(clearTimeout(_a),$a=null,Sa.trigger("doubletap",[b.target]),c.doubleTap&&(q=c.doubleTap.call(Sa,b,b.target))):k==p&&(j!==x&&j!==w||(clearTimeout(_a),$a=null,Sa.trigger("longtap",[b.target]),c.longTap&&(q=c.longTap.call(Sa,b,b.target)))),q}function L(){var a=!0;return null!==c.threshold&&(a=Ja>=c.threshold),a}function M(){var a=!1;return null!==c.cancelThreshold&&null!==Ka&&(a=qa(Ka)-Ja>=c.cancelThreshold),a}function N(){return null===c.pinchThreshold||Pa>=c.pinchThreshold}function O(){return!c.maxTimeThreshold||!(La>=c.maxTimeThreshold)}function P(a,b){if(c.allowPageScroll===j||R())a.preventDefault();else{var h=c.allowPageScroll===k;switch(b){case d:(c.swipeLeft&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case e:(c.swipeRight&&h||!h&&c.allowPageScroll!=q)&&a.preventDefault();break;case f:(c.swipeUp&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault();break;case g:(c.swipeDown&&h||!h&&c.allowPageScroll!=r)&&a.preventDefault()}}}function Q(){var a=W(),b=X(),c=N();return a&&b&&c}function R(){return!!(c.pinchStatus||c.pinchIn||c.pinchOut)}function S(){return!(!Q()||!R())}function T(){var a=O(),b=L(),c=W(),d=X();return!M()&&d&&c&&b&&a}function U(){return!!(c.swipe||c.swipeStatus||c.swipeLeft||c.swipeRight||c.swipeUp||c.swipeDown)}function V(){return!(!T()||!U())}function W(){return Ua===c.fingers||c.fingers===s||!y}function X(){return 0!==Va[0].end.x}function Y(){return!!c.tap}function Z(){return!!c.doubleTap}function $(){return!!c.longTap}function _(){if(null==$a)return!1;var a=Aa();return Z()&&a-$a<=c.doubleTapThreshold}function aa(){return _()}function ba(){return(1===Ua||!y)&&(isNaN(Ja)||Ja<c.threshold)}function ca(){return La>c.longTapThreshold&&Ja<t}function da(){return!(!ba()||!Y())}function ea(){return!(!_()||!Z())}function fa(){return!(!ca()||!$())}function ga(){Ya=Aa(),Za=event.touches.length+1}function ha(){Ya=0,Za=0}function ia(){var a=!1;if(Ya){Aa()-Ya<=c.fingerReleaseThreshold&&(a=!0)}return a}function ja(){return!(!0!==Sa.data(B+"_intouch"))}function ka(a){!0===a?(Sa.bind(Fa,D),Sa.bind(Ga,E),Ha&&Sa.bind(Ha,G)):(Sa.unbind(Fa,D,!1),Sa.unbind(Ga,E,!1),Ha&&Sa.unbind(Ha,G,!1)),Sa.data(B+"_intouch",!0===a)}function la(a,b){var c=void 0!==b.identifier?b.identifier:0;return Va[a].identifier=c,Va[a].start.x=Va[a].end.x=b.pageX||b.clientX,Va[a].start.y=Va[a].end.y=b.pageY||b.clientY,Va[a]}function ma(a){var b=void 0!==a.identifier?a.identifier:0,c=na(b);return c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function na(a){for(var b=0;b<Va.length;b++)if(Va[b].identifier==a)return Va[b]}function oa(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function pa(a,b){b=Math.max(b,qa(a)),Ra[a].distance=b}function qa(a){if(Ra[a])return Ra[a].distance}function ra(){var a={};return a[d]=sa(d),a[e]=sa(e),a[f]=sa(f),a[g]=sa(g),a}function sa(a){return{direction:a,distance:0}}function ta(){return Xa-Wa}function ua(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function va(a,b){return(b/a*1).toFixed(2)}function wa(){return Oa<1?i:h}function xa(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function ya(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function za(a,b){var c=ya(a,b);return c<=45&&c>=0?d:c<=360&&c>=315?d:c>=135&&c<=225?e:c>45&&c<135?g:f}function Aa(){return(new Date).getTime()}function Ba(b){b=a(b);var c=b.offset();return{left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()}}function Ca(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var Da=y||A||!c.fallbackToMouseEvents,Ea=Da?A?z?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Fa=Da?A?z?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ga=Da?A?z?"MSPointerUp":"pointerup":"touchend":"mouseup",Ha=Da?null:"mouseleave",Ia=A?z?"MSPointerCancel":"pointercancel":"touchcancel",Ja=0,Ka=null,La=0,Ma=0,Na=0,Oa=1,Pa=0,Qa=0,Ra=null,Sa=a(b),Ta="start",Ua=0,Va=null,Wa=0,Xa=0,Ya=0,Za=0,$a=0,_a=null,ab=null;try{Sa.bind(Ea,C),Sa.bind(Ia,F)}catch(b){a.error("events not supported "+Ea+","+Ia+" on jQuery.swipe")}this.enable=function(){return Sa.bind(Ea,C),Sa.bind(Ia,F),Sa},this.disable=function(){return H(),Sa},this.destroy=function(){return H(),Sa.data(B,null),Sa},this.option=function(b,d){if(void 0!==c[b]){if(void 0===d)return c[b];c[b]=d}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var d="left",e="right",f="up",g="down",h="in",i="out",j="none",k="auto",l="swipe",m="pinch",n="tap",o="doubletap",p="longtap",q="horizontal",r="vertical",s="all",t=10,u="start",v="move",w="end",x="cancel",y="ontouchstart"in window,z=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,A=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,B="TouchSwipe",C={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe=function(c){var d=a(this),e=d.data(B);if(e&&"string"==typeof c){if(e[c])return e[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on jQuery.swipe")}else if(!(e||"object"!=typeof c&&c))return b.apply(this,arguments);return d},a.fn.swipe.defaults=C,a.fn.swipe.phases={PHASE_START:u,PHASE_MOVE:v,PHASE_END:w,PHASE_CANCEL:x},a.fn.swipe.directions={LEFT:d,RIGHT:e,UP:f,DOWN:g,IN:h,OUT:i},a.fn.swipe.pageScroll={NONE:j,HORIZONTAL:q,VERTICAL:r,AUTO:k},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:s}});jQuery(document).ready(function(){jQuery(".fusion-alert .close").click(function(a){a.preventDefault(),jQuery(this).parent().slideUp()})});var fusionCarouselVars={"related_posts_speed":"2500","carousel_speed":"2500"};var generateCarousel=function(){jQuery().carouFredSel&&jQuery(".fusion-carousel").each(function(){var a=jQuery(this).attr("data-imagesize")?jQuery(this).data("imagesize"):"fixed",b=!jQuery(this).attr("data-metacontent")||"yes"!==jQuery(this).data("metacontent"),c=!(!jQuery(this).attr("data-autoplay")||"yes"!==jQuery(this).data("autoplay")),d=jQuery(this).parents(".related-posts").length?fusionCarouselVars.related_posts_speed:fusionCarouselVars.carousel_speed,e=jQuery(this).attr("data-scrollfx")?jQuery(this).data("scrollfx"):"scroll",f=jQuery(this).attr("data-scrollitems")?jQuery(this).data("scrollitems"):null,g=!(!jQuery(this).attr("data-touchscroll")||"yes"!==jQuery(this).data("touchscroll")),h=g?" fusion-carousel-swipe":"",i=jQuery(this).attr("data-columns")?jQuery(this).data("columns"):6,j=jQuery(this).attr("data-itemmargin")?parseInt(jQuery(this).data("itemmargin"),10):44,k=jQuery(this).attr("data-itemwidth")?parseInt(jQuery(this).data("itemwidth"),10)+j:180+j,l=jQuery(this).parent().hasClass("fusion-image-carousel")&&"fixed"===a?"115px":"variable";jQuery(this).find(".fusion-carousel-positioner").css("margin-left","-"+j+"px"),jQuery(this).find(".fusion-carousel-item").css("margin-left",j+"px"),jQuery(this).find(".fusion-nav-prev").css("margin-left",j+"px"),jQuery(this).find("ul").carouFredSel({circular:!0,infinite:!0,responsive:!0,centerVertically:b,height:l,width:"100%",auto:{play:c,timeoutDuration:parseInt(d,10)},items:{height:l,width:k,visible:{min:1,max:i}},scroll:{pauseOnHover:!0,items:f,fx:e},swipe:{onTouch:g,onMouse:g,options:{excludedElements:"button, input, select, textarea, a, .noSwipe"}},prev:jQuery(this).find(".fusion-nav-prev"),next:jQuery(this).find(".fusion-nav-next"),onCreate:function(){jQuery(this).find(".fusion-carousel-item-wrapper").css("visibility","inherit"),jQuery(this).parents(".fusion-carousel").find(".fusion-carousel-nav").css("visibility","inherit"),jQuery(this).parents(".fusion-woo-featured-products-slider").length&&jQuery(this).parent().css("overflow",""),b&&jQuery(this).css("line-height",jQuery(this).parent().height()+"px"),jQuery(this).css("top","auto"),jQuery(this).parents(".fusion-carousel").find(".fusion-nav-next").each(function(){jQuery(this).css("left",jQuery(this).parents(".fusion-carousel").find(".fusion-carousel-wrapper").width()-jQuery(this).width())}),"fixed"===a&&jQuery(this).find(".fusion-placeholder-image").each(function(){jQuery(this).css("height",jQuery(this).parents(".fusion-carousel-item").siblings().first().find("img").height())}),jQuery(window).trigger("resize")},currentVisible:function(a){return a}},{wrapper:{classname:"fusion-carousel-wrapper"+h}})})};!function(a){"use strict";a.fn.fusion_recalculate_carousel=function(){a(this).not(".fusion-woo-featured-products-slider").each(function(){var b,c,d=a(this),e=a(this).data("imagesize");setTimeout(function(){d.find(".fusion-nav-next").each(function(){a(this).css("left",d.find(".fusion-carousel-wrapper").width()-a(this).width())}),"fixed"===e&&(b=d.find(".fusion-carousel-item").map(function(){return a(this).find("img").height()}).get(),c=Math.max.apply(null,b),d.find(".fusion-placeholder-image").each(function(){a(this).css("height",c)}),1<=a(d).parents(".fusion-image-carousel").length&&d.find(".fusion-image-wrapper").each(function(){a(this).css("height",c),a(this).css("width","100%"),a(this).find("> a").css("line-height",c-2+"px")}))},5)})}}(jQuery),jQuery(window).load(function(){generateCarousel()}),jQuery(document).ready(function(){jQuery(window).on("resize",function(){jQuery(".fusion-carousel").fusion_recalculate_carousel()})});var fusionFlexSliderVars={"status_vimeo":"1","page_smoothHeight":"false","slideshow_autoplay":"1","slideshow_speed":"7000","pagination_video_slide":"","status_yt":"1","flex_smoothHeight":"false"};jQuery(window).load(function(){var a,b,c;window.fusionVimeoPlayers=[],jQuery().flexslider&&(Number(fusionFlexSliderVars.status_vimeo)&&jQuery(".flexslider").find("iframe").each(function(){var a=jQuery(this).attr("id"),b=jQuery(this).attr("src");a&&-1!==b.indexOf("vimeo")&&(window.fusionVimeoPlayers[a]=new Vimeo.Player(a),c=jQuery("#"+a).parents("li"),window.fusionVimeoPlayers[a].on("play",function(){jQuery("#"+a).parents("li").parent().parent().flexslider("pause")}),window.fusionVimeoPlayers[a].on("pause",function(){"yes"===jQuery(c).attr("data-loop")?jQuery("#"+a).parents("li").parent().parent().flexslider("pause"):jQuery("#"+a).parents("li").parent().parent().flexslider("play")}),window.fusionVimeoPlayers[a].on("ended",function(){"yes"!==jQuery(c).attr("data-loop")&&jQuery("#"+a).parents("li").parent().parent().flexslider("next")}))}),a="false"!==fusionFlexSliderVars.page_smoothHeight,jQuery(".fusion-blog-layout-grid .flexslider").flexslider({slideshow:Boolean(Number(fusionFlexSliderVars.slideshow_autoplay)),slideshowSpeed:Number(fusionFlexSliderVars.slideshow_speed),video:!0,smoothHeight:a,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",start:function(a){jQuery(a).removeClass("fusion-flexslider-loading"),void 0!==a.slides&&0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length&&(Number(fusionFlexSliderVars.status_vimeo)&&-1!==a.slides.eq(a.currentSlide).find("iframe")[0].src.indexOf("vimeo")&&(void 0!==window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")]?window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")].pause():new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).pause()),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})}),playVideoAndPauseOthers(a))},after:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}}),b="false"!==fusionFlexSliderVars.flex_smoothHeight,jQuery(".fusion-flexslider").not(".woocommerce .images #slider").flexslider({slideshow:Boolean(Number(fusionFlexSliderVars.slideshow_autoplay)),slideshowSpeed:fusionFlexSliderVars.slideshow_speed,video:!0,smoothHeight:b,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",start:function(a){a.removeClass("fusion-flexslider-loading"),jQuery(window).trigger("resize"),void 0!==a.slides&&0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length&&(Number(fusionFlexSliderVars.status_vimeo)&&-1!==a.slides.eq(a.currentSlide).find("iframe")[0].src.indexOf("vimeo")&&(void 0!==window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")]?window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")].pause():new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).pause()),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})}),playVideoAndPauseOthers(a))},after:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}}),jQuery(".flexslider:not(.tfs-slider)").flexslider({slideshow:Boolean(Number(fusionFlexSliderVars.slideshow_autoplay)),slideshowSpeed:fusionFlexSliderVars.slideshow_speed,video:!0,smoothHeight:b,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",start:function(a){a.removeClass("fusion-flexslider-loading"),void 0!==a.slides&&0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length&&(Number(fusionFlexSliderVars.status_vimeo)&&-1!==a.slides.eq(a.currentSlide).find("iframe")[0].src.indexOf("vimeo")&&(void 0!==window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")]?window.fusionVimeoPlayers[a.slides.eq(a.currentSlide).find("iframe")[0].getAttribute("id")].pause():new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).pause()),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})}),playVideoAndPauseOthers(a))},after:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionFlexSliderVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionFlexSliderVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}}),1<=jQuery(".flexslider-attachments").length&&jQuery.each(jQuery(".flexslider-attachments"),function(){void 0!==jQuery(this).data("flexslider")&&jQuery(this).flexslider("destroy"),jQuery(this).flexslider({slideshow:Boolean(Number(fusionFlexSliderVars.slideshow_autoplay)),slideshowSpeed:fusionFlexSliderVars.slideshow_speed,video:!1,smoothHeight:b,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",controlNav:"thumbnails",start:function(a){jQuery(a).find(".fusion-slider-loading").remove(),a.removeClass("fusion-flexslider-loading")}}),b&&jQuery(this).find(".flex-control-nav").css("position","absolute")}))});jQuery(window).load(function(){(cssua.ua.mobile||cssua.ua.tablet_pc)&&jQuery(".fusion-popover, .fusion-tooltip").each(function(){jQuery(this).attr("data-trigger","click"),jQuery(this).data("trigger","click")}),jQuery('[data-toggle~="popover"]').popover({container:"body"})});jQuery(window).load(function(){jQuery('[data-toggle="tooltip"]').each(function(){var a;a=jQuery(this).parents(".fusion-header-wrapper").length?".fusion-header-wrapper":jQuery(this).parents("#side-header").length?"#side-header":"body",(!cssua.ua.mobile||cssua.ua.mobile&&"_blank"!==jQuery(this).attr("target"))&&jQuery(this).tooltip({container:a})}),jQuery(".fusion-tooltip").hover(function(){var a=jQuery(this).attr("title");jQuery(this).attr("data-title",a),jQuery(this).attr("title","")}),jQuery(".fusion-tooltip").click(function(){var a=jQuery(this).attr("data-title");jQuery(this).attr("title",a),jQuery(this).blur()})}),jQuery(document).ready(function(){jQuery(".tooltip-shortcode, .fusion-secondary-header .fusion-social-networks li, .fusion-author-social .fusion-social-networks li, .fusion-footer-copyright-area .fusion-social-networks li, .fusion-footer-widget-area .fusion-social-networks li, .sidebar .fusion-social-networks li, .share-box li, .social-icon, .social li").mouseenter(function(a){jQuery(this).find(".popup").hoverFlow(a.type,{opacity:"show"})}),jQuery(".tooltip-shortcode, .fusion-secondary-header .fusion-social-networks li, .fusion-author-social .fusion-social-networks li, .fusion-footer-copyright-area .fusion-social-networks li, .fusion-footer-widget-area .fusion-social-networks li, .sidebar .fusion-social-networks li, .share-box li, .social-icon, .social li").mouseleave(function(a){jQuery(this).find(".popup").hoverFlow(a.type,{opacity:"hide"})})});jQuery(document).ready(function(){jQuery(".fusion-sharing-box").each(function(){jQuery('meta[property="og:title"]').length||(jQuery("head title").after('<meta property="og:title" content="'+jQuery(this).data("title")+'"/>'),jQuery("head title").after('<meta property="og:description" content="'+jQuery(this).data("description")+'"/>'),jQuery("head title").after('<meta property="og:type" content="article"/>'),jQuery("head title").after('<meta property="og:url" content="'+jQuery(this).data("link")+'"/>'),jQuery("head title").after('<meta property="og:image" content="'+jQuery(this).data("image")+'"/>'))})});var fusionBlogVars={"infinite_blog_text":"<em>Loading the next set of posts...<\/em>","infinite_finished_msg":"<em>All items displayed.<\/em>","slideshow_autoplay":"1","slideshow_speed":"7000","pagination_video_slide":"","status_yt":"1","lightbox_behavior":"all","blog_pagination_type":"load_more_button","flex_smoothHeight":"false"};jQuery.fn.fusionCalculateBlogEqualHeights=function(){var a=Math.round(1/(jQuery(this).children(":visible").first()[0].getBoundingClientRect().width/jQuery(this).width())),b=jQuery(this).find(".fusion-post-grid:visible").not(".invisible-after-ajax").length;jQuery(this).find(".invisible-after-ajax").hide().removeClass("invisible-after-ajax"),1<a&&1<b&&jQuery(this).find(".fusion-post-grid:visible").each(function(b){var c=parseInt(jQuery(this).css("top"),10),d=0;d=1==(b+1)%a?jQuery(this).parent().find(".fusion-post-grid:visible:eq("+(b+a)+")").length?parseInt(jQuery(this).parent().find(".fusion-post-grid:visible:eq("+(b+a)+")").css("top"),10)-c:parseInt(jQuery(this).parent().height(),10)-c:parseInt(jQuery(this).parent().find(".fusion-post-grid:visible:eq("+(b-1)+")").css("height"),10),jQuery(this).css("height",d+"px")})},jQuery(document).ready(function(){window.blogEqualHeightsResizeTimer,jQuery(window).on("resize",function(a,b){void 0!==b&&!0!==b||(jQuery(".fusion-blog-equal-heights").each(function(){jQuery(this).find(".fusion-post-grid").css("height","")}),jQuery(".fusion-blog-equal-heights").length&&(clearTimeout(window.blogEqualHeightsResizeTimer),window.blogEqualHeightsResizeTimer=setTimeout(function(){jQuery(".fusion-blog-equal-heights").isotope()},50)))})}),jQuery(window).load(function(){var a,b;jQuery().isotope&&jQuery(".fusion-blog-layout-grid").each(function(){var a=jQuery(this),b=".fusion-post-grid",c="packery";jQuery(this).hasClass("fusion-blog-layout-masonry")&&(b=".fusion-post-masonry"),jQuery(this).hasClass("fusion-blog-equal-heights")&&(c="fitRows"),jQuery(this).hasClass("fusion-blog-layout-masonry")&&!jQuery(this).hasClass("fusion-blog-layout-masonry-has-vertical")&&0<jQuery(this).find(".fusion-post-masonry:not(.fusion-grid-sizer)").not(".fusion-element-landscape").length&&jQuery(this).addClass("fusion-blog-layout-masonry-has-vertical"),a.isotope({layoutMode:c,itemSelector:b,isOriginLeft:!jQuery("body.rtl").length,resizable:!0,initLayout:!1}),a.on("layoutComplete",function(a,b){var c=jQuery(a.target);c.hasClass("fusion-blog-equal-heights")&&setTimeout(function(){c.find(".fusion-post-grid").css("height",""),c.fusionCalculateBlogEqualHeights()},300),c.css("min-height","")}),a.isotope(),setTimeout(function(){jQuery(window).trigger("resize",[!1])},250)}),a=jQuery(".fusion-blog-layout-timeline").find(".fusion-timeline-date").last().text(),b=!0,jQuery(".fusion-blog-layout-timeline").find(".fusion-timeline-date").click(function(){jQuery(this).next(".fusion-collapse-month").slideToggle()}),jQuery(".fusion-timeline-icon").find(".fusion-icon-bubbles").click(function(){b?(jQuery(this).parent().next(".fusion-blog-layout-timeline").find(".fusion-collapse-month").slideUp(),b=!1):(jQuery(this).parent().next(".fusion-blog-layout-timeline").find(".fusion-collapse-month").slideDown(),b=!0)}),jQuery(".fusion-posts-container-infinite").each(function(){var c,d,e,f,g=jQuery(this),h=jQuery(this).find(".post");jQuery(this).find(".fusion-blog-layout-timeline").length&&(g=jQuery(this).find(".fusion-blog-layout-timeline")),c="",g.parents(".fusion-blog-shortcode").length&&(c="."+g.parents(".fusion-blog-shortcode").attr("class").replace(/\ /g,".")+" "),jQuery(g).infinitescroll({navSelector:c+".fusion-infinite-scroll-trigger",nextSelector:c+"a.pagination-next",itemSelector:c+"div.pagination .current, "+c+"article.post:not( .fusion-archive-description ), "+c+".fusion-collapse-month, "+c+".fusion-timeline-date",loading:{finishedMsg:fusionBlogVars.infinite_finished_msg,msg:jQuery('<div class="fusion-loading-container fusion-clearfix"><div class="fusion-loading-spinner"><div class="fusion-spinner-1"></div><div class="fusion-spinner-2"></div><div class="fusion-spinner-3"></div></div><div class="fusion-loading-msg">'+fusionBlogVars.infinite_blog_text+"</div>")},maxPage:g.data("pages")?g.data("pages"):void 0,errorCallback:function(){g.find(".fusion-post-grid").css("height",""),jQuery(g).hasClass("isotope")&&jQuery(g).isotope()}},function(c){var f;jQuery(g).hasClass("fusion-blog-layout-timeline")&&(jQuery(c).first(".fusion-timeline-date").text()==a&&jQuery(c).first(".fusion-timeline-date").remove(),a=jQuery(g).find(".fusion-timeline-date").last().text(),jQuery(g).find(".fusion-timeline-date").each(function(){jQuery(this).next(".fusion-collapse-month").append(jQuery(this).nextUntil(".fusion-timeline-date",".fusion-post-timeline"))}),b||setTimeout(function(){jQuery(g).find(".fusion-collapse-month").hide()},200),setTimeout(function(){jQuery(g).find(".fusion-collapse-month").each(function(){jQuery(this).children().length||jQuery(this).remove()})},10),jQuery(g).find(".fusion-timeline-date").unbind("click"),jQuery(g).find(".fusion-timeline-date").click(function(){jQuery(this).next(".fusion-collapse-month").slideToggle()})),f="false"!==fusionBlogVars.flex_smoothHeight,jQuery(g).hasClass("fusion-blog-layout-grid")&&jQuery().isotope&&(jQuery(c).hide(),imagesLoaded(c,function(){jQuery(c).fadeIn(),jQuery(g).hasClass("isotope")&&(g.hasClass("fusion-portfolio-equal-heights")&&g.find(".fusion-post-grid").css("height",""),jQuery(g).isotope("appended",jQuery(c)),jQuery(g).isotope()),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}),f=!1),jQuery(g).find(".flexslider").flexslider({slideshow:Boolean(Number(fusionBlogVars.slideshow_autoplay)),slideshowSpeed:fusionBlogVars.slideshow_speed,video:!0,smoothHeight:f,pauseOnHover:!1,useCSS:!1,prevText:"&#xf104;",nextText:"&#xf105;",start:function(a){a.removeClass("fusion-flexslider-loading"),void 0!==a.slides&&0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionBlogVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionBlogVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionBlogVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length&&(Number(fusionBlogVars.status_vimeo)&&-1!==a.slides.eq(a.currentSlide).find("iframe")[0].src.indexOf("vimeo")&&new Vimeo.Player(a.slides.eq(a.currentSlide).find("iframe")[0]).pause(),Number(fusionBlogVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})}))},after:function(a){0!==a.slides.eq(a.currentSlide).find("iframe").length?(Number(fusionBlogVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","-20px"):jQuery(a).find(".flex-control-nav").hide(),Number(fusionBlogVars.status_yt)&&!0===window.yt_vid_exists&&window.YTReady(function(){new YT.Player(a.slides.eq(a.currentSlide).find("iframe").attr("id"),{events:{onStateChange:onPlayerStateChange(a.slides.eq(a.currentSlide).find("iframe").attr("id"),a)}})})):Number(fusionBlogVars.pagination_video_slide)?jQuery(a).find(".flex-control-nav").css("bottom","0px"):jQuery(a).find(".flex-control-nav").show(),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}}),jQuery(c).each(function(){jQuery(this).find(".full-video, .video-shortcode, .wooslider .slide-content").fitVids()}),d=g,jQuery(g).hasClass("fusion-blog-layout-timeline")&&(d=jQuery(g).parents(".fusion-posts-container-infinite")),e=d.find(".current").html(),d.find(".current").remove(),d.data("pages")==e&&(d.parent().find(".fusion-loading-container").hide(),d.parent().find(".fusion-load-more-button").hide()),"individual"!==fusionBlogVars.lightbox_behavior&&h.find(".fusion-post-slideshow").length||(window.avadaLightBox.activate_lightbox(jQuery(c)),h=g.find(".post")),window.avadaLightBox.refresh_lightbox(),jQuery(window).trigger("resize",[!1]),setTimeout(function(){jQuery(window).trigger("resize",[!1])},500),jQuery.isFunction(jQuery.fn.initWaypoint)&&jQuery(window).initWaypoint(),"undefined"!=typeof niceScrollReInit&&niceScrollReInit()}),(jQuery(g).hasClass("fusion-blog-archive")&&"load_more_button"===fusionBlogVars.blog_pagination_type||jQuery(g).hasClass("fusion-posts-container-load-more")||jQuery(g).hasClass("fusion-blog-layout-timeline")&&jQuery(g).parent().hasClass("fusion-posts-container-load-more"))&&(jQuery(g).infinitescroll("unbind"),f=jQuery(g).hasClass("fusion-blog-archive")?jQuery(g).parent().find(".fusion-load-more-button"):jQuery(g).parents(".fusion-blog-archive").find(".fusion-load-more-button"),f.on("click",function(a){a.preventDefault(),jQuery(g).infinitescroll("retrieve"),jQuery(g).hasClass("fusion-blog-layout-grid")})),d=g,jQuery(g).hasClass("fusion-blog-layout-timeline")&&jQuery(g).parents(".fusion-blog-layout-timeline-wrapper").length&&(d=jQuery(g).parents(".fusion-posts-container-infinite")),1===parseInt(d.data("pages"),10)&&(d.parent().find(".fusion-loading-container").hide(),d.parent().find(".fusion-load-more-button").hide())})});jQuery(window).load(function(){cssua.ua.ios&&7===parseInt(cssua.ua.ios,10)&&jQuery(".button-icon-divider-left, .button-icon-divider-right").each(function(){var a=jQuery(this).parent().outerHeight();jQuery(this).css("height",a)})});function checkHoverTouchState(){function a(a){clearTimeout(c),d=!0,jQuery("body").addClass("fusion-touch"),jQuery("body").removeClass("fusion-no-touch"),c=setTimeout(function(){d=!1},500)}function b(a){d||(d=!1,jQuery("body").addClass("fusion-no-touch"),jQuery("body").removeClass("fusion-touch"))}var c,d=!1;document.addEventListener("touchstart",a),document.addEventListener("mouseover",b)}checkHoverTouchState(),jQuery(document).ready(function(){jQuery("input, textarea").placeholder()}),jQuery(window).load(function(){jQuery(".fusion-youtube-flash-fix").remove()});var avadaHeaderVars={"header_position":"top","header_layout":"v5","header_sticky":"0","header_sticky_type2_layout":"menu_only","header_sticky_shadow":"1","side_header_break_point":"800","header_sticky_mobile":"1","header_sticky_tablet":"1","mobile_menu_design":"modern","sticky_header_shrinkage":"1","nav_height":"45","nav_highlight_border":"5","nav_highlight_style":"bar","logo_margin_top":"31px","logo_margin_bottom":"31px","layout_mode":"wide","header_padding_top":"0px","header_padding_bottom":"0px","offset_scroll":"full"};function getStickyHeaderHeight(a){var b=1,c=0,d=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)");return a=a||!1,(jQuery(".fusion-header-v4").length||jQuery(".fusion-header-v5").length)&&(b=2),jQuery("#side-header").length&&(b="side"),"1"==avadaHeaderVars.header_sticky&&(jQuery(".fusion-header-wrapper").length||jQuery("#side-header").length)&&(1==b?(c=jQuery(".fusion-header").outerHeight(),a&&1==avadaHeaderVars.sticky_header_shrinkage&&(c=64)):2==b&&(c=jQuery(".fusion-secondary-main-menu").outerHeight(),"menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout&&(c+=jQuery(".fusion-header").outerHeight())),Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&("1"==avadaHeaderVars.header_sticky_mobile?(c=jQuery(".fusion-header").outerHeight(),2==b&&"classic"===avadaHeaderVars.mobile_menu_design?(c=jQuery(".fusion-secondary-main-menu").find(".fusion-mobile-selector").height()+14,"menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout&&(c+=jQuery(".fusion-header").outerHeight())):"side"===b&&(c=jQuery("#side-header").outerHeight())):c=0),"1"!=avadaHeaderVars.header_sticky_tablet&&d&&(c=0)),c}function getWaypointTopOffset(){var a=0,b=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"),c=1;return(jQuery(".fusion-header-v4").length||jQuery(".fusion-header-v5").length)&&(c=2),jQuery("#side-header").length&&(c="side"),"1"==avadaHeaderVars.header_sticky&&(jQuery(".fusion-header-wrapper").length||jQuery("#side-header").length)&&(1==c?a=jQuery(".fusion-header").outerHeight()-1:2==c&&(a=jQuery(".fusion-secondary-main-menu").outerHeight(),"menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout&&(a+=jQuery(".fusion-header").outerHeight()-1)),Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&("1"==avadaHeaderVars.header_sticky_mobile?(a=jQuery(".fusion-header").outerHeight()-1,"side"===c&&(a=jQuery("#side-header").outerHeight()-1)):a=0),"1"!=avadaHeaderVars.header_sticky_tablet&&b&&(a=0)),a}jQuery(window).load(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m=!0,n=0;jQuery(window).scroll(function(){jQuery("#sliders-container .tfs-slider").data("parallax")&&"wide"!==avadaHeaderVars.layout_mode&&!cssua.ua.tablet_pc&&!cssua.ua.mobile&&Modernizr.mq("only screen and (min-width: "+avadaHeaderVars.side_header_break_point+"px)")&&"full"===avadaHeaderVars.offset_scroll?(j=jQuery("#sliders-container .tfs-slider"),i=jQuery(window).scrollTop(),l=0,k=jQuery("body").css("marginTop"),k=parseInt(k,10),"1"==avadaHeaderVars.header_sticky&&(1<=jQuery(".fusion-header-wrapper").length||1<=jQuery("#side-header").length)?(c=parseInt(jQuery(".fusion-header").height(),10),l=0):(c=k,l=parseInt(avadaHeaderVars.nav_height,10),1>jQuery("#side-header").length&&(c=0)),i>=jQuery("#wpadminbar").height()+k+l?(j.css("top",0),j.addClass("fusion-fixed-slider")):(j.css("top",0),j.removeClass("fusion-fixed-slider"))):jQuery("#sliders-container .tfs-slider.fusion-fixed-slider").length&&jQuery("#sliders-container .tfs-slider.fusion-fixed-slider").removeClass("fusion-fixed-slider")}),"1"==avadaHeaderVars.header_sticky&&(1<=jQuery(".fusion-header-wrapper").length||1<=jQuery("#side-header").length)&&(a=300,"0"==avadaHeaderVars.sticky_header_shrinkage&&(a=0),b=jQuery(".fusion-header").parent(),window.$headerParentHeight=b.outerHeight(),window.$headerHeight=jQuery(".fusion-header").outerHeight(),c=parseInt(avadaHeaderVars.nav_height,10),window.$menuHeight=c,parseInt(avadaHeaderVars.nav_highlight_border,10),window.$scrolled_header_height=65,d=jQuery(".fusion-logo img:visible").length?jQuery(".fusion-logo img:visible"):"",e=!1,window.$stickyTrigger=jQuery(".fusion-header"),window.$wpadminbarHeight=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,window.$stickyTrigger_position=window.$stickyTrigger.length?Math.round(window.$stickyTrigger.offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame:0,window.$woo_store_notice=jQuery(".woocommerce-store-notice").length&&jQuery(".woocommerce-store-notice").is(":visible")?jQuery(".woocommerce-store-notice").outerHeight():0,window.$top_frame=jQuery(".fusion-top-frame").length?jQuery(".fusion-top-frame").outerHeight()-window.$woo_store_notice:0,window.$sticky_header_type=1,window.$slider_offset=0,window.$site_width=jQuery("#wrapper").outerWidth(),window.$media_query_test_1=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"),window.$media_query_test_2=Modernizr.mq("screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),window.$media_query_test_3=Modernizr.mq("screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),window.$media_query_test_4=Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),window.$standardLogoHeight=jQuery(".fusion-standard-logo").height()+parseInt(jQuery(".fusion-logo").data("margin-top"),10)+parseInt(jQuery(".fusion-logo").data("margin-bottom"),10),window.$initial_desktop_header_height=Math.max(window.$headerHeight,Math.round(Math.max(window.$menuHeight,window.$standardLogoHeight)+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-top"))+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-bottom")))),window.$initial_sticky_header_shrinkage=avadaHeaderVars.sticky_header_shrinkage,window.$sticky_can_be_shrinked=!0,"0"==avadaHeaderVars.sticky_header_shrinkage&&(a=0,window.$scrolled_header_height=window.$headerHeight),d&&(d[0].hasAttribute("data-retina_logo_url")?(f=new Image,f.src=d.attr("data-retina_logo_url"),window.original_logo_height=parseInt(d.height(),10)+parseInt(avadaHeaderVars.logo_margin_top,10)+parseInt(avadaHeaderVars.logo_margin_bottom,10)):(f=new Image,f.src=d.attr("src"),window.original_logo_height=parseInt(f.naturalHeight,10)+parseInt(avadaHeaderVars.logo_margin_top,10)+parseInt(avadaHeaderVars.logo_margin_bottom,10))),(1<=jQuery(".fusion-header-v4").length||1<=jQuery(".fusion-header-v5").length)&&(window.$sticky_header_type=2,"menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout||Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&"modern"===avadaHeaderVars.mobile_menu_design?window.$stickyTrigger=jQuery(".fusion-sticky-header-wrapper"):window.$stickyTrigger=jQuery(".fusion-secondary-main-menu"),window.$stickyTrigger_position=Math.round(window.$stickyTrigger.offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame),1==window.$sticky_header_type?Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")?window.$scrolled_header_height=window.$headerHeight:window.$original_sticky_trigger_height=jQuery(window.$stickyTrigger).outerHeight():2==window.$sticky_header_type&&("classic"===avadaHeaderVars.mobile_menu_design&&jQuery(b).height(window.$headerParentHeight),Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")?window.$scrolled_header_height=window.$headerParentHeight:jQuery(b).height(window.$headerParentHeight)),1<=jQuery("#side-header").length&&(window.$sticky_header_type=3),jQuery(".fusion-secondary-header").length&&(n=jQuery(".fusion-secondary-header").outerHeight()),jQuery(document).height()-(window.$initial_desktop_header_height+n+window.$wpadminbarHeight-window.$scrolled_header_height)<jQuery(window).height()&&1==avadaHeaderVars.sticky_header_shrinkage?(window.$sticky_can_be_shrinked=!1,jQuery(".fusion-header-wrapper").removeClass("fusion-is-sticky")):window.$sticky_can_be_shrinked=!0,g=jQuery(window).width(),h=jQuery(window).height(),jQuery(window).resize(function(){var c,e,f,i,j,k,l;window.$media_query_test_1=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"),window.$media_query_test_2=Modernizr.mq("screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),window.$media_query_test_3=Modernizr.mq("screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),window.$media_query_test_4=Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)"),!Modernizr.mq("only screen and (min-width: "+avadaHeaderVars.side_header_break_point+"px)")||-1===avadaHeaderVars.header_padding_top.indexOf("%")&&-1===avadaHeaderVars.header_padding_bottom.indexOf("%")||jQuery(".fusion-is-sticky").length||(window.$headerHeight=Math.round(Math.max(window.$menuHeight,window.$standardLogoHeight)+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-top"))+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-bottom"))),jQuery(".fusion-header, .fusion-header-sticky-height").height(window.$headerHeight),"0"==avadaHeaderVars.sticky_header_shrinkage&&(window.$scrolled_header_height=window.$headerHeight)),(-1!==avadaHeaderVars.header_padding_top.indexOf("%")||-1!==avadaHeaderVars.header_padding_bottom.indexOf("%")&&!jQuery(".fusion-is-sticky").length)&&(window.$initial_desktop_header_height=Math.max(window.$headerHeight,Math.round(Math.max(window.$menuHeight,window.$standardLogoHeight)+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-top"))+parseFloat(jQuery(".fusion-header").find(".fusion-row").css("padding-bottom"))))),"1"!=avadaHeaderVars.header_sticky_tablet&&window.$media_query_test_1?(jQuery(".fusion-header-wrapper, .fusion-header-sticky-height, .fusion-header, .fusion-logo, .fusion-header-wrapper .fusion-main-menu > li a, .fusion-header-wrapper .fusion-secondary-main-menu").attr("style",""),jQuery(".fusion-header-wrapper").removeClass("fusion-is-sticky")):"1"==avadaHeaderVars.header_sticky_tablet&&window.$media_query_test_1&&(a=0),"1"!=avadaHeaderVars.header_sticky_mobile&&window.$media_query_test_2&&!window.$media_query_test_1?(jQuery(".fusion-header-wrapper, .fusion-header-sticky-height, .fusion-header, .fusion-logo, .fusion-header-wrapper .fusion-main-menu > li a, .fusion-header-wrapper .fusion-secondary-main-menu").attr("style",""),jQuery(".fusion-header-wrapper").removeClass("fusion-is-sticky")):"1"==avadaHeaderVars.header_sticky_mobile&&window.$media_query_test_2&&!window.$media_query_test_1&&(a=0),g&&h&&(jQuery(window).width()!=g||jQuery(window).height()!=h)&&m&&(c=parseInt(avadaHeaderVars.nav_height,10),parseInt(avadaHeaderVars.nav_highlight_border,10),jQuery("#wpadminbar").length?window.$wpadminbarHeight=jQuery("#wpadminbar").height():window.$wpadminbarHeight=0,window.$woo_store_notice=jQuery(".woocommerce-store-notice").length&&jQuery(".woocommerce-store-notice").is(":visible")?jQuery(".woocommerce-store-notice").outerHeight():0,jQuery(".fusion-is-sticky").length&&(e=jQuery(".fusion-header"),2==window.$sticky_header_type&&(e="menu_only"!==avadaHeaderVars.header_sticky_type2_layout||"classic"!==avadaHeaderVars.mobile_menu_design&&window.$media_query_test_4?jQuery(".fusion-sticky-header-wrapper"):jQuery(".fusion-secondary-main-menu")),jQuery("#wpadminbar").length&&(jQuery(".fusion-header, .fusion-sticky-header-wrapper, .fusion-secondary-main-menu").css("top",""),jQuery(e).css("top",window.$wpadminbarHeight+window.$woo_store_notice+window.$top_frame)),"boxed"===avadaHeaderVars.layout_mode&&jQuery(e).css("max-width",jQuery("#wrapper").outerWidth()+"px")),1==window.$sticky_header_type&&(avadaHeaderVars.sticky_header_shrinkage=window.$initial_sticky_header_shrinkage,jQuery(".fusion-secondary-header").length?window.$stickyTrigger_position=Math.round(jQuery(".fusion-secondary-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame+jQuery(".fusion-secondary-header").outerHeight():window.$stickyTrigger_position=Math.round(jQuery(".fusion-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame,Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")||(f=jQuery(".fusion-logo img:visible").outerHeight()+parseInt(avadaHeaderVars.logo_margin_top,10)+parseInt(avadaHeaderVars.logo_margin_bottom,10),i=0,jQuery(".fusion-main-menu > ul > li").each(function(){i+=jQuery(this).outerWidth()}),jQuery(".fusion-header-v6").length&&(i=0),jQuery(".fusion-is-sticky").length?(i>jQuery(".fusion-header .fusion-row").width()-jQuery(".fusion-logo img:visible").outerWidth()?(window.$headerHeight=jQuery(".fusion-main-menu").outerHeight()+f,jQuery(".fusion-header-v7").length&&(window.$headerHeight=jQuery(".fusion-middle-logo-menu").height()),(jQuery(".fusion-header-v2").length||jQuery(".fusion-header-v3").length)&&(window.$headerHeight+=1)):"0"==avadaHeaderVars.sticky_header_shrinkage?(window.original_logo_height>c?window.$headerHeight=window.original_logo_height:window.$headerHeight=c,window.$headerHeight+=parseFloat(jQuery(".fusion-header > .fusion-row").css("padding-top"))+parseFloat(jQuery(".fusion-header > .fusion-row").css("padding-bottom")),window.$headerHeight=Math.round(window.$headerHeight),(jQuery(".fusion-header-v2").length||jQuery(".fusion-header-v3").length)&&(window.$headerHeight+=1)):window.$headerHeight=65,window.$scrolled_header_height=window.$headerHeight,jQuery(".fusion-header-sticky-height").css("height",window.$headerHeight),jQuery(".fusion-header").css("height",window.$headerHeight)):(j=jQuery(".fusion-header .fusion-row").width()-jQuery(".fusion-logo img:visible").outerWidth(),jQuery(".fusion-header-v7").length&&(j=jQuery(".fusion-header .fusion-row").width()),i>j?(window.$headerHeight=jQuery(".fusion-main-menu").outerHeight()+f,jQuery(".fusion-header-v7").length&&(window.$headerHeight=jQuery(".fusion-middle-logo-menu").height()),avadaHeaderVars.sticky_header_shrinkage="0"):(window.original_logo_height>c?window.$headerHeight=window.original_logo_height:window.$headerHeight=c,jQuery(".fusion-header-v7").length&&(window.$headerHeight=jQuery(".fusion-main-menu").outerHeight())),window.$headerHeight+=parseFloat(jQuery(".fusion-header > .fusion-row").css("padding-top"))+parseFloat(jQuery(".fusion-header > .fusion-row").css("padding-bottom")),window.$headerHeight=Math.round(window.$headerHeight),(jQuery(".fusion-header-v2").length||jQuery(".fusion-header-v3").length)&&(window.$headerHeight+=1),window.$scrolled_header_height=65,"0"==avadaHeaderVars.sticky_header_shrinkage&&(window.$scrolled_header_height=window.$headerHeight),jQuery(".fusion-header-sticky-height").css("height",window.$headerHeight),jQuery(".fusion-header").css("height",window.$headerHeight))),Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&(jQuery(".fusion-header").css("height",""),window.$headerHeight=jQuery(".fusion-header").outerHeight(),window.$scrolled_header_height=window.$headerHeight,jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height))),2==window.$sticky_header_type&&("modern"===avadaHeaderVars.mobile_menu_design&&(!Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&jQuery(".fusion-is-sticky").length&&"menu_only"===avadaHeaderVars.header_sticky_type2_layout?window.$headerParentHeight=jQuery(".fusion-header").parent().outerHeight()+jQuery(".fusion-secondary-main-menu").outerHeight():window.$headerParentHeight=jQuery(".fusion-header").parent().outerHeight(),window.$scrolled_header_height=window.header_parent_height,Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")||(window.$headerParentHeight=jQuery(".fusion-header").outerHeight()+jQuery(".fusion-secondary-main-menu").outerHeight(),window.$stickyTrigger_position=Math.round(jQuery(".fusion-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame+jQuery(".fusion-header").outerHeight(),jQuery(b).height(window.$headerParentHeight),jQuery(".fusion-header-sticky-height").css("height","")),Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")&&(jQuery(".fusion-secondary-header").length?window.$stickyTrigger_position=Math.round(jQuery(".fusion-secondary-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame+jQuery(".fusion-secondary-header").outerHeight():window.$stickyTrigger_position=Math.round(jQuery(".fusion-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame,jQuery(b).height(""),jQuery(".fusion-header-sticky-height").css("height",jQuery(".fusion-sticky-header-wrapper").outerHeight()).hide())),"classic"===avadaHeaderVars.mobile_menu_design&&(window.$headerParentHeight=jQuery(".fusion-header").outerHeight()+jQuery(".fusion-secondary-main-menu").outerHeight(),window.$stickyTrigger_position=Math.round(jQuery(".fusion-header").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame+jQuery(".fusion-header").outerHeight(),jQuery(b).height(window.$headerParentHeight))),3==window.$sticky_header_type&&("",Modernizr.mq("only screen and (max-width:"+avadaHeaderVars.side_header_break_point+"px)")||(jQuery("#side-header-sticky").css({height:"",top:""}),jQuery("#side-header").hasClass("fusion-is-sticky")&&(jQuery("#side-header").css({top:"",position:""}),jQuery("#side-header").removeClass("fusion-is-sticky")))),jQuery(document).height()-(window.$initial_desktop_header_height-window.$scrolled_header_height)<jQuery(window).height()&&1==avadaHeaderVars.sticky_header_shrinkage?(window.$sticky_can_be_shrinked=!1,jQuery(".fusion-header-wrapper").removeClass("fusion-is-sticky"),jQuery(".fusion-header-sticky-height").hide(),jQuery(".fusion-header").css("height",""),jQuery(".fusion-logo").css({"margin-top":"","margin-bottom":""}),jQuery(".fusion-main-menu > ul > li > a").css("height",""),jQuery(".fusion-logo img").css("height","")):(window.$sticky_can_be_shrinked=!0,1<=jQuery(".fusion-is-sticky").length&&(1!=window.$sticky_header_type||Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")||(Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")?jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height).show():window.$headerHeight==window.$initial_desktop_header_height?(jQuery(window.$stickyTrigger).stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")}}),jQuery(".fusion-header-sticky-height").show(),jQuery(".fusion-header-sticky-height").stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")}})):jQuery(".fusion-header-sticky-height").show(),"1"==avadaHeaderVars.sticky_header_shrinkage&&window.$headerHeight==window.$initial_desktop_header_height&&(d&&(k=d.height(),k<window.$scrolled_header_height-10?l=(window.$scrolled_header_height-k)/2:(k=window.$scrolled_header_height-10,l=5),d.stop(!0,!0).animate({height:k},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("display","")},step:function(){jQuery(this).css("display","")}})),jQuery(".fusion-logo").stop(!0,!0).animate({"margin-top":l,"margin-bottom":l},{queue:!1,duration:a,easing:"easeOutCubic"}),jQuery(".fusion-header-v6").length||jQuery(".fusion-main-menu > ul > li").not(".fusion-middle-logo-menu-logo").find("> a").stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic"}))))),g=jQuery(window).width(),h=jQuery(window).height())}),jQuery(window).scroll(function(){var b,f;if(window.$sticky_can_be_shrinked){if("1"!=avadaHeaderVars.header_sticky_tablet&&window.$media_query_test_1)return;if("1"==avadaHeaderVars.header_sticky_tablet&&window.$media_query_test_1&&(a=0),"1"!=avadaHeaderVars.header_sticky_mobile&&window.$media_query_test_2&&!window.$media_query_test_1)return;if("1"==avadaHeaderVars.header_sticky_mobile&&window.$media_query_test_2&&(a=0),3==window.$sticky_header_type&&"1"!=avadaHeaderVars.header_sticky_mobile)return;if(3==window.$sticky_header_type&&"1"==avadaHeaderVars.header_sticky_mobile&&!window.$media_query_test_3)return;0===jQuery(".fusion-is-sticky").length&&jQuery(".fusion-header, .fusion-secondary-main-menu, #side-header").find(".fusion-mobile-nav-holder > ul").is(":visible")&&(jQuery(".fusion-header-has-flyout-menu-content").length?window.$stickyTrigger_position=Math.round(jQuery(".fusion-header, .fusion-sticky-header-wrapper, #side-header").find(".fusion-header-has-flyout-menu-content").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame:window.$stickyTrigger_position=Math.round(jQuery(".fusion-header, .fusion-sticky-header-wrapper, #side-header").find(".fusion-mobile-nav-holder:visible").offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame+jQuery(".fusion-header, .fusion-sticky-header-wrapper, #side-header").find(".fusion-mobile-nav-holder:visible").height()),3==window.$sticky_header_type||0!==jQuery(".fusion-is-sticky").length||jQuery(".fusion-header, .fusion-secondary-main-menu").find(".fusion-mobile-nav-holder > ul").is(":visible")||(window.$stickyTrigger=jQuery(".fusion-header"),window.$stickyTrigger_position=Math.round(window.$stickyTrigger.offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame,2==window.$sticky_header_type&&("menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout||window.$media_query_test_4&&"modern"===avadaHeaderVars.mobile_menu_design?window.$stickyTrigger=jQuery(".fusion-sticky-header-wrapper"):window.$stickyTrigger=jQuery(".fusion-secondary-main-menu"),window.$stickyTrigger_position=Math.round(window.$stickyTrigger.offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame),"modern"!==avadaHeaderVars.mobile_menu_design||2!=window.$sticky_header_type||!window.$media_query_test_4&&"menu_and_logo"!==avadaHeaderVars.header_sticky_type2_layout||(window.$headerHeight=jQuery(window.$stickyTrigger).outerHeight(),window.$scrolled_header_height=window.$headerHeight,jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height).show())),3!=window.$sticky_header_type||0!==jQuery(".fusion-is-sticky").length||jQuery("#side-header").find(".fusion-mobile-nav-holder > ul").is(":visible")||(window.$stickyTrigger=jQuery("#side-header"),window.$stickyTrigger_position=Math.round(window.$stickyTrigger.offset().top)-window.$wpadminbarHeight-window.$woo_store_notice-window.$top_frame),jQuery(window).scrollTop()>window.$stickyTrigger_position?!1===e&&(window.$woo_store_notice=jQuery(".woocommerce-store-notice").length&&jQuery(".woocommerce-store-notice").is(":visible")?jQuery(".woocommerce-store-notice").outerHeight():0,jQuery(".fusion-header-wrapper").addClass("fusion-is-sticky"),jQuery(window.$stickyTrigger).css("top",window.$wpadminbarHeight+window.$woo_store_notice+window.$top_frame),d=jQuery(".fusion-logo img:visible"),"modern"===avadaHeaderVars.mobile_menu_design?(jQuery(".fusion-header, .fusion-secondary-main-menu, #side-header").find(".fusion-mobile-nav-holder").hide(),jQuery(".fusion-secondary-main-menu .fusion-main-menu-search .fusion-custom-menu-item-contents").hide(),jQuery(".fusion-mobile-menu-search").hide()):"classic"===avadaHeaderVars.mobile_menu_design&&(jQuery(".fusion-header, .fusion-secondary-main-menu, #side-header").find(".fusion-mobile-nav-holder > ul").hide(),jQuery(".fusion-mobile-menu-search").hide()),"modern"===avadaHeaderVars.mobile_menu_design&&1<=jQuery(".fusion-is-sticky").length&&1<=jQuery(".fusion-mobile-sticky-nav-holder").length&&jQuery(".fusion-mobile-nav-holder").is(":visible")&&jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").hide(),"boxed"===avadaHeaderVars.layout_mode&&jQuery(window.$stickyTrigger).css("max-width",jQuery("#wrapper").outerWidth()),1==window.$sticky_header_type&&(Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")?jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height).show():window.$headerHeight==window.$initial_desktop_header_height?(jQuery(window.$stickyTrigger).stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")}}),jQuery(".fusion-header-sticky-height").show(),jQuery(".fusion-header-sticky-height").stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")}})):jQuery(".fusion-header-sticky-height").show(),"1"==avadaHeaderVars.header_sticky_shadow&&setTimeout(function(){jQuery(".fusion-header").addClass("fusion-sticky-shadow")},150),"1"==avadaHeaderVars.sticky_header_shrinkage&&window.$headerHeight==window.$initial_desktop_header_height&&(jQuery(window.$stickyTrigger).find(".fusion-row").stop(!0,!0).animate({"padding-top":0,"padding-bottom":0},{queue:!1,duration:a,easing:"easeOutCubic"}),d&&(b=d.height(),d.attr("data-logo-height",d.height()),d.attr("data-logo-width",d.width()),b<window.$scrolled_header_height-10?f=(window.$scrolled_header_height-b)/2:(b=window.$scrolled_header_height-10,f=5),d.stop(!0,!0).animate({height:b},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("display","")},step:function(){jQuery(this).css("display","")}})),jQuery(".fusion-logo").stop(!0,!0).animate({"margin-top":f,"margin-bottom":f},{queue:!1,duration:a,easing:"easeOutCubic"}),jQuery(".fusion-header-v6").length||jQuery(".fusion-main-menu > ul > li").not(".fusion-middle-logo-menu-logo").find("> a").stop(!0,!0).animate({height:window.$scrolled_header_height},{queue:!1,duration:a,easing:"easeOutCubic"}))),2==window.$sticky_header_type&&("menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout&&(jQuery(window.$stickyTrigger).css("height",""),window.$headerHeight=jQuery(window.$stickyTrigger).outerHeight(),window.$scrolled_header_height=window.$headerHeight,jQuery(window.$stickyTrigger).css("height",window.$scrolled_header_height),jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height)),jQuery(".fusion-header-sticky-height").show()),3==window.$sticky_header_type&&Modernizr.mq("only screen and (max-width:"+avadaHeaderVars.side_header_break_point+"px)")&&(jQuery("#side-header-sticky").css({height:jQuery("#side-header").outerHeight()}),jQuery("#side-header").css({position:"fixed",top:window.$wpadminbarHeight+window.$woo_store_notice+window.$top_frame}).addClass("fusion-is-sticky")),e=!0):jQuery(window).scrollTop()<=window.$stickyTrigger_position&&(jQuery(".fusion-header-wrapper").removeClass("fusion-is-sticky"),jQuery(".fusion-header").removeClass("fusion-sticky-shadow"),d=jQuery(".fusion-logo img:visible"),"modern"===avadaHeaderVars.mobile_menu_design&&0===jQuery(".fusion-is-sticky").length&&1<=jQuery(".fusion-mobile-sticky-nav-holder").length&&jQuery(".fusion-mobile-nav-holder").is(":visible")&&jQuery(".fusion-mobile-sticky-nav-holder").hide(),1==window.$sticky_header_type&&(Modernizr.mq("only screen and (max-width: "+avadaHeaderVars.side_header_break_point+"px)")?jQuery(".fusion-header-sticky-height").hide().css("height",window.$headerHeight):(1==window.$sticky_header_type&&65==window.$headerHeight&&(window.$headerHeight=window.$initial_desktop_header_height),window.$headerHeight==window.$initial_desktop_header_height?(jQuery(window.$stickyTrigger).stop(!0,!0).animate({height:window.$headerHeight},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")},step:function(){jQuery(this).css("overflow","visible")}}),jQuery(".fusion-header-sticky-height").stop(!0,!0).animate({height:window.$headerHeight},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("overflow","visible")},step:function(){jQuery(this).css("overflow","visible")}})):jQuery(".fusion-header-v7").length&&(jQuery(".fusion-header-sticky-height").css("height",jQuery(".fusion-middle-logo-menu").height()),jQuery(".fusion-header").css("height",jQuery(".fusion-middle-logo-menu").height())),jQuery(".fusion-header-sticky-height").hide()),"1"==avadaHeaderVars.sticky_header_shrinkage&&window.$headerHeight==window.$initial_desktop_header_height&&(jQuery(window.$stickyTrigger).find(".fusion-row").stop(!0,!0).animate({"padding-top":avadaHeaderVars.header_padding_top,"padding-bottom":avadaHeaderVars.header_padding_bottom},{queue:!1,duration:a,easing:"easeOutCubic"}),d&&d.stop(!0,!0).animate({height:d.data("logo-height")},{queue:!1,duration:a,easing:"easeOutCubic",complete:function(){jQuery(this).css("display",""),jQuery(".fusion-sticky-logo").css("height","")}}),jQuery(".fusion-logo").stop(!0,!0).animate({"margin-top":jQuery(".fusion-logo").data("margin-top"),"margin-bottom":jQuery(".fusion-logo").data("margin-bottom")},{queue:!1,duration:a,easing:"easeOutCubic"}),jQuery(".fusion-header-v6").length||jQuery(".fusion-main-menu > ul > li").not(".fusion-middle-logo-menu-logo").find("> a").stop(!0,!0).animate({height:c},{queue:!1,duration:a,easing:"easeOutCubic"}))),2==window.$sticky_header_type&&(jQuery(".fusion-header-sticky-height").hide(),"menu_and_logo"===avadaHeaderVars.header_sticky_type2_layout&&(jQuery(window.$stickyTrigger).css("height",""),window.$headerHeight=jQuery(window.$stickyTrigger).outerHeight(),window.$scrolled_header_height=window.$headerHeight,jQuery(window.$stickyTrigger).css("height",window.$scrolled_header_height),jQuery(".fusion-header-sticky-height").css("height",window.$scrolled_header_height))),3==window.$sticky_header_type&&Modernizr.mq("only screen and (max-width:"+avadaHeaderVars.side_header_break_point+"px)")&&(jQuery("#side-header-sticky").css({height:""}),jQuery("#side-header").css({position:""}).removeClass("fusion-is-sticky")),e=!1)}}),jQuery(window).trigger("scroll")),setTimeout(function(){m=!1,jQuery(window).trigger("resize"),m=!0},10),jQuery(window).on("resize",function(){jQuery(".woocommerce-store-notice").length&&jQuery(".woocommerce-store-notice").is(":visible")&&!jQuery(".fusion-top-frame").length&&(jQuery("#wrapper").css("margin-top",jQuery(".woocommerce-store-notice").outerHeight()),jQuery(".sticky-header").length&&jQuery(".sticky-header").css("margin-top",jQuery(".woocommerce-store-notice").outerHeight())),jQuery(".sticky-header").length&&(765>jQuery(window).width()?jQuery("body.admin-bar #header-sticky.sticky-header").css("top","46px"):jQuery("body.admin-bar #header-sticky.sticky-header").css("top","32px"))})}),jQuery(document).ajaxComplete(function(){var a,b,c;jQuery(window).trigger("scroll"),1<=jQuery(".fusion-is-sticky").length&&window.$stickyTrigger&&3!=window.$sticky_header_type&&!jQuery(".fusion-header-v6").length&&"background"!==avadaHeaderVars.nav_highlight_style&&(a=1>=Math.abs(jQuery(window.$stickyTrigger).height()-jQuery(".fusion-is-sticky .fusion-header > .fusion-row").outerHeight())?jQuery(".fusion-is-sticky .fusion-header > .fusion-row"):jQuery(window.$stickyTrigger),b=parseInt(avadaHeaderVars.nav_highlight_border,10),c=a.height(),a.height()-b,2==window.$sticky_header_type&&(a=jQuery(".fusion-secondary-main-menu"),c=a.find(".fusion-main-menu > ul > li > a").outerHeight(),c-b),jQuery(".fusion-main-menu > ul > li").not(".fusion-middle-logo-menu-logo").find("> a").css("height",c+"px"))});var avadaMenuVars={"site_layout":"Wide","header_position":"Top","logo_alignment":"Center","header_sticky":"0","header_sticky_mobile":"1","header_sticky_tablet":"1","side_header_break_point":"800","megamenu_base_width":"custom_width","mobile_menu_design":"modern","dropdown_goto":"Go to...","mobile_nav_cart":"Shopping Cart","mobile_submenu_open":"Open Sub Menu Of","mobile_submenu_close":"Close Sub Menu Of","submenu_slideout":"1"};jQuery(document).ready(function(){"use strict";function a(a){"Top"===avadaMenuVars.header_position&&(jQuery(a).mouseenter(function(){jQuery(this).find("> div").length&&0>jQuery(this).find("> div").offset().left&&jQuery(this).find("> div").css({left:"0",right:"auto"}),jQuery(this).find("> div").length&&jQuery(this).find("> div").offset().left+jQuery(this).find("> div").width()>jQuery(window).width()&&jQuery(this).find("> div").css({left:"auto",right:"0"})}),jQuery(window).on("resize",function(){jQuery(a).find("> div").each(function(){var a=jQuery(this),b=a.outerWidth(),c=a.offset().left,d=c+b,e=a.parent().offset().left,f=jQuery(window).width();jQuery("body.rtl").length?c==e&&d>f||c<e&&d+b>f?a.css({left:"auto",right:"0"}):a.css({left:"0",right:"auto"}):c<e&&0>c||c==e&&0>c-b?a.css({left:"0",right:"auto"}):a.css({left:"auto",right:"0"})})}))}function b(){var a,b,c=jQuery(".fusion-header-has-flyout-menu"),d=0,e=c.find(".fusion-header").offset().top,f=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"),g=Modernizr.mq("only screen and (max-width: "+avadaMenuVars.side_header_break_point+"px)");jQuery("body").bind("touchmove",function(a){jQuery(a.target).parents(".fusion-flyout-menu").length||a.preventDefault()}),1<=jQuery(".fusion-mobile-menu-design-flyout").length?(b=1<=jQuery(".fusion-is-sticky").length&&1<=jQuery(".fusion-mobile-sticky-nav-holder").length?c.find(".fusion-flyout-menu.fusion-mobile-sticky-nav-holder"):c.find(".fusion-flyout-menu:not(.fusion-mobile-sticky-nav-holder)"),c.find(".fusion-flyout-menu").css({display:"none"}),b.css({display:"flex"})):b=c.find(".fusion-flyout-menu"),jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").length&&(d=jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").outerHeight()),window.$wpadminbarHeight=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,a=jQuery(".fusion-header-has-flyout-menu-content").height()+jQuery(".fusion-secondary-header").height()+window.$wpadminbarHeight,c.hasClass("fusion-flyout-menu-active")&&(b.css({height:"calc(100% - "+a+"px)","margin-top":a}),b.find(".fusion-menu").height()>b.height()&&b.css("display","flex")),"0"==avadaMenuVars.header_sticky||f&&"0"==avadaMenuVars.header_sticky_tablet||g&&"0"==avadaMenuVars.header_sticky_mobile?(c.find(".fusion-header").css({position:"fixed",width:"100%","max-width":"100%",top:window.$wpadminbarHeight+d,"z-index":"210"}),jQuery(".fusion-header-sticky-height").css({display:"block",height:c.find(".fusion-header").outerHeight()})):e>window.$wpadminbarHeight&&(c.find(".fusion-header").css({position:"fixed",top:window.$wpadminbarHeight+d}),jQuery(".layout-boxed-mode").length&&c.find(".fusion-header").css("max-width",jQuery("#wrapper").outerWidth()+"px"),jQuery(".fusion-header-wrapper").css("height",""))}function c(){setTimeout(function(){var a=jQuery(".fusion-header-has-flyout-menu"),b=0,c=Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1366px) and (orientation: portrait)")||Modernizr.mq("only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape)"),d=Modernizr.mq("only screen and (max-width: "+avadaMenuVars.side_header_break_point+"px)");jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").length&&(b=jQuery(".fusion-header-has-flyout-menu .fusion-secondary-header").outerHeight()),a.find(".fusion-flyout-menu").css("display",""),"0"==avadaMenuVars.header_sticky||c&&"0"==avadaMenuVars.header_sticky_tablet||d&&"0"==avadaMenuVars.header_sticky_mobile?(a.find(".fusion-header").attr("style",""),jQuery(".fusion-header-sticky-height").attr("style","")):"fixed"===a.find(".fusion-header").css("position")&&(a.find(".fusion-header").css("position",""),a.find(".fusion-header").offset().top>b&&a.find(".fusion-header").css("top",window.$wpadminbarHeight),jQuery(window).trigger("scroll")),jQuery("body").unbind("touchmove")},250)}var d;jQuery(".fusion-dropdown-svg").length&&jQuery(".fusion-dropdown-svg").each(function(){var a=jQuery(this).parents("li").find("> .sub-menu > li:first-child");(jQuery(a).hasClass("current-menu-item")||jQuery(a).hasClass("current-menu-parent")||jQuery(a).hasClass("current_page_item"))&&jQuery(this).addClass("fusion-svg-active"),jQuery(a).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover",function(){jQuery(this).parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active")})}),jQuery.fn.fusion_position_menu_dropdown=function(){return"Top"===avadaMenuVars.header_position&&!jQuery("body.rtl").length||"Left"===avadaMenuVars.header_position?jQuery(this).children(".sub-menu").each(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=jQuery(this);p.removeAttr("style"),p.show(),p.removeData("shifted"),p.length&&(a=p.offset(),b=a.left,c=a.top,d=p.height(),e=p.outerWidth(),f=c+d,g=b+e,j=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,k=jQuery(window).scrollTop(),l=jQuery(window).height(),m=k+l,h=jQuery(window).width(),g>h?(p.addClass("fusion-switched-side"),p.parent().parent(".sub-menu").length?p.css({left:-1*e}):p.css("left",-1*e+p.parent().width()),p.data("shifted",1)):p.parent().parent(".sub-menu").length&&(p.removeClass("fusion-switched-side"),p.parent().parent(".sub-menu").data("shifted")&&(p.css("left",-1*e),p.data("shifted",1))),"Top"!==avadaMenuVars.header_position&&f>m&&(i=d<m?-1*(f-m+10):-1*(c-k-j),jQuery(".fusion-dropdown-svg").length&&(p.find("> li > a").off("hover"),p.parents("li").find(".fusion-dropdown-svg").removeClass("fusion-svg-active"),n=Math.floor(i/p.find("li").outerHeight()),i=n*p.find("li").outerHeight(),o=p.find("> li:nth-child( "+(Math.abs(n)+1)+")"),(jQuery(o).hasClass("current-menu-item")||jQuery(o).hasClass("current-menu-parent")||jQuery(o).hasClass("current_page_item"))&&p.parents("li").find(".fusion-dropdown-svg").addClass("fusion-svg-active"),jQuery(o).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover",function(){p.parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active")})),p.css("top",i)))}):jQuery(this).children(".sub-menu").each(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;jQuery(this).removeAttr("style"),jQuery(this).removeData("shifted"),a=jQuery(this),a.length&&(b=a.offset(),c=b.left,d=b.top,e=a.height(),f=a.outerWidth(),g=d+e,h=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,i=jQuery(window).scrollTop(),j=jQuery(window).height(),k=i+j,m="right",0>c?(a.addClass("fusion-switched-side"),a.parent().parent(".sub-menu").length?c<f?a.attr("style",m+":"+-1*f+"px !important"):a.css(m,-1*f):a.css(m,-1*f+a.parent().width()),a.data("shifted",1)):a.parent().parent(".sub-menu").length&&(a.removeClass("fusion-switched-side"),a.parent().parent(".sub-menu").data("shifted")&&a.css(m,-1*f)),"Top"!==avadaMenuVars.header_position&&g>k&&(l=e<k?-1*(g-k+10):-1*(d-i-h),jQuery(".fusion-dropdown-svg").length&&(a.find("> li > a").off("hover"),a.parents("li").find(".fusion-dropdown-svg").removeClass("fusion-svg-active"),n=Math.floor(l/a.find("li").outerHeight()),l=n*a.find("li").outerHeight(),o=a.find("> li:nth-child( "+(Math.abs(n)+1)+")"),(jQuery(o).hasClass("current-menu-item")||jQuery(o).hasClass("current-menu-parent")||jQuery(o).hasClass("current_page_item"))&&a.parents("li").find(".fusion-dropdown-svg").addClass("fusion-svg-active"),jQuery(o).not(".current-menu-item, .current-menu-parent, .current_page_item").find("> a").on("hover",function(){a.parents("li").find(".fusion-dropdown-svg").toggleClass("fusion-svg-active")})),a.css("top",l)))})},jQuery.fn.walk_through_menu_items=function(){jQuery(this).fusion_position_menu_dropdown(),jQuery(this).find(".sub-menu").length&&jQuery(this).find(".sub-menu li").walk_through_menu_items()},jQuery.fn.position_cart_dropdown=function(){"Top"!==avadaMenuVars.header_position&&jQuery(this).find(".fusion-menu-cart-items").each(function(){var a,b,c,d=jQuery(this),e=d.height(),f=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,g=jQuery(window).scrollTop(),h=jQuery(window).height(),i=g+h;d.css("top",""),a=d.offset().top,(b=a+e)>i&&(c=e<h?-1*(b-i+10):-1*(a-g-f),d.css("top",c))})},jQuery.fn.position_menu_search_form=function(){"Top"!==avadaMenuVars.header_position&&jQuery(this).each(function(){var a,b,c,d=jQuery(this),e=d.outerHeight(),f=jQuery(window).scrollTop(),g=jQuery(window).height(),h=f+g;d.css("top",""),a=d.offset().top,(b=a+e)>h&&(c=-1*(b-h+10),d.css("top",c))})},jQuery.fn.fusion_position_megamenu=function(){var a,b,c,d,e,f,g,h,i,j,k;return"Top"===avadaMenuVars.header_position&&(g=jQuery(".fusion-secondary-main-menu").length?jQuery(".fusion-header-wrapper .fusion-secondary-main-menu .fusion-row"):jQuery(".fusion-header-wrapper .fusion-row"),h=g.width(),i=g.offset(),j=i.left,k=j+h),jQuery(".side-header-left").length?this.each(function(){jQuery(this).children("li").each(function(){var a,b,c,d,e,f,g,h,i=jQuery(this),j=i.find(".fusion-megamenu-wrapper");j.length&&(j.removeAttr("style"),a=jQuery("#side-header").outerWidth()-1,b=j.offset().top,c=j.height(),d=b+c,e=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,f=jQuery(".side-header-wrapper").offset().top-e,g=jQuery(window).height(),jQuery("body.rtl").length?j.css({left:a,right:"auto"}):j.css("left",a),d>f+g&&jQuery(window).height()>=jQuery(".side-header-wrapper").height()&&(h=c<g?-1*(d-f-g+20):-1*(b-e),j.css("top",h)))})}):jQuery(".side-header-right").length?this.each(function(){jQuery(this).children("li").each(function(){var a,b,c,d,e,f,g,h,i=jQuery(this),j=i.find(".fusion-megamenu-wrapper");j.length&&(j.removeAttr("style"),a=-1*j.outerWidth(),b=j.offset().top,c=j.height(),d=b+c,e=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0,f=jQuery(".side-header-wrapper").offset().top-e,g=jQuery(window).height(),jQuery("body.rtl").length?j.css({left:a,right:"auto"}):j.css("left",a),d>f+g&&jQuery(window).height()>=jQuery(".side-header-wrapper").height()&&(h=c<g?-1*(d-f-g+20):-1*(b-e),j.css("top",h)))})}):(a="",a=jQuery(".fusion-header-v4").length?jQuery(this).parent(".fusion-main-menu").parent():jQuery(this).parent(".fusion-main-menu"),jQuery(this).parent(".fusion-main-menu").length?(b=a,c=b.offset(),d=b.width(),e=c.left,f=e+d,jQuery("body.rtl").length?this.each(function(){jQuery(this).children("li").each(function(){var a=jQuery(this),b=a.offset(),c=b.left+a.outerWidth(),d=a.find(".fusion-megamenu-wrapper"),i=d.outerWidth(),j=0;d.length&&(d.removeAttr("style"),h=g.width(),c-i<e&&(i===jQuery(window).width()?j=c-i:i>h?j=c-k+(h-i)/2:(j=-1*(b.left-(f-i)),j=-1*(i-(c-e)),("left"===avadaMenuVars.logo_alignment.toLowerCase()||"center"===avadaMenuVars.logo_alignment.toLowerCase()&&!jQuery(".header-v5").length||jQuery(this).parents(".sticky-header").length)&&c-j>f&&(j=-1*(f-c))),d.css("right",j)))})}):this.each(function(){jQuery(this).children("li").each(function(){var a=jQuery(this),b=a.offset(),c=a.find(".fusion-megamenu-wrapper"),d=c.outerWidth(),i=0;c.length&&(c.removeAttr("style"),h=g.width(),b.left+d>f&&(d===jQuery(window).width()?i=-1*b.left:d>h?i=j-b.left+(h-d)/2:(i=-1*(b.left-(f-d)),"right"===avadaMenuVars.logo_alignment.toLowerCase()&&b.left+i<e&&(i=-1*(b.left-e))),c.css("left",i)))})})):void 0)},jQuery.fn.calc_megamenu_widths=function(){jQuery(this).find(".fusion-megamenu-menu").each(function(){var a,b,c,d,e=jQuery(this).find(".fusion-megamenu-holder"),f=e.data("width");e.css("width",f),a=e.outerWidth(),"site_width"===avadaMenuVars.megamenu_base_width?"Top"===avadaMenuVars.header_position?(b=jQuery(".fusion-secondary-main-menu").length?jQuery(".fusion-header-wrapper .fusion-secondary-main-menu .fusion-row"):jQuery(".fusion-header-wrapper .fusion-row"),c=b.width()):"Boxed"===avadaMenuVars.site_layout?c=jQuery("#main").outerWidth():(d=jQuery("#main").css("padding-left").replace("px",""),c=jQuery(window).width()-d-jQuery("#side-header").outerWidth()):c="viewport_width"===avadaMenuVars.megamenu_base_width&&"Boxed"===avadaMenuVars.site_layout&&"Top"!==avadaMenuVars.header_position?jQuery("#main").outerWidth():jQuery(window).width(),c<a?e.css("width",c):e.css("width",a)})},jQuery.fn.position_last_top_menu_item=function(){var a,b,c,d,e,f;(jQuery(this).children("ul").length||jQuery(this).children("div").length)&&(a=jQuery(this),b=a.position().left,a.outerWidth(),d=jQuery(".fusion-secondary-header .fusion-row"),e=d.position().left,f=d.outerWidth(),a.children("ul").length?c=a.children("ul"):a.children("div").length&&(c=a.children("div")),jQuery("body.rtl").length?c.position().left<b&&(c.css("left","-1px").css("right","auto"),c.find(".sub-menu").each(function(){jQuery(this).css("left","100px").css("right","auto")})):b+c.outerWidth()>e+f&&(c.css("right","-1px").css("left","auto"),c.find(".sub-menu").each(function(){jQuery(this).css("right","100px").css("left","auto")})))},jQuery(".fusion-main-menu > ul > li:last-child").addClass("fusion-last-menu-item"),jQuery.fn.fusion_position_menu_dropdown&&(jQuery(".fusion-dropdown-menu, .fusion-dropdown-menu li").mouseenter(function(){jQuery(this).fusion_position_menu_dropdown()}),jQuery(".fusion-dropdown-menu > ul > li").each(function(){jQuery(this).walk_through_menu_items()}),jQuery(window).on("resize",function(){jQuery(".fusion-dropdown-menu > ul > li").each(function(){jQuery(this).walk_through_menu_items()})})),jQuery(".fusion-dropdown-menu").mouseenter(function(){jQuery(this).css("overflow","visible")}),jQuery(".fusion-dropdown-menu, .fusion-megamenu-menu, .fusion-custom-menu-item ").mouseleave(function(){jQuery(this).css("overflow",""),jQuery(".fusion-active-link").removeClass("fusion-active-link")}),jQuery("a").on("focus",function(){jQuery(".fusion-active-link ").removeClass("fusion-active-link"),jQuery(this).parents(".fusion-dropdown-menu, .fusion-main-menu-cart, .fusion-megamenu-menu, .fusion-custom-menu-item").length&&(jQuery(this).parents("li").addClass("fusion-active-link"),jQuery(".fusion-main-menu").css("overflow","visible"))}),jQuery(document).click(function(){jQuery(".fusion-main-menu-search .fusion-custom-menu-item-contents").hide(),jQuery(".fusion-main-menu-search").removeClass("fusion-main-menu-search-open"),jQuery(".fusion-main-menu-search").find("style").remove()}),jQuery(".fusion-main-menu-search").click(function(a){a.stopPropagation()}),jQuery(".fusion-main-menu-search .fusion-main-menu-icon").click(function(a){a.preventDefault(),a.stopPropagation(),"block"===jQuery(this).parent().find(".fusion-custom-menu-item-contents").css("display")?(jQuery(this).parent().find(".fusion-custom-menu-item-contents").hide(),jQuery(this).parent().removeClass("fusion-main-menu-search-open"),jQuery(this).parent().find("style").remove()):(jQuery(this).parent().find(".fusion-custom-menu-item-contents").removeAttr("style"),jQuery(this).parent().find(".fusion-custom-menu-item-contents").show(),jQuery(this).parent().addClass("fusion-main-menu-search-open"),jQuery(this).parent().append("<style>.fusion-main-menu{overflow:visible!important;</style>"),jQuery(this).parent().find(".fusion-custom-menu-item-contents .s").focus(),"Top"===avadaMenuVars.header_position&&(!jQuery("body.rtl").length&&0>jQuery(this).parent().find(".fusion-custom-menu-item-contents").offset().left&&jQuery(this).parent().find(".fusion-custom-menu-item-contents").css({left:"0",right:"auto"}),jQuery("body.rtl").length&&jQuery(this).parent().find(".fusion-custom-menu-item-contents").offset().left+jQuery(this).parent().find(".fusion-custom-menu-item-contents").width()>jQuery(window).width()&&jQuery(this).parent().find(".fusion-custom-menu-item-contents").css({left:"auto",right:"0"})))}),jQuery.fn.fusion_position_megamenu&&(jQuery(".fusion-main-menu > ul").fusion_position_megamenu(),jQuery(".fusion-main-menu .fusion-megamenu-menu").mouseenter(function(){jQuery(this).parent().fusion_position_megamenu()}),jQuery(window).resize(function(){jQuery(".fusion-main-menu > ul").fusion_position_megamenu()})),jQuery.fn.calc_megamenu_widths&&(jQuery(".fusion-main-menu > ul").calc_megamenu_widths(),jQuery(window).resize(function(){jQuery(".fusion-main-menu > ul").calc_megamenu_widths()})),jQuery(".fusion-header-wrapper .fusion-secondary-menu > ul > li:last-child").position_last_top_menu_item(),a(".fusion-main-menu .fusion-main-menu-cart"),a(".fusion-secondary-menu .fusion-menu-login-box"),jQuery(".fusion-megamenu-menu").mouseenter(function(){jQuery(this).find(".shortcode-map").length&&jQuery(this).find(".shortcode-map").each(function(){jQuery(this).reinitializeGoogleMap()})}),d=!1,jQuery(".fusion-megamenu-menu").mouseover(function(){jQuery(this).find(".fusion-megamenu-widgets-container iframe").each(function(){d||jQuery(this).attr("src",jQuery(this).attr("src")),d=!0})}),jQuery(".fusion-megamenu-wrapper iframe").mouseover(function(){jQuery(this).parents(".fusion-megamenu-widgets-container").css("display","block"),jQuery(this).parents(".fusion-megamenu-wrapper").css({opacity:"1",visibility:"visible"})}),jQuery(".fusion-megamenu-wrapper iframe").mouseout(function(){jQuery(this).parents(".fusion-megamenu-widgets-container").css("display",""),jQuery(this).parents(".fusion-megamenu-wrapper").css({opacity:"",visibility:""})}),jQuery(".fusion-main-menu").on("mouseenter",".fusion-menu-cart",function(){jQuery(this).position_cart_dropdown()}),jQuery(".fusion-main-menu .fusion-main-menu-search .fusion-main-menu-icon").click(function(){var a=jQuery(this);setTimeout(function(){a.parent().find(".fusion-custom-menu-item-contents").position_menu_search_form()},5)}),jQuery(window).on("resize",function(){jQuery(".fusion-main-menu .fusion-main-menu-search .fusion-custom-menu-item-contents").position_menu_search_form()}),jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").each(function(){var a=jQuery(this),b="",c="",d="";c=jQuery(".fusion-mobile-navigation").length?jQuery(this).parent().find(".fusion-mobile-navigation, .fusion-secondary-menu").not(".fusion-sticky-menu"):jQuery(this).parent().find(".fusion-main-menu, .fusion-secondary-menu").not(".fusion-sticky-menu"),c.length&&("classic"===avadaMenuVars.mobile_menu_design&&(a.append('<button class="fusion-mobile-selector" aria-expanded="false"><span>'+avadaMenuVars.dropdown_goto+"</span></button>"),jQuery(this).find(".fusion-mobile-selector").append('<div class="fusion-selector-down"></div>')),jQuery(a).append(jQuery(c).find("> ul").clone()),b=jQuery(a).find("> ul"),d=b.attr("id"),b.attr("id","mobile-"+d),b.removeClass("fusion-middle-logo-ul"),"classic"===avadaMenuVars.mobile_menu_design&&a.find(".fusion-mobile-selector").attr("aria-controls",b.attr("id")),b.find(".fusion-middle-logo-menu-logo, .fusion-caret, .fusion-menu-login-box .fusion-custom-menu-item-contents, .fusion-menu-cart .fusion-custom-menu-item-contents, .fusion-main-menu-search, li> a > span > .button-icon-divider-left, li > a > span > .button-icon-divider-right, .fusion-arrow-svg, .fusion-dropdown-svg").remove(),(jQuery(".no-mobile-slidingbar").length||"classic"!==avadaMenuVars.mobile_menu_design)&&b.find(".fusion-main-menu-sliding-bar").remove(),"classic"===avadaMenuVars.mobile_menu_design?b.find(".fusion-menu-cart > a").html(avadaMenuVars.mobile_nav_cart):b.find(".fusion-main-menu-cart").remove(),b.find("li").each(function(){var a="fusion-mobile-nav-item";jQuery(this).data("classes")&&(a+=" "+jQuery(this).data("classes")),jQuery(this).find("img").hasClass("wpml-ls-flag")&&(a+=" wpml-ls-item"),jQuery(this).hasClass("menu-item-has-children")&&(a+=" menu-item-has-children"),jQuery(this).find("> a > .menu-text").removeAttr("class").addClass("menu-text"),(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor"))&&(a+=" fusion-mobile-current-nav-item"),jQuery(this).attr("class",a),jQuery(this).attr("id")&&jQuery(this).attr("id",jQuery(this).attr("id").replace("menu-item","mobile-menu-item")),jQuery(this).attr("style","")}),jQuery(this).find(".fusion-mobile-selector").click(function(){b.hasClass("mobile-menu-expanded")?(b.removeClass("mobile-menu-expanded"),jQuery(this).attr("aria-expanded","false")):(b.addClass("mobile-menu-expanded"),jQuery(this).attr("aria-expanded","true")),b.slideToggle(200,"easeOutQuad"),jQuery(".fusion-mobile-menu-search").slideToggle(200,"easeOutQuad")}))}),jQuery(".fusion-mobile-sticky-nav-holder").each(function(){var a=jQuery(this),b="",c=jQuery(this).parent().find(".fusion-sticky-menu");"classic"===avadaMenuVars.mobile_menu_design&&(a.append('<button class="fusion-mobile-selector" aria-expanded="false"><span>'+avadaMenuVars.dropdown_goto+"</span></button>"),jQuery(this).find(".fusion-mobile-selector").append('<div class="fusion-selector-down"></div>')),jQuery(a).append(jQuery(c).find("> ul").clone()),b=jQuery(a).find("> ul"),"classic"===avadaMenuVars.mobile_menu_design&&a.find(".fusion-mobile-selector").attr("aria-controls",b.attr("id")),b.find(".fusion-middle-logo-menu-logo, .fusion-menu-cart, .fusion-menu-login-box, .fusion-main-menu-search, .fusion-arrow-svg, .fusion-dropdown-svg").remove(),(jQuery(".no-mobile-slidingbar").length||"classic"!==avadaMenuVars.mobile_menu_design)&&b.find(".fusion-main-menu-sliding-bar").remove(),b.find(".fusion-button").attr("class","menu-text"),b.find("li").each(function(){var a="fusion-mobile-nav-item";jQuery(this).data("classes")&&(a+=" "+jQuery(this).data("classes")),jQuery(this).find("img").hasClass("wpml-ls-flag")&&(a+=" wpml-ls-item"),(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor"))&&(a+=" fusion-mobile-current-nav-item"),jQuery(this).attr("class",a),jQuery(this).attr("id")&&jQuery(this).attr("id",jQuery(this).attr("id").replace("menu-item","mobile-menu-item")),jQuery(this).attr("style","")}),jQuery(this).find(".fusion-mobile-selector").click(function(){b.hasClass("mobile-menu-expanded")?(b.removeClass("mobile-menu-expanded"),jQuery(this).attr("aria-expanded","false")):(b.addClass("mobile-menu-expanded"),jQuery(this).attr("aria-expanded","true")),b.slideToggle(200,"easeOutQuad"),jQuery(".fusion-mobile-menu-search").slideToggle(200,"easeOutQuad")})}),jQuery(".fusion-mobile-nav-holder > ul > li").each(function(){jQuery(this).find(".fusion-megamenu-widgets-container").remove(),jQuery(this).find(".fusion-megamenu-holder > ul").each(function(){jQuery(this).attr("class","sub-menu"),jQuery(this).attr("style",""),jQuery(this).find("> li").each(function(){var a,b="fusion-mobile-nav-item";jQuery(this).data("classes")&&(b+=" "+jQuery(this).data("classes")),jQuery(this).find("img").hasClass("wpml-ls-flag")&&(b+=" wpml-ls-item"),(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor")||jQuery(this).hasClass("fusion-mobile-current-nav-item"))&&(b+=" fusion-mobile-current-nav-item"),jQuery(this).hasClass("menu-item-has-children")&&(b+=" menu-item-has-children"),jQuery(this).attr("class",b),jQuery(this).find(".fusion-megamenu-title a, > a").length||(jQuery(this).find(".fusion-megamenu-title").each(function(){jQuery(this).children("a").length||jQuery(this).append('<a href="#">'+jQuery(this).text()+"</a>")}),jQuery(this).find(".fusion-megamenu-title").length||(a=jQuery(this),jQuery(this).find(".sub-menu").each(function(){a.after(jQuery(this))}),jQuery(this).remove())),jQuery(this).prepend(jQuery(this).find(".fusion-megamenu-title a, > a")),jQuery(this).find(".fusion-megamenu-title").remove()}),jQuery(this).closest(".fusion-mobile-nav-item").append(jQuery(this))}),jQuery(this).find(".fusion-megamenu-wrapper, .caret, .fusion-megamenu-bullet").remove()}),jQuery(".fusion-is-sticky").length&&jQuery(".fusion-mobile-sticky-nav-holder").length?jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls",jQuery(".fusion-mobile-sticky-nav-holder > ul").attr("id")):jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls",jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").find("> ul").attr("id")),jQuery(window).scroll(function(){setTimeout(function(){jQuery(".fusion-is-sticky").length&&jQuery(".fusion-mobile-sticky-nav-holder").length?jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls",jQuery(".fusion-mobile-sticky-nav-holder > ul").attr("id")):jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").attr("aria-controls",jQuery(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder").find("> ul").attr("id"))},50)}),jQuery(".fusion-mobile-menu-icons .fusion-icon-bars").click(function(a){var b,c;a.preventDefault(),b=1<=jQuery(".fusion-header-v4").length||1<=jQuery(".fusion-header-v5").length?".fusion-secondary-main-menu":1<=jQuery("#side-header").length?"#side-header":".fusion-header",c=1<=jQuery(".fusion-is-sticky").length&&1<=jQuery(".fusion-mobile-sticky-nav-holder").length?jQuery(b).find(".fusion-mobile-sticky-nav-holder"):jQuery(b).find(".fusion-mobile-nav-holder").not(".fusion-mobile-sticky-nav-holder"),c.slideToggle(200,"easeOutQuad"),c.toggleClass("fusion-mobile-menu-expanded"),c.hasClass("fusion-mobile-menu-expanded")?jQuery(this).attr("aria-expanded","true"):jQuery(this).attr("aria-expanded","false")}),jQuery(".fusion-mobile-menu-icons .fusion-icon-search").click(function(a){a.preventDefault(),jQuery(".fusion-mobile-menu-search").slideToggle(200,"easeOutQuad")}),jQuery('.fusion-mobile-nav-holder .fusion-mobile-nav-item a:not([href="#"])').click(function(){""!==jQuery(this.hash).length&&this.hash.slice(1)&&(jQuery(this).parents(".fusion-mobile-menu-design-classic").length?(jQuery(this).parents(".fusion-menu, .menu").hide().removeClass("mobile-menu-expanded"),jQuery(".fusion-mobile-menu-search").hide()):jQuery(this).parents(".fusion-mobile-nav-holder").hide())}),1==avadaMenuVars.submenu_slideout&&"flyout"!==avadaMenuVars.mobile_menu_design&&(jQuery(".fusion-mobile-nav-holder > ul li").each(function(){var a,b,c="fusion-mobile-nav-item",d=jQuery(this).find(" > ul");jQuery(this).data("classes")&&(c+=" "+jQuery(this).data("classes")),jQuery(this).find("img").hasClass("wpml-ls-flag")&&(c+=" wpml-ls-item"),(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor")||jQuery(this).hasClass("fusion-mobile-current-nav-item"))&&(c+=" fusion-mobile-current-nav-item"),jQuery(this).hasClass("menu-item-has-children")&&(c+=" menu-item-has-children"),jQuery(this).attr("class",c),d.length&&(a=jQuery(this).find("> a"),b=void 0!==a.attr("title")?" "+a.attr("title"):" "+a.children(".menu-text").clone().children().remove().end().text(),a.after('<button href="#" aria-label="'+avadaMenuVars.mobile_submenu_open+b+'" aria-expanded="false" class="fusion-open-submenu"></button>'),d.hide())}),jQuery(".fusion-mobile-nav-holder .fusion-open-submenu").click(function(a){var b=jQuery(this).parent().children(".sub-menu"),c=jQuery(this).parent().children("a"),d=void 0!==c.attr("title")?" "+c.attr("title"):" "+c.children(".menu-text").clone().children().remove().end().text();a.stopPropagation(),b.slideToggle(200,"easeOutQuad"),b.toggleClass("fusion-sub-menu-open"),b.hasClass("fusion-sub-menu-open")?(jQuery(this).attr("aria-label",avadaMenuVars.mobile_submenu_close+d),jQuery(this).attr("aria-expanded","true")):(jQuery(this).attr("aria-label",avadaMenuVars.mobile_submenu_open+d),jQuery(this).attr("aria-expanded","false"))}),jQuery(".fusion-mobile-nav-holder a").click(function(a){"#"===jQuery(this).attr("href")&&("modal"===jQuery(this).data("toggle")?jQuery(this).trigger("show.bs.modal"):(a.preventDefault(),a.stopPropagation()),jQuery(this).next(".fusion-open-submenu").trigger("click"))})),jQuery(".fusion-flyout-menu-icons .fusion-flyout-menu-toggle").on("click",function(a){var d=jQuery(".fusion-header-has-flyout-menu");a.preventDefault(),d.hasClass("fusion-flyout-active")?(d.hasClass("fusion-flyout-search-active")?(d.addClass("fusion-flyout-menu-active"),b()):(d.removeClass("fusion-flyout-active"),d.removeClass("fusion-flyout-menu-active"),c()),d.removeClass("fusion-flyout-search-active")):(d.addClass("fusion-flyout-active"),d.addClass("fusion-flyout-menu-active"),b())}),jQuery(".fusion-flyout-menu-icons .fusion-flyout-search-toggle").on("click",function(a){var d=jQuery(".fusion-header-has-flyout-menu");a.preventDefault(),d.hasClass("fusion-flyout-active")?(d.hasClass("fusion-flyout-menu-active")?(d.addClass("fusion-flyout-search-active"),Modernizr.mq("only screen and (min-width:"+parseInt(avadaMenuVars.side_header_break_point,10)+"px)")&&d.find(".fusion-flyout-search .s").focus()):(d.removeClass("fusion-flyout-active"),d.removeClass("fusion-flyout-search-active"),c()),d.removeClass("fusion-flyout-menu-active")):(d.addClass("fusion-flyout-active"),d.addClass("fusion-flyout-search-active"),Modernizr.mq("only screen and (min-width:"+parseInt(avadaMenuVars.side_header_break_point,10)+"px)")&&d.find(".fusion-flyout-search .s").focus(),b())}),jQuery("html").on("mouseenter",".fusion-no-touch .fusion-flyout-menu .menu-item a",function(){jQuery(this).parents(".fusion-flyout-menu").find(".fusion-flyout-menu-backgrounds #item-bg-"+jQuery(this).parent().data("item-id")).addClass("active")}),jQuery("html").on("mouseleave",".fusion-no-touch .fusion-flyout-menu .menu-item a",function(){jQuery(this).parents(".fusion-flyout-menu").find(".fusion-flyout-menu-backgrounds #item-bg-"+jQuery(this).parent().data("item-id")).removeClass("active")}),jQuery(window).resize(function(){jQuery(".fusion-mobile-menu-design-flyout").hasClass("fusion-flyout-active")&&Modernizr.mq("screen and (min-width: "+(parseInt(avadaHeaderVars.side_header_break_point,10)+1)+"px)")&&jQuery(".fusion-flyout-menu-icons .fusion-flyout-menu-toggle").trigger("click")})}),jQuery(window).load(function(){function a(){var a=0;Modernizr.mq("only screen and (max-width: "+avadaMenuVars.side_header_break_point+"px)")?(jQuery(".fusion-secondary-menu > ul").children("li").each(function(){a+=jQuery(this).outerWidth(!0)+2}),a>jQuery(window).width()&&318<jQuery(window).width()?window.mobileMenuSepAdded||(jQuery(".fusion-secondary-menu > ul").append('<div class="fusion-mobile-menu-sep"></div>'),jQuery(".fusion-secondary-menu > ul").css("position","relative"),jQuery(".fusion-mobile-menu-sep").css({position:"absolute",top:jQuery(".fusion-secondary-menu > ul > li").height()-1+"px",width:"100%","border-bottom-width":"1px","border-bottom-style":"solid"}),window.mobileMenuSepAdded=!0):(jQuery(".fusion-secondary-menu > ul").css("position",""),jQuery(".fusion-secondary-menu > ul").find(".fusion-mobile-menu-sep").remove(),window.mobileMenuSepAdded=!1)):(jQuery(".fusion-secondary-menu > ul").css("position",""),jQuery(".fusion-secondary-menu > ul").find(".fusion-mobile-menu-sep").remove(),window.mobileMenuSepAdded=!1)}window.mobileMenuSepAdded=!1,a(),"classic"===avadaMenuVars.mobile_menu_design&&(jQuery(".sh-mobile-nav-holder").append('<div class="mobile-selector"><span>'+avadaMenuVars.dropdown_goto+"</span></div>"),jQuery(".sh-mobile-nav-holder .mobile-selector").append('<div class="selector-down"></div>')),jQuery(".sh-mobile-nav-holder").append(jQuery(".nav-holder .fusion-navbar-nav").clone()),jQuery(".sh-mobile-nav-holder .fusion-navbar-nav").attr("id","mobile-nav"),jQuery(".sh-mobile-nav-holder ul#mobile-nav").removeClass("fusion-navbar-nav"),jQuery(".sh-mobile-nav-holder ul#mobile-nav").children(".cart").remove(),jQuery(".sh-mobile-nav-holder ul#mobile-nav .mobile-nav-item").children(".login-box").remove(),jQuery(".sh-mobile-nav-holder ul#mobile-nav li").children("#main-nav-search-link").each(function(){jQuery(this).parents("li").remove()}),jQuery(".sh-mobile-nav-holder ul#mobile-nav").find("li").each(function(){var a="mobile-nav-item";(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor"))&&(a+=" mobile-current-nav-item"),jQuery(this).attr("class",a),jQuery(this).attr("id")&&jQuery(this).attr("id",jQuery(this).attr("id").replace("menu-item","mobile-menu-item")),jQuery(this).attr("style","")}),jQuery(".sh-mobile-nav-holder .mobile-selector").click(function(){jQuery(".sh-mobile-nav-holder #mobile-nav").hasClass("mobile-menu-expanded")?jQuery(".sh-mobile-nav-holder #mobile-nav").removeClass("mobile-menu-expanded"):jQuery(".sh-mobile-nav-holder #mobile-nav").addClass("mobile-menu-expanded"),jQuery(".sh-mobile-nav-holder #mobile-nav").slideToggle(200,"easeOutQuad")}),1==avadaMenuVars.submenu_slideout&&(jQuery(".header-wrapper .mobile-topnav-holder .mobile-topnav li, .header-wrapper .mobile-nav-holder .navigation li, .sticky-header .mobile-nav-holder .navigation li, .sh-mobile-nav-holder .navigation li").each(function(){var a="mobile-nav-item";(jQuery(this).hasClass("current-menu-item")||jQuery(this).hasClass("current-menu-parent")||jQuery(this).hasClass("current-menu-ancestor")||jQuery(this).hasClass("mobile-current-nav-item"))&&(a+=" mobile-current-nav-item"),jQuery(this).attr("class",a),jQuery(this).find(" > ul").length&&(jQuery(this).prepend('<span href="#" aria-haspopup="true" class="open-submenu"></span>'),jQuery(this).find(" > ul").hide())}),jQuery(".header-wrapper .mobile-topnav-holder .open-submenu, .header-wrapper .mobile-nav-holder .open-submenu, .sticky-header .mobile-nav-holder .open-submenu, .sh-mobile-nav-holder .open-submenu").click(function(a){a.stopPropagation(),jQuery(this).parent().children(".sub-menu").slideToggle(200,"easeOutQuad")})),("ontouchstart"in document.documentElement||navigator.msMaxTouchPoints)&&(jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .order-dropdown > li .current-li").on("click",function(){var a=jQuery(this);return a.hasClass("hover")?(a.removeClass("hover"),!0):(a.addClass("hover"),jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .order-dropdown > li .current-li").not(this).removeClass("hover"),!1)}),jQuery(".sub-menu li, .fusion-mobile-nav-item li").not("li.menu-item-has-children").on("click",function(){var a=jQuery(this).find("a").attr("href");return"_blank"!==jQuery(this).find("a").attr("target")&&(0<a.indexOf("#")&&(a="/"===a.charAt(a.indexOf("#")-1)?a.replace("#","#_"):a.replace("#","/#_")),window.location=a),!0})),jQuery(".fusion-main-menu li.menu-item-has-children > a, .fusion-secondary-menu li.menu-item-has-children > a, .side-nav li.page_item_has_children > a").each(function(){jQuery(this).attr("aria-haspopup","true")}),1<=jQuery(".megaResponsive").length&&jQuery(".mobile-nav-holder.main-menu").addClass("set-invisible"),"Top"===avadaMenuVars.header_position&&jQuery(window).on("resize",function(){jQuery(".main-nav-search").each(function(){var a,b,c,d,e,f;jQuery(this).hasClass("search-box-open")&&(a=jQuery(this).find(".main-nav-search-form"),b=a.outerWidth(),c=a.offset().left,d=c+b,e=a.parent().offset().left,f=jQuery(window).width(),jQuery("body.rtl").length?c==e&&d>f||c<e&&d+b>f?a.css({left:"auto",right:"0"}):a.css({left:"0",right:"auto"}):c<e&&0>c||c==e&&0>c-b?a.css({left:"0",right:"auto"}):a.css({left:"auto",right:"0"}))})}),jQuery(window).on("resize",function(){a()}),jQuery(".fusion-custom-menu-item").on("hover",function(){var a=jQuery(this),b=a.find(".fusion-custom-menu-item-contents");b.find("input").click(function(){a.addClass("fusion-active-login"),a.closest(".fusion-main-menu").css("overflow","visible")}),b.find("input").on("change",function(){a.hasClass("fusion-active-login")&&(a.removeClass("fusion-active-login").addClass("fusion-active-link"),a.closest(".fusion-main-menu").css("overflow",""))})}),jQuery(document).click(function(a){"fusion-custom-menu-item-contents"!==a.target.className&&"input-text"!==a.target.className&&(jQuery(".fusion-custom-menu-item-contents").parents(".fusion-custom-menu-item").removeClass("fusion-active-login").removeClass("fusion-active-link"),jQuery(".fusion-main-menu").css("overflow",""))})});var fusionScrollToAnchorVars={"content_break_point":"1000","container_hundred_percent_height_mobile":"0"};!function(a){"use strict";a.fn.fusion_scroll_to_anchor_target=function(){var b,c,d,e,f,g,h,i=a(this).attr("href"),j=i.substr(i.indexOf("#")).slice(1),k=a("#"+j);if(k.length&&""!==j){if((k.parents(".hundred-percent-height-scrolling").length||k.find(".hundred-percent-height-scrolling").length)&&(0!=fusionScrollToAnchorVars.container_hundred_percent_height_mobile||!Modernizr.mq("only screen and (max-width: "+fusionScrollToAnchorVars.content_break_point+"px)"))){if(h=k.hasClass("fusion-scroll-section-element")?k:k.parents(".fusion-scroll-section-element"),h.hasClass("active")&&h.offset().top>=a(window).scrollTop()&&h.offset().top<a(window).scrollTop()+a(window).height())return!1;if(location.hash&&"#_"===location.hash.substring(0,2)&&a(".fusion-page-load-link").addClass("fusion-page.load-scroll-section-link"),k.parents(".fusion-scroll-section").length)return k.parents(".fusion-scroll-section").hasClass("active")?k.parents(".fusion-scroll-section").find(".fusion-scroll-section-nav").find(".fusion-scroll-section-link[data-element="+h.data("element")+"]").trigger("click"):(g=k.parents(".fusion-scroll-section").offset().top,a("html, body").animate({scrollTop:g},{duration:400,easing:"easeInExpo",complete:function(){setTimeout(function(){k.parents(".fusion-scroll-section").find(".fusion-scroll-section-nav").find(".fusion-scroll-section-link[data-element="+h.data("element")+"]").trigger("click"),location.hash&&"#_"===location.hash.substring(0,2)&&("history"in window&&"replaceState"in history&&history.replaceState("",window.location.href.replace("#_","#"),window.location.href.replace("#_","#")),a(".fusion-page-load-link").removeClass("fusion-page.load-scroll-section-link"))},100)}})),!1}return b="function"==typeof getAdminbarHeight?getAdminbarHeight():0,c="function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():0,d=a(document).scrollTop(),e=k.offset().top-b-c,f=Math.abs(d-e)/2,g=d>e?d-f:d+f,a("html, body").animate({scrollTop:g},{duration:400,easing:"easeInExpo",complete:function(){b="function"==typeof getAdminbarHeight?getAdminbarHeight():0,c="function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():0,e=k.offset().top-b-c,a("html, body").animate({scrollTop:e},450,"easeOutExpo",function(){location.hash&&"#_"===location.hash.substring(0,2)&&"history"in window&&"replaceState"in history&&history.replaceState("",window.location.href.replace("#_","#"),window.location.href.replace("#_","#"))})}}),(k.hasClass("tab-pane")||k.hasClass("tab-link"))&&"function"==typeof a.fn.fusionSwitchTabOnLinkClick&&setTimeout(function(){k.parents(".fusion-tabs").fusionSwitchTabOnLinkClick()},100),!1}}}(jQuery),jQuery(document).ready(function(){jQuery('.fusion-menu a:not([href="#"], .fusion-megamenu-widgets-container a, .search-link), .fusion-mobile-nav-item a:not([href="#"], .search-link), .fusion-button:not([href="#"], input, button), .fusion-one-page-text-link:not([href="#"]), .fusion-content-boxes .fusion-read-more:not([href="#"])').click(function(a){var b,c,d,e,f,g,h,i;if(jQuery(this).hasClass("avada-noscroll")||jQuery(this).parent().hasClass("avada-noscroll")||jQuery(this).is(".fusion-content-box-button, .fusion-tagline-button")&&jQuery(this).parents(".avada-noscroll").length)return!0;if(this.hash){if(b=window.location.href.split("#"),"/"===b[0].charAt(b[0].length-1)?b[0]:b[0]+"/",i=jQuery(this).attr("target")?jQuery(this).attr("target"):"_self",c=jQuery(this).attr("href"),d=c.split("#"),e=void 0!==d[1]?d[1]:"",f=e.substring(0,1),g=d[0],h=g.substring(g.length-1,g.length),"/"!==h&&(g+="/"),"!"===f||"/"===f)return;a.preventDefault(),location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")&&"#"!==c.charAt(0)||""!==location.search&&-1===location.search.indexOf("lang=")&&!jQuery(this).hasClass("tfs-scroll-down-indicator")?("/"===g&&""!==location.search&&(g=location.href.replace(location.search,"")),window.open(g+"#_"+e,i)):(jQuery(this).fusion_scroll_to_anchor_target(),"history"in window&&"replaceState"in history&&history.replaceState("",c,c),jQuery(this).parents(".fusion-flyout-menu").length&&jQuery(".fusion-flyout-menu-toggle").trigger("click"))}})}),location.hash&&"#_"===location.hash.substring(0,2)&&(jQuery(".fusion-page-load-link").attr("href",decodeURIComponent("#"+location.hash.substring(2))),jQuery(window).load(function(){jQuery(".fusion-blog-shortcode").length?setTimeout(function(){jQuery(".fusion-page-load-link").fusion_scroll_to_anchor_target()},300):jQuery(".fusion-page-load-link").fusion_scroll_to_anchor_target()}));var fusionTypographyVars={"site_width":"1100px","typography_responsive":"1","typography_sensitivity":"0.60","typography_factor":"1.50","elements":"h1, h2, h3, h4, h5, h6"};function fusionSetOriginalTypographyData(a){jQuery(a).each(function(){jQuery(this).parents(".rev_slider").length||jQuery(this).parents("#layerslider-container").length||(jQuery(this).prop("style")["font-size"]&&jQuery(this).attr("data-inline-fontsize",!0),jQuery(this).prop("style")["line-height"]&&jQuery(this).attr("data-inline-lineheight",!0),jQuery(this).attr("data-fontsize",parseInt(jQuery(this).css("font-size"),10)),jQuery(this).attr("data-lineheight",parseInt(jQuery(this).css("line-height"),10)))})}var fusionCalculateResponsiveTypeValues=function(a,b,c,d){var e,f,g=a||1,h=b||1.5,i=parseInt(jQuery("body").css("font-size"),10),j=i*h,k=c||0===c?c:800,l=function(){var a;a=jQuery(window).width()>=k?fusionTypographyVars.site_width.indexOf("px")?parseInt(fusionTypographyVars.site_width,10):1100:k,e=jQuery(window).width()/a,f=1-(1-e)*g,jQuery(window).width()<=a?jQuery(d).each(function(){jQuery(this).parents(".rev_slider").length||jQuery(this).parents("#layerslider-container").length||(jQuery(this).data("fontsize")*f>j?jQuery(this).css({"font-size":Math.round(jQuery(this).data("fontsize")*f*1e3)/1e3,"line-height":Math.round(jQuery(this).data("lineheight")*f*1e3)/1e3+"px"}):jQuery(this).data("fontsize")>j&&jQuery(this).css({"font-size":j,"line-height":Math.round(jQuery(this).data("lineheight")*j/jQuery(this).data("fontsize")*1e3)/1e3+"px"}))}):jQuery(d).each(function(){jQuery(this).parents(".rev_slider").length||jQuery(this).parents("#layerslider-container").length||(jQuery(this).data("inline-fontsize")?jQuery(this).css("font-size",jQuery(this).data("fontsize")):jQuery(this).css("font-size",""),jQuery(this).data("inline-lineheight")?jQuery(this).css("line-height",jQuery(this).data("lineheight")+"px"):jQuery(this).css("line-height",""))})};l(),jQuery(window).on("resize orientationchange",l)};jQuery(document).ready(function(){window.responsiveTypeElements=fusionTypographyVars.elements,Boolean(fusionTypographyVars.typography_responsive)&&(fusionSetOriginalTypographyData(window.responsiveTypeElements),fusionCalculateResponsiveTypeValues(fusionTypographyVars.typography_sensitivity,fusionTypographyVars.typography_factor,800,window.responsiveTypeElements))}),jQuery(document).ajaxComplete(function(){Boolean(fusionTypographyVars.typography_responsive)&&fusionSetOriginalTypographyData(window.responsiveTypeElements)});+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.2",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=window.location.href.split("#"),d="/"==c[0].charAt(c[0].length-1)?c[0]:c[0]+"/",e=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"],'+this.selector+'[href="'+d+b+'"]',f=a(e).parents("li").addClass("current-menu-item");f.parent(".sub-menu").length&&(f=f.closest("li.fusion-dropdown-menu").addClass("current-menu-item")),f.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".current-menu-item").removeClass("current-menu-item"),a(this.selector).parentsUntil(this.options.target,".current-menu-parent").removeClass("current-menu-parent")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery);var avadaCommentVars={"title_style_type":"none","title_margin_top":"0px","title_margin_bottom":"31px"};jQuery(document).ready(function(){var a,b,c,d;if(jQuery(".comment-respond .comment-reply-title").length&&!jQuery(".comment-respond .comment-reply-title").parents(".woocommerce-tabs").length){for(a=avadaCommentVars.title_style_type.split(" "),b="","",d=0;d<a.length;d++)b+=" sep-"+a[d];-1<b.indexOf("underline")&&b,jQuery("body").hasClass("rtl")?jQuery(".comment-respond .comment-reply-title").addClass("title-heading-right"):jQuery(".comment-respond .comment-reply-title").addClass("title-heading-left"),c=' style="margin-top:'+avadaCommentVars.title_margin_top+";margin-bottom:"+avadaCommentVars.title_margin_bottom+';"',jQuery(".comment-respond .comment-reply-title").wrap('<div class="fusion-title title fusion-title-size-three'+b+'"'+c+"></div>"),-1===b.indexOf("underline")&&jQuery(".comment-respond .comment-reply-title").parent().append('<div class="title-sep-container"><div class="title-sep'+b+' "></div></div>')}jQuery(".textarea-comment").each(function(){jQuery(this).css("max-width",jQuery("#content").width())}),jQuery(window).on("resize",function(){jQuery(".textarea-comment").each(function(){jQuery(this).css("max-width",jQuery("#content").width())})})});jQuery(document).ready(function(){jQuery(".fusion-footer .fusion-footer-widget-area .fusion-column").each(function(){jQuery(this).is(":empty")&&jQuery(this).css("margin-bottom","0")}),jQuery(".fusion-social-links-footer").find(".fusion-social-networks").children().length||(jQuery(".fusion-social-links-footer").hide(),jQuery(".fusion-footer-copyright-area .fusion-copyright-notice").css("padding-bottom","0")),jQuery(".avada-footer-fx-sticky").fusionFooterSticky(),jQuery(window).on("resize",function(){jQuery(".avada-footer-fx-sticky").fusionFooterSticky()})}),jQuery(document).ajaxComplete(function(){jQuery(".avada-footer-fx-sticky").fusionFooterSticky()}),jQuery.fn.fusionFooterSticky=function(){var a;jQuery("#wrapper").css("height","auto"),a=jQuery("#wrapper").height(),a>jQuery(window).height()?(jQuery("#wrapper").css("height","auto"),jQuery("body").css("height","auto")):(jQuery("#wrapper").css("height",""),jQuery("body").css("height",""))};function avadaAddQuantityBoxes(a){var b,c=!1;a||(a=".qty"),b=jQuery("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").find(a),b.length&&(jQuery.each(b,function(a,b){"date"!==jQuery(b).prop("type")&&"hidden"!==jQuery(b).prop("type")&&(jQuery(b).parent().hasClass("buttons_added")||(jQuery(b).parent().addClass("buttons_added").prepend('<input type="button" value="-" class="minus" />'),jQuery(b).addClass("input-text").after('<input type="button" value="+" class="plus" />'),c=!0))}),c&&(jQuery("input"+a+":not(.product-quantity input"+a+")").each(function(){var a=parseFloat(jQuery(this).attr("min"));a&&0<a&&parseFloat(jQuery(this).val())<a&&jQuery(this).val(a)}),jQuery(".plus, .minus").unbind("click"),jQuery(".plus, .minus").on("click",function(){var b=jQuery(this).parent().find(a),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),""!==d&&"NaN"!==d||(d=""),""!==e&&"NaN"!==e||(e=0),"any"!==f&&""!==f&&void 0!==f&&"NaN"!==parseFloat(f)||(f=1),jQuery(this).is(".plus")?d&&(d==c||c>d)?b.val(d):b.val(c+parseFloat(f)):e&&(e==c||c<e)?b.val(e):0<c&&b.val(c-parseFloat(f)),b.trigger("change")})))}function compositeAddQuantityBoxes(a){avadaAddQuantityBoxes()}jQuery(window).on("load",function(){avadaAddQuantityBoxes()}),jQuery(document).ajaxComplete(function(){avadaAddQuantityBoxes()}),jQuery(".composite_data").length&&jQuery(".composite_data").on("wc-composite-initializing",function(a,b){b.actions.add_action("component_selection_details_animated",compositeAddQuantityBoxes,10)});jQuery(document).ready(function(){var a="function"==typeof getAdminbarHeight?getAdminbarHeight():0,b="function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():0;jQuery("body").scrollspy({target:".fusion-menu",offset:parseInt(a+b+1,10)}),jQuery(window).load(function(){var a="function"==typeof getAdminbarHeight?getAdminbarHeight():0,b="function"==typeof getStickyHeaderHeight?getStickyHeaderHeight():0;jQuery("body").data()["bs.scrollspy"].options.offset=parseInt(a+b+1,10)})});function calcSelectArrowDimensions(){jQuery(".avada-select-parent .select-arrow, .gravity-select-parent .select-arrow, .wpcf7-select-parent .select-arrow").filter(":visible").each(function(){0<jQuery(this).prev().innerHeight()&&jQuery(this).css({height:jQuery(this).prev().innerHeight(),width:jQuery(this).prev().innerHeight(),"line-height":jQuery(this).prev().innerHeight()+"px"})})}jQuery(window).load(function(){calcSelectArrowDimensions(),setTimeout(function(){calcSelectArrowDimensions()},100)});var avadaSidebarsVars={"header_position":"top","header_layout":"v5","header_sticky":"0","header_sticky_type2_layout":"menu_only","side_header_break_point":"800","header_sticky_tablet":"1","sticky_header_shrinkage":"1","nav_height":"45","sidebar_break_point":"1000"};function setStickySidebarStatus(a){!Modernizr.mq("only screen and (max-width:"+avadaSidebarsVars.sidebar_break_point+"px)")&&Math.floor(jQuery("#content").height())>=Math.floor(jQuery("#main").height())?(jQuery(".fusion-sidebar-left.fusion-sticky-sidebar .fusion-sidebar-inner-content").hasClass("fusion-sidebar-stuck")||jQuery(".fusion-sidebar-left.fusion-sticky-sidebar .fusion-sidebar-inner-content").stick_in_parent({parent:"#main > .fusion-row",sticky_class:"fusion-sidebar-stuck",bottoming:!0,spacer:!1,offset_top:a}).on("sticky_kit:stick",function(a){var b=jQuery(a.target);jQuery("body").hasClass("double-sidebars")&&(b.css("margin-left","0"),b.parent().css({"margin-left":b.data("margin"),width:b.data("width")}))}).on("sticky_kit:unstick",function(a){var b=jQuery(a.target);jQuery("body").hasClass("double-sidebars")&&b.css("margin-left",b.data("margin"))}),jQuery(".fusion-sidebar-right.fusion-sticky-sidebar .fusion-sidebar-inner-content").hasClass("fusion-sidebar-stuck")||jQuery(".fusion-sidebar-right.fusion-sticky-sidebar .fusion-sidebar-inner-content").stick_in_parent({parent:"#main > .fusion-row",sticky_class:"fusion-sidebar-stuck",bottoming:!0,spacer:!1,offset_top:a}).on("sticky_kit:stick",function(a){var b=jQuery(a.target);jQuery("body").hasClass("double-sidebars")&&(b.css("margin-left","0"),b.parent().css({"margin-left":b.data("margin"),width:b.data("width")}))}).on("sticky_kit:unstick",function(a){var b=jQuery(a.target);jQuery("body").hasClass("double-sidebars")&&b.css("margin-left",b.data("margin"))})):(jQuery(".fusion-sidebar-left.fusion-sticky-sidebar .fusion-sidebar-inner-content").trigger("sticky_kit:detach"),jQuery(".fusion-sidebar-right.fusion-sticky-sidebar .fusion-sidebar-inner-content").trigger("sticky_kit:detach"))}function calcStickySidebarOffset(){var a=jQuery("#wpadminbar").height()+50;return"top"===avadaSidebarsVars.header_position&&"1"===avadaSidebarsVars.header_sticky&&("v4"===avadaSidebarsVars.header_layout||"v5"===avadaSidebarsVars.header_layout?"menu_only"===avadaSidebarsVars.header_sticky_type2_layout?a+=jQuery(".fusion-secondary-main-menu").height():a+=jQuery(".fusion-sticky-header-wrapper").height():"1"===avadaSidebarsVars.sticky_header_shrinkage?a+=66:a+=jQuery(".fusion-header").height()),a}jQuery(document).ready(function(){var a,b=calcStickySidebarOffset();1<=jQuery("#sidebar-2").length&&(a=jQuery("#sidebar").css("float"),jQuery("body").addClass("sidebar-position-"+a)),setStickySidebarStatus(b),jQuery(window).on("resize",function(){b=calcStickySidebarOffset(),setStickySidebarStatus(b)})});(function(){var a,b;a=this.jQuery||window.jQuery,b=a(window),a.fn.stick_in_parent=function(c){var d,e,f,g,h,i,j,k,l,m,n,o;for(null==c&&(c={}),o=c.sticky_class,i=c.inner_scrolling,n=c.recalc_every,m=c.parent,l=c.offset_top,k=c.spacer,f=c.bottoming,null==l&&(l=0),null==m&&(m=void 0),null==i&&(i=!0),null==o&&(o="is_stuck"),d=a(document),null==f&&(f=!0),g=function(c,e,g,h,j,p,q,r){var s,t,u,v,w,x,y,z,A,B,C,D;if(!c.data("sticky_kit")){if(c.data("sticky_kit",!0),w=d.height(),y=c.parent(),null!=m&&(y=y.closest(m)),!y.length)throw"failed to find stick parent";if(u=!1,s=!1,C=null!=k?k&&c.closest(k):a("<div />"),C&&C.css("position",c.css("position")),z=function(){var a,b,f;if(!r)return w=d.height(),a=parseInt(y.css("border-top-width"),10),b=parseInt(y.css("padding-top"),10),e=parseInt(y.css("padding-bottom"),10),g=y.offset().top+a+b,h=y.height(),u&&(u=!1,s=!1,null==k&&(c.insertAfter(C),C.detach()),c.css({position:"",top:"",width:"",bottom:""}).removeClass(o),f=!0),j=c.offset().top-(parseInt(c.css("margin-top"),10)||0)-l,p=c.outerHeight(!0),q=c.css("float"),C&&C.css({width:c.outerWidth(!0),height:p,display:c.css("display"),"vertical-align":c.css("vertical-align"),float:q}),f?D():void 0},z(),p!==h)return v=void 0,x=l,B=n,D=function(){var a,m,t,A,D,E;if(!r)return t=!1,null!=B&&(B-=1)<=0&&(B=n,z(),t=!0),t||d.height()===w||(z(),t=!0),A=b.scrollTop(),null!=v&&(m=A-v),v=A,u?(f&&(D=A+p+x>h+g,s&&!D&&(s=!1,c.css({position:"fixed",bottom:"",top:x}).trigger("sticky_kit:unbottom"))),A<j&&(u=!1,x=l,null==k&&("left"!==q&&"right"!==q||c.insertAfter(C),C.detach()),a={position:"",width:"",top:""},c.css(a).removeClass(o).trigger("sticky_kit:unstick")),i&&(E=b.height(),p+l>E&&(s||(x-=m,x=Math.max(E-p,x),x=Math.min(l,x),u&&c.css({top:x+"px"}))))):A>j&&(u=!0,a={position:"fixed",top:x},a.width="border-box"===c.css("box-sizing")?c.outerWidth()+"px":c.width()+"px",c.css(a).addClass(o),null==k&&(c.after(C),"left"!==q&&"right"!==q||C.append(c)),c.trigger("sticky_kit:stick")),u&&f&&(null==D&&(D=A+p+x>h+g),!s&&D)?(s=!0,"static"===y.css("position")&&y.css({position:"relative"}),c.css({position:"absolute",bottom:e,top:"auto"}).trigger("sticky_kit:bottom")):void 0},A=function(){return z(),D()},t=function(){if(r=!0,b.off("touchmove",D),b.off("scroll",D),b.off("resize",A),a(document.body).off("sticky_kit:recalc",A),c.off("sticky_kit:detach",t),c.removeData("sticky_kit"),c.css({position:"",bottom:"",top:"",width:""}),y.position("position",""),u)return null==k&&("left"!==q&&"right"!==q||c.insertAfter(C),C.remove()),c.removeClass(o)},b.on("touchmove",D),b.on("scroll",D),b.on("resize",A),a(document.body).on("sticky_kit:recalc",A),c.on("sticky_kit:detach",t),setTimeout(D,0)}},h=0,j=this.length;h<j;h++)e=this[h],g(a(e));return this}}).call(this);jQuery(document).ready(function(){jQuery(".fusion-tabs-widget .fusion-tabs-nav li a").click(function(a){var b=jQuery(this).data("link");a.preventDefault(),jQuery(this).parents(".fusion-tabs-nav").find("li").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(this).parents(".fusion-tabs-widget").find(".fusion-tab-content").hide(),jQuery(this).parents(".fusion-tabs-widget").find('.fusion-tab-content[data-name="'+b+'"]').fadeIn()})});var avadaLanguageVars={"language_flag":"en"};jQuery(document).ready(function(){""!==avadaLanguageVars.language_flag&&jQuery(".search-field, .searchform").each(function(){jQuery(this).find('input[name="lang"]').length||jQuery(this).parents(".searchform").find('input[name="lang"]').length||jQuery(this).append('<input type="hidden" name="lang" value="'+avadaLanguageVars.language_flag+'"/>')})});var toTopscreenReaderText={"label":"Go to Top"};!function(a){jQuery.fn.UItoTop=function(a){var b={text:"",min:200,inDelay:600,outDelay:400,containerID:"toTop",containerHoverID:"toTopHover",scrollSpeed:1200,easingType:"linear",scrollDownOnly:0,classes:""},c=jQuery.extend(b,a),d="#"+c.containerID,e="#"+c.containerHoverID,f=0;jQuery("body").append('<div class="to-top-container '+c.classes+'"><a href="#" id="'+c.containerID+'"><span class="screen-reader-text">'+toTopscreenReaderText.label+"</span>"+c.text+"</a></div>"),jQuery(d).hide().on("click.UItoTop",function(){return jQuery("html, body").animate({scrollTop:0},c.scrollSpeed,c.easingType),jQuery("#"+c.containerHoverID,this).stop().animate({opacity:0},c.inDelay,c.easingType),!1}).prepend('<span id="'+c.containerHoverID+'"></span>').hover(function(){jQuery(e,this).stop().animate({opacity:1},600,"linear")},function(){jQuery(e,this).stop().animate({opacity:0},700,"linear")}),jQuery(window).scroll(function(){var a=jQuery(this).scrollTop();void 0===document.body.style.maxHeight&&jQuery(d).css({position:"absolute",top:a+jQuery(window).height()-50}),a>c.min&&(a>=f||1!==parseInt(c.scrollDownOnly))?jQuery(d).fadeIn(c.inDelay):jQuery(d).fadeOut(c.Outdelay),f=a})}}(jQuery);var avadaToTopVars={"status_totop":"desktop","totop_position":"right","totop_scroll_down_only":"0"};jQuery(document).ready(function(){var a=avadaToTopVars.totop_position.split("_");a=2===a.length?"to-top-"+a[0]+" to-top-"+a[1]:"to-top-"+a[0],jQuery().UItoTop&&(cssua.ua.mobile&&-1!==avadaToTopVars.status_totop.indexOf("mobile")?jQuery().UItoTop({easingType:"easeOutQuart",classes:a,scrollDownOnly:avadaToTopVars.totop_scroll_down_only}):cssua.ua.mobile||jQuery().UItoTop({easingType:"easeOutQuart",classes:a,scrollDownOnly:avadaToTopVars.totop_scroll_down_only}))});jQuery(window).load(function(){jQuery(".tribe-tickets-order_status-row select").length&&(jQuery(".tribe-tickets-order_status-row select").addClass("avada-select"),jQuery(".tribe-tickets-order_status-row select").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>'),jQuery(".tribe-ticket-quantity").change(function(){setTimeout(function(){calcSelectArrowDimensions()},1)})),jQuery(".tribe-block__tickets__item__attendee__fields__form select").length&&jQuery(".tribe-block__tickets__item__attendee__fields__form select").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>'),jQuery(".woocommerce-billing-fields, .woocommerce-shipping-fields").addClass("avada-select"),jQuery(".woocommerce.widget_product_categories select").length&&jQuery(".woocommerce.widget_product_categories select").wrap('<p class="avada-select-parent"></p>').after('<div class="select-arrow">&#xe61f;</div>'),jQuery(".cart-collaterals select#calc_shipping_country, .widget_layered_nav select").wrap('<p class="avada-select-parent"></p>').after('<div class="select-arrow">&#xe61f;</div>'),jQuery(".cart-collaterals select#calc_shipping_state").after('<div class="select-arrow">&#xe61f;</div>'),setTimeout(function(){jQuery("#billing_country_field .chosen-container").length||jQuery("#billing_country_field .select2-container").length||(jQuery("#billing_country_field select.country_select").wrap('<p class="avada-select-parent"></p>').after('<span class="select-arrow">&#xe61f;</span>'),!jQuery("#billing_state_field select.state_select").length||jQuery("#billing_state_field .chosen-container").length||jQuery("#billing_state_field .select2-container").length||jQuery("#billing_state_field").addClass("avada-select-parent").append('<div class="select-arrow">&#xe61f;</div>'),jQuery("#billing_country").change(function(){setTimeout(function(){(jQuery("#billing_state_field input#billing_state").length||jQuery("#billing_state_field").is(":hidden"))&&(jQuery("#billing_state_field .select-arrow").remove(),jQuery("#billing_state_field").removeClass("avada-select-parent")),jQuery("#billing_state_field select.state_select").length&&(jQuery("#billing_state_field").addClass("avada-select-parent"),jQuery("#billing_state_field .select-arrow").length||(jQuery("#billing_state_field").append('<div class="select-arrow">&#xe61f;</div>'),calcSelectArrowDimensions()))},1)})),jQuery("#shipping_country_field .chosen-container").length||jQuery("#shipping_country_field .select2-container").length||(jQuery("#shipping_country_field select.country_select").wrap('<p class="avada-select-parent"></p>').after('<span class="select-arrow">&#xe61f;</span>'),jQuery("#shipping_state_field select.state_select").length&&jQuery("#shipping_state_field").addClass("avada-select-parent").append('<div class="select-arrow">&#xe61f;</div>'),jQuery("#shipping_country").change(function(){setTimeout(function(){(jQuery("#shipping_state_field input#shipping_state").length||jQuery("#shipping_state_field").is(":hidden"))&&(jQuery("#shipping_state_field .select-arrow").remove(),jQuery("#shipping_state_field").removeClass("avada-select-parent")),jQuery("#shipping_state_field select.state_select").length&&(jQuery("#shipping_state_field").addClass("avada-select-parent"),jQuery("#shipping_state_field .select-arrow").length||(jQuery("#shipping_state_field").append('<div class="select-arrow">&#xe61f;</div>'),calcSelectArrowDimensions()))},1)}))},1),jQuery("#calc_shipping_country").change(function(){setTimeout(function(){jQuery(".avada-shipping-calculator-form select#calc_shipping_state").length&&!jQuery(".avada-shipping-calculator-form #calc_shipping_state").parent().find(".select-arrow").length&&jQuery(".avada-shipping-calculator-form select#calc_shipping_state").after('<div class="select-arrow">&#xe61f;</div>'),(jQuery(".avada-shipping-calculator-form input#calc_shipping_state").length||jQuery(".avada-shipping-calculator-form #calc_shipping_state_field .select2").length)&&jQuery(".avada-shipping-calculator-form #calc_shipping_state").parent().children(".select-arrow").remove(),calcSelectArrowDimensions()},1)}),jQuery("table.variations select, .variations-table select, .product-addon select").wrap('<div class="avada-select-parent"></div>'),jQuery('<div class="select-arrow">&#xe61f;</div>').appendTo("table.variations .avada-select-parent, .variations-table .avada-select-parent, .product-addon .avada-select-parent"),jQuery(".wpcf7-select:not([multiple])").wrap('<div class="wpcf7-select-parent"></div>'),jQuery('<div class="select-arrow">&#xe61f;</div>').appendTo(".wpcf7-select-parent"),jQuery("#bbp_stick_topic_select, #bbp_topic_status_select, #bbp_forum_id, #bbp_destination_topic, #wpfc_sermon_sorting select").wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>'),jQuery(".variations_form select").change(function(){jQuery(".product #slider").length&&1<jQuery(".product #slider .slides li").length&&jQuery(".product #slider").flexslider(0)})});jQuery(document).ajaxComplete(function(){var a="";jQuery(".wpcf7-form .fusion-slider-loading").hide(),jQuery(".wpcf7-response-output").each(function(){jQuery(this).hasClass("wpcf7-mail-sent-ng")&&!jQuery(this).find(".alert-icon").length&&(jQuery(this).addClass("fusion-alert error fusion-danger"),jQuery(this).hasClass("alert-dismissable")&&(a='<button class="close toggle-alert" aria-hidden="true" data-dismiss="alert" type="button">&times;</button>'),a+='<div class="fusion-alert-content-wrapper"><span class="alert-icon"><i class="fa-lg fa fa-exclamation-triangle"></i></span><span class="fusion-alert-content">'+jQuery(this).html()+"</span>",jQuery(this).html(a)),jQuery(this).hasClass("wpcf7-validation-errors")&&!jQuery(this).find(".alert-icon").length&&(jQuery(this).addClass("fusion-alert error fusion-danger"),jQuery(this).hasClass("alert-dismissable")&&(a='<button class="close toggle-alert" aria-hidden="true" data-dismiss="alert" type="button">&times;</button>'),a+='<div class="fusion-alert-content-wrapper"><span class="alert-icon"><i class="fa-lg fa fa-exclamation-triangle"></i></span><span class="fusion-alert-content">'+jQuery(this).html()+"</span>",jQuery(this).html(a)),jQuery(this).hasClass("wpcf7-mail-sent-ok")&&!jQuery(this).find(".alert-icon").length&&(jQuery(this).addClass("fusion-alert success fusion-success"),jQuery(this).hasClass("alert-dismissable")&&(a='<button class="close toggle-alert" aria-hidden="true" data-dismiss="alert" type="button">&times;</button>'),a+='<div class="fusion-alert-content-wrapper"><span class="alert-icon"><i class="fa-lg fa fa-check-circle"></i></span><span class="fusion-alert-content">'+jQuery(this).html()+"</span>",jQuery(this).html(a))}),jQuery(".wpcf7-response-output.fusion-alert .close").click(function(a){a.preventDefault(),jQuery(this).parent().slideUp()})}),jQuery(document).ready(function(){jQuery('<div class="fusion-slider-loading"></div>').insertAfter(".wpcf7 .ajax-loader"),jQuery(".wpcf7 .ajax-loader").remove(),jQuery(".wpcf7-form .wpcf7-submit").on("click",function(){jQuery(this).parents(".wpcf7-form").find(".fusion-slider-loading").show()})});function wrapGravitySelects(){jQuery(".gform_wrapper select:not([multiple])").filter(":visible").each(function(){var a=jQuery(this);setTimeout(function(){var b;a.siblings(".chosen-container").length||a.parent(".gravity-select-parent").length||(b=a.css("width"),a.wrap('<div class="gravity-select-parent"></div>'),a.parent().width(b),a.css("cssText","width: 100% !important;"),jQuery('<div class="select-arrow">&#xe61f;</div>').appendTo(a.parent(".gravity-select-parent"))),calcSelectArrowDimensions()},50)})}function recursiveGFormSubmissionHandler(){jQuery(".gform_wrapper").find("form").attr("target")&&-1<jQuery(".gform_wrapper").find("form").attr("target").indexOf("gform_ajax_frame")&&jQuery(".gform_wrapper").find("form").submit(function(){setTimeout(function(){wrapGravitySelects(),calcSelectArrowDimensions(),recursiveGFormSubmissionHandler()},800)})}jQuery(document).bind("gform_post_conditional_logic",function(){var a=jQuery(".gform_wrapper select");jQuery(a).each(function(){jQuery(this).hasClass("chzn-done")&&jQuery(this).parent().hasClass("gravity-select-parent")&&(jQuery(this).parent().find(".select-arrow").remove(),jQuery(this).unwrap('<div class="gravity-select-parent"></div>'))})}),recursiveGFormSubmissionHandler(),jQuery(window).load(function(){jQuery(".gform_wrapper").each(function(){jQuery(this).removeClass("gf_browser_ie")}),wrapGravitySelects(),"undefined"!=typeof gform&&gform&&gform.addAction("gform_post_conditional_logic_field_action",function(a,b,c,d,e){"show"!==b||e||setTimeout(function(){calcSelectArrowDimensions(),wrapGravitySelects()},50)})});!function(a,b,c){var d,e=b.event;e.special.smartresize={setup:function(){b(this).bind("resize",e.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",e.special.smartresize.handler)},handler:function(a,b){var c=this,e=arguments;a.type="smartresize",d&&clearTimeout(d),d=setTimeout(function(){jQuery.event.handle.apply(c,e)},"execAsap"===b?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Slideshow=function(a,c){this.$el=b(c),this.$list=this.$el.find("ul.ei-slider-large"),this.$imgItems=this.$list.children("li"),this.itemsCount=this.$imgItems.length,this.$images=this.$imgItems.find("img:first"),this.$sliderthumbs=this.$el.find("ul.ei-slider-thumbs").hide(),this.$sliderElems=this.$sliderthumbs.children("li"),this.$sliderElem=this.$sliderthumbs.children("li.ei-slider-element"),this.$thumbs=this.$sliderElems.not(".ei-slider-element"),this._init(a)},b.Slideshow.defaults={animation:"sides",autoplay:!1,slideshow_interval:3e3,speed:800,easing:"",titlesFactor:.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150},b.Slideshow.prototype={_init:function(a){this.options=b.extend(!0,{},b.Slideshow.defaults,a),this.$imgItems.css("opacity",0),this.$imgItems.find("div.ei-title > *").css("opacity",0),this.current=0;var c=this;this.$loading=b('<div class="ei-slider-loading">Loading</div>').prependTo(c.$el),b.when(this._preloadImages()).done(function(){c.$loading.hide(),c._setImagesSize(),c._initThumbs(),c.$imgItems.eq(c.current).css({opacity:1,"z-index":10}).show().find("div.ei-title > *").css("opacity",1),c.options.autoplay&&c._startSlideshow(),c._initEvents()})},_preloadImages:function(){var a=this,c=0;return b.Deferred(function(d){a.$images.each(function(e){b("<img/>").load(function(){++c===a.itemsCount&&d.resolve()}).attr("src",b(this).attr("src"))})}).promise()},_setImagesSize:function(){this.elWidth=this.$el.width();var a=this;this.$images.each(function(c){var d=b(this);imgDim=a._getImageDim(d.attr("src")),d.css({width:imgDim.width,height:imgDim.height,marginLeft:imgDim.left,marginTop:imgDim.top})})},_getImageDim:function(a){var b=new Image;b.src=a;var c,d,e=this.elWidth,f=this.$el.height(),g=f/e,h=b.width,i=b.height,j=i/h;return g>j?(d=f,c=f/j):(d=e*j,c=e),{width:c,height:d,left:(e-c)/2,top:(f-d)/2}},_initThumbs:function(){this.$sliderElems.css({"max-width":this.options.thumbMaxWidth+"px",width:100/this.itemsCount+"%"}),this.$sliderthumbs.css("max-width",this.options.thumbMaxWidth*this.itemsCount+"px").show()},_startSlideshow:function(){var a=this;this.slideshow=setTimeout(function(){var b;b=a.current===a.itemsCount-1?0:a.current+1,a._slideTo(b),a.options.autoplay&&a._startSlideshow()},this.options.slideshow_interval)},_slideTo:function(a){if(a===this.current||this.isAnimating)return!1;this.isAnimating=!0;var c=this.$imgItems.eq(this.current),d=this.$imgItems.eq(a),e=this,f={zIndex:10},g={opacity:1};"sides"===this.options.animation&&(f.left=a>this.current?-1*this.elWidth:this.elWidth,g.left=0),d.find("div.ei-title > h2").css("margin-right","50px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:"0px",opacity:1},this.options.titlespeed,this.options.titleeasing).end().find("div.ei-title > h3").css("margin-right","-50px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginRight:"0px",opacity:1},this.options.titlespeed,this.options.titleeasing),b.when(c.css("z-index",1).find("div.ei-title > *").stop().fadeOut(this.options.speed/2,function(){b(this).show().css("opacity",0)}),d.css(f).stop().animate(g,this.options.speed,this.options.easing),this.$sliderElem.stop().animate({left:this.$thumbs.eq(a).position().left},this.options.speed)).done(function(){c.css("opacity",0).find("div.ei-title > *").css("opacity",0),e.current=a,e.isAnimating=!1})},_initEvents:function(){var c=this;b(a).on("smartresize.eislideshow",function(a){c._setImagesSize(),c.$sliderElem.css("left",c.$thumbs.eq(c.current).position().left)}),this.$thumbs.on("click.eislideshow",function(a){c.options.autoplay&&(clearTimeout(c.slideshow),c.options.autoplay=!1);var d=b(this),e=d.index()-1;return c._slideTo(e),!1})}};var f=function(a){this.console};b.fn.eislideshow=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"eislideshow");return d&&b.isFunction(d[a])&&"_"!==a.charAt(0)?void d[a].apply(d,c):void f()})}else this.each(function(){b.data(this,"eislideshow")||b.data(this,"eislideshow",new b.Slideshow(a,this))});return this}}(window,jQuery);var avadaElasticSliderVars={"tfes_autoplay":"1","tfes_animation":"sides","tfes_interval":"3000","tfes_speed":"800","tfes_width":"150"};jQuery(window).load(function(){var a;jQuery().eislideshow&&(a={autoplay:Boolean(Number(avadaElasticSliderVars.tfes_autoplay))},avadaElasticSliderVars.tfes_animation&&(a.animation=avadaElasticSliderVars.tfes_animation),avadaElasticSliderVars.tfes_interval&&(a.slideshow_interval=avadaElasticSliderVars.tfes_interval),avadaElasticSliderVars.tfes_speed&&(a.speed=avadaElasticSliderVars.tfes_speed),avadaElasticSliderVars.tfes_width&&(a.thumbMaxWidth=avadaElasticSliderVars.tfes_width),jQuery("#ei-slider").eislideshow(a))});var avadaFusionSliderVars={"side_header_break_point":"800","slider_position":"below","header_transparency":"0","mobile_header_transparency":"0","header_position":"Top","content_break_point":"1000","status_vimeo":"1"};var headerHeight=jQuery(".fusion-header-wrapper").height(),fusionReanimateSlider=function(a){var b=a.find(".slide-content"),c=a.siblings(".tfs-scroll-down-indicator");jQuery(b).each(function(){jQuery(this).stop(!0,!0),jQuery(this).css("margin-top","50px"),jQuery(this).animate({opacity:"1","margin-top":"0"},1e3)}),jQuery(c).each(function(){var a=jQuery(this);a.stop(!0,!0),a.css("opacity","0"),b.offset().top+b.height()+25<a.offset().top&&(a.css("padding-bottom","50px"),setTimeout(function(){a.animate({opacity:"1","padding-bottom":"0"},500,"easeOutCubic")},500))})};!function(a){"use strict";a(".tfs-slider").each(function(){var b=this;1<=a(b).parents(".post-content").length&&(a(b).data("parallax",0),a(b).data("full_screen",0)),cssua.ua.mobile&&a(b).data("parallax",0)})}(jQuery),jQuery(window).load(function(){jQuery().flexslider&&jQuery(".tfs-slider").each(function(){var a,b,c,d,e,f,g,h,i,j,k,l=this,m=jQuery(l).find("li").get(0);headerHeight=jQuery(".fusion-header-wrapper").height(),"function"==typeof fusionCalculateResponsiveTypeValues&&(a="#"+jQuery(this).parent().attr("id"),k=a+" h1, "+a+" h2, "+a+" h3, "+a+" h4, "+a+" h5, "+a+" h6",fusionSetOriginalTypographyData(k),fusionCalculateResponsiveTypeValues(jQuery(this).data("typo_sensitivity"),jQuery(this).data("typo_factor"),800,k)),1<=jQuery(l).parents(".post-content").length&&(jQuery(l).data("parallax",0),jQuery(l).data("full_screen",0)),(cssua.ua.mobile||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)"))&&jQuery(l).data("parallax",0),j=0,1<=jQuery("#wpadminbar").length&&(j=jQuery("#wpadminbar").height()),1<=jQuery(l).parents("#sliders-container").length&&1===jQuery(l).data("parallax")&&jQuery(".fusion-header").addClass("fusion-header-backface"),1==jQuery(l).data("full_screen")?(b=jQuery(window).height()-j,"above"===avadaFusionSliderVars.slider_position&&(b=jQuery(window).height()-(headerHeight+j)),0===jQuery(l).data("parallax")&&(b=1==avadaFusionSliderVars.header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-j:jQuery(window).height()-(headerHeight+j)),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&(b=1==avadaFusionSliderVars.mobile_header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-j:jQuery(window).height()-(headerHeight+j)),jQuery(".fusion-top-frame").length&&(b=b-jQuery(".fusion-top-frame").height()-jQuery(".fusion-bottom-frame").height()),jQuery(l).find("video").each(function(){var a,c=jQuery(this).width()/jQuery(this).height(),d=c*b,e="-"+(d-jQuery(l).width())/2+"px",f=jQuery(l).parent().parent().parent().width();jQuery(l).parents(".post-content").length&&(f=jQuery(l).width()),f>d?(d="100%",e=0,a="static"):a="absolute",jQuery(this).width(d),jQuery(this).css({left:e,position:a})})):(c=jQuery(l).data("slider_width"),-1!==c.indexOf("%")?(c=jQuery(m).find(".background-image").data("imgwidth"),c||cssua.ua.mobile||(c=jQuery(m).find("video").width()),c||(c=940),jQuery(l).data("first_slide_width",c),c<jQuery(l).data("slider_width")&&(c=jQuery(l).data("slider_width")),!0):c=parseInt(jQuery(l).data("slider_width"),10),b=parseInt(jQuery(l).data("slider_height"),10),d=b/c,.5>d&&(d=.5),e=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(e=jQuery(l).width()),b=d*e,b>parseInt(jQuery(l).data("slider_height"),10)&&(b=parseInt(jQuery(l).data("slider_height"),10)),200>b&&(b=200)),1==jQuery(l).data("full_screen")&&(jQuery(l).css("max-width","100%"),jQuery(l).find(".slides, .background").css("width","100%")),"Left"!==avadaFusionSliderVars.header_position&&"Right"!==avadaFusionSliderVars.header_position||jQuery(l).hasClass("fixed-width-slider")||1!=jQuery(l).data("parallax")||(jQuery(l).css("max-width",jQuery("#wrapper").width()),jQuery("body").hasClass("side-header-left")?jQuery(l).css("left",jQuery("#side-header").width()):jQuery("body").hasClass("side-header-right")&&jQuery(l).css("right",jQuery("#side-header").width())),jQuery(l).parents(".fusion-slider-container").css("height",b),jQuery(l).css("height",b),jQuery(l).find(".background, .mobile_video_image").css("height",b),1<=jQuery(".layout-boxed-mode").length&&(f=jQuery(".layout-boxed-mode #wrapper").width(),jQuery(l).css("width",f),jQuery(l).css("margin-left","auto"),jQuery(l).css("margin-right","auto"),1!=jQuery(l).data("parallax")||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||(jQuery(l).css("left","50%"),"Left"===avadaFusionSliderVars.header_position||"Right"===avadaFusionSliderVars.header_position?(f=jQuery(".layout-boxed-mode #wrapper").width()-jQuery(".layout-boxed-mode #side-header").width(),"Right"===avadaFusionSliderVars.header_position&&(f=jQuery(".layout-boxed-mode #wrapper").width()+jQuery(".layout-boxed-mode #side-header").width()),jQuery(l).css("margin-left","-"+Math.floor(f/2)+"px")):jQuery(l).css("margin-left","-"+f/2+"px")),jQuery(l).find(".slides, .background").css("width","100%")),cssua.ua.mobile&&(jQuery(l).find(".fusion-button").each(function(){jQuery(this).removeClass("button-xlarge button-large button-medium"),jQuery(this).addClass("button-small")}),jQuery(l).find("li").each(function(){jQuery(this).attr("data-autoplay","no"),jQuery(this).data("autoplay","no")})),jQuery(l).find("a.button").each(function(){jQuery(this).data("old",jQuery(this).attr("class"))}),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.content_break_point+"px)")?jQuery(l).find(".fusion-button").each(function(){jQuery(this).data("old",jQuery(this).attr("class")),jQuery(this).removeClass("button-xlarge button-large button-medium"),jQuery(this).addClass("button-small")}):jQuery(l).find("a.button").each(function(){jQuery(this).attr("class",jQuery(this).data("old"))}),1==jQuery(l).data("parallax")&&(!Modernizr.mq("only screen and (min-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||0!==avadaFusionSliderVars.header_transparency&&"0"!==avadaFusionSliderVars.header_transparency&&!1!==avadaFusionSliderVars.header_transparency||"below"!==avadaFusionSliderVars.slider_position||(g=jQuery(l).find(".slide-content-container"),jQuery(g).each(function(){jQuery(this).css("padding-top",headerHeight+"px")})),jQuery(window).scroll(function(){jQuery(window).scrollTop()>=jQuery(l).parents("#sliders-container").position().top+jQuery(l).parents("#sliders-container").height()?(cssua.ua.mobile||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||jQuery(l).css("position","static"),jQuery(l).css("visibility","hidden")):(cssua.ua.mobile||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||jQuery(l).css("position","fixed"),jQuery(l).css("visibility","visible"))})),h=jQuery(window).width(),i=jQuery(window).height(),jQuery(window).on("resize",function(){var a,b,c,d,e,f,g,j,k,m,n,o,p;(h!==jQuery(window).width()||h!==jQuery(window).width()&&i!==jQuery(window).height())&&(a=jQuery(".fusion-header-wrapper").height(),b=0,void 0!==jQuery(l).find(".flex-active-slide").find(".tfs-scroll-down-indicator").offset()&&jQuery(l).find(".flex-active-slide").find(".slide-content").offset().top+jQuery(l).find(".flex-active-slide").find(".slide-content").height()+25<jQuery(l).find(".flex-active-slide").find(".tfs-scroll-down-indicator").offset().top?jQuery(l).find(".flex-active-slide").find(".tfs-scroll-down-indicator").css("opacity","1"):jQuery(l).find(".flex-active-slide").find(".tfs-scroll-down-indicator").css("opacity","0"),jQuery("#wpadminbar").length&&(b=jQuery("#wpadminbar").height()),e=Math.max.apply(null,jQuery(l).find(".slide-content").map(function(){return jQuery(this).outerHeight()}).get()),e+=40,1==jQuery(l).data("full_screen")?(c=jQuery(window).height()-b,Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&jQuery("#side-header").length&&(a=jQuery("#side-header").outerHeight()),"above"===avadaFusionSliderVars.slider_position&&(c=jQuery(window).height()-(a+b)),0===jQuery(l).data("parallax")&&(c=1==avadaFusionSliderVars.header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-b:jQuery(window).height()-(a+b)),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&(c=1==avadaFusionSliderVars.mobile_header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-b:jQuery(window).height()-(a+b)),jQuery(".fusion-top-frame").length&&(c=c-jQuery(".fusion-top-frame").height()-jQuery(".fusion-bottom-frame").height()),c<e&&(c=e),setTimeout(function(){jQuery(l).find("video").each(function(){var a,b=jQuery(this).width()/jQuery(this).height(),d=b*c,e="-"+(d-jQuery(l).width())/2+"px",f=jQuery(l).parent().parent().parent().width();jQuery(l).parents(".post-content").length&&(f=jQuery(l).width()),f>d?(d="100%",e=0,a="static"):a="absolute",jQuery(this).width(d),jQuery(this).css({left:e,position:a})})},100)):(d=jQuery(l).data("slider_width"),-1!==d.indexOf("%")?(d=jQuery(l).data("first_slide_width"),d<jQuery(l).data("slider_width")&&(d=jQuery(l).data("slider_width")),f=!0):d=parseInt(jQuery(l).data("slider_width"),10),c=parseInt(jQuery(l).data("slider_height"),10),g=c/d,.5>g&&(g=.5),j=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(j=jQuery(l).width(),jQuery(l).parents(".tab-content").length&&(j=jQuery(l).parents(".tab-content").width()-60)),c=g*j,c>parseInt(jQuery(l).data("slider_height"),10)&&(c=parseInt(jQuery(l).data("slider_height"),10)),200>c&&(c=200),c<e&&e<=parseInt(jQuery(l).data("slider_height"),10)&&(c=e),jQuery(l).find("video").each(function(){var a,b,e=jQuery(this).width()/jQuery(this).height(),g=e*c;g<d&&!jQuery(l).hasClass("full-width-slider")&&(g=d),a="-"+(g-jQuery(l).width())/2+"px",b=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(b=jQuery(l).width()),b>g&&!0===f&&1!=jQuery(l).data("full_screen")&&(g="100%",a=0),jQuery(this).width(g),jQuery(this).css("left",a)})),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.content_break_point+"px)")?jQuery(l).find(".fusion-button").each(function(){void 0===jQuery(this).data("old")&&jQuery(this).data("old",jQuery(this).attr("class")),jQuery(this).removeClass("button-xlarge button-large button-medium"),jQuery(this).addClass("button-small")}):jQuery(l).find(".fusion-button").each(function(){jQuery(this).attr("class",jQuery(this).data("old"))}),1==jQuery(l).data("full_screen")&&"fade"===jQuery(l).data("animation")&&(jQuery(l).css("max-width","100%"),jQuery(l).find(".slides, .background").css("width","100%")),"Left"!==avadaFusionSliderVars.header_position&&"Right"!==avadaFusionSliderVars.header_position||jQuery(l).hasClass("fixed-width-slider")||1!=jQuery(l).data("parallax")||(jQuery(l).css("max-width",jQuery("#wrapper").width()),jQuery("body").hasClass("side-header-left")?jQuery(l).css("left",jQuery("#side-header").width()):jQuery("body").hasClass("side-header-right")&&jQuery(l).css("right",jQuery("#side-header").width())),jQuery(l).parents(".fusion-slider-container").css("height",c),jQuery(l).parents(".fusion-slider-container").css("max-height",c),jQuery(l).css("height",c),jQuery(l).find(".background, .mobile_video_image").css("height",c),1<=jQuery(".layout-boxed-mode").length&&0===jQuery(l).parents(".post-content").length&&(k=jQuery(".layout-boxed-mode #wrapper").width(),jQuery(l).css("width",k),jQuery(l).css("margin-left","auto"),jQuery(l).css("margin-right","auto"),1!=jQuery(l).data("parallax")||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||(jQuery(l).css("left","50%"),"Left"===avadaFusionSliderVars.header_position||"Right"===avadaFusionSliderVars.header_position?(k=jQuery(".layout-boxed-mode #wrapper").width()-jQuery(".layout-boxed-mode #side-header").width(),"Right"===avadaFusionSliderVars.header_position&&(k=jQuery(".layout-boxed-mode #wrapper").width()+jQuery(".layout-boxed-mode #side-header").width()),jQuery(l).css("margin-left","-"+Math.floor(k/2)+"px")):jQuery(l).css("margin-left","-"+k/2+"px")),"slide"!==jQuery(l).data("animation")&&jQuery(l).find(".slides").css("width","100%"),jQuery(l).find(".background").css("width","100%")),1!==jQuery(l).data("parallax")||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")?1==jQuery(l).data("parallax")&&Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&(jQuery(l).css("position","relative"),jQuery(l).css("left","0"),jQuery(l).css("margin-left","0"),"absolute"!==jQuery(".fusion-header-wrapper").css("position")&&jQuery(".fusion-header-wrapper").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("z-index","3"),jQuery(".fusion-header-wrapper").css("z-index","5"),jQuery(".fusion-header-wrapper").css("height","auto"),jQuery(l).parents(".fusion-slider-container").css("margin-top",""),jQuery(l).find(".flex-direction-nav li a").css("margin-top",""),jQuery(l).find(".flex-control-nav").css("bottom",0),0!==avadaFusionSliderVars.header_transparency&&"0"!==avadaFusionSliderVars.header_transparency&&!1!==avadaFusionSliderVars.header_transparency||"below"!==avadaFusionSliderVars.slider_position||(o=jQuery(l).find(".slide-content-container"),jQuery(o).each(function(){jQuery(this).css("padding-top","")}))):(jQuery(l).css("position","fixed"),"absolute"!==jQuery(".fusion-header-wrapper").css("position")?(jQuery(".fusion-header-wrapper").css("position","relative"),p=a/2+"px","below"===avadaFusionSliderVars.slider_position&&jQuery(l).parents(".fusion-slider-container").css("margin-top","-"+a+"px")):p="0",jQuery(l).find(".flex-direction-nav li a").css("margin-top",p),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("z-index","3"),jQuery(".fusion-header-wrapper").css("z-index","5"),jQuery(".fusion-header-wrapper").css("height",a),jQuery(l).hasClass("fixed-width-slider")&&("Left"===avadaFusionSliderVars.header_position||"Right"===avadaFusionSliderVars.header_position?(m=jQuery(l).parents("#sliders-container").length?jQuery("#sliders-container"):jQuery("#main"),m.width()<parseFloat(jQuery(l).parent().css("max-width"))?jQuery(l).css("max-width",m.width()):jQuery(l).css("max-width",jQuery(l).parent().css("max-width")),m.width()<parseFloat(jQuery(l).parent().css("max-width"))?jQuery(l).css("max-width",m.width()):jQuery(l).css("max-width",jQuery(l).parent().css("max-width")),-1*(n="Left"===avadaFusionSliderVars.header_position?"-"+(jQuery(l).width()-jQuery("#side-header").width())/2+"px":"-"+(jQuery(l).width()+jQuery("#side-header").width())/2+"px")>jQuery(l).width()&&(n=-1*jQuery(l).width())):n="-"+jQuery(l).width()/2+"px",jQuery(l).css("left","50%"),jQuery(l).css("margin-left",n)),jQuery(l).find(".flex-control-nav").css("bottom",a/2),0!==avadaFusionSliderVars.header_transparency&&"0"!==avadaFusionSliderVars.header_transparency&&!1!==avadaFusionSliderVars.header_transparency||"below"!==avadaFusionSliderVars.slider_position||(o=jQuery(l).find(".slide-content-container"),jQuery(o).each(function(){jQuery(this).css("padding-top",a+"px")}))),Modernizr.mq("only screen and (max-width: 640px)")?(jQuery(l).parents(".fusion-slider-container").css("height",c),jQuery(l).css("height",c),jQuery(l).find(".background, .mobile_video_image").css("height",c)):(Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)"),jQuery(l).parents(".fusion-slider-container").css("height",c),jQuery(l).css("height",c),jQuery(l).find(".background, .mobile_video_image").css("height",c)),o=jQuery(l).find(".slide-content-container"),1<=jQuery(l).parents(".post-content").length&&(jQuery(l).parents(".fusion-slider-container").css("height","auto"),jQuery(l).css("height","auto"),jQuery(l).parents(".fusion-slider-container").css("max-height","none"),jQuery(l).find(".mobile_video_image").each(function(){var a,b,d=jQuery(".mobile_video_image").css("background-image").replace("url(","").replace(")","");d&&(a=new Image,a.name=d,a.src=d,a.onload=function(){var a=this.height/this.width,d=jQuery(l).parent().parent().parent().width();1<=jQuery(l).parents(".post-content").length&&(d=jQuery(l).width()),(b=a*d)<c&&(jQuery(l).find(".mobile_video_image").css("height",b),jQuery(l).css("height",b))})})),"Left"!==avadaFusionSliderVars.header_position&&"Right"!==avadaFusionSliderVars.header_position||1<=jQuery(l).parents("#sliders-container").length&&(o=jQuery(l).parents("#sliders-container").find(".slide-content-container"),jQuery(o).each(function(){Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")?(jQuery(this).find(".slide-content").css("margin-left",""),jQuery(this).find(".slide-content").css("margin-right","")):jQuery(this).hasClass("slide-content-right")?jQuery(this).find(".slide-content").css("margin-right","100px"):jQuery(this).hasClass("slide-content-left")&&jQuery(this).find(".slide-content").css("margin-left","100px")})),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&jQuery(".fusion-header-wrapper").css("height",""),h=jQuery(window).width(),i=jQuery(window).height())}),1<=jQuery(l).parents(".post-content").length&&(jQuery(l).css("max-width","100%"),"slide"!==jQuery(l).data("animation")&&jQuery(l).find(".slides").css("max-width","100%")),jQuery(l).find("video").each(function(){"function"==typeof jQuery(this)[0].pause&&jQuery(this)[0].pause()}),jQuery(l).flexslider({animation:jQuery(l).data("animation"),slideshow:jQuery(l).data("autoplay"),slideshowSpeed:jQuery(l).data("slideshow_speed"),animationSpeed:jQuery(l).data("animation_speed"),controlNav:Boolean("pagination_circles"===jQuery(l).data("slider_indicator")),directionNav:Boolean(Number(jQuery(l).data("nav_arrows"))),animationLoop:Boolean(Number(jQuery(l).data("loop"))),smoothHeight:!0,pauseOnHover:!1,useCSS:!0,video:!0,touch:!0,prevText:"&#xe61e;",nextText:"&#xe620;",start:function(a){var b,c,e,f,h,i,j,k,n=0;jQuery(l).parent().find(".fusion-slider-loading").remove(),1<=jQuery("#wpadminbar").length&&(n=jQuery("#wpadminbar").height()),jQuery(a.slides.eq(a.currentSlide)).find(".slide-content-container").show(),jQuery(a.slides.eq(a.currentSlide)).find(".tfs-scroll-down-indicator").show(),"function"==typeof jQuery.fn.fusion_responsive_title_shortcode&&jQuery(a.slides.eq(a.currentSlide)).find(".fusion-title").fusion_responsive_title_shortcode(),b=Math.max.apply(null,jQuery(l).find(".slide-content").map(function(){return jQuery(this).outerHeight()}).get()),b+=40,1==jQuery(l).data("full_screen")?(c=jQuery(window).height()-n,"above"===avadaFusionSliderVars.slider_position&&(c=jQuery(window).height()-(headerHeight+n)),0===jQuery(l).data("parallax")&&(c=1==avadaFusionSliderVars.header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-n:jQuery(window).height()-(headerHeight+n)),Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&(jQuery("#side-header").length&&(headerHeight=jQuery("#side-header").outerHeight()),c=1==avadaFusionSliderVars.mobile_header_transparency&&"below"===avadaFusionSliderVars.slider_position?jQuery(window).height()-n:jQuery(window).height()-(headerHeight+n)),c<b&&(c=b),jQuery(".fusion-top-frame").length&&(c=c-jQuery(".fusion-top-frame").height()-jQuery(".fusion-bottom-frame").height()),jQuery(l).find("video").each(function(){var a=jQuery(this).width()/jQuery(this).height(),b=a*c,d="-"+(b-jQuery(l).width())/2+"px";h=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(h=jQuery(l).width()),h>b&&(b="100%",d=0),jQuery(this).width(b),jQuery(this).css("left",d)})):(e=jQuery(l).data("slider_width"),-1!==e.indexOf("%")?(e=jQuery(m).find(".background-image").data("imgwidth"),e||cssua.ua.mobile||(e=jQuery(m).find("video").width()),e||(e=940),jQuery(l).data("first_slide_width",e),e<jQuery(l).data("slider_width")&&(e=jQuery(l).data("slider_width")),f=!0):e=parseInt(jQuery(l).data("slider_width"),10),c=parseInt(jQuery(l).data("slider_height"),10),d=c/e,.5>d&&(d=.5),h=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(h=jQuery(l).width(),jQuery(l).parents(".tab-content").length&&(h=jQuery(l).parents(".tab-content").width()-60)),c=d*h,c>parseInt(jQuery(l).data("slider_height"),10)&&(c=parseInt(jQuery(l).data("slider_height"),10)),200>c&&(c=200),c<b&&(c=b),jQuery(l).find("video").each(function(){var a,b,d=jQuery(this).width()/jQuery(this).height(),g=d*c;g<e&&!jQuery(l).hasClass("full-width-slider")&&(g=e),a="-"+(g-jQuery(l).width())/2+"px",b=jQuery(l).parent().parent().parent().width(),1<=jQuery(l).parents(".post-content").length&&(b=jQuery(l).width()),b>g&&!0===f&&1!=jQuery(l).data("full_screen")&&(g="100%",a=0),jQuery(this).width(g),jQuery(this).css("left",a)})),jQuery(l).parents(".fusion-slider-container").css("max-height",c),jQuery(l).parents(".fusion-slider-container").css("height",c),jQuery(l).css("height",c),jQuery(l).find(".background, .mobile_video_image").css("height",c),1!==jQuery(l).data("parallax")||Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")?1==jQuery(l).data("parallax")&&Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")&&(jQuery(l).css("position","relative"),jQuery(l).css("left","0"),jQuery(l).css("margin-left","0"),"absolute"!==jQuery(".fusion-header-wrapper").css("position")&&jQuery(".fusion-header-wrapper").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("z-index","3"),jQuery(".fusion-header-wrapper").css("z-index","5"),jQuery(".fusion-header-wrapper").css("height","auto"),jQuery(l).parents(".fusion-slider-container").css("margin-top",""),jQuery(l).find(".flex-direction-nav li a").css("margin-top",""),jQuery(l).find(".flex-control-nav").css("bottom",0),0!==avadaFusionSliderVars.header_transparency&&"0"!==avadaFusionSliderVars.header_transparency&&!1!==avadaFusionSliderVars.header_transparency||"below"!==avadaFusionSliderVars.slider_position||(g=jQuery(l).find(".slide-content-container"),jQuery(g).each(function(){jQuery(this).css("padding-top","")}))):(jQuery(l).css("position","fixed"),"absolute"!==jQuery(".fusion-header-wrapper").css("position")?(jQuery(".fusion-header-wrapper").css("position","relative"),k=headerHeight/2+"px","below"===avadaFusionSliderVars.slider_position&&jQuery(l).parents(".fusion-slider-container").css("margin-top","-"+headerHeight+"px")):k="0",jQuery(l).find(".flex-direction-nav li a").css("margin-top",k),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("position","relative"),jQuery("#main, .fusion-footer-widget-area, .fusion-footer-copyright-area, .fusion-page-title-bar").css("z-index","3"),jQuery(".fusion-header-wrapper").css("z-index","5"),jQuery(".fusion-header-wrapper").css("height",headerHeight),1==jQuery(l).data("full_screen")?jQuery(a).find(".flex-control-nav").css("bottom",headerHeight/2):jQuery(a).find(".flex-control-nav").css("bottom",0),jQuery(l).hasClass("fixed-width-slider")&&("Left"===avadaFusionSliderVars.header_position||"Right"===avadaFusionSliderVars.header_position?(i=jQuery(l).parents("#sliders-container").length?jQuery("#sliders-container"):jQuery("#main"),i.width()<parseFloat(jQuery(l).parent().css("max-width"))?jQuery(l).css("max-width",i.width()):jQuery(l).css("max-width",jQuery(l).parent().css("max-width")),-1*(j="Left"===avadaFusionSliderVars.header_position?"-"+(jQuery(l).width()-jQuery("#side-header").width())/2+"px":"-"+(jQuery(l).width()+jQuery("#side-header").width())/2+"px")>jQuery(l).width()&&(j=-1*jQuery(l).width())):j="-"+jQuery(l).width()/2+"px",jQuery(l).css("left","50%"),jQuery(l).css("margin-left",j)),0!==avadaFusionSliderVars.header_transparency&&"0"!==avadaFusionSliderVars.header_transparency&&!1!==avadaFusionSliderVars.header_transparency||"below"!==avadaFusionSliderVars.slider_position||(g=jQuery(l).find(".slide-content-container"),jQuery(g).each(function(){jQuery(this).css("padding-top",headerHeight+"px")}))),g=jQuery(l).find(".slide-content-container"),jQuery(a.slides.eq(a.currentSlide)).find("video").each(function(){"yes"===jQuery(this).parents("li").attr("data-autoplay")&&"function"==typeof jQuery(this)[0].play&&jQuery(this)[0].play()}),"Left"!==avadaFusionSliderVars.header_position&&"Right"!==avadaFusionSliderVars.header_position||1<=jQuery(l).parents("#sliders-container").length&&(g=jQuery(l).parents("#sliders-container").find(".slide-content-container"),jQuery(g).each(function(){Modernizr.mq("only screen and (max-width: "+avadaFusionSliderVars.side_header_break_point+"px)")||(jQuery(this).hasClass("slide-content-right")?jQuery(this).find(".slide-content").css("margin-right","100px"):jQuery(this).hasClass("slide-content-left")&&jQuery(this).find(".slide-content").css("margin-left","100px"))})),fusionReanimateSlider(g),void 0!==a.slides&&0!==a.slides.eq(a.currentSlide).find("iframe").length&&playVideoAndPauseOthers(a),jQuery(l).find(".overlay-link").hide(),jQuery(a.slides.eq(a.currentSlide)).find(".overlay-link").show(),jQuery(l).find("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){var a=jQuery(this);setTimeout(function(){resizeVideo(a)},500)}),jQuery.waypoints("viewportHeight"),jQuery.waypoints("refresh")},before:function(){jQuery(l).find(".slide-content-container").hide(),jQuery(l).find(".tfs-scroll-down-indicator").hide()},after:function(a){jQuery(a.slides.eq(a.currentSlide)).find(".slide-content-container").show(),jQuery(a.slides.eq(a.currentSlide)).find(".tfs-scroll-down-indicator").show(),"function"==typeof jQuery.fn.fusion_responsive_title_shortcode&&jQuery(a.slides.eq(a.currentSlide)).find(".fusion-title").fusion_responsive_title_shortcode(),g=jQuery(l).find(".slide-content-container"),fusionReanimateSlider(g),jQuery(l).find(".overlay-link").hide(),jQuery(a.slides.eq(a.currentSlide)).find(".overlay-link").show(),jQuery(a.slides.eq(a.currentSlide)).find("[data-youtube-video-id], [data-vimeo-video-id]").each(function(){resizeVideo(jQuery(this))}),playVideoAndPauseOthers(a),jQuery('[data-spy="scroll"]').each(function(){jQuery(this).scrollspy("refresh")})}})})});/*! 
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2021 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.81.9
 * @date Feb 2021
 */
window.averta={},function($){function getVendorPrefix(){if("result"in arguments.callee)return arguments.callee.result;var regex=/^(Moz|Khtml|O|ms|Icab)(?=[A-Z])/,webKitOnly=/^(Webkit|webkit)(?=[A-Z])/,someScript=document.getElementsByTagName("script")[0];for(var prop in someScript.style)if(webKitOnly.test(prop))return arguments.callee.result="Webkit";for(var prop in someScript.style)if(regex.test(prop))return arguments.callee.result=prop.match(regex)[0];return arguments.callee.result="WebkitOpacity"in someScript.style?"Webkit":"KhtmlOpacity"in someScript.style?"Khtml":""}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if("string"==typeof s[p])return!0;v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof s[v[i]+p])return!0;return!1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms())return!1;var has3d,el=document.createElement("i"),transforms={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};el.style.display="block",document.body.insertBefore(el,null);for(var t in transforms)void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),null!=has3d&&has3d.length>0&&"none"!==has3d}window["package"]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object)target[key]=object[key]};Function.prototype.extend=function(superclass){"function"==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in this&&this[from]===elt)return from;return-1}),window.isMSIE=function(version){if(!window.MSBrowserInfo.msie)return!1;if(!version)return!0;var ieVer=window.MSBrowserInfo.version.slice(0,window.MSBrowserInfo.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen>i;i++)attrName=dataAttrs[i].name,"data-"===attrName.substring(0,5)&&-1===exclude.indexOf(attrName)&&dataAttrsToDelete.push(dataAttrs[i].name);$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).trigger("load")},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),window.MSBrowserInfo=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&&(event={}),$this.attr("src",src),event.width=img.width,event.height=img.height,$this.data("width",img.width),$this.data("height",img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(_proto){var instance=new averta.EventDispatcher;for(var key in instance)"constructor"!=key&&(_proto[key]=averta.EventDispatcher.prototype[key])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(event,listener,ref){this.listeners[event]||(this.listeners[event]=[]),this.listeners[event].push({listener:listener,ref:ref})},removeEventListener:function(event,listener,ref){if(this.listeners[event]){for(var i=0;i<this.listeners[event].length;++i)listener===this.listeners[event][i].listener&&ref===this.listeners[event][i].ref&&this.listeners[event].splice(i--,1);0===this.listeners[event].length&&(this.listeners[event]=null)}},dispatchEvent:function(event){if(event.target=this,this.listeners[event.type])for(var i=0,l=this.listeners[event.type].length;l>i;++i)this.listeners[event.type][i].listener.call(this.listeners[event.type][i].ref,event)}}}(),function($){"use strict";var isTouch="ontouchstart"in document,isPointer=window.navigator.pointerEnabled,isMSPoiner=!isPointer&&window.navigator.msPointerEnabled,usePointer=isPointer||isMSPoiner,ev_start=(isPointer?"pointerdown ":"")+(isMSPoiner?"MSPointerDown ":"")+(isTouch?"touchstart ":"")+"mousedown",ev_move=(isPointer?"pointermove ":"")+(isMSPoiner?"MSPointerMove ":"")+(isTouch?"touchmove ":"")+"mousemove",ev_end=(isPointer?"pointerup ":"")+(isMSPoiner?"MSPointerUp ":"")+(isTouch?"touchend ":"")+"mouseup",ev_cancel=(isPointer?"pointercancel ":"")+(isMSPoiner?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function($element){this.$element=$element,this.enabled=!0,$element.bind(ev_start,{target:this},this.__touchStart),$element[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var p=averta.TouchSwipe.prototype;p.getDirection=function(new_x,new_y){switch(this.swipeType){case"horizontal":return new_x<=this.start_x?"left":"right";case"vertical":return new_y<=this.start_y?"up":"down";case"all":return Math.abs(new_x-this.start_x)>Math.abs(new_y-this.start_y)?new_x<=this.start_x?"left":"right":new_y<=this.start_y?"up":"down"}},p.priventDefultEvent=function(new_x,new_y){var dx=Math.abs(new_x-this.start_x),dy=Math.abs(new_y-this.start_y),horiz=dx>dy;return"horizontal"===this.swipeType&&horiz||"vertical"===this.swipeType&&!horiz},p.createStatusObject=function(evt){var temp_x,temp_y,status_data={};return temp_x=this.lastStatus.distanceX||0,temp_y=this.lastStatus.distanceY||0,status_data.distanceX=evt.pageX-this.start_x,status_data.distanceY=evt.pageY-this.start_y,status_data.moveX=status_data.distanceX-temp_x,status_data.moveY=status_data.distanceY-temp_y,status_data.distance=parseInt(Math.sqrt(Math.pow(status_data.distanceX,2)+Math.pow(status_data.distanceY,2))),status_data.duration=(new Date).getTime()-this.start_time,status_data.direction=this.getDirection(evt.pageX,evt.pageY),status_data},p.__reset=function(event,jqevt){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime();var point=this.__getPoint(event,jqevt);this.start_x=point.pageX,this.start_y=point.pageY},p.__touchStart=function(event){var swipe=event.data.target,jqevt=event;if(swipe.enabled&&!($(event.target).closest(swipe.noSwipeSelector,swipe.$element).length>0)){if(event=event.originalEvent,usePointer&&$(this).css("-ms-touch-action","horizontal"===swipe.swipeType?"pan-y":"pan-x"),!swipe.onSwipe)return void $.error("Swipe listener is undefined");if(!(swipe.touchStarted||isTouch&&swipe.start_time&&"mousedown"===event.type&&(new Date).getTime()-swipe.start_time<600)){var point=swipe.__getPoint(event,jqevt);swipe.start_x=point.pageX,swipe.start_y=point.pageY,swipe.start_time=(new Date).getTime(),$(document).bind(ev_end,{target:swipe},swipe.__touchEnd).bind(ev_move,{target:swipe},swipe.__touchMove).bind(ev_cancel,{target:swipe},swipe.__touchCancel);var status=swipe.createStatusObject(point);status.phase="start",swipe.onSwipe.call(null,status),isTouch||jqevt.preventDefault(),swipe.lastStatus=status,swipe.touchStarted=!0}}},p.__touchMove=function(event){var swipe=event.data.target,jqevt=event;if(event=event.originalEvent,swipe.touchStarted){clearTimeout(swipe.timo),swipe.timo=setTimeout(function(){swipe.__reset(event,jqevt)},60);var point=swipe.__getPoint(event,jqevt),status=swipe.createStatusObject(point);swipe.priventDefultEvent(point.pageX,point.pageY)&&jqevt.preventDefault(),status.phase="move",swipe.lastStatus=status,swipe.onSwipe.call(null,status)}},p.__touchEnd=function(event){var swipe=event.data.target,jqevt=event;event=event.originalEvent,clearTimeout(swipe.timo);var status=swipe.lastStatus;isTouch||jqevt.preventDefault(),status.phase="end",swipe.touchStarted=!1,swipe.priventEvt=null,$(document).unbind(ev_end,swipe.__touchEnd).unbind(ev_move,swipe.__touchMove).unbind(ev_cancel,swipe.__touchCancel),status.speed=status.distance/status.duration,swipe.onSwipe.call(null,status)},p.__touchCancel=function(event){var swipe=event.data.target;swipe.__touchEnd(event)},p.__getPoint=function(event,jqEvent){return isTouch&&-1===event.type.indexOf("mouse")?event.touches[0]:usePointer?event:jqEvent},p.enable=function(){this.enabled||(this.enabled=!0)},p.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var st=averta.Ticker,list=[],len=0,__stopped=!0;st.add=function(listener,ref){return list.push([listener,ref]),1===list.length&&st.start(),len=list.length},st.remove=function(listener,ref){for(var i=0,l=list.length;l>i;++i)list[i]&&list[i][0]===listener&&list[i][1]===ref&&list.splice(i,1);len=list.length,0===len&&st.stop()},st.start=function(){__stopped&&(__stopped=!1,__tick())},st.stop=function(){__stopped=!0};var __tick=function(){if(!st.__stopped){for(var item,i=0;i!==len;i++)item=list[i],item[0].call(item[1]);requestAnimationFrame(__tick)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(delay,autoStart){this.delay=delay,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,autoStart&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";window.CSSTween=function(element,duration,delay,ease){this.$element=element,this.duration=duration||1e3,this.delay=delay||0,this.ease=ease||"linear"};var p=CSSTween.prototype;p.to=function(callback,target){return this.to_cb=callback,this.to_cb_target=target,this},p.from=function(callback,target){return this.fr_cb=callback,this.fr_cb_target=target,this},p.onComplete=function(callback,target){return this.oc_fb=callback,this.oc_fb_target=target,this},p.chain=function(csstween){return this.chained_tween=csstween,this},p.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},p.start=function(){var element=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(element.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var that=this;return this.onTransComplete=function(){that.fresh&&(that.reset(),element.style[window._jcsspfx+"TransitionDuration"]="",element.style[window._jcsspfx+"TransitionProperty"]="",element.style[window._jcsspfx+"TransitionTimingFunction"]="",element.style[window._jcsspfx+"TransitionDelay"]="",that.fresh=!1,that.chained_tween&&that.chained_tween.start(),that.oc_fb&&that.oc_fb.call(that.oc_fb_target))},this.start_to=setTimeout(function(){that.$element&&(element.style[window._jcsspfx+"TransitionDuration"]=that.duration+"ms",element.style[window._jcsspfx+"TransitionProperty"]=that.transProperty||"all",element.style[window._jcsspfx+"TransitionDelay"]=that.delay>0?that.delay+"ms":"",element.style[window._jcsspfx+"TransitionTimingFunction"]=that.ease,that.to_cb&&that.to_cb.call(that.to_cb_target),that.end_to=setTimeout(function(){that.onTransComplete()},that.duration+(that.delay||0)))},1),this}}(),function(){"use strict";function transPos(element,properties){if(void 0!==properties.x||void 0!==properties.y)if(_cssanim){var trans=window._jcsspfx+"Transform";void 0!==properties.x&&(properties[trans]=(properties[trans]||"")+" translateX("+properties.x+"px)",delete properties.x),void 0!==properties.y&&(properties[trans]=(properties[trans]||"")+" translateY("+properties.y+"px)",delete properties.y)}else{if(void 0!==properties.x){var posx="auto"!==element.css("right")?"right":"left";properties[posx]=properties.x+"px",delete properties.x}if(void 0!==properties.y){var posy="auto"!==element.css("bottom")?"bottom":"top";properties[posy]=properties.y+"px",delete properties.y}}return properties}var _cssanim=null;window.CTween={},CTween.setPos=function(element,pos){element.css(transPos(element,pos))},CTween.animate=function(element,duration,properties,options){if(null==_cssanim&&(_cssanim=window._cssanim),options=options||{},transPos(element,properties),_cssanim){var tween=new CSSTween(element,duration,options.delay,EaseDic[options.ease]);return options.transProperty&&(tween.transProperty=options.transProperty),tween.to(function(){element.css(properties)}),options.complete&&tween.onComplete(options.complete,options.target),tween.start(),tween.stop=tween.reset,tween}var onCl;return options.delay&&element.delay(options.delay),options.complete&&(onCl=function(){options.complete.call(options.target)}),element.stop(!0).animate(properties,duration,options.ease||"linear",onCl),element},CTween.fadeOut=function(target,duration,remove){var options={};remove===!0?options.complete=function(){target.remove()}:2===remove&&(options.complete=function(){target.css("display","none")}),CTween.animate(target,duration||1e3,{opacity:0},options)},CTween.fadeIn=function(target,duration,reset){reset!==!1&&target.css("opacity",0).css("display",""),CTween.animate(target,duration||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(type,$container,$img){this.$container=$container,this.$img=$img,this.type=type||"stretch",this.widthOnly=!1,this.heightOnly=!1};var p=MSAligner.prototype;p.init=function(w,h){switch(this.baseWidth=w,this.baseHeight=h,this.imgRatio=w/h,this.imgRatio2=h/w,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},p.align=function(){if(this.needAlign){var cont_w=this.$container[0].offsetWidth,cont_h=this.$container[0].offsetHeight,contRatio=cont_w/cont_h;"fill"==this.type?this.imgRatio<contRatio?(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2)):(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):"fit"==this.type&&(this.imgRatio<contRatio?(this.$img.height(cont_h),this.$img.width(cont_h*this.imgRatio)):(this.$img.width(cont_w),this.$img.height(cont_w*this.imgRatio2))),this.setMargin()}},p.setMargin=function(){var cont_w=this.$container[0].offsetWidth,cont_h=this.$container[0].offsetHeight;this.$img.css("margin-top",(cont_h-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(cont_w-this.$img[0].offsetWidth)/2+"px")}}(),/**
 * CSS pointer-events polyfill
 * Adds support for `pointer-events: none;` for browsers not supporting this property
 * Requires jQuery@~1.9
 *
 * @copyright Sebastian Langer 2016
 * @license MIT
 * @author Sebastian Langer <sl@scn.cx>
 */
function($){var Polyfill=function(userOptions){this.options=$.extend({},Polyfill.defaultOptions,userOptions),this.isEnabled=!1,(this.options.forcePolyfill||!this.supportsPointerEvents())&&(this.registerEvents(),this.isEnabled=!0)};Polyfill.defaultOptions={forcePolyfill:!1,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"},Polyfill.prototype.registerEvents=function(){$(document).on(this.getEventNames(),this.options.selector,$.proxy(this.onElementClick,this))},Polyfill.prototype.getEventNames=function(){var eventNamespace=this.options.eventNamespace?"."+this.options.eventNamespace:"";return this.options.listenOn.join(eventNamespace+" ")+eventNamespace},Polyfill.prototype.supportsPointerEvents=function(){var style=document.createElement("a").style;return style.cssText="pointer-events:auto","auto"===style.pointerEvents},Polyfill.prototype.isClickThrough=function($el){var elPointerEventsCss=$el.css("pointer-events");return 0===$el.length||"all"===elPointerEventsCss||$el.is(":root")||$el.hasClass(this.options.pointerEventsAllClass)?!1:"none"===elPointerEventsCss||$el.hasClass(this.options.pointerEventsNoneClass)||this.isClickThrough($el.parent())?!0:!1},Polyfill.prototype.onElementClick=function(e){var $elOrg=$(e.target);if(!this.isClickThrough($elOrg))return!0;$elOrg.hide();var elBelow=document.elementFromPoint(e.clientX,e.clientY);return e.target=elBelow,$(elBelow).trigger(e),"A"===elBelow.tagName&&(2===e.which?window.open(elBelow.getAttribute("href"),"_blank"):elBelow.click()),$elOrg.show(),!1},Polyfill.prototype.destroy=function(){$(document).off(this.getEventNames()),this.isEnabled=!1},window.pointerEventsPolyfill=function(userOptions){return new Polyfill(userOptions)}}(jQuery),function(){"use strict";var _options={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},Controller=function(min,max,options){if(null===max||null===min)throw new Error("Max and Min values are required.");this.options=options||{};for(var key in _options)key in this.options||(this.options[key]=_options[key]);this._max_value=max,this._min_value=min,this.value=min,this.end_loc=min,this.current_snap=this.getSnapNum(min),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},p=Controller.prototype;p.changeTo=function(value,animate,speed,snap_num,dispatch){if(this.stopped=!1,this._internalStop(),value=this._checkLimits(value),speed=Math.abs(speed||0),this.options.snapping&&(snap_num=snap_num||this.getSnapNum(value),dispatch!==!1&&this._callsnapChange(snap_num),this.current_snap=snap_num),animate){this.animating=!0;var self=this,active_id=++self.__animID,amplitude=value-self.value,timeStep=0,targetPosition=value,animFrict=1-self.options.friction,timeconst=animFrict+(speed-20)*animFrict*1.3/self.options.maxSpeed,tick=function(){if(active_id===self.__animID){var dis=value-self.value;if(!(Math.abs(dis)>self.options.minValidDist&&self.animating))return self.animating&&(self.value=value,self._callrenderer()),self.animating=!1,active_id!==self.__animID&&(self.__animID=-1),void self._callonComplete("anim");window.requestAnimationFrame(tick),self.value=targetPosition-amplitude*Math.exp(-++timeStep*timeconst),self._callrenderer()}};return void tick()}this.value=value,this._callrenderer()},p.drag=function(move){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=move,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*move):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},p.push=function(speed){if(this.stopped=!1,this.options.snapping&&Math.abs(speed)<=this.options.snappingMinSpeed)return void this.cancel();if(this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this.options.snapping){var snap_loc=this.getSnapNum(this.value),end_snap=this.getSnapNum(this.end_loc);if(this.options.paging)return snap_loc=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(speed>0?this.gotoSnap(snap_loc+1,!0,speed):this.gotoSnap(snap_loc-1,!0,speed));if(snap_loc===end_snap)return void this.cancel();this._callsnapChange(end_snap),this.current_snap=end_snap}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},p.bounce=function(speed){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=speed,this.__startSpeed=speed,this.end_loc=this._calculateEnd(),this._startDecelaration())},p.stop=function(){this.stopped=!0,this._internalStop()},p.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},p.renderCallback=function(listener,ref){this.__renderHook={fun:listener,ref:ref}},p.snappingCallback=function(listener,ref){this.__snapHook={fun:listener,ref:ref}},p.snapCompleteCallback=function(listener,ref){this.__compHook={fun:listener,ref:ref}},p.getSnapNum=function(value){return Math.floor((value+this.options.snapsize/2)/this.options.snapsize)},p.nextSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap+1,!0)},p.prevSnap=function(){this._internalStop();var curr_snap=this.getSnapNum(this.value);!this.options.endless&&(curr_snap-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(curr_snap-1,!0)},p.gotoSnap=function(snap_num,animate,speed){this.changeTo(snap_num*this.options.snapsize,animate,speed,snap_num)},p.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},p._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},p._calculateExtraMove=function(value){var m=value%this.options.snapsize;return m<this.options.snapsize/2?-m:this.options.snapsize-m},p._calculateEnd=function(step){for(var temp_speed=this.__speed,temp_value=this.value,i=0;Math.abs(temp_speed)>this.options.minValidDist;)temp_value+=temp_speed,temp_speed*=this.options.friction,i++;return step?i:temp_value},p._checkLimits=function(value){return this.options.endless?value:value<this._min_value?this._min_value:value>this._max_value?this._max_value:value},p._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},p._callsnapChange=function(targetSnap){this.__snapHook&&targetSnap!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,targetSnap,targetSnap-this.current_snap)},p._callonComplete=function(type){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,type)},p._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var xtr_move=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+xtr_move-this.__extrStep,this.__extrStep=xtr_move}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var out_value=0;this.value<this._min_value?out_value=this._min_value-this.value:this.value>this._max_value&&(out_value=this._max_value-this.value),this.__isout=Math.abs(out_value)>=this.options.minValidDist,this.__isout&&(this.__speed*out_value<=0?this.__speed+=out_value*this.options.outFriction:this.__speed=out_value*this.options.outAcceleration)}},p._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var self=this,tick=function(){self._deceleration&&(self._computeDeceleration(),Math.abs(self.__speed)>self.options.minValidDist||self.__isout?window.requestAnimationFrame(tick):(self._deceleration=!1,self.__isout=!1,self.value=self.__needsSnap&&self.options.snapping&&!self.options.paging?self._checkLimits(self.end_loc+self.__extraMove):Math.round(self.value),self._callrenderer(),self._callonComplete("decel")))};tick()}},window.Controller=Controller}(),function(window,document,$){window.MSLayerController=function(slide){this.slide=slide,this.slider=slide.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=$("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=$("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=$("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=$("<div></div>").addClass("ms-anim-layers")};var p=MSLayerController.prototype;p.addLayer=function(layer){switch(layer.slide=this.slide,layer.controller=this,layer.$element.data("position")){case"static":this.hasStaticLayer=!0,layer.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,layer.$element.appendTo(this.$fixedLayers);break;default:layer.$element.appendTo(this.$animLayers)}layer.create(),this.layers.push(layer),this.layersCount++,layer.parallax&&(this.hasParallaxLayer=!0),layer.needPreload&&this.preloadCount++},p.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},p.loadLayers=function(callback){if(this._onReadyCallback=callback,0===this.preloadCount)return void this._onlayersReady();for(var i=0;i!==this.layersCount;++i)this.layers[i].needPreload&&this.layers[i].loadImage()},p.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},p.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},p.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var that=this;that.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){that._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){that.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},p.animHideLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i)this.layers[i].hide()},p.setSize=function(width,height,hard){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(hard&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var left=Math.max(0,(width-this.slider.options.width)/2)+"px";this.$layers[0].style.left=left,this.$fixedLayers[0].style.left=left}},p.updateHeight=function(){},p._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},p.onSlideSleep=function(){},p.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},p.getLayerById=function(layerId){if(!layerId)return null;for(var i=0;i<this.layersCount;++i)if(this.layers[i].id===layerId)return this.layers[i];return null},p.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var i=0;i<this.layersCount;++i)this.layers[i].$element.stop(!0).remove();this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];layer.waitForAction||layer.start()}},p._initLayers=function(force,onlyStatics){if(!(this.init&&!force||this.slider.init_safemode)){this.init=onlyStatics!==!0;var i=0;if(onlyStatics&&!this.staticsInit)for(this.staticsInit=!0;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].init();else if(this.staticsInit&&!force)for(;i!==this.layersCount;++i)this.layers[i].staticLayer||this.layers[i].init();else for(;i!==this.layersCount;++i)this.layers[i].init()}},p._locateLayers=function(onlyStatics){var i=0;if(onlyStatics)for(;i!==this.layersCount;++i)this.layers[i].staticLayer&&this.layers[i].locate();else for(;i!==this.layersCount;++i)this.layers[i].locate()},p._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var i=0;i!==this.layersCount;++i)this.layers[i].reset()},p._applyParallax=function(x,y,fast){for(var i=0;i!==this.layersCount;++i)null!=this.layers[i].parallax&&this.layers[i].moveParallax(x,y,fast)},p._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._resetParalax=function(e){var that=e.data.that;that._applyParallax(0,0)},p._mouseParallaxMove=function(e){var that=e.data.that,os=that.slide.$element.offset(),slider=that.slider;if("mouse:y-only"!==slider.options.parallaxMode)var x=e.pageX-os.left-that.slide.__width/2;else var x=0;if("mouse:x-only"!==slider.options.parallaxMode)var y=e.pageY-os.top-that.slide.__height/2;else var y=0;that._applyParallax(-x,-y)},p._swipeParallaxMove=function(){var value=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,value,!0):this._applyParallax(value,0,!0)}}(window,document,jQuery),function($,window){"use strict";window.MSOverlayLayerController=function(){MSLayerController.apply(this,arguments)},MSOverlayLayerController.extend(MSLayerController);var p=MSOverlayLayerController.prototype,_super=MSLayerController.prototype;p.addLayer=function(layer){var showOnSlides=layer.$element.data("show-on"),hideOnSlides=layer.$element.data("hide-on");hideOnSlides&&(layer.hideOnSlides=hideOnSlides.replace(/\s+/g,"").split(",")),showOnSlides&&(layer.showOnSlides=showOnSlides.replace(/\s+/g,"").split(",")),_super.addLayer.apply(this,arguments)},p.create=function(){_super.create.apply(this,arguments),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.bind(this))},p.checkLayers=function(){if(this.ready)for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];layer.waitForAction||(this._checkForShow(layer)?layer.start():layer.hide())}},p._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},p._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},p._startLayers=function(){for(var i=0;i!==this.layersCount;++i){var layer=this.layers[i];this._checkForShow(layer)&&!layer.waitForAction&&layer.start()}},p._checkForShow=function(layer){var slideId=this.slider.api.currentSlide.id,layerHideOn=layer.hideOnSlides,layerShowOn=layer.showOnSlides;return layerShowOn?!!slideId&&-1!==layerShowOn.indexOf(slideId):!slideId||!layerHideOn||layerHideOn.length&&-1===layerHideOn.indexOf(slideId)}}(jQuery,window,document),function($,window){"use strict";window.MSOverlayLayers=function(slider){this.slider=slider};var p=MSOverlayLayers.prototype;p.setupLayerController=function(){this.layerController=new MSOverlayLayerController(this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this.setSize.bind(this)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.setSize.bind(this)),this.setSize()},p.setSize=function(){this.__width=this.$element.width(),this.__height=this.$element.height(),this.layerController.setSize(this.__width,this.__height)},p.create=function(){this.layerController.create(),this.layerController.loadLayers(this._onLayersLoad),this.layerController.prepareToShow(),window.pointerEventsPolyfill&&window.pointerEventsPolyfill({selector:"#"+this.slider.$element.attr("id")+" .ms-overlay-layers",forcePolyfill:!1})},p.getHeight=function(){return this.slider.api.currentSlide.getHeight()},p.destroy=function(){this.layerController.destroy()},p._onLayersLoad=function(){this.ready=!0,this.selected=!0,this.layersLoaded=!0,this.setSize(),this.layerController.showLayers()}}(jQuery,window,document),function(){window.MSLayerEffects={};var installed,_fade={opacity:0};MSLayerEffects.setup=function(){if(!installed){installed=!0;var st=MSLayerEffects,transform_css=window._jcsspfx+"Transform",transform_orig_css=window._jcsspfx+"TransformOrigin",o=window.MSBrowserInfo.opera;_2d=window._css2d&&window._cssanim&&!o,st.defaultValues={left:0,top:0,opacity:isMSIE("<=9")?1:"",right:0,bottom:0},st.defaultValues[transform_css]="",st.rf=1,st.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},st.fade=function(){return _fade},st.left=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=-dist*st.rf+"px",r},st.right=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.left=dist*st.rf+"px",r},st.top=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+-dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=-dist*st.rf+"px",r},st.bottom=_2d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateY("+dist*st.rf+"px)",r}:function(dist,fade){var r=fade===!1?{}:{opacity:0};return r.top=dist*st.rf+"px",r},st.from=_2d?function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="translateX("+leftdis*st.rf+"px) translateY("+topdis*st.rf+"px)",r}:function(leftdis,topdis,fade){var r=fade===!1?{}:{opacity:0};return r.top=topdis*st.rf+"px",r.left=leftdis*st.rf+"px",r},st.rotate=_2d?function(deg,orig){var r={opacity:0};return r[transform_css]=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateleft=_2d?function(deg,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.left(dist,fade)},st.rotateright=_2d?function(deg,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.right(dist,fade)},st.rotatetop=_2d?function(deg,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.top(dist,fade)},st.rotatebottom=_2d?function(deg,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,dist,orig,fade){return st.bottom(dist,fade)},st.rotatefrom=_2d?function(deg,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.skewleft=_2d?function(deg,dist,fade){var r=st.left(dist,fade);return r[transform_css]+=" skewX("+deg+"deg)",r}:function(deg,dist,fade){return st.left(dist,fade)},st.skewright=_2d?function(deg,dist,fade){var r=st.right(dist,fade);return r[transform_css]+=" skewX("+-deg+"deg)",r}:function(deg,dist,fade){return st.right(dist,fade)},st.skewtop=_2d?function(deg,dist,fade){var r=st.top(dist,fade);return r[transform_css]+=" skewY("+deg+"deg)",r}:function(deg,dist,fade){return st.top(dist,fade)},st.skewbottom=_2d?function(deg,dist,fade){var r=st.bottom(dist,fade);return r[transform_css]+=" skewY("+-deg+"deg)",r}:function(deg,dist,fade){return st.bottom(dist,fade)},st.scale=_2d?function(x,y,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,orig,fade){return fade===!1?{}:{opacity:0}},st.scaleleft=_2d?function(x,y,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.left(dist,fade)},st.scaleright=_2d?function(x,y,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.right(dist,fade)},st.scaletop=_2d?function(x,y,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.top(dist,fade)},st.scalebottom=_2d?function(x,y,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,dist,orig,fade){return st.bottom(dist,fade)},st.scalefrom=_2d?function(x,y,leftdis,topdis,orig,fade){var r=st.from(leftdis,topdis,fade);return r[transform_css]+=" scaleX("+x+") scaleY("+y+")",orig&&(r[transform_orig_css]=orig),r}:function(x,y,leftdis,topdis,orig,fade){return st.from(leftdis,topdis,fade)},st.rotatescale=_2d?function(deg,x,y,orig,fade){var r=st.scale(x,y,orig,fade);return r[transform_css]+=" rotate("+deg+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(deg,x,y,orig,fade){return st.scale(x,y,orig,fade)},st.front=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.back=window._css3d?function(dist,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate(0.001deg)",r}:function(){return _fade},st.rotatefront=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotateback=window._css3d?function(deg,dist,orig,fade){var r=fade===!1?{}:{opacity:0};return r[transform_css]="perspective(2000px) translate3d(0 , 0 ,"+-dist+"px ) rotate("+(deg||.001)+"deg)",orig&&(r[transform_orig_css]=orig),r}:function(){return _fade},st.rotate3dleft=window._css3d?function(x,y,z,dist,orig,fade){var r=st.left(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.left(dist,fade)},st.rotate3dright=window._css3d?function(x,y,z,dist,orig,fade){var r=st.right(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.right(dist,fade)},st.rotate3dtop=window._css3d?function(x,y,z,dist,orig,fade){var r=st.top(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.top(dist,fade)},st.rotate3dbottom=window._css3d?function(x,y,z,dist,orig,fade){var r=st.bottom(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.bottom(dist,fade)},st.rotate3dfront=window._css3d?function(x,y,z,dist,orig,fade){var r=st.front(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.front(dist,fade)},st.rotate3dback=window._css3d?function(x,y,z,dist,orig,fade){var r=st.back(dist,fade);return r[transform_css]+=(x?" rotateX("+x+"deg)":" ")+(y?" rotateY("+y+"deg)":"")+(z?" rotateZ("+z+"deg)":""),orig&&(r[transform_orig_css]=orig),r}:function(x,y,z,dist,orig,fade){return st.back(dist,fade)},st.t=window._css3d?function(fade,tx,ty,tz,r,rx,ry,rz,scx,scy,skx,sky,ox,oy,oz){var _r=fade===!1?{}:{opacity:0},transform="perspective(2000px) ";"n"!==tx&&(transform+="translateX("+tx*st.rf+"px) "),"n"!==ty&&(transform+="translateY("+ty*st.rf+"px) "),"n"!==tz&&(transform+="translateZ("+tz*st.rf+"px) "),"n"!==r&&(transform+="rotate("+r+"deg) "),"n"!==rx&&(transform+="rotateX("+rx+"deg) "),"n"!==ry&&(transform+="rotateY("+ry+"deg) "),"n"!==rz&&(transform+="rotateZ("+rz+"deg) "),"n"!==skx&&(transform+="skewX("+skx+"deg) "),"n"!==sky&&(transform+="skewY("+sky+"deg) "),"n"!==scx&&(transform+="scaleX("+scx+") "),"n"!==scy&&(transform+="scaleY("+scy+")"),_r[transform_css]=transform;var trans_origin="";return trans_origin+="n"!==ox?ox+"% ":"50% ",trans_origin+="n"!==oy?oy+"% ":"50% ",trans_origin+="n"!==oz?oz+"px":"",_r[transform_orig_css]=trans_origin,_r}:function(fade,tx,ty,tz,r){var r=fade===!1?{}:{opacity:0};return"n"!==tx&&(r.left=tx*st.rf+"px"),"n"!==ty&&(r.top=ty*st.rf+"px"),r}}}}(jQuery),function($){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var p=MSLayerElement.prototype;p.setStartAnim=function(anim){$.extend(this.start_anim,anim),$.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},p.setEndAnim=function(anim){$.extend(this.end_anim,anim)},p.create=function(){if(this.$element.css("display","none"),this.resizable=this.$element.data("resize")!==!1,this.fixed=this.$element.data("fixed")===!0,void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var slideController=this.slide.slider.slideController;this.$element.on(this.$element.data("action-event")||"click",function(event){slideController.runAction($(this).data("action")),event.preventDefault()}).addClass("ms-action-layer")}if($.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,this.masked&&(this.$mask=$("<div></div>").addClass("ms-layer-mask"),this.link?(this.link.wrap(this.$mask),this.$mask=this.link.parent()):(this.$element.wrap(this.$mask),this.$mask=this.$element.parent()),this.maskWidth&&this.$mask.width(this.maskWidth),this.maskHeight&&(this.$mask.height(this.maskHeight),-1===this.__cssConfig.indexOf("height")&&this.__cssConfig.push("height"))),this.layerOrigin=this.$element.data("origin"),this.slide.slider.options.responsive){var el=this.$element;this.origin=[el.data("phone-origin"),el.data("tablet-origin"),el.data("origin")],this.offsetX=[el.data("phone-offset-x"),el.data("tablet-offset-x"),el.data("offset-x")],this.offsetY=[el.data("phone-offset-y"),el.data("tablet-offset-y"),el.data("offset-y")],this.relativeScale=el.data("relative-size"),this.hideOn=(el.data("hide-on")||"").split(",")}else{var layerOrigin=this.layerOrigin;if(layerOrigin){var vOrigin=layerOrigin.charAt(0),hOrigin=layerOrigin.charAt(1),offsetX=this.$element.data("offset-x"),offsetY=this.$element.data("offset-y"),layerEle=this.masked?this.$mask[0]:this.$element[0];switch(void 0===offsetY&&(offsetY=0),vOrigin){case"t":layerEle.style.top=offsetY+"px";break;case"b":layerEle.style.bottom=offsetY+"px";break;case"m":layerEle.style.top=offsetY+"px",this.middleAlign=!0}switch(void 0===offsetX&&(offsetX=0),hOrigin){case"l":layerEle.style.left=offsetX+"px";break;case"r":layerEle.style.right=offsetX+"px";break;case"c":layerEle.style.left=offsetX+"px",this.centerAlign=!0}}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=$("<div></div>").addClass("ms-parallax-layer"),this.masked?(this.$mask.wrap(this.$parallaxElement),this.$parallaxElement=this.$mask.parent()):this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),$.removeDataAttrs(this.$element,["data-src"])},p.init=function(){this.initialized=!0;var value;this.$element.css("visibility","");for(var i=0,l=this.__cssConfig.length;l>i;i++){var key=this.__cssConfig[i];if(this._isPosition(key)&&this.masked)value=this.$mask.css(key);else if("text"!==this.type||"width"!==key||this.masked||this.maskWidth){value=this.$element.css(key);var isSize="width"===key||"height"===key;isSize&&this.masked&&(this.maskWidth&&"width"===key?value=this.maskWidth+"px":this.maskHeight&&"height"===key&&(value=this.maskHeight+"px")),isSize&&"0px"===value&&(value=this.$element.data(key)+"px")}else value=this.$element[0].style.width;this.layerOrigin&&("top"===key&&-1===this.layerOrigin.indexOf("t")&&-1===this.layerOrigin.indexOf("m")||"bottom"===key&&-1===this.layerOrigin.indexOf("b")||"left"===key&&-1===this.layerOrigin.indexOf("l")&&-1===this.layerOrigin.indexOf("c")||"right"===key&&-1===this.layerOrigin.indexOf("r"))||"auto"!=value&&""!=value&&"normal"!=value&&(this.baseStyle[key]=parseInt(value))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},p.updatePosition=function(){var bp=this.slide.slider.getActiveBreakpoint();if(this.lastBp!==bp&&(this.lastBp=bp,this.layerOrigin=this.slide.slider.getResponsiveValue(this.origin),this.layerOrigin)){var vOrigin=this.layerOrigin.charAt(0),hOrigin=this.layerOrigin.charAt(1),offsetX=this.slide.slider.getResponsiveValue(this.offsetX),offsetY=this.slide.slider.getResponsiveValue(this.offsetY),layerEle=this.masked?this.$mask[0]:this.$element[0];switch(this.middleAlign=!1,this.centerAlign=!1,this.baseStyle.top=void 0,this.baseStyle.left=void 0,this.baseStyle.right=void 0,this.baseStyle.bottom=void 0,layerEle.style.top="",layerEle.style.left="",layerEle.style.right="",layerEle.style.bottom="",void 0===offsetY&&(offsetY=0),vOrigin){case"t":layerEle.style.top=offsetY+"px",this.baseStyle.top=offsetY;break;case"b":layerEle.style.bottom=offsetY+"px",this.baseStyle.bottom=offsetY;break;case"m":layerEle.style.top=offsetY+"px",this.baseStyle.top=offsetY,this.middleAlign=!0}switch(void 0===offsetX&&(offsetX=0),hOrigin){case"l":layerEle.style.left=offsetX+"px",this.baseStyle.left=offsetX;break;case"r":layerEle.style.right=offsetX+"px",this.baseStyle.right=offsetX;break;case"c":layerEle.style.left=offsetX+"px",this.baseStyle.left=offsetX,this.centerAlign=!0}}},p.locate=function(){if(this.slide.ready&&this.initialized){this.slide.slider.options.responsive&&this.updatePosition();var factor,isPosition,isSize,width=parseFloat(this.layersCont.css("width")),height=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),this.staticLayer&&this.$element.addClass("ms-hover-active"),factor=this.resizeFactor=this.slide.slider.options.responsive&&this.relativeScale?width/this.slide.slider.getBreakpointReferenceSize():width/this.slide.slider.options.width;var $layerEle=this.masked?this.$mask:this.$element;for(var key in this.baseStyle)isPosition=this._isPosition(key),isSize="width"===key||"height"===key,factor=this.fixed&&isPosition?1:this.resizeFactor,(this.resizable||isPosition)&&void 0!==this.baseStyle[key]&&("top"===key&&this.middleAlign?($layerEle[0].style.top="0px",this.baseHeight=$layerEle.outerHeight(!1),$layerEle[0].style.top=this.baseStyle.top*factor+(height-this.baseHeight)/2+"px"):"left"===key&&this.centerAlign?($layerEle[0].style.left="0px",this.baseWidth=$layerEle.outerWidth(!1),$layerEle[0].style.left=this.baseStyle.left*factor+(width-this.baseWidth)/2+"px"):isPosition&&this.masked?$layerEle[0].style[key]=this.baseStyle[key]*factor+"px":isSize&&("width"===key&&this.maskWidth||"height"===key&&this.maskHeight)?$layerEle[0].style[key]=this.baseStyle[key]*factor+"px":this.$element.css(key,this.baseStyle[key]*factor+"px"));this.visible(this.minWidth<width),this.minWidth<width&&this.slide.slider.options.responsive&&this.visible(-1===this.hideOn.indexOf(this.slide.slider.getActiveBreakpoint()))}},p.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0,this.$element.removeClass("ms-hover-active");var key,base;MSLayerEffects.rf=this.resizeFactor;var effect_css=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),start_css_eff={};for(key in effect_css)this._checkPosKey(key,effect_css)||(null!=MSLayerEffects.defaultValues[key]&&(start_css_eff[key]=MSLayerEffects.defaultValues[key]),key in this.baseStyle&&(base=this.baseStyle[key],this.middleAlign&&"top"===key&&(base+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===key&&(base+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),effect_css[key]=base+parseFloat(effect_css[key])+"px",start_css_eff[key]=base+"px"),this.$element.css(key,effect_css[key]));var that=this;clearTimeout(this.to),clearTimeout(this.clHide),this.to=setTimeout(function(){that.$element.css("visibility",""),that._playAnimation(that.start_anim,start_css_eff)},that.start_anim.delay||.01),this.clTo=setTimeout(function(){that.show_cl=!0,that.$element.addClass("ms-hover-active")},(this.start_anim.delay||.01)+this.start_anim.duration+1),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide()},that.end_anim.time))}},p.hide=function(){if(!this.staticLayer){this.$element.removeClass("ms-hover-active"),this.isShowing=!1;var effect_css=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in effect_css)this._checkPosKey(key,effect_css)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,effect_css[key]),key in this.baseStyle&&(effect_css[key]=this.baseStyle[key]+parseFloat(effect_css[key])+"px"));this._playAnimation(this.end_anim,effect_css),clearTimeout(this.clHide),0===effect_css.opacity&&(this.clHide=setTimeout(function(){this.$element.css("visibility","hidden")}.bind(this),this.end_anim.duration+1)),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},p.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},p.destroy=function(){this.reset(),this.$element.remove()},p.visible=function(value){this.isVisible!=value&&(this.isVisible=value,this.$element.css("display",value?"":"none"))},p.moveParallax=function(x,y,fast){this._paraX=x,this._paraY=y,fast&&(this._lastParaX=x,this._lastParaY=y,this.parallaxRender())},p._playAnimation=function(animation,css){var options={};animation.ease&&(options.ease=animation.ease),options.transProperty=window._csspfx+"transform,opacity",this.show_tween&&this.show_tween.stop(!0),this.show_tween=CTween.animate(this.$element,animation.duration,css,options)},p._randomParam=function(value){var min=Number(value.slice(0,value.indexOf("|"))),max=Number(value.slice(value.indexOf("|")+1));return min+Math.random()*(max-min)},p._parseEff=function(eff_name){var eff_params=[];if(-1!==eff_name.indexOf("(")){var value,temp=eff_name.slice(0,eff_name.indexOf("(")).toLowerCase();eff_params=eff_name.slice(eff_name.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),eff_name=temp;for(var i=0,l=eff_params.length;l>i;++i)value=eff_params[i],value in MSLayerEffects.presetEffParams&&(value=MSLayerEffects.presetEffParams[value]),eff_params[i]=value}return{eff_name:eff_name,eff_params:eff_params}},p._parseEffParams=function(params){for(var eff_params=[],i=0,l=params.length;l>i;++i){var value=params[i];"string"==typeof value&&-1!==value.indexOf("|")&&(value=this._randomParam(value)),eff_params[i]=value}return eff_params},p._checkPosKey=function(key,style){return"left"===key&&!(key in this.baseStyle)&&"right"in this.baseStyle?(style.right=-parseInt(style.left)+"px",delete style.left,!0):"top"===key&&!(key in this.baseStyle)&&"bottom"in this.baseStyle?(style.bottom=-parseInt(style.top)+"px",delete style.top,!0):!1},p._isPosition=function(key){return"top"===key||"left"===key||"bottom"===key||"right"===key},p._parallaxCalc=function(){var x_def=this._paraX-this._lastParaX,y_def=this._paraY-this._lastParaY;this._lastParaX+=x_def/12,this._lastParaY+=y_def/12,Math.abs(x_def)<.019&&(this._lastParaX=this._paraX),Math.abs(y_def)<.019&&(this._lastParaY=this._paraY)},p._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},p._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},p._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function($){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var p=MSImageLayerElement.prototype,_super=MSLayerElement.prototype;p.create=function(){if(this.link){var p=this.$element.parent();p.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),p=null}if(_super.create.call(this),void 0!=this.$element.data("src"))this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var that=this;this.$element.on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}window.MSBrowserInfo.msie&&this.$element.on("dragstart",function(event){event.preventDefault()})},p.loadImage=function(){var that=this;this.$element.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var p=MSVideoLayerElement.prototype,_super=MSLayerElement.prototype;p.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},p.start=function(){_super.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},p.reset=function(){return _super.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},p.create=function(){_super.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var has_img=0!=this.$element.has("img").length;if(has_img||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var that=this;if(this.video_btn=$("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){that.__playVideo()}),has_img){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src"))this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{var that=this;this.img.attr("src",this.img_src).on("load",function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()}).each($.jqLoadFix)}window.MSBrowserInfo.msie&&this.img.on("dragstart",function(event){event.preventDefault()})}}},p.loadImage=function(){var that=this;this.img.preloadImg(this.img_src,function(){that.controller.preloadCount--,0===that.controller.preloadCount&&that.controller._onlayersReady()})}}(jQuery),function($){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var p=MSHotspotLayer.prototype,_super=MSLayerElement.prototype;p._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},p._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var that=this;clearTimeout(this.hto),this.hto=setTimeout(function(){that.hide_start=!0,that._tween=CTween.animate(that.tt,900,that.from,{ease:"easeOut"+that.ease,complete:function(){that.tt.css("display","none")}})},200)}},p._updateClassName=function(name){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(name),this._lastClass=name},p._alignPolicy=function(){{var w=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),ww=window.innerWidth;window.innerHeight}switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+w>ww||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},p._locateTT=function(){var os=this.$element.offset(),os2=this.slide.slider.$element.offset(),dist=50,space=15;this.pos_x=os.left-os2.left-this.slide.slider.$element.scrollLeft(),this.pos_y=os.top-os2.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var arrow_w=15,arrow_h=15;switch(this.align){case"top":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-arrow_h-space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-dist+"px",this.to.top=this.base_t+"px");break;case"bottom":var w=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+arrow_h+space,this.base_l=this.pos_x-w/2,this.base_l+w>window.innerWidth&&(this.tt_arrow.css("margin-left",-arrow_w/2+this.base_l+w-window.innerWidth+"px"),this.base_l=window.innerWidth-w),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-arrow_w/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+dist+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+arrow_w+space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+dist+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-arrow_w-this.tt.outerWidth(!1)-space,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+dist+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-dist+"px",this.to.left=this.base_l+"px")}var policyAlign=this._alignPolicy();return null!==policyAlign?(this.align=policyAlign,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},p.start=function(){_super.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},p.reset=function(){_super.reset.call(this),this.tt.detach()},p.create=function(){var that=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){that._showTT()}).on("mouseleave",function(){that._hideTT()}),this.point=$('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var link=this.$element.data("link"),target=this.$element.data("target");link&&this.point.on("click",function(){window.open(link,target||"_self")}),this.tt=$("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=$("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=$("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){that.hide_start||(clearTimeout(that.hto),that._tween.stop(!0),that._showTT())}).on("mouseleave",function(){that._hideTT()}),_super.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var p=MSButtonLayer.prototype,_super=MSLayerElement.prototype,positionKies=["top","left","bottom","right"];p.create=function(){_super.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},p.locate=function(){_super.locate.call(this);for(var key,tempValue,i=0;4>i;i++)key=positionKies[i],key in this.baseStyle&&void 0!==this.baseStyle[key]&&(tempValue=this.$element.css(key),this.$element.css(key,""),this.$container.css(key,tempValue));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(type){this.type=type},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(window,document,$){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=$("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=window.MSBrowserInfo.mozilla};var p=MSSlide.prototype;p.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},p.onSwipeMove=function(e){var move=Math.max(Math.abs(e.data.distanceX),Math.abs(e.data.distanceY));this.swipeMoved=move>4},p.onSwipeCancel=function(){return this.swipeMoved?void(this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void(this.video&&(this.videodis=!1)))},p.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},p.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},p.setBG=function(img){this.hasBG=!0;var that=this;this.$imgcont=$("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=$(img).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(that.fillMode,that.$imgcont,that.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,that.slider.options.autoHeight&&(that.pselected||that.selected)&&that.slider.setHeight(that.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(event){that._onBGLoad(event)}).each($.jqLoadFix)},p.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},p.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var that=this;this.$bg_img.preloadImg(this.bg_src,function(event){that._onBGLoad(event)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},p._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},p._onBGLoad=function(event){this.bgNatrualWidth=event.width,this.bgNatrualHeight=event.height,this.bgLoaded=!0,window.MSBrowserInfo.msie&&this.$bg_img.on("dragstart",function(event){event.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},p.setBGVideo=function($video){if($video[0].play){if(window._mobile&&!this.slider.options.mobileBGVideo)return void $video.remove();this.bgvideo=$video[0];var that=this;$video.addClass("ms-slide-bgvideo"),$video.data("loop")!==!1&&(this.bgvideo.loop=!0),$video.data("mute")!==!1&&(this.bgvideo.muted=!0),$video.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo.setAttribute("playsinline",""),this.bgvideo_fillmode=$video.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,$video),this.bgvideo.addEventListener("loadedmetadata",function(){that.vinit||(that.vinit=!0,that.video_aspect=that.bgVideoAligner.baseHeight/that.bgVideoAligner.baseWidth,that.bgVideoAligner.init(that.bgvideo.videoWidth,that.bgvideo.videoHeight),that._alignBGVideo(),CTween.fadeIn($(that.bgvideo),200),that.selected&&that.bgvideo.play())})),$video.css("opacity",0),this.$bgvideocont=$("<div></div>").addClass("ms-slide-bgvideocont").append($video),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},p._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},p.setSize=function(width,height,hard){this.__width=width,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,height=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(height)):(this.ratio=width/this.slider.options.width,height=this.slider.options.height*this.ratio)),this.__height=height,this.$element.width(width).height(height),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(width,height,hard)},p.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},p.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.moz&&this.view.$element.css("perspective","none"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},p.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var that=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){that.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){that.vframe.attr("src","about:blank").css("display","none")}}),this.moz&&this.view.$element.css("perspective",""),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},p.create=function(){var that=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(e){that.linkdis&&e.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=$("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=$("<div></div>").addClass("ms-slide-vpbtn").click(function(){that.__playVideo()}).appendTo(this.$element),this.vcbtn=$("<div></div>").addClass("ms-slide-vcbtn").click(function(){that.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},p.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},p.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},p.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},p.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},p.sleep=function(force){(!this.isSleeping||force)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},p.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function($){"use strict";var SliderViewList={};window.MSSlideController=function(slider){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=slider,this.so=slider.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(name,_class){if(name in SliderViewList)throw new Error(name+", is already registered.");SliderViewList[name]=_class},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(name,_class){if(name in MSSlideController.SliderControlList)throw new Error(name+", is already registered.");MSSlideController.SliderControlList[name]=_class};var p=MSSlideController.prototype;p.setupView=function(){var that=this;this.resize_listener=function(){that.__resize()};var viewOptions={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&$.extend(viewOptions,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var viewClass=SliderViewList[this.slider.options.view]||MSBasicView;if(!viewClass._3dreq||window._css3d&&!window.MSBrowserInfo.msie||(viewClass=viewClass._fallback||MSBasicView),this.view=new viewClass(viewOptions),this.so.overPause){var that=this;this.slider.$element.mouseenter(function(){that.is_over=!0,that._stopTimer()}).mouseleave(function(){that.is_over=!1,that._startTimer()})}},p.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},p.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var loc,i,slide,l=this.so.preload-1;for(i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide&&slide.loadImages()}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide&&slide.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},p.onSwipeStart=function(){this.skipTimer()},p.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p.onTimer=function(){if(this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300){var currentSlide=this.view.currentSlide;currentSlide.hasLayers&&currentSlide.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},p._stopTimer=function(){this._timer&&this._timer.stop()},p._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},p.__appendSlides=function(){var slide,loc,i=0,l=this.view.slideList.length-1;for(i;l>i;++i)slide=this.view.slideList[i],slide.detached||(slide.$element.detach(),slide.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),l=3,i=1;l>=i;++i){if(loc=this.view.index+i,loc>=this.view.slideList.length){if(!this.so.loop){i=l;continue}loc-=this.view.slideList.length}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}for(l>this.view.slideList.length/2&&(l=Math.floor(this.view.slideList.length/2)),i=1;l>=i;++i){if(loc=this.view.index-i,0>loc){if(!this.so.loop){i=l;continue}loc=this.view.slideList.length+loc}slide=this.view.slideList[loc],slide.detached=!1,this.view.appendSlide(slide)}},p.__resize=function(hard){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.so.responsive?(this.slider.aspect=this.slider.getResponsiveValue(this.slider.responsiveAspect),this.height=this.width/this.slider.aspect):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,hard),this.view.setSize(this.width,this.currentSlide.getHeight(),hard)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),hard),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},p.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},p.__updateWindowHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",sep="path"===dlt?"/":"&",sliderHash=dl+eq+(this.view.index+1),regTest=new RegExp(dl+eq+"[0-9]+","g");window.location.hash=""===hash?sep+sliderHash:regTest.test(hash)?hash.replace(regTest,sliderHash):hash+sep+sliderHash},p.__curentSlideInHash=function(){var hash=window.location.hash,dl=this.so.deepLink,dlt=this.so.deepLinkType,eq="path"===dlt?"/":"=",regTest=new RegExp(dl+eq+"[0-9]+","g");if(regTest.test(hash)){var index=Number(hash.match(regTest)[0].match(/[0-9]+/g).pop());if(!isNaN(index))return index-1}return-1},p.__onHashChanged=function(){var index=this.__curentSlideInHash();-1!==index&&this.gotoSlide(index)},p.__findLayerById=function(layerId){if(!this.currentSlide)return null;var layer;return this.currentSlide.layerController&&(layer=this.currentSlide.layerController.getLayerById(layerId)),!layer&&this.slider.overlayLayers?this.slider.overlayLayers.layerController.getLayerById(layerId):layer},p.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var slideInHash=this.__curentSlideInHash(),startSlide=-1!==slideInHash?slideInHash:this.so.start-1;if(this.view.create(startSlide),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var that=this,last_time=(new Date).getTime();this.wheellistener=function(event){var e=window.event||event.orginalEvent||event;e.preventDefault();var current_time=(new Date).getTime();if(!(400>current_time-last_time)){last_time=current_time;var delta=Math.abs(e.detail||e.wheelDelta);window.MSBrowserInfo.mozilla&&(delta*=100);var scrollThreshold=15;return e.detail<0||e.wheelDelta>0?delta>=scrollThreshold&&that.previous(!0):delta>=scrollThreshold&&that.next(!0),!1}},window.MSBrowserInfo.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var that=this;this.so.deepLink&&$(window).on("hashchange",function(){that.__onHashChanged()})},p.index=function(){return this.view.index},p.count=function(){return this.view.slidesCount},p.next=function(checkLoop){this.skipTimer(),this.view.next(checkLoop)},p.previous=function(checkLoop){this.skipTimer(),this.view.previous(checkLoop)},p.gotoSlide=function(index){index=Math.min(index,this.count()-1),this.skipTimer(),this.view.gotoSlide(index)},p.destroy=function(reset){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(reset)},p._destroy=function(){this._timer.reset(),this._timer=null,$(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(window.MSBrowserInfo.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},p.runAction=function(action){var actionParams=[];if(-1!==action.indexOf("(")){var temp=action.slice(0,action.indexOf("("));actionParams=action.slice(action.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),action=temp}action in this?this[action].apply(this,actionParams):console},p.update=function(hard){this.slider.init_safemode&&hard&&(this.slider.init_safemode=!1),this.__resize(hard),hard&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},p.locate=function(){this.__resize()},p.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},p.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},p.currentTime=function(){return this._delayProgress},p.showLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.showLayer,delay,layerId,0)):layer.start())},p.hideLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.hideLayer,delay,layerId,0)):layer.hide())},p.toggleLayer=function(layerId,delay){var layer=this.__findLayerById(layerId);layer&&(delay?(clearTimeout(layer.actionTimeout),layer.actionTimeout=setTimeout(this.toggleLayer,delay,layerId,0)):layer.isShowing?layer.hide():layer.start())},p.showLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.showLayer(layerId,delay)})},p.hideLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.hideLayer(layerId,delay)})},p.toggleLayers=function(layerIds,delay){var self=this;$.each(layerIds.replace(/\s+/g,"").split("|"),function(index,layerId){self.toggleLayer(layerId,delay)})},averta.EventDispatcher.extend(p)}(jQuery),function($){"use strict";var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:!1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[],responsive:!0,tabletWidth:768,tabletHeight:null,phoneWidth:480,phoneHeight:null,sizingReference:"window"},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()},$(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.81.9",MasterSlider.releaseDate="Feb 2021",MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){-1===MS._plugins.indexOf(plugin)&&MS._plugins.push(plugin)};var p=MasterSlider.prototype;p.__setupSlides=function(){var new_slide,that=this,ind=0;this.$element.children(".ms-slide").each(function(){var $slide_ele=$(this);new_slide=new MSSlide,new_slide.$element=$slide_ele,new_slide.slider=that,new_slide.delay=void 0!==$slide_ele.data("delay")?$slide_ele.data("delay"):3,new_slide.fillMode=void 0!==$slide_ele.data("fill-mode")?$slide_ele.data("fill-mode"):that.options.fillMode,new_slide.index=ind++,new_slide.id=$slide_ele.data("id");var slide_img=$slide_ele.children("img:not(.ms-layer)");slide_img.length>0&&new_slide.setBG(slide_img[0]);var slide_video=$slide_ele.children("video");if(slide_video.length>0&&new_slide.setBGVideo(slide_video),that.controls)for(var i=0,l=that.controls.length;l>i;++i)that.controls[i].slideAction(new_slide);$slide_ele.children("a").each(function(){var $this=$(this);"video"===this.getAttribute("data-type")?(new_slide.video=this.getAttribute("href"),new_slide.videoAutoPlay=$this.data("autoplay"),$this.remove()):$this.hasClass("ms-layer")||(new_slide.link=$(this))});that.__createSlideLayers(new_slide,$slide_ele.find(".ms-layer")),that.slides.push(new_slide),that.slideController.view.addSlide(new_slide)})},p._setupOverlayLayers=function(){var self=this,$ollayers=this.$element.children(".ms-overlay-layers").eq(0);if($ollayers.length){var overlayLayers=new MSOverlayLayers(this);overlayLayers.$element=$ollayers,self.__createSlideLayers(overlayLayers,$ollayers.find(".ms-layer")),this.view.$element.prepend($ollayers),this.overlayLayers=overlayLayers,overlayLayers.create()}},p.__createSlideLayers=function(slide,layers){0!=layers.length&&(slide.setupLayerController(),layers.each(function(index,domEle){var $parent_ele,$layer_element=$(this);"A"===domEle.nodeName&&"image"===$layer_element.find(">img").data("type")&&($parent_ele=$(this),$layer_element=$parent_ele.find("img"));var layer=new(LayerTypes[$layer_element.data("type")||"text"]);layer.$element=$layer_element,layer.link=$parent_ele,layer.id=layer.$element.data("id"),layer.waitForAction=layer.$element.data("wait"),layer.masked=layer.$element.data("masked"),layer.maskWidth=layer.$element.data("mask-width"),layer.maskHeight=layer.$element.data("mask-height");var eff_parameters={},end_eff_parameters={};void 0!==$layer_element.data("effect")&&(eff_parameters.name=$layer_element.data("effect")),void 0!==$layer_element.data("ease")&&(eff_parameters.ease=$layer_element.data("ease")),void 0!==$layer_element.data("duration")&&(eff_parameters.duration=$layer_element.data("duration")),void 0!==$layer_element.data("delay")&&(eff_parameters.delay=$layer_element.data("delay")),$layer_element.data("hide-effect")&&(end_eff_parameters.name=$layer_element.data("hide-effect")),$layer_element.data("hide-ease")&&(end_eff_parameters.ease=$layer_element.data("hide-ease")),void 0!==$layer_element.data("hide-duration")&&(end_eff_parameters.duration=$layer_element.data("hide-duration")),void 0!==$layer_element.data("hide-time")&&(end_eff_parameters.time=$layer_element.data("hide-time")),layer.setStartAnim(eff_parameters),layer.setEndAnim(end_eff_parameters),slide.layerController.addLayer(layer)}))},p._removeLoading=function(){$(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},p._resize=function(){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h,this.$loading.height(h),this.$element.height(h)}},p._shuffleSlides=function(){for(var r,slides=this.$element.children(".ms-slide"),i=0,l=slides.length;l>i;++i)r=Math.floor(Math.random()*(l-1)),i!=r&&(this.$element[0].insertBefore(slides[i],slides[r]),slides=this.$element.children(".ms-slide"))},p._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var lo=this.options.layout;"boxed"!==lo&&"partialview"!==lo&&(this.options.fullwidth=!0),("fullscreen"===lo||"autofill"===lo)&&(this.options.fullheight=!0,"autofill"===lo&&(this.$autofillTarget=$(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===lo&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===lo||"fullwidth"===lo||"autofill"===lo)&&($(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),$(window).bind("resize",this.slideController.resize_listener)},p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);if("fullscreen"===lo)document.body.style.overflow="hidden",$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace),document.body.style.overflow="";else if("autofill"===lo)return void $element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css("margin-left",margin),that.lastMargin=margin},p._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=$("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=$("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(var i=0,l=this.controls.length;l>i;++i)this.controls[i].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this._setupOverlayLayers(),this.controls)for(i=0,l=this.controls.length;l>i;++i)this.controls[i].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass("ms-grab-cursor"),$view.addClass("ms-grabbing-cursor"),window.MSBrowserInfo.msie&&window.ms_grabbing_curosr&&($view[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),$(document).mouseup(function(){$view.removeClass("ms-grabbing-cursor"),$view.addClass("ms-grab-cursor"),window.MSBrowserInfo.msie&&window.ms_grab_curosr&&($view[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},p.setHeight=function(value){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:"easeOutQuart"})):this.slideController.view.$element.height(value)},p.reserveSpace=function(side,space){var sideSpace=side+"Space",pos=this[sideSpace];return this[sideSpace]+=space,this._updateSideMargins(),pos},p._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},p.control=function(control,options){if(control in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var ins=new MSSlideController.SliderControlList[control](options);return ins.slider=this,this.controls.push(ins),this}},p.holdOn=function(){this._holdOn++},p.release=function(){this._holdOn--,this._init()},p.setup=function(target,options){if(this.$element="string"==typeof target?$("#"+target):target.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),window.MSBrowserInfo.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+window.MSBrowserInfo.version.slice(0,window.MSBrowserInfo.version.indexOf("."))):window.MSBrowserInfo.webkit?this.$element.addClass("ms-wk"):window.MSBrowserInfo.mozilla&&this.$element.addClass("ms-moz");var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;isAndroid&&this.$element.addClass("ms-android");var that=this;$.extend(this.options,options),this.aspect=this.options.width/this.options.height,this.responsiveWidth=[this.options.phoneWidth,this.options.tabletWidth,this.options.width],this.responsiveHeight=[this.options.phoneHeight,this.options.tabletHeight,this.options.height],this.responsiveAspect=[this.options.phoneWidth/this.options.phoneHeight,this.options.tabletWidth/this.options.tabletHeight,this.options.width/this.options.height],this.$loading=$("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];-1===this.options.disablePlugins.indexOf(plugin.name)&&this.activePlugins.push(new plugin(this))}return this.options.forceInit&&MasterSlider.addJQReadyErrorCheck(this),$(document).ready(function(){that.initialized||(that._docReady=!0,that._init())}),this}},p.getActiveBreakpoint=function(getIndex){var bpList=["phone","tablet","desktop"],bpSizes=[this.options.phoneWidth||480,this.options.tabletWidth||768,this.options.width],currentSize="self"===this.options.sizingReference?this.$element.outerWidth(!1):window.innerWidth,bp="desktop",bpIndex=2;return bpSizes.every(function(size,index){return size>=currentSize?(bp=bpList[index],bpIndex=index,!1):!0}.bind(this)),getIndex?bpIndex:bp},p.getBreakpointReferenceSize=function(){var bp=this.getActiveBreakpoint();return"desktop"===bp?this.options.width:this.options[bp+"Width"]},p.getResponsiveValue=function(repsVal){var bpIndex=this.getActiveBreakpoint(!0);return repsVal.slice(bpIndex).filter(function(value){return void 0!==value&&1/0!==value})[0]},p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++)this.activePlugins[i].destroy();if(this.controls)for(i=0,l=this.controls.length;i!==l;i++)this.controls[i].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),insertMarkup?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var lo=this.options.layout;("fullscreen"===lo||"fullwidth"===lo)&&$(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function($,window,document,undefined){function MasterSliderPlugin(element,options){this.element=element,this.$element=$(element),this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="masterslider",defaults={controls:{}};$.extend(MasterSliderPlugin.prototype,{init:function(){var self=this;this._slider=new MasterSlider;for(var control in this.settings.controls)this._slider.control(control,this.settings.controls[control]);this._slider.setup(this.$element,this.settings);var _superDispatch=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(event){self.$element.trigger(event.type),_superDispatch.call(this,event)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),$.fn[pluginName]=function(options){var args=arguments,plugin="plugin_"+pluginName;if(options===undefined||"object"==typeof options)return this.each(function(){$.data(this,plugin)||$.data(this,plugin,new MasterSliderPlugin(this,options))});if("string"==typeof options&&"_"!==options[0]&&"init"!==options){var returns;return this.each(function(){var instance=$.data(this,plugin);instance instanceof MasterSliderPlugin&&"function"==typeof instance[options]&&(returns=instance[options].apply(instance,Array.prototype.slice.call(args,1))),instance instanceof MasterSliderPlugin&&"function"==typeof instance._slider.api[options]&&(returns=instance._slider.api[options].apply(instance._slider.api,Array.prototype.slice.call(args,1))),"destroy"===options&&$.data(this,plugin,null)}),returns!==undefined?returns:this}}}(jQuery,window,document),function($,window){"use strict";var sliderInstances=[];MasterSlider.addJQReadyErrorCheck=function(slider){sliderInstances.push(slider)};var _ready=$.fn.ready,_onerror=window.onerror;$.fn.ready=function(){return window.onerror=function(){if(0!==sliderInstances.length)for(var i=0,l=sliderInstances.length;i!==l;i++){var slider=sliderInstances[i];slider.initialized||(slider._docReady=!0,slider._init())}return _onerror?_onerror.apply(this,arguments):!1},_ready.apply(this,arguments)}}(jQuery,window,document),window.MSViewEvents=function(type,data){this.type=type,this.data=data},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function($){"use strict";window.MSBasicView=function(options){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},$.extend(this.options,options),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=$("<div></div>").addClass("ms-slide-container"),this.$element=$("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var p=MSBasicView.prototype;p.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.__snapUpdate=function(controller,snap,change){if(this.loop){var target_index=this.index+change;this.updateLoop(target_index),target_index>=this.slidesCount&&(target_index-=this.slidesCount),0>target_index&&(target_index=this.slidesCount+target_index),this.index=target_index}else{if(0>snap||snap>=this.slidesCount)return;this.index=snap}this._checkCritMargins(),window.MSBrowserInfo.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var new_slide=this.slideList[this.index];new_slide!==this.currentSlide&&(this.currentSlide=new_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},p._checkCritMargins=function(){if(!this.normalMode){var hlf=Math.floor(this.options.viewNum/2),inView=this.viewSlidesList.indexOf(this.slideList[this.index]),size=this[this.__dimension]+this.spacing,cm=this.options.critMargin;return this.loop?void((cm>=inView||inView>=this.viewSlidesList.length-cm)&&(size*=inView-hlf,this.__locateSlides(!1,size+this.start_buffer),this.start_buffer+=size)):void((cm>inView&&this.index>=cm||inView>=this.viewSlidesList.length-cm&&this.index<this.slidesCount-cm)&&this.__locateSlides(!1))}},p._vertiUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.top=-value+"px")},p._horizUpdate=function(controller,value){return this.__contPos=value,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void(this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$slideCont[0].style.left=-value+"px")},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&temp[i].sleep();temp=null,this.currentSlide&&this.__updateSlidesZindex()},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos,slide.$element[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__createLoopList=function(){var return_arr=[],i=0,count=this.slidesCount/2,before_count=this.slidesCount%2===0?count-1:Math.floor(count),after_count=this.slidesCount%2===0?count:Math.floor(count);for(this.currentSlideLoc=before_count,i=1;before_count>=i;++i)return_arr.unshift(this.slideList[this.index-i<0?this.slidesCount-i+this.index:this.index-i]);for(return_arr.push(this.slideList[this.index]),i=1;after_count>=i;++i)return_arr.push(this.slideList[this.index+i>=this.slidesCount?this.index+i-this.slidesCount:this.index+i]);return return_arr},p.__getSteps=function(index,target){var right=index>target?this.slidesCount-index+target:target-index,left=Math.abs(this.slidesCount-right);return left>right?right:-left},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$element[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$element[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$element[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$element[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateSlidesZindex=function(){{var slide,l=this.viewSlidesList.length;Math.floor(l/2)}if(this.loop)for(var loc=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",loc>=i?i+1:l-i);else{for(var beforeNum=this.currentSlide.index-this.viewSlidesList[0].index,i=0;i!==l;i++)this.viewSlidesList[i].$element.css("z-index",beforeNum>=i?i+1:l-i);this.currentSlide.$element.css("z-index",l)}},p.addSlide=function(slide){slide.view=this,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.appendSlide=function(slide){this.$slideCont.append(slide.$element)},p.updateLoop=function(index){if(this.loop)for(var steps=this.__getSteps(this.index,index),i=0,l=Math.abs(steps);l>i;++i)0>steps?this.__pushStart():this.__pushEnd()},p.gotoSlide=function(index,fast){this.updateLoop(index),this.index=index;var target_slide=this.slideList[index];this._checkCritMargins(),this.controller.changeTo(target_slide.position,!fast,null,null,!1),target_slide!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=target_slide,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),fast&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},p.next=function(checkLoop){return checkLoop&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},p.previous=function(checkLoop){return checkLoop&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveY)<this.cont_size/2))this.controller.drag(status.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceY/status.duration*50/3,speedh=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)>.1&&Math.abs(speed)>=speedh?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.horizSwipeMove=function(status){var phase=status.phase;if("start"===phase)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,status));else if("move"===phase&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+status.moveX)<this.cont_size/2))this.controller.drag(status.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,status));else if("end"===phase||"cancel"===phase){var speed=status.distanceX/status.duration*50/3,speedv=Math.abs(status.distanceY/status.duration*50/3);Math.abs(speed)>.1&&Math.abs(speed)>=speedv?(this.controller.push(-speed),speed>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,status))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,status)))}},p.setSize=function(width,height,hard){if(this.lastWidth!==width||height!==this.lastHeight||hard){this.$element.width(width).height(height);for(var i=0;i<this.slidesCount;++i)this.slides[i].setSize(width,height,hard);this.__width=width,this.__height=height,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=width,this.lastHeight=height)}},p.create=function(index){this.__created=!0,this.index=Math.min(index||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var i=0;i<this.slidesCount;++i)this.slides[i].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},p.destroy=function(){if(this.__created){for(var i=0;i<this.slidesCount;++i)this.slides[i].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(p),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var p=MSWaveView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesHoriz(slide,distance)},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlidesVertic(slide,distance)},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.$element[0].style[window._csspfx+"transform"]="translateZ("+3*-value+"px) rotateY(0.01deg)"},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);{var p=MSFadeBasicView.prototype;MSFadeBasicView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(.6*distance/this.__width);value=1-Math.min(value,.6),slide.$element.css("opacity",value)},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;{var p=MSFadeWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=Math.min(value,100),slide.$element.css("opacity",1-value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-value/800)+") rotateY(0.01deg) "},p.__updateSlidesVertic=function(slide,distance){this.__updateSlidesHoriz(slide,distance)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;{var p=MSFlowView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateY("+rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width),rvalue=Math.min(.3*value,30)*(0>distance?-1:1),zvalue=1.2*value;slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-zvalue+"px) rotateX("+-rvalue+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;{var p=MSFadeFlowView.prototype;MSWaveView.prototype}p.__calculate=function(distance){var value=Math.min(Math.abs(100*distance/this.__width),100),rvalue=Math.min(.5*value,50)*(0>distance?-1:1);return{value:value,rvalue:rvalue}},p.__updateSlidesHoriz=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateY("+clc.rvalue+"deg) "},p.__updateSlidesVertic=function(slide,distance){var clc=this.__calculate(distance);slide.$element.css("opacity",1-clc.value/300),slide.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-clc.value+"px) rotateX("+-clc.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function($){"use strict";window.MSMaskView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var p=MSMaskView.prototype,_super=MSBasicView.prototype;p.addSlide=function(slide){slide.view=this,slide.$frame=$("<div></div>").addClass("ms-mask-frame").append(slide.$element),slide.$element[0].style.position="relative",slide.autoAppend=!1,this.slides.push(slide),this.slideList.push(slide),this.slidesCount++},p.setSize=function(width,height){for(var slider=this.slides[0].slider,i=0;i<this.slidesCount;++i)this.slides[i].$frame[0].style.width=width+"px",slider.options.autoHeight||(this.slides[i].$frame[0].style.height=height+"px");_super.setSize.call(this,width,height)},p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=value-this.slideList[i].position+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=value-this.slideList[i].position+"px"},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];if(this.slides.push(first_slide),this.normalMode){var pos=last_slide.$frame[0][this.__offset]+this.spacing+this[this.__dimension];first_slide.$frame[0].style[this.__cssProb]=pos+"px",first_slide.position=pos}},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];if(this.slides.unshift(last_slide),this.normalMode){var pos=first_slide.$frame[0][this.__offset]-this.spacing-this[this.__dimension];last_slide.$frame[0].style[this.__cssProb]=pos+"px",last_slide.position=pos}},p.__updateViewList=function(){if(this.normalMode)return void(this.viewSlidesList=this.slides);var temp=this.viewSlidesList.slice();this.viewSlidesList=[];var l,i=0,hlf=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-hlf+i]);else{for(i=0;i!==hlf&&this.index-i!==-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==hlf&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,l=temp.length;i!==l;i++)-1===this.viewSlidesList.indexOf(temp[i])&&(temp[i].sleep(),temp[i].$frame.detach());temp=null},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*(this[this.__dimension]+this.spacing);if(slide=this.viewSlidesList[i],this.$slideCont.append(slide.$frame),slide.wakeup(!1),slide.position=pos,slide.selected&&slide.bgvideo)try{slide.bgvideo.play()}catch(e){}slide.$frame[0].style[this.__cssProb]=pos+"px"}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSParallaxMaskView=function(options){MSMaskView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=.5;var p=MSParallaxMaskView.prototype,_super=MSBasicView.prototype;p._horizUpdate=function(controller,value){_super._horizUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},p._vertiUpdate=function(controller,value){_super._vertiUpdate.call(this,controller,value);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=(value-this.slideList[i].position)*MSParallaxMaskView.parallaxAmount+"px"},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var p=MSFadeView.prototype,_super=MSBasicView.prototype;p.__update=function(controller,value){for(var slide,distance,cont_scroll=-value,i=0;i<this.slidesCount;++i)slide=this.slideList[i],distance=-cont_scroll-slide.position,this.__updateSlides(slide,distance)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]);0>=1-value?slide.$element.fadeTo(0,0).css("visibility","hidden"):slide.$element.fadeTo(0,1-value).css("visibility","")},p.__locateSlides=function(move,start){this.__updateViewList(),start=this.loop?start||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++){var pos=start+i*this[this.__dimension];slide=this.viewSlidesList[i],slide.wakeup(),slide.position=pos}move!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},p.__pushEnd=function(){var first_slide=this.slides.shift(),last_slide=this.slides[this.slidesCount-2];this.slides.push(first_slide),first_slide.position=last_slide.position+this[this.__dimension]},p.__pushStart=function(){var last_slide=this.slides.pop(),first_slide=this.slides[0];this.slides.unshift(last_slide),last_slide.position=first_slide.position-this[this.__dimension]},p.create=function(index){_super.create.call(this,index),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var p=MSScaleView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=0,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.opacity=1-value,element.style.visibility="",element.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+value*(0>distance?-.5:.5)*300+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";window.MSStackView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var p=MSStackView.prototype,_super=MSFadeView.prototype;p.__updateSlidesZindex=function(){for(var slide,l=this.viewSlidesList.length,i=0;i!==l;i++)slide=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",l-i)},p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.opacity=1,element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]=0>distance?"perspective(2000px) translateZ("+-300*value+"px)":this.__translate+"("+-value*this[this.__dimension]+"px)")},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){"use strict";var perspective=2e3;window.MSFocusView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;{var p=MSFocusView.prototype;MSWaveView.prototype}p.__calcview=function(z,w){var a=w/2*z/(z+perspective);return a*(z+perspective)/perspective},p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateX("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);value=15*-Math.min(value,100),slide.$element.css(window._csspfx+"transform","translateZ("+(value+1)+"px) rotateY(0.01deg) translateY("+(0>distance?1:-1)*-this.__calcview(value,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(options){MSWaveView.call(this,options),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;{var p=MSPartialWaveView.prototype;MSWaveView.prototype}p.__updateSlidesHoriz=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateX("+.75*distance+"px)")},p.__updateSlidesVertic=function(slide,distance){var value=Math.abs(100*distance/this.__width);slide.hasBG&&slide.$bg_img.css("opacity",(100-Math.abs(120*distance/this.__width/3))/100),slide.$element.css(window._csspfx+"transform","translateZ("+3*-value+"px) rotateY(0.01deg) translateY("+.75*distance+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(){"use strict";window.MSBoxView=function(options){MSBasicView.call(this,options),this.$element.removeClass("ms-basic-view").addClass("ms-box-view"),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;var p=MSBoxView.prototype,_super=MSFadeView.prototype;p.__updateSlides=function(slide,distance){var value=Math.abs(distance/this[this.__dimension]),element=slide.$element[0];0>=1-value?(element.style.visibility="hidden",element.style[window._jcsspfx+"Transform"]=""):(element.style.visibility="",element.style[window._jcsspfx+"Transform"]="rotate"+this._rotateDir+"("+value*(0>distance?1:-1)*90*this._calcFactor+"deg)",element.style[window._jcsspfx+"TransformOrigin"]="50% 50% -"+slide[this.__dimension]/2+"px",element.style.zIndex=Math.ceil(2*(1-value)))},p.create=function(index){_super.create.call(this,index),this.controller.options.minValidDist=.03,this._rotateDir="h"===this.options.dir?"Y":"X",this._calcFactor="h"===this.options.dir?1:-1},MSSlideController.registerView("box",MSBoxView)}(jQuery),function($){"use strict";var BaseControl=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},p=BaseControl.prototype;p.slideAction=function(){},p.setup=function(){this.cont=this.options.insertTo?$(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},p.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1,$(window).bind("resize",{that:this},this.onResize),this.onResize())},p.onResize=function(event){var that=event&&event.data.that||this,w=window.innerWidth;w<=that.options.hideUnder&&!that.detached?(that.hide(!0),that.detached=!0,that.onDetach()):w>=that.options.hideUnder&&that.detached&&(that.detached=!1,that.visible(),that.onAppend())},p.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter($.proxy(this._onMouseEnter,this)).mouseleave($.proxy(this._onMouseLeave,this)).mousedown($.proxy(this._onMouseDown,this)),$(document).mouseup($.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},p._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},p._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},p._onMouseDown=function(){this.mdown=!0},p._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},p.onAppend=function(){this.needsRealign&&this.slider._realignControls()},p.onDetach=function(){this.needsRealign&&this.slider._realignControls()},p._hideOnvideoStarts=function(){var that=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){that._disableAH=!0,that.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){that._disableAH=!1,that.visible()})},p.hide=function(fast){if(fast)this.$element.css("opacity",0),this.$element.css("display","none");else{clearTimeout(this.hideTo);var $element=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut($element,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},p.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},p.destroy=function(){this.options&&this.options.hideUnder&&$(window).unbind("resize",this.onResize)},window.BaseControl=BaseControl}(jQuery),function($){"use strict";var MSArrows=function(options){BaseControl.call(this),$.extend(this.options,options)};MSArrows.extend(BaseControl);var p=MSArrows.prototype,_super=BaseControl.prototype;p.setup=function(){var that=this;this.$next=$("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){that.slider.api.next(!0)}),this.$prev=$("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){that.slider.api.previous(!0)}),_super.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},p.hide=function(fast){return fast?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},p.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},p.destroy=function(){_super.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=MSArrows,MSSlideController.registerControl("arrows",MSArrows)}(jQuery),function($){"use strict";var MSThumblist=function(options){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===options.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,$.extend(this.options,options),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};MSThumblist.extend(BaseControl);var p=MSThumblist.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=$("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var that=this;this.$fwd=$("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){that.controller.push(-15)}),this.$bwd=$("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){that.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(align,-pos-this.options[this.__alignsize]-this.options.margin)}},p.slideAction=function(slide){var thumb_ele=slide.$element.find(".ms-thumb"),that=this,thumb_frame=$("<div></div>").addClass("ms-thumb-frame").append(thumb_ele).append($('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){that.changeSlide(thumb_frame)});if(this.options.align&&thumb_frame.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),thumb_frame[0].index=this.index_count++,this.$thumbscont.append(thumb_frame),this.options.fillMode&&thumb_ele.is("img")){var aligner=new window.MSAligner(this.options.fillMode,thumb_frame,thumb_ele);thumb_ele[0].aligner=aligner,thumb_ele.one("load",function(){var $this=$(this);$this[0].aligner.init($this.width(),$this.height()),$this[0].aligner.align()}).each($.jqLoadFix)}window.MSBrowserInfo.msie&&thumb_ele.on("dragstart",function(event){event.preventDefault()}),this.thumbs.push(thumb_frame)},p.create=function(){_super.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var that=this;this.resize_listener=function(){that.__resize()},$(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var that=this;this.options.wheel&&(this.wheellistener=function(event){var e=window.event||event.orginalEvent||event,delta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return that.controller.push(10*-delta),!1},window.MSBrowserInfo.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},p._hMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.left=-value+"px")},p._vMove=function(controller,value){return this.__contPos=value,window._cssanim?void(this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-value+"px)"+this.__translate_end):void(this.$thumbscont[0].style.top=-value+"px")},p.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var that=this;this.swipeControl.onSwipe="h"===this.options.dir?function(status){that.horizSwipeMove(status)}:function(status){that.vertSwipeMove(status)}},p.vertSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop();else if("move"===phase)this.controller.drag(status.moveY);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceY/status.duration*50/3);speed>.1?this.controller.push(-status.distanceY/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.horizSwipeMove=function(status){if(!this.dTouch){var phase=status.phase;if("start"===phase)this.controller.stop(),this.click_enable=!1;else if("move"===phase)this.controller.drag(status.moveX);else if("end"===phase||"cancel"===phase){var speed=Math.abs(status.distanceX/status.duration*50/3);speed>.1?this.controller.push(-status.distanceX/status.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=nindex,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},p.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(index,thumb){thumb.aligner&&thumb.aligner.align()})},p.updateThumbscroll=function(){var pos=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),pos-this.controller.value<0)return void this.controller.gotoSnap(this.cindex,!0);if(pos+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var first_snap=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(first_snap,!0)}},p.changeSlide=function(thumb){this.click_enable&&this.cindex!==thumb[0].index&&this.slider.api.gotoSlide(thumb[0].index)},p.unselect=function(ele){ele.removeClass("ms-thumb-frame-selected")},p.select=function(ele){ele.addClass("ms-thumb-frame-selected")},p.__resize=function(){var size=this.$element[this.__dimen]();if(this.ls!==size){this.ls=size,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var len=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=len+"px",size>=len?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(size-len)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=len-size,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},p.destroy=function(){_super.destroy(),this.options.wheel&&(window.MSBrowserInfo.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),$(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=MSThumblist,MSSlideController.registerControl("thumblist",MSThumblist)}(jQuery),function($){"use strict";var MSBulltes=function(options){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,$.extend(this.options,options),this.bullets=[]};MSBulltes.extend(BaseControl);var p=MSBulltes.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=$("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset&&this.$element.css(align,this.options.margin)}this.checkHideUnder()},p.create=function(){_super.create.call(this);var that=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var i=0;i<this.slider.api.count();++i){var bullet=$("<div></div>").addClass("ms-bullet");bullet[0].index=i,bullet.on("click",function(){that.changeSlide(this.index)}),this.$bullet_cont.append(bullet),this.bullets.push(bullet),"h"===this.options.dir?bullet.css("margin",this.options.space/2):bullet.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(bullet.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.cindex!==nindex&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=nindex,this.select(this.bullets[this.cindex]))},p.changeSlide=function(index){this.cindex!==index&&this.slider.api.gotoSlide(index)},p.unselect=function(ele){ele.removeClass("ms-bullet-selected")},p.select=function(ele){ele.addClass("ms-bullet-selected")},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=MSBulltes,MSSlideController.registerControl("bullets",MSBulltes)}(jQuery),function($){"use strict";var MSScrollbar=function(options){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,$.extend(this.options,options),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};MSScrollbar.extend(BaseControl);var p=MSScrollbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},p._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},p._update=function(){var value=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==value){if(this.lvalue=value,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var that=this;this.hto=setTimeout(function(){that.$bar.css("opacity","0")},150)}return 0>value?void(this.$bar[0].style[this.__dimen]=this.bar_dimen+value+"px"):(value>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-value+"px"),window._cssanim?void(this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+value+"px)"+this.__translate_end):void(this.$bar[0].style[this.__pos]=value+"px"))}},p.destroy=function(){_super.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=MSScrollbar,MSSlideController.registerControl("scrollbar",MSScrollbar)}(jQuery),function($){"use strict";var MSTimerbar=function(options){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,$.extend(this.options,options)};MSTimerbar.extend(BaseControl);var p=MSTimerbar.prototype,_super=BaseControl.prototype;p.setup=function(){if(_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"timerbar"),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=$("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,2*this.options.margin+this.options.width);this.$element.css(align,-pos-this.options.margin-this.options.width)}},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},p._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},p.destroy=function(){_super.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=MSTimerbar,MSSlideController.registerControl("timebar",MSTimerbar)}(jQuery),function($){"use strict";var MSCircleTimer=function(options){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,$.extend(this.options,options)};MSCircleTimer.extend(BaseControl);var p=MSCircleTimer.prototype,_super=BaseControl.prototype;p.setup=function(){return _super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=$("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=$("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void(this.disable=!0))},p.create=function(){if(!this.disable){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var that=this;this.$element.click(function(){that.slider.api.paused?that.slider.api.resume():that.slider.api.pause()}),this._update()}},p._update=function(){var that=this;$(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){that._draw()}})},p._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},p.destroy=function(){_super.destroy(),this.disable||($(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=MSCircleTimer,MSSlideController.registerControl("circletimer",MSCircleTimer)}(jQuery),function($){"use strict";window.MSLightbox=function(options){BaseControl.call(this,options),this.options.autohide=!1,$.extend(this.options,options),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var p=MSLightbox.prototype,_super=BaseControl.prototype;p.setup=function(){_super.setup.call(this),this.$element=$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},p.slideAction=function(slide){$("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(slide.$element).append($(slide.$element.find(".ms-lightbox")))},p.create=function(){_super.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function($){"use strict";window.MSSlideInfo=function(options){BaseControl.call(this,options),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",$.extend(this.options,options),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var p=MSSlideInfo.prototype,_super=BaseControl.prototype;p.setup=function(){if(this.$element=$("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),_super.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var align=this.options.align;this.options.inset?this.$element.css(align,this.options.margin):"top"===align?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===align?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},p.align=function(){if(!this.detached){var align=this.options.align,pos=this.slider.reserveSpace(align,this.options.size+2*this.options.margin);this.$element.css(align,-pos-this.options.size-this.options.margin)}},p.slideAction=function(slide){var info_ele=$(slide.$element.find(".ms-info"));info_ele.detach(),this.data_list[slide.index]=info_ele},p.create=function(){_super.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},p.update=function(){var nindex=this.slider.api.index();this.switchEle(this.data_list[nindex]),this.cindex=nindex},p.switchEle=function(ele){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,ele.css("position","relative")},target:this.current_ele}),ele.css("position","absolute")}this.__show(ele)},p.__show=function(ele){ele.appendTo(this.$element).css("opacity","0"),this.current_ele&&ele.height(Math.max(ele.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(ele,MSSlideInfo.fadeDuratation),ele.css("height","")},MSSlideInfo.fadeDuratation),ele[0].tween&&ele[0].tween.stop(!0),this.current_ele=ele},p.destroy=function(){_super.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function($){window.MSGallery=function(id,slider){this.id=id,this.slider=slider,this.telement=$("#"+id),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),slider.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),slider.control("slidenum",{insertTo:this.botcont,autohide:!1}),slider.control("slideinfo",{insertTo:this.botcont,autohide:!1}),slider.control("timebar",{insertTo:this.botcont,autohide:!1}),slider.control("bullets",{insertTo:this.botcont,autohide:!1})};var p=MSGallery.prototype;p._init=function(){var that=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){that.slider.api.paused?(that.slider.api.resume(),that.playbtn.addClass("btn-pause")):(that.slider.api.pause(),that.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){that.vthumbs?(that.thumbtoggle.removeClass("btn-hide"),that.vthumbs=!1,that.thumbcont.addClass("hide-thumbs")):(that.thumbtoggle.addClass("btn-hide"),that.thumbcont.removeClass("hide-thumbs"),that.vthumbs=!0)})},p.setup=function(){var that=this;$(document).ready(function(){that._init()})}}(jQuery),function($){var getPhotosetURL=function(key,id,count){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+key+"&photoset_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getUserPublicURL=function(key,id,count){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+key+"&user_id="+id+"&per_page="+count+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},getImageSource=function(fid,server,id,secret,size,data){return"_o"===size&&data?data.url_o:"https://farm"+fid+".staticflickr.com/"+server+"/"+id+"_"+secret+size+".jpg"};window.MSFlickrV2=function(slider,options){var _options={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=slider,this.slider.holdOn(),!options.key)return void this.errMsg("Flickr API Key required. Please add it in settings.");$.extend(_options,options),this.options=_options;var that=this;"photoset"===this.options.type?$.getJSON(getPhotosetURL(this.options.key,this.options.id,this.options.count),function(data){that._photosData(data)}):$.getJSON(getUserPublicURL(this.options.key,this.options.id,this.options.count),function(data){that.options.type="photos",that._photosData(data)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFlickrV2.prototype;p._photosData=function(data){if("fail"===data.stat)return void this.errMsg("Flickr API ERROR#"+data.code+": "+data.message);{var that=this;this.options.author||this.options.desc}$.each(data[this.options.type].photo,function(i,item){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](item,that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}),that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var shortCodes={image:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.imgSize,data)},thumb:function(data,that){return getImageSource(data.farm,data.server,data.id,data.secret,that.options.thumbSize)},title:function(data){return data.title},"owner-name":function(data){return data.ownername},"date-taken":function(data){return data.datetaken},views:function(data){return data.views},description:function(data){return data.description._content}}}(jQuery),function($){window.MSFacebookGallery=function(slider,options){var _options={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1,token:""};this.slider=slider,this.slider.holdOn(),$.extend(_options,options),this.options=_options,this.graph="https://graph.facebook.com";var that=this;"photostream"===this.options.type?$.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(data){that._photosData(data)}):$.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(data){that._photosData(data)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var p=MSFacebookGallery.prototype;p._photosData=function(content){if(content.error)return void this.errMsg("Facebook API ERROR#"+content.error.code+"("+content.error.type+"): "+content.error.message);for(var that=this,i=(this.options.author||this.options.desc,0),l=content.data.length;i!==l;i++){var slide_cont=that.slideTemplate.replace(/{{[\w-]+}}/g,function(match){return match=match.replace(/{{|}}/g,""),shortCodes[match]?shortCodes[match](content.data[i],that):"{{"+match+"}}"});$(slide_cont).appendTo(that.slider.$element)}that._initSlider()},p.errMsg=function(msg){this.slider.$element.css("display","block"),this.errEle||(this.errEle=$('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(msg)},p._initSlider=function(){this.slider.release()};var getImageSource=function(images,size){if("orginal"===size)return images[0].source;for(var i=0,l=images.length;i!==l;i++)if(-1!==images[i].source.indexOf(size+"x"+size))return images[i].source;return images[0].source},shortCodes={image:function(data,that){return getImageSource(data.images,that.options.imgSize)},thumb:function(data,that){return getImageSource(data.images,that.options.thumbSize)},name:function(data){return data.name},"owner-name":function(data){return data.from.name},link:function(data){return data.link}}}(jQuery),function($){"use strict";window.MSScrollParallax=function(slider,parallax,bgparallax,fade){this.fade=fade,this.slider=slider,this.parallax=parallax/100,this.bgparallax=bgparallax/100,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this),slider.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(slider,parallax,bgparallax,fade){return window._mobile?void 0:(null==parallax&&(parallax=50),null==bgparallax&&(bgparallax=40),new MSScrollParallax(slider,parallax,bgparallax,fade))};var p=window.MSScrollParallax.prototype;p.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var slide,slides=this.slider.api.view.slideList,i=0,l=slides.length;i!==l;i++)slide=slides[i],slide.hasLayers&&(slide.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),slide.$scrollParallaxCont=slide.layerController.$layers.parent());$(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},p.resetLayers=function(){if(this.lastSlide){var layers=this.lastSlide.$scrollParallaxCont;window._css2d?(layers&&(layers[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(layers&&(layers[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},p.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},p.moveParallax=function(e){var that=e.data.that,slider=that.slider,offset=that.sliderOffset,scrollTop=$(window).scrollTop(),layers=that.currentSlide.$scrollParallaxCont,out=offset-scrollTop;0>=out?(layers&&(window._css3d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px) translateZ(0.4px)":window._css2d?layers[0].style[window._jcsspfx+"Transform"]="translateY("+-out*that.parallax+"px)":layers[0].style.top=-out*that.parallax+"px"),that.updateSlidesBG(-out*that.bgparallax+"px",!0),layers&&that.fade&&layers.css("opacity",1-Math.min(1,-out/slider.api.height))):(layers&&(window._css2d?layers[0].style[window._jcsspfx+"Transform"]="":layers[0].style.top=""),that.updateSlidesBG("0px",!1),layers&&that.fade&&layers.css("opacity",1))},p.updateSlidesBG=function(pos,fixed){for(var slides=this.slider.api.view.slideList,position=!fixed||window.MSBrowserInfo.msie||window.MSBrowserInfo.opera?"":"fixed",i=0,l=slides.length;i!==l;i++)slides[i].hasBG&&(slides[i].$imgcont[0].style.position=position,slides[i].$imgcont[0].style.top=pos),slides[i].$bgvideocont&&(slides[i].$bgvideocont[0].style.position=position,slides[i].$bgvideocont[0].style.top=pos)},p.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),$(window).off("scroll",this.moveParallax)}}(jQuery),function($,document,window){var PId=0;if(window.MasterSlider){var KeyboardNav=function(slider){this.slider=slider,this.PId=PId++,this.slider.options.keyboard&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};KeyboardNav.name="MSKeyboardNav";var p=KeyboardNav.prototype;p.init=function(){var api=this.slider.api;$(document).on("keydown.kbnav"+this.PId,function(event){var which=event.which;37===which||40===which?api.previous(!0):(38===which||39===which)&&api.next(!0)})},p.destroy=function(){$(document).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(KeyboardNav)}}(jQuery,document,window),function($,document,window){var PId=0,$window=$(window),$doc=$(document);if(window.MasterSlider){var StartOnAppear=function(slider){this.PId=PId++,this.slider=slider,this.$slider=slider.$element,this.slider.options.startOnAppear&&(slider.holdOn(),$doc.ready($.proxy(this.init,this)))};StartOnAppear.name="MSStartOnAppear";var p=StartOnAppear.prototype;p.init=function(){this.slider.api;$window.on("scroll.soa"+this.PId,$.proxy(this._onScroll,this)).trigger("scroll")},p._onScroll=function(){var vpBottom=$window.scrollTop()+$window.height(),top=this.$slider.offset().top;vpBottom>top&&($window.off("scroll.soa"+this.PId),this.slider.release())},p.destroy=function(){},MasterSlider.registerPlugin(StartOnAppear)}}(jQuery,document,window),function(document,window){var filterUnits={"hue-rotate":"deg",blur:"px"},initialValues={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(window.MasterSlider){var Filters=function(slider){this.slider=slider,this.slider.options.filters&&slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};Filters.name="MSFilters";var p=Filters.prototype;p.init=function(){var api=this.slider.api,view=api.view;this.filters=this.slider.options.filters,this.slideList=view.slideList,this.slidesCount=view.slidesCount,this.dimension=view[view.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=window.MSBrowserInfo.webkit?"WebkitFilter":"filter";var superFun=view.controller.__renderHook.fun,superRef=view.controller.__renderHook.ref;view.controller.renderCallback(function(controller,value){superFun.call(superRef,controller,value),this.applyEffect(value)},this),this.applyEffect(view.controller.value)},p.applyEffect=function(value){for(var factor,slide,i=0;i<this.slidesCount;++i)slide=this.slideList[i],factor=Math.min(1,Math.abs(value-slide.position)/this.dimension),slide[this.target]&&(window.MSBrowserInfo.msie?null!=this.filters.opacity&&slide[this.target].opacity(1-this.filters.opacity*factor):slide[this.target][0].style[this.filterName]=this.generateStyle(factor))},p.generateStyle=function(factor){var unit,style="";for(var filter in this.filters)unit=filterUnits[filter]||"",style+=filter+"("+(initialValues[filter]+(this.filters[filter]-initialValues[filter])*factor)+") ";return style},p.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(Filters)}}(document,window,jQuery),function($,document,window){if(window.MasterSlider){var ScrollToAction=function(slider){this.slider=slider,slider.api.addEventListener(MSSliderEvent.INIT,this.init,this)};ScrollToAction.name="MSScrollToAction";var p=ScrollToAction.prototype;p.init=function(){var api=this.slider.api;api.scrollToEnd=_scrollToEnd,api.scrollTo=_scrollTo},p.destroy=function(){};var _scrollTo=function(target,duration){var target=(this.slider.$element,$(target).eq(0));0!==target.length&&(null==duration&&(duration=1.4),$("html, body").animate({scrollTop:target.offset().top},1e3*duration,"easeInOutQuad"))},_scrollToEnd=function(duration){var sliderEle=this.slider.$element;null==duration&&(duration=1.4),$("html, body").animate({scrollTop:sliderEle.offset().top+sliderEle.outerHeight(!1)},1e3*duration,"easeInOutQuad")};MasterSlider.registerPlugin(ScrollToAction)}}(jQuery,document,window),function($,window){"use strict";if(window.MSReady)for(var i=0,l=MSReady.length;i!==l;i++)MSReady[i].call(null,$)}(jQuery,window,document),function($){$(window).on("vc_reload",function(){if(window.MSReady)for(var i=0,l=MSReady.length;i!==l;i++)MSReady[i].call(null,$)}),window.msCli=function(f){f=f||"pause";var m=masterslider_instances;for(var i in m)m[i].api[f]()}}(jQuery);;var ajaxurl="https:\/\/estatenation.com\/wp-admin\/admin-ajax.php";var mmpVars={"baseUrl":"https:\/\/estatenation.com\/","slug":"maps","apiUrl":"https:\/\/estatenation.com\/maps\/","adminUrl":"https:\/\/estatenation.com\/wp-admin\/","pluginUrl":"https:\/\/estatenation.com\/wp-content\/plugins\/maps-marker-pro\/","iconsUrl":"https:\/\/estatenation.com\/wp-content\/uploads\/maps-marker-pro\/icons\/","shortcode":"mapsmarker"};var mmpL10n={"api":{"editMap":"Edit map","editMarker":"Edit marker","dir":"Get directions","fs":"Open standalone map in fullscreen mode","geoJson":"Export as GeoJSON","kml":"Export as KML","geoRss":"Export as GeoRSS","share":"Share"},"control":{"zoomIn":"Zoom in","zoomOut":"Zoom out","fullscreenFalse":"View fullscreen","fullscreenTrue":"Exit fullscreen","reset":"Reset map view","locateTitle":"Show me where I am","locateMetersUnit":"meters","locateFeetUnit":"feet","locatePopup":"You are within {distance} {unit} from this point","locateOutsideMapBoundsMsg":"You seem located outside the boundaries of the map","locateError":"Geolocation error","locateErrorUnknown":"The geolocation has failed for an unknown reason","locateErrorDenied":"The geolocation has been denied","locateErrorUnavailable":"The geolocation is unavailable","locateErrorTimeout":"The geolocation has timed out","filtersAll":"all","filtersNone":"none","minimapHideText":"Hide minimap","minimapShowText":"Show minimap"},"popup":{"directions":"Directions","info":"If a popup text is set, it will appear here"},"list":{"id":"Marker ID","name":"Marker name","address":"Address","distance":"Distance","icon":"Icon","created":"Created","updated":"Updated","noResults":"No results","oneResult":"One result","results":"results","search":"Search markers","everywhere":"Everywhere"},"gpx":{"metaName":"Track name","metaStart":"Start","metaEnd":"End","metaTotal":"Duration","metaMoving":"Moving time","metaDistance":"Distance","metaPace":"Pace","metaHeartRate":"Heart rate","metaElevation":"Elevation","metaDownload":"download GPX file","noElevationData":"No elevation data available"}};!function(){var i={5568:function(t){t.exports=function(t,e){return!(t[0]>e[2]||t[2]<e[0]||t[3]<e[1]||t[1]>e[3])}},7757:function(t,e,i){
/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
t.exports=function(n){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t){return t&&t["default"]||t}n=n&&n.hasOwnProperty("default")?n["default"]:n;var u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},h=t(function(t){var s={};for(var e in u)if(u.hasOwnProperty(e))s[u[e]]=e;var l=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var i in l)if(l.hasOwnProperty(i)){if(!("channels"in l[i]))throw new Error("missing channels property: "+i);if(!("labels"in l[i]))throw new Error("missing channel labels property: "+i);if(l[i].labels.length!==l[i].channels)throw new Error("channel and label counts mismatch: "+i);var n=l[i].channels;var o=l[i].labels;delete l[i].channels;delete l[i].labels;Object.defineProperty(l[i],"channels",{value:n});Object.defineProperty(l[i],"labels",{value:o})}l.rgb.hsl=function(t){var e=t[0]/255;var i=t[1]/255;var n=t[2]/255;var o=Math.min(e,i,n);var r=Math.max(e,i,n);var a=r-o;var s;var l;var h;if(r===o)s=0;else if(e===r)s=(i-n)/a;else if(i===r)s=2+(n-e)/a;else if(n===r)s=4+(e-i)/a;s=Math.min(s*60,360);if(s<0)s+=360;h=(o+r)/2;if(r===o)l=0;else if(h<=.5)l=a/(r+o);else l=a/(2-r-o);return[s,l*100,h*100]};l.rgb.hsv=function(t){var e;var i;var n;var o;var r;var a=t[0]/255;var s=t[1]/255;var l=t[2]/255;var h=Math.max(a,s,l);var u=h-Math.min(a,s,l);var c=function(t){return(h-t)/6/u+1/2};if(u===0)o=r=0;else{r=u/h;e=c(a);i=c(s);n=c(l);if(a===h)o=n-i;else if(s===h)o=1/3+e-n;else if(l===h)o=2/3+i-e;if(o<0)o+=1;else if(o>1)o-=1}return[o*360,r*100,h*100]};l.rgb.hwb=function(t){var e=t[0];var i=t[1];var n=t[2];var o=l.rgb.hsl(t)[0];var r=1/255*Math.min(e,Math.min(i,n));n=1-1/255*Math.max(e,Math.max(i,n));return[o,r*100,n*100]};l.rgb.cmyk=function(t){var e=t[0]/255;var i=t[1]/255;var n=t[2]/255;var o;var r;var a;var s;s=Math.min(1-e,1-i,1-n);o=(1-e-s)/(1-s)||0;r=(1-i-s)/(1-s)||0;a=(1-n-s)/(1-s)||0;return[o*100,r*100,a*100,s*100]};function h(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}l.rgb.keyword=function(t){var e=s[t];if(e)return e;var i=Infinity;var n;for(var o in u)if(u.hasOwnProperty(o)){var r=u[o];var a=h(t,r);if(a<i){i=a;n=o}}return n};l.keyword.rgb=function(t){return u[t]};l.rgb.xyz=function(t){var e=t[0]/255;var i=t[1]/255;var n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92;i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var o=e*.4124+i*.3576+n*.1805;var r=e*.2126+i*.7152+n*.0722;var a=e*.0193+i*.1192+n*.9505;return[o*100,r*100,a*100]};l.rgb.lab=function(t){var e=l.rgb.xyz(t);var i=e[0];var n=e[1];var o=e[2];var r;var a;var s;i/=95.047;n/=100;o/=108.883;i=i>.008856?Math.pow(i,1/3):7.787*i+16/116;n=n>.008856?Math.pow(n,1/3):7.787*n+16/116;o=o>.008856?Math.pow(o,1/3):7.787*o+16/116;r=116*n-16;a=500*(i-n);s=200*(n-o);return[r,a,s]};l.hsl.rgb=function(t){var e=t[0]/360;var i=t[1]/100;var n=t[2]/100;var o;var r;var a;var s;var l;if(i===0){l=n*255;return[l,l,l]}if(n<.5)r=n*(1+i);else r=n+i-n*i;o=2*n-r;s=[0,0,0];for(var h=0;h<3;h++){a=e+1/3*-(h-1);if(a<0)a++;if(a>1)a--;if(6*a<1)l=o+(r-o)*6*a;else if(2*a<1)l=r;else if(3*a<2)l=o+(r-o)*(2/3-a)*6;else l=o;s[h]=l*255}return s};l.hsl.hsv=function(t){var e=t[0];var i=t[1]/100;var n=t[2]/100;var o=i;var r=Math.max(n,.01);var a;var s;n*=2;i*=n<=1?n:2-n;o*=r<=1?r:2-r;s=(n+i)/2;a=n===0?2*o/(r+o):2*i/(n+i);return[e,a*100,s*100]};l.hsv.rgb=function(t){var e=t[0]/60;var i=t[1]/100;var n=t[2]/100;var o=Math.floor(e)%6;var r=e-Math.floor(e);var a=255*n*(1-i);var s=255*n*(1-i*r);var l=255*n*(1-i*(1-r));n*=255;switch(o){case 0:return[n,l,a];case 1:return[s,n,a];case 2:return[a,n,l];case 3:return[a,s,n];case 4:return[l,a,n];case 5:return[n,a,s]}};l.hsv.hsl=function(t){var e=t[0];var i=t[1]/100;var n=t[2]/100;var o=Math.max(n,.01);var r;var a;var s;s=(2-i)*n;r=(2-i)*o;a=i*o;a/=r<=1?r:2-r;a=a||0;s/=2;return[e,a*100,s*100]};l.hwb.rgb=function(t){var e=t[0]/360;var i=t[1]/100;var n=t[2]/100;var o=i+n;var r;var a;var s;var l;if(o>1){i/=o;n/=o}r=Math.floor(6*e);a=1-n;s=6*e-r;if((r&1)!==0)s=1-s;l=i+s*(a-i);var h;var u;var c;switch(r){default:case 6:case 0:h=a;u=l;c=i;break;case 1:h=l;u=a;c=i;break;case 2:h=i;u=a;c=l;break;case 3:h=i;u=l;c=a;break;case 4:h=l;u=i;c=a;break;case 5:h=a;u=i;c=l;break}return[h*255,u*255,c*255]};l.cmyk.rgb=function(t){var e=t[0]/100;var i=t[1]/100;var n=t[2]/100;var o=t[3]/100;var r;var a;var s;r=1-Math.min(1,e*(1-o)+o);a=1-Math.min(1,i*(1-o)+o);s=1-Math.min(1,n*(1-o)+o);return[r*255,a*255,s*255]};l.xyz.rgb=function(t){var e=t[0]/100;var i=t[1]/100;var n=t[2]/100;var o;var r;var a;o=e*3.2406+i*-1.5372+n*-.4986;r=e*-.9689+i*1.8758+n*.0415;a=e*.0557+i*-.204+n*1.057;o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*12.92;a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92;o=Math.min(Math.max(0,o),1);r=Math.min(Math.max(0,r),1);a=Math.min(Math.max(0,a),1);return[o*255,r*255,a*255]};l.xyz.lab=function(t){var e=t[0];var i=t[1];var n=t[2];var o;var r;var a;e/=95.047;i/=100;n/=108.883;e=e>.008856?Math.pow(e,1/3):7.787*e+16/116;i=i>.008856?Math.pow(i,1/3):7.787*i+16/116;n=n>.008856?Math.pow(n,1/3):7.787*n+16/116;o=116*i-16;r=500*(e-i);a=200*(i-n);return[o,r,a]};l.lab.xyz=function(t){var e=t[0];var i=t[1];var n=t[2];var o;var r;var a;r=(e+16)/116;o=i/500+r;a=r-n/200;var s=Math.pow(r,3);var l=Math.pow(o,3);var h=Math.pow(a,3);r=s>.008856?s:(r-16/116)/7.787;o=l>.008856?l:(o-16/116)/7.787;a=h>.008856?h:(a-16/116)/7.787;o*=95.047;r*=100;a*=108.883;return[o,r,a]};l.lab.lch=function(t){var e=t[0];var i=t[1];var n=t[2];var o;var r;var a;o=Math.atan2(n,i);r=o*360/2/Math.PI;if(r<0)r+=360;a=Math.sqrt(i*i+n*n);return[e,a,r]};l.lch.lab=function(t){var e=t[0];var i=t[1];var n=t[2];var o;var r;var a;a=n/360*2*Math.PI;o=i*Math.cos(a);r=i*Math.sin(a);return[e,o,r]};l.rgb.ansi16=function(t){var e=t[0];var i=t[1];var n=t[2];var o=1 in arguments?arguments[1]:l.rgb.hsv(t)[2];o=Math.round(o/50);if(o===0)return 30;var r=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(e/255));if(o===2)r+=60;return r};l.hsv.ansi16=function(t){return l.rgb.ansi16(l.hsv.rgb(t),t[2])};l.rgb.ansi256=function(t){var e=t[0];var i=t[1];var n=t[2];if(e===i&&i===n){if(e<8)return 16;if(e>248)return 231;return Math.round((e-8)/247*24)+232}var o=16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(n/255*5);return o};l.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7){if(t>50)e+=3.5;e=e/10.5*255;return[e,e,e]}var i=(~~(t>50)+1)*.5;var n=(e&1)*i*255;var o=(e>>1&1)*i*255;var r=(e>>2&1)*i*255;return[n,o,r]};l.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var i;var n=Math.floor(t/36)/5*255;var o=Math.floor((i=t%36)/6)/5*255;var r=i%6/5*255;return[n,o,r]};l.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255);var i=e.toString(16).toUpperCase();return"000000".substring(i.length)+i};l.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];if(e[0].length===3)i=i.split("").map(function(t){return t+t}).join("");var n=parseInt(i,16);var o=n>>16&255;var r=n>>8&255;var a=n&255;return[o,r,a]};l.rgb.hcg=function(t){var e=t[0]/255;var i=t[1]/255;var n=t[2]/255;var o=Math.max(Math.max(e,i),n);var r=Math.min(Math.min(e,i),n);var a=o-r;var s;var l;if(a<1)s=r/(1-a);else s=0;if(a<=0)l=0;else if(o===e)l=(i-n)/a%6;else if(o===i)l=2+(n-e)/a;else l=4+(e-i)/a+4;l/=6;l%=1;return[l*360,a*100,s*100]};l.hsl.hcg=function(t){var e=t[1]/100;var i=t[2]/100;var n=1;var o=0;if(i<.5)n=2*e*i;else n=2*e*(1-i);if(n<1)o=(i-.5*n)/(1-n);return[t[0],n*100,o*100]};l.hsv.hcg=function(t){var e=t[1]/100;var i=t[2]/100;var n=e*i;var o=0;if(n<1)o=(i-n)/(1-n);return[t[0],n*100,o*100]};l.hcg.rgb=function(t){var e=t[0]/360;var i=t[1]/100;var n=t[2]/100;if(i===0)return[n*255,n*255,n*255];var o=[0,0,0];var r=e%1*6;var a=r%1;var s=1-a;var l=0;switch(Math.floor(r)){case 0:o[0]=1;o[1]=a;o[2]=0;break;case 1:o[0]=s;o[1]=1;o[2]=0;break;case 2:o[0]=0;o[1]=1;o[2]=a;break;case 3:o[0]=0;o[1]=s;o[2]=1;break;case 4:o[0]=a;o[1]=0;o[2]=1;break;default:o[0]=1;o[1]=0;o[2]=s}l=(1-i)*n;return[(i*o[0]+l)*255,(i*o[1]+l)*255,(i*o[2]+l)*255]};l.hcg.hsv=function(t){var e=t[1]/100;var i=t[2]/100;var n=e+i*(1-e);var o=0;if(n>0)o=e/n;return[t[0],o*100,n*100]};l.hcg.hsl=function(t){var e=t[1]/100;var i=t[2]/100;var n=i*(1-e)+.5*e;var o=0;if(n>0&&n<.5)o=e/(2*n);else if(n>=.5&&n<1)o=e/(2*(1-n));return[t[0],o*100,n*100]};l.hcg.hwb=function(t){var e=t[1]/100;var i=t[2]/100;var n=e+i*(1-e);return[t[0],(n-e)*100,(1-n)*100]};l.hwb.hcg=function(t){var e=t[1]/100;var i=t[2]/100;var n=1-i;var o=n-e;var r=0;if(o<1)r=(n-o)/(1-o);return[t[0],o*100,r*100]};l.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};l.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};l.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};l.gray.hsl=l.gray.hsv=function(t){return[0,0,t[0]]};l.gray.hwb=function(t){return[0,100,t[0]]};l.gray.cmyk=function(t){return[0,0,0,t[0]]};l.gray.lab=function(t){return[t[0],0,0]};l.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255;var i=(e<<16)+(e<<8)+e;var n=i.toString(16).toUpperCase();return"000000".substring(n.length)+n};l.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}}),i=h.rgb,o=h.hsl,r=h.hsv,a=h.hwb,s=h.cmyk,l=h.xyz,c=h.lab,d=h.lch,p=h.hex,f=h.keyword,m=h.ansi16,g=h.ansi256,v=h.hcg,_=h.apple,y=h.gray;function x(){var t={};var e=Object.keys(h);for(var i=e.length,n=0;n<i;n++)t[e[n]]={distance:-1,parent:null};return t}function b(t){var e=x();var i=[t];e[t].distance=0;while(i.length){var n=i.pop();var o=Object.keys(h[n]);for(var r=o.length,a=0;a<r;a++){var s=o[a];var l=e[s];if(l.distance===-1){l.distance=e[n].distance+1;l.parent=n;i.unshift(s)}}}return e}function w(e,i){return function(t){return i(e(t))}}function k(t,e){var i=[e[t].parent,t];var n=h[e[t].parent][t];var o=e[t].parent;while(e[o].parent){i.unshift(e[o].parent);n=w(h[e[o].parent][o],n);o=e[o].parent}n.conversion=i;return n}var L=function(t){var e=b(t);var i={};var n=Object.keys(e);for(var o=n.length,r=0;r<o;r++){var a=n[r];var s=e[a];if(s.parent===null)continue;i[a]=k(a,e)}return i},M={},C;function T(e){var t=function(t){if(t===undefined||t===null)return t;if(arguments.length>1)t=Array.prototype.slice.call(arguments);return e(t)};if("conversion"in e)t.conversion=e.conversion;return t}function P(o){var t=function(t){if(t===undefined||t===null)return t;if(arguments.length>1)t=Array.prototype.slice.call(arguments);var e=o(t);if(typeof e==="object")for(var i=e.length,n=0;n<i;n++)e[n]=Math.round(e[n]);return e};if("conversion"in o)t.conversion=o.conversion;return t}Object.keys(h).forEach(function(i){M[i]={};Object.defineProperty(M[i],"channels",{value:h[i].channels});Object.defineProperty(M[i],"labels",{value:h[i].labels});var n=L(i);var t=Object.keys(n);t.forEach(function(t){var e=n[t];M[i][t]=P(e);M[i][t].raw=T(e)})});var S=M,A={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},D={getRgba:I,getHsla:O,getRgb:E,getHsl:B,getHwb:z,getAlpha:F,hexString:R,rgbString:N,rgbaString:U,percentString:Z,percentaString:j,hslString:W,hslaString:H,hwbString:G,keyword:V};function I(t){if(!t)return;var e=/^#([a-fA-F0-9]{3,4})$/i,i=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,n=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,o=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/(\w+)/;var a=[0,0,0],s=1,l=t.match(e),h="";if(l){l=l[1];h=l[3];for(var u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16);if(h)s=Math.round(parseInt(h+h,16)/255*100)/100}else if(l=t.match(i)){h=l[2];l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l.slice(u*2,u*2+2),16);if(h)s=Math.round(parseInt(h,16)/255*100)/100}else if(l=t.match(n)){for(var u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(o)){for(var u=0;u<a.length;u++)a[u]=Math.round(parseFloat(l[u+1])*2.55);s=parseFloat(l[4])}else if(l=t.match(r)){if(l[1]=="transparent")return[0,0,0,0];a=A[l[1]];if(!a)return}for(var u=0;u<a.length;u++)a[u]=q(a[u],0,255);if(!s&&s!=0)s=1;else s=q(s,0,1);a[3]=s;return a}function O(t){if(!t)return;var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var i=t.match(e);if(i){var n=parseFloat(i[4]);var o=q(parseInt(i[1]),0,360),r=q(parseFloat(i[2]),0,100),a=q(parseFloat(i[3]),0,100),s=q(isNaN(n)?1:n,0,1);return[o,r,a,s]}}function z(t){if(!t)return;var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var i=t.match(e);if(i){var n=parseFloat(i[4]);var o=q(parseInt(i[1]),0,360),r=q(parseFloat(i[2]),0,100),a=q(parseFloat(i[3]),0,100),s=q(isNaN(n)?1:n,0,1);return[o,r,a,s]}}function E(t){var e=I(t);return e&&e.slice(0,3)}function B(t){var e=O(t);return e&&e.slice(0,3)}function F(t){var e=I(t);if(e)return e[3];else if(e=O(t))return e[3];else if(e=z(t))return e[3]}function R(t,e){var e=e!==undefined&&t.length===3?e:t[3];return"#"+K(t[0])+K(t[1])+K(t[2])+(e>=0&&e<1?K(Math.round(e*255)):"")}function N(t,e){if(e<1||t[3]&&t[3]<1)return U(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function U(t,e){if(e===undefined)e=t[3]!==undefined?t[3]:1;return"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function Z(t,e){if(e<1||t[3]&&t[3]<1)return j(t,e);var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+i+"%, "+n+"%, "+o+"%)"}function j(t,e){var i=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgba("+i+"%, "+n+"%, "+o+"%, "+(e||t[3]||1)+")"}function W(t,e){if(e<1||t[3]&&t[3]<1)return H(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function H(t,e){if(e===undefined)e=t[3]!==undefined?t[3]:1;return"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function G(t,e){if(e===undefined)e=t[3]!==undefined?t[3]:1;return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(e!==undefined&&e!==1?", "+e:"")+")"}function V(t){return J[t.slice(0,3)]}function q(t,e,i){return Math.min(Math.max(e,t),i)}function K(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var J={},Y;for(Y in A)J[A[Y]]=Y;var X=function(t){if(t instanceof X)return t;if(!(this instanceof X))return new X(t);this.valid=!1;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if(typeof t==="string"){e=D.getRgba(t);if(e)this.setValues("rgb",e);else if(e=D.getHsla(t))this.setValues("hsl",e);else if(e=D.getHwb(t))this.setValues("hwb",e)}else if(typeof t==="object"){e=t;if(e.r!==undefined||e.red!==undefined)this.setValues("rgb",e);else if(e.l!==undefined||e.lightness!==undefined)this.setValues("hsl",e);else if(e.v!==undefined||e.value!==undefined)this.setValues("hsv",e);else if(e.w!==undefined||e.whiteness!==undefined)this.setValues("hwb",e);else if(e.c!==undefined||e.cyan!==undefined)this.setValues("cmyk",e)}};if(X.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;if(t.alpha!==1)return t.hwb.concat([t.alpha]);return t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){if(t===undefined)return this.values.alpha;this.setValues("alpha",t);return this},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){if(t){t%=360;t=t<0?360+t:t}return this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return D.hexString(this.values.rgb)},rgbString:function(){return D.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return D.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return D.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return D.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return D.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return D.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return D.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){var t=this.values.rgb;var e=[];for(var i=0;i<t.length;i++){var n=t[i]/255;e[i]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity();var i=t.luminosity();if(e>i)return(e+.05)/(i+.05);return(i+.05)/(e+.05)},level:function(t){var e=this.contrast(t);if(e>=7.1)return"AAA";return e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128},light:function(){return!this.dark()},negate:function(){var t=[];for(var e=0;e<3;e++)t[e]=255-this.values.rgb[e];this.setValues("rgb",t);return this},lighten:function(t){var e=this.values.hsl;e[2]+=e[2]*t;this.setValues("hsl",e);return this},darken:function(t){var e=this.values.hsl;e[2]-=e[2]*t;this.setValues("hsl",e);return this},saturate:function(t){var e=this.values.hsl;e[1]+=e[1]*t;this.setValues("hsl",e);return this},desaturate:function(t){var e=this.values.hsl;e[1]-=e[1]*t;this.setValues("hsl",e);return this},whiten:function(t){var e=this.values.hwb;e[1]+=e[1]*t;this.setValues("hwb",e);return this},blacken:function(t){var e=this.values.hwb;e[2]+=e[2]*t;this.setValues("hwb",e);return this},greyscale:function(){var t=this.values.rgb;var e=t[0]*.3+t[1]*.59+t[2]*.11;this.setValues("rgb",[e,e,e]);return this},clearer:function(t){var e=this.values.alpha;this.setValues("alpha",e-e*t);return this},opaquer:function(t){var e=this.values.alpha;this.setValues("alpha",e+e*t);return this},rotate:function(t){var e=this.values.hsl;var i=(e[0]+t)%360;e[0]=i<0?360+i:i;this.setValues("hsl",e);return this},mix:function(t,e){var i=this;var n=t;var o=e===undefined?.5:e;var r=2*o-1;var a=i.alpha()-n.alpha();var s=((r*a===-1?r:(r+a)/(1+r*a))+1)/2;var l=1-s;return this.rgb(s*i.red()+l*n.red(),s*i.green()+l*n.green(),s*i.blue()+l*n.blue()).alpha(i.alpha()*o+n.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t=new X;var e=this.values;var i=t.values;var n,o;for(var r in e)if(e.hasOwnProperty(r)){n=e[r];o={}.toString.call(n);if(o==="[object Array]")i[r]=n.slice(0);else if(o==="[object Number]")i[r]=n;else console.error("unexpected color value:",n)}return t}},X.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},X.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},X.prototype.getValues=function(t){var e=this.values;var i={};for(var n=0;n<t.length;n++)i[t.charAt(n)]=e[t][n];if(e.alpha!==1)i.a=e.alpha;return i},X.prototype.setValues=function(t,e){var i=this.values;var n=this.spaces;var o=this.maxes;var r=1;var a;this.valid=!0;if(t==="alpha")r=e;else if(e.length){i[t]=e.slice(0,t.length);r=e[t.length]}else if(e[t.charAt(0)]!==undefined){for(a=0;a<t.length;a++)i[t][a]=e[t.charAt(a)];r=e.a}else if(e[n[t][0]]!==undefined){var s=n[t];for(a=0;a<t.length;a++)i[t][a]=e[s[a]];r=e.alpha}i.alpha=Math.max(0,Math.min(1,r===undefined?i.alpha:r));if(t==="alpha")return!1;var l;for(a=0;a<t.length;a++){l=Math.max(0,Math.min(o[t][a],i[t][a]));i[t][a]=Math.round(l)}for(var h in n)if(h!==t)i[h]=S[t][h](i[t]);return!0},X.prototype.setSpace=function(t,e){var i=e[0];if(i===undefined)return this.getValues(t);if(typeof i==="number")i=Array.prototype.slice.call(e);this.setValues(t,i);return this},X.prototype.setChannel=function(t,e,i){var n=this.values[t];if(i===undefined)return n[e];else if(i===n[e])return this;n[e]=i;this.setValues(t,n);return this},typeof window!=="undefined")window.Color=X;var Q=X;function $(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}var tt={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return t===null||typeof t==="undefined"},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);if(e.substr(0,7)==="[object"&&e.substr(-6)==="Array]")return!0;return!1},isObject:function(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"},isFinite:function(t){return(typeof t==="number"||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return typeof t==="undefined"?e:t},valueAtIndexOrDefault:function(t,e,i){return tt.valueOrDefault(tt.isArray(t)?t[e]:t,i)},callback:function(t,e,i){if(t&&typeof t.call==="function")return t.apply(i,e)},each:function(t,e,i,n){var o,r,a;if(tt.isArray(t)){r=t.length;if(n)for(o=r-1;o>=0;o--)e.call(i,t[o],o);else for(o=0;o<r;o++)e.call(i,t[o],o)}else if(tt.isObject(t)){a=Object.keys(t);r=a.length;for(o=0;o<r;o++)e.call(i,t[a[o]],a[o])}},arrayEquals:function(t,e){var i,n,o,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i){o=t[i];r=e[i];if(o instanceof Array&&r instanceof Array){if(!tt.arrayEquals(o,r))return!1}else if(o!==r)return!1}return!0},clone:function(t){if(tt.isArray(t))return t.map(tt.clone);if(tt.isObject(t)){var e=Object.create(t);var i=Object.keys(t);var n=i.length;var o=0;for(;o<n;++o)e[i[o]]=tt.clone(t[i[o]]);return e}return t},_merger:function(t,e,i,n){if(!$(t))return;var o=e[t];var r=i[t];if(tt.isObject(o)&&tt.isObject(r))tt.merge(o,r,n);else e[t]=tt.clone(r)},_mergerIf:function(t,e,i){if(!$(t))return;var n=e[t];var o=i[t];if(tt.isObject(n)&&tt.isObject(o))tt.mergeIf(n,o);else if(!e.hasOwnProperty(t))e[t]=tt.clone(o)},merge:function(t,e,i){var n=tt.isArray(e)?e:[e];var o=n.length;var r,a,s,l,h;if(!tt.isObject(t))return t;i=i||{};r=i.merger||tt._merger;for(a=0;a<o;++a){e=n[a];if(!tt.isObject(e))continue;s=Object.keys(e);for(h=0,l=s.length;h<l;++h)r(s[h],t,e,i)}return t},mergeIf:function(t,e){return tt.merge(t,e,{merger:tt._mergerIf})},extend:Object.assign||function(t){return tt.merge(t,[].slice.call(arguments,1),{merger:function(t,e,i){e[t]=i[t]}})},inherits:function(t){var e=this;var i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)};var n=function(){this.constructor=i};n.prototype=e.prototype;i.prototype=new n;i.extend=tt.inherits;if(t)tt.extend(i.prototype,t);i.__super__=e.prototype;return i},_deprecated:function(t,e,i,n){if(e!==undefined)console.warn(t+': "'+i+'" is deprecated. Please use "'+n+'" instead')}},et=tt;tt.callCallback=tt.callback,tt.indexOf=function(t,e,i){return Array.prototype.indexOf.call(t,e,i)},tt.getValueOrDefault=tt.valueOrDefault,tt.getValueAtIndexOrDefault=tt.valueAtIndexOrDefault;var it={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){if((t/=.5)<1)return.5*t*t;return-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t=t-1)*t*t+1},easeInOutCubic:function(t){if((t/=.5)<1)return.5*t*t*t;return.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1)},easeInOutQuart:function(t){if((t/=.5)<1)return.5*t*t*t*t;return-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1},easeInOutQuint:function(t){if((t/=.5)<1)return.5*t*t*t*t*t;return.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return t===0?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return t===1?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){if(t===0)return 0;if(t===1)return 1;if((t/=.5)<1)return.5*Math.pow(2,10*(t-1));return.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){if(t>=1)return t;return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t)},easeInOutCirc:function(t){if((t/=.5)<1)return-.5*(Math.sqrt(1-t*t)-1);return.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158;var i=0;var n=1;if(t===0)return 0;if(t===1)return 1;if(!i)i=.3;if(n<1){n=1;e=i/4}else e=i/(2*Math.PI)*Math.asin(1/n);return-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i))},easeOutElastic:function(t){var e=1.70158;var i=0;var n=1;if(t===0)return 0;if(t===1)return 1;if(!i)i=.3;if(n<1){n=1;e=i/4}else e=i/(2*Math.PI)*Math.asin(1/n);return n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1},easeInOutElastic:function(t){var e=1.70158;var i=0;var n=1;if(t===0)return 0;if((t/=.5)===2)return 1;if(!i)i=.45;if(n<1){n=1;e=i/4}else e=i/(2*Math.PI)*Math.asin(1/n);if(t<1)return-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i));return n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t=t-1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;if((t/=.5)<1)return.5*(t*t*(((e*=1.525)+1)*t-e));return.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-it.easeOutBounce(1-t)},easeOutBounce:function(t){if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75)return 7.5625*(t-=1.5/2.75)*t+.75;if(t<2.5/2.75)return 7.5625*(t-=2.25/2.75)*t+.9375;return 7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){if(t<.5)return it.easeInBounce(t*2)*.5;return it.easeOutBounce(t*2-1)*.5+.5}},nt={effects:it};et.easingEffects=it;var ot=Math.PI,rt=ot/180,at=ot*2,st=ot/2,lt=ot/4,ht=ot*2/3,ut={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,i,n,o,r){if(r){var a=Math.min(r,o/2,n/2);var s=e+a;var l=i+a;var h=e+n-a;var u=i+o-a;t.moveTo(e,l);if(s<h&&l<u){t.arc(s,l,a,-ot,-st);t.arc(h,l,a,-st,0);t.arc(h,u,a,0,st);t.arc(s,u,a,st,ot)}else if(s<h){t.moveTo(s,i);t.arc(h,l,a,-st,st);t.arc(s,l,a,st,ot+st)}else if(l<u){t.arc(s,l,a,-ot,0);t.arc(s,u,a,0,ot)}else t.arc(s,l,a,-ot,ot);t.closePath();t.moveTo(e,i)}else t.rect(e,i,n,o)},drawPoint:function(t,e,i,n,o,r){var a,s,l,h,u;var c=(r||0)*rt;if(e&&typeof e==="object"){a=e.toString();if(a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]"){t.save();t.translate(n,o);t.rotate(c);t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height);t.restore();return}}if(isNaN(i)||i<=0)return;t.beginPath();switch(e){default:t.arc(n,o,i,0,at);t.closePath();break;case"triangle":t.moveTo(n+Math.sin(c)*i,o-Math.cos(c)*i);c+=ht;t.lineTo(n+Math.sin(c)*i,o-Math.cos(c)*i);c+=ht;t.lineTo(n+Math.sin(c)*i,o-Math.cos(c)*i);t.closePath();break;case"rectRounded":u=i*.516;h=i-u;s=Math.cos(c+lt)*h;l=Math.sin(c+lt)*h;t.arc(n-s,o-l,u,c-ot,c-st);t.arc(n+l,o-s,u,c-st,c);t.arc(n+s,o+l,u,c,c+st);t.arc(n-l,o+s,u,c+st,c+ot);t.closePath();break;case"rect":if(!r){h=Math.SQRT1_2*i;t.rect(n-h,o-h,2*h,2*h);break}c+=lt;case"rectRot":s=Math.cos(c)*i;l=Math.sin(c)*i;t.moveTo(n-s,o-l);t.lineTo(n+l,o-s);t.lineTo(n+s,o+l);t.lineTo(n-l,o+s);t.closePath();break;case"crossRot":c+=lt;case"cross":s=Math.cos(c)*i;l=Math.sin(c)*i;t.moveTo(n-s,o-l);t.lineTo(n+s,o+l);t.moveTo(n+l,o-s);t.lineTo(n-l,o+s);break;case"star":s=Math.cos(c)*i;l=Math.sin(c)*i;t.moveTo(n-s,o-l);t.lineTo(n+s,o+l);t.moveTo(n+l,o-s);t.lineTo(n-l,o+s);c+=lt;s=Math.cos(c)*i;l=Math.sin(c)*i;t.moveTo(n-s,o-l);t.lineTo(n+s,o+l);t.moveTo(n+l,o-s);t.lineTo(n-l,o+s);break;case"line":s=Math.cos(c)*i;l=Math.sin(c)*i;t.moveTo(n-s,o-l);t.lineTo(n+s,o+l);break;case"dash":t.moveTo(n,o);t.lineTo(n+Math.cos(c)*i,o+Math.sin(c)*i);break}t.fill();t.stroke()},_isPointInArea:function(t,e){var i=1e-6;return t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i},clipArea:function(t,e){t.save();t.beginPath();t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top);t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,i,n){var o=i.steppedLine;if(o){if(o==="middle"){var r=(e.x+i.x)/2;t.lineTo(r,n?i.y:e.y);t.lineTo(r,n?e.y:i.y)}else if(o==="after"&&!n||o!=="after"&&n)t.lineTo(e.x,i.y);else t.lineTo(i.x,e.y);t.lineTo(i.x,i.y);return}if(!i.tension){t.lineTo(i.x,i.y);return}t.bezierCurveTo(n?e.controlPointPreviousX:e.controlPointNextX,n?e.controlPointPreviousY:e.controlPointNextY,n?i.controlPointNextX:i.controlPointPreviousX,n?i.controlPointNextY:i.controlPointPreviousY,i.x,i.y)}},ct=ut;et.clear=ut.clear,et.drawRoundedRectangle=function(t){t.beginPath();ut.roundedRect.apply(ut,arguments)};var dt={_set:function(t,e){return et.merge(this[t]||(this[t]={}),e)}};dt._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var pt=dt,ft=et.valueOrDefault;function mt(t){if(!t||et.isNullOrUndef(t.size)||et.isNullOrUndef(t.family))return null;return(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}var gt={toLineHeight:function(t,e){var i=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!i||i[1]==="normal")return e*1.2;t=+i[2];switch(i[3]){case"px":return t;case"%":t/=100;break}return e*t},toPadding:function(t){var e,i,n,o;if(et.isObject(t)){e=+t.top||0;i=+t.right||0;n=+t.bottom||0;o=+t.left||0}else e=i=n=o=+t||0;return{top:e,right:i,bottom:n,left:o,height:e+n,width:o+i}},_parseFont:function(t){var e=pt.global;var i=ft(t.fontSize,e.defaultFontSize);var n={family:ft(t.fontFamily,e.defaultFontFamily),lineHeight:et.options.toLineHeight(ft(t.lineHeight,e.defaultLineHeight),i),size:i,style:ft(t.fontStyle,e.defaultFontStyle),weight:null,string:""};n.string=mt(n);return n},resolve:function(t,e,i,n){var o=!0;var r,a,s;for(r=0,a=t.length;r<a;++r){s=t[r];if(s===undefined)continue;if(e!==undefined&&typeof s==="function"){s=s(e);o=!1}if(i!==undefined&&et.isArray(s)){s=s[i];o=!1}if(s!==undefined){if(n&&!o)n.cacheable=!1;return s}}}},vt={_factorize:function(t){var e=[];var i=Math.sqrt(t);var n;for(n=1;n<i;n++)if(t%n===0){e.push(n);e.push(t/n)}if(i===(i|0))e.push(i);e.sort(function(t,e){return t-e}).pop();return e},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E;var i=Math.round(e);var n=t===Math.pow(10,i);return n?i:e}},_t=vt;et.log10=vt.log10;var yt=function(e,i){return{x:function(t){return e+e+i-t},setWidth:function(t){i=t},textAlign:function(t){if(t==="center")return t;return t==="right"?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},xt=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},bt,wt,kt,Lt,Mt=et,Ct,Tt=ct,Pt=gt,St=_t,At={getRtlAdapter:function(t,e,i){return t?yt(e,i):xt()},overrideTextDirection:function(t,e){var i,n;if(e==="ltr"||e==="rtl"){i=t.canvas.style;n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")];i.setProperty("direction",e,"important");t.prevTextDirection=n}},restoreTextDirection:function(t){var e=t.prevTextDirection;if(e!==undefined){delete t.prevTextDirection;t.canvas.style.setProperty("direction",e[0],e[1])}}};function Dt(t,e,i,n){var o=Object.keys(i);var r,a,s,l,h,u,c,d,p;for(r=0,a=o.length;r<a;++r){s=o[r];u=i[s];if(!e.hasOwnProperty(s))e[s]=u;l=e[s];if(l===u||s[0]==="_")continue;if(!t.hasOwnProperty(s))t[s]=l;h=t[s];c=typeof u;if(c===typeof h)if(c==="string"){d=Q(h);if(d.valid){p=Q(u);if(p.valid){e[s]=p.mix(d,n).rgbString();continue}}}else if(Mt.isFinite(h)&&Mt.isFinite(u)){e[s]=h+(u-h)*n;continue}e[s]=u}}Mt.easing=nt,Mt.canvas=Tt,Mt.options=Pt,Mt.math=St,Mt.rtl=At;var It=function(t){Mt.extend(this,t);this.initialize.apply(this,arguments)};Mt.extend(It.prototype,{_type:undefined,initialize:function(){this.hidden=!1},pivot:function(){var t=this;if(!t._view)t._view=Mt.extend({},t._model);t._start={};return t},transition:function(t){var e=this;var i=e._model;var n=e._start;var o=e._view;if(!i||t===1){e._view=Mt.extend({},i);e._start=null;return e}if(!o)o=e._view={};if(!n)n=e._start={};Dt(n,o,i,t);return e},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Mt.isNumber(this._model.x)&&Mt.isNumber(this._model.y)}}),It.extend=Mt.inherits;var Ot=It,zt=Ot.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Et=zt;Object.defineProperty(zt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(zt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),pt._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Mt.noop,onComplete:Mt.noop}});var Bt={animations:[],request:null,addAnimation:function(t,e,i,n){var o=this.animations;var r,a;e.chart=t;e.startTime=Date.now();e.duration=i;if(!n)t.animating=!0;for(r=0,a=o.length;r<a;++r)if(o[r].chart===t){o[r]=e;return}o.push(e);if(o.length===1)this.requestAnimationFrame()},cancelAnimation:function(e){var t=Mt.findIndex(this.animations,function(t){return t.chart===e});if(t!==-1){this.animations.splice(t,1);e.animating=!1}},requestAnimationFrame:function(){var t=this;if(t.request===null)t.request=Mt.requestAnimFrame.call(window,function(){t.request=null;t.startDigest()})},startDigest:function(){var t=this;t.advance();if(t.animations.length>0)t.requestAnimationFrame()},advance:function(){var t=this.animations;var e,i,n,o;var r=0;while(r<t.length){e=t[r];i=e.chart;n=e.numSteps;o=Math.floor((Date.now()-e.startTime)/e.duration*n)+1;e.currentStep=Math.min(o,n);Mt.callback(e.render,[i,e],i);Mt.callback(e.onAnimationProgress,[e],i);if(e.currentStep>=n){Mt.callback(e.onAnimationComplete,[e],i);i.animating=!1;t.splice(r,1)}else++r}}},Ft=Mt.options.resolve,Rt=["push","pop","shift","splice","unshift"];function Nt(o,t){if(o._chartjs){o._chartjs.listeners.push(t);return}Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}});Rt.forEach(function(t){var i="onData"+t.charAt(0).toUpperCase()+t.slice(1);var n=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments);var t=n.apply(this,e);Mt.each(o._chartjs.listeners,function(t){if(typeof t[i]==="function")t[i].apply(t,e)});return t}})})}function Ut(e,t){var i=e._chartjs;if(!i)return;var n=i.listeners;var o=n.indexOf(t);if(o!==-1)n.splice(o,1);if(n.length>0)return;Rt.forEach(function(t){delete e[t]});delete e._chartjs}var Zt=function(t,e){this.initialize(t,e)};Mt.extend(Zt.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var i=this;i.chart=t;i.index=e;i.linkScales();i.addElements();i._type=i.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this;var e=t.getMeta();var i=t.chart;var n=i.scales;var o=t.getDataset();var r=i.options.scales;if(e.xAxisID===null||!(e.xAxisID in n)||o.xAxisID)e.xAxisID=o.xAxisID||r.xAxes[0].id;if(e.yAxisID===null||!(e.yAxisID in n)||o.yAxisID)e.yAxisID=o.yAxisID||r.yAxes[0].id},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){if(this._data)Ut(this._data,this)},createMetaDataset:function(){var t=this;var e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this;var i=e.dataElementType;return i&&new i({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t=this;var e=t.getMeta();var i=t.getDataset().data||[];var n=e.data;var o,r;for(o=0,r=i.length;o<r;++o)n[o]=n[o]||t.createMetaData(o);e.dataset=e.dataset||t.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e);this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this;var e=t.getDataset();var i=e.data||(e.data=[]);if(t._data!==i){if(t._data)Ut(t._data,t);if(i&&Object.isExtensible(i))Nt(i,t);t._data=i}t.resyncElements()},_configure:function(){var t=this;t._config=Mt.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,i){if(t!=="_meta"&&t!=="data")Mt._merger(t,e,i)}})},_update:function(t){var e=this;e._configure();e._cachedDataOpts=null;e.update(t)},update:Mt.noop,transition:function(t){var e=this.getMeta();var i=e.data||[];var n=i.length;var o=0;for(;o<n;++o)i[o].transition(t);if(e.dataset)e.dataset.transition(t)},draw:function(){var t=this.getMeta();var e=t.data||[];var i=e.length;var n=0;if(t.dataset)t.dataset.draw();for(;n<i;++n)e[n].draw()},getStyle:function(t){var e=this;var i=e.getMeta();var n=i.dataset;var o;e._configure();if(n&&t===undefined)o=e._resolveDatasetElementOptions(n||{});else{t=t||0;o=e._resolveDataElementOptions(i.data[t]||{},t)}if(o.fill===!1||o.fill===null)o.backgroundColor=o.borderColor;return o},_resolveDatasetElementOptions:function(t,e){var i=this;var n=i.chart;var o=i._config;var r=t.custom||{};var a=n.options.elements[i.datasetElementType.prototype._type]||{};var s=i._datasetElementOptions;var l={};var h,u,c,d;var p={chart:n,dataset:i.getDataset(),datasetIndex:i.index,hover:e};for(h=0,u=s.length;h<u;++h){c=s[h];d=e?"hover"+c.charAt(0).toUpperCase()+c.slice(1):c;l[c]=Ft([r[d],o[d],a[d]],p)}return l},_resolveDataElementOptions:function(t,e){var i=this;var n=t&&t.custom;var o=i._cachedDataOpts;if(o&&!n)return o;var r=i.chart;var a=i._config;var s=r.options.elements[i.dataElementType.prototype._type]||{};var l=i._dataElementOptions;var h={};var u={chart:r,dataIndex:e,dataset:i.getDataset(),datasetIndex:i.index};var c={cacheable:!n};var d,p,f,m;n=n||{};if(Mt.isArray(l))for(p=0,f=l.length;p<f;++p){m=l[p];h[m]=Ft([n[m],a[m],s[m]],u,e,c)}else{d=Object.keys(l);for(p=0,f=d.length;p<f;++p){m=d[p];h[m]=Ft([n[m],a[l[m]],a[m],s[m]],u,e,c)}}if(c.cacheable)i._cachedDataOpts=Object.freeze(h);return h},removeHoverStyle:function(t){Mt.merge(t._model,t.$previousStyle||{});delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex];var i=t._index;var n=t.custom||{};var o=t._model;var r=Mt.getHoverColor;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth};o.backgroundColor=Ft([n.hoverBackgroundColor,e.hoverBackgroundColor,r(o.backgroundColor)],undefined,i);o.borderColor=Ft([n.hoverBorderColor,e.hoverBorderColor,r(o.borderColor)],undefined,i);o.borderWidth=Ft([n.hoverBorderWidth,e.hoverBorderWidth,o.borderWidth],undefined,i)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;if(t)this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t=this.getMeta().dataset;var e={};var i,n,o,r,a,s;if(!t)return;s=t._model;a=this._resolveDatasetElementOptions(t,!0);r=Object.keys(a);for(i=0,n=r.length;i<n;++i){o=r[i];e[o]=s[o];s[o]=a[o]}t.$previousStyle=e},resyncElements:function(){var t=this;var e=t.getMeta();var i=t.getDataset().data;var n=e.data.length;var o=i.length;if(o<n)e.data.splice(o,n-o);else if(o>n)t.insertElements(n,o-n)},insertElements:function(t,e){for(var i=0;i<e;++i)this.addElementAndReset(t+i)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e);this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Zt.extend=Mt.inherits;var jt=Zt,Wt=Math.PI*2;function Ht(t,e){var i=e.startAngle;var n=e.endAngle;var o=e.pixelMargin;var r=o/e.outerRadius;var a=e.x;var s=e.y;t.beginPath();t.arc(a,s,e.outerRadius,i-r,n+r);if(e.innerRadius>o){r=o/e.innerRadius;t.arc(a,s,e.innerRadius-o,n+r,i-r,!0)}else t.arc(a,s,o,n+Math.PI/2,i-Math.PI/2);t.closePath();t.clip()}function Gt(t,e,i,n){var o=i.endAngle;var r;if(n){i.endAngle=i.startAngle+Wt;Ht(t,i);i.endAngle=o;if(i.endAngle===i.startAngle&&i.fullCircles){i.endAngle+=Wt;i.fullCircles--}}t.beginPath();t.arc(i.x,i.y,i.innerRadius,i.startAngle+Wt,i.startAngle,!0);for(r=0;r<i.fullCircles;++r)t.stroke();t.beginPath();t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.startAngle+Wt);for(r=0;r<i.fullCircles;++r)t.stroke()}function Vt(t,e,i){var n=e.borderAlign==="inner";if(n){t.lineWidth=e.borderWidth*2;t.lineJoin="round"}else{t.lineWidth=e.borderWidth;t.lineJoin="bevel"}if(i.fullCircles)Gt(t,e,i,n);if(n)Ht(t,i);t.beginPath();t.arc(i.x,i.y,e.outerRadius,i.startAngle,i.endAngle);t.arc(i.x,i.y,i.innerRadius,i.endAngle,i.startAngle,!0);t.closePath();t.stroke()}pt._set("global",{elements:{arc:{backgroundColor:pt.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var qt=Ot.extend({_type:"arc",inLabelRange:function(t){var e=this._view;if(e)return Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2);return!1},inRange:function(t,e){var i=this._view;if(i){var n=Mt.getAngleFromPoint(i,{x:t,y:e});var o=n.angle;var r=n.distance;var a=i.startAngle;var s=i.endAngle;while(s<a)s+=Wt;while(o>s)o-=Wt;while(o<a)o+=Wt;var l=o>=a&&o<=s;var h=r>=i.innerRadius&&r<=i.outerRadius;return l&&h}return!1},getCenterPoint:function(){var t=this._view;var e=(t.startAngle+t.endAngle)/2;var i=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view;var e=t.startAngle+(t.endAngle-t.startAngle)/2;var i=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i}},draw:function(){var t=this._chart.ctx;var e=this._view;var i=e.borderAlign==="inner"?.33:0;var n={x:e.x,y:e.y,innerRadius:e.innerRadius,outerRadius:Math.max(e.outerRadius-i,0),pixelMargin:i,startAngle:e.startAngle,endAngle:e.endAngle,fullCircles:Math.floor(e.circumference/Wt)};var o;t.save();t.fillStyle=e.backgroundColor;t.strokeStyle=e.borderColor;if(n.fullCircles){n.endAngle=n.startAngle+Wt;t.beginPath();t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle);t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0);t.closePath();for(o=0;o<n.fullCircles;++o)t.fill();n.endAngle=n.startAngle+e.circumference%Wt}t.beginPath();t.arc(n.x,n.y,n.outerRadius,n.startAngle,n.endAngle);t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0);t.closePath();t.fill();if(e.borderWidth)Vt(t,e,n);t.restore()}}),Kt=Mt.valueOrDefault,Jt=pt.global.defaultColor;pt._set("global",{elements:{line:{tension:.4,backgroundColor:Jt,borderWidth:3,borderColor:Jt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Yt=Ot.extend({_type:"line",draw:function(){var t=this;var e=t._view;var i=t._chart.ctx;var n=e.spanGaps;var o=t._children.slice();var r=pt.global;var a=r.elements.line;var s=-1;var l=t._loop;var h,u,c;if(!o.length)return;if(t._loop){for(h=0;h<o.length;++h){u=Mt.previousItem(o,h);if(!o[h]._view.skip&&u._view.skip){o=o.slice(h).concat(o.slice(0,h));l=n;break}}if(l)o.push(o[0])}i.save();i.lineCap=e.borderCapStyle||a.borderCapStyle;if(i.setLineDash)i.setLineDash(e.borderDash||a.borderDash);i.lineDashOffset=Kt(e.borderDashOffset,a.borderDashOffset);i.lineJoin=e.borderJoinStyle||a.borderJoinStyle;i.lineWidth=Kt(e.borderWidth,a.borderWidth);i.strokeStyle=e.borderColor||r.defaultColor;i.beginPath();c=o[0]._view;if(!c.skip){i.moveTo(c.x,c.y);s=0}for(h=1;h<o.length;++h){c=o[h]._view;u=s===-1?Mt.previousItem(o,h):o[s];if(!c.skip){if(s!==h-1&&!n||s===-1)i.moveTo(c.x,c.y);else Mt.canvas.lineTo(i,u._view,c);s=h}}if(l)i.closePath();i.stroke();i.restore()}}),Xt=Mt.valueOrDefault,Qt=pt.global.defaultColor;function $t(t){var e=this._view;return e?Math.abs(t-e.x)<e.radius+e.hitRadius:!1}function te(t){var e=this._view;return e?Math.abs(t-e.y)<e.radius+e.hitRadius:!1}pt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Qt,borderColor:Qt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ee=Ot.extend({_type:"point",inRange:function(t,e){var i=this._view;return i?Math.pow(t-i.x,2)+Math.pow(e-i.y,2)<Math.pow(i.hitRadius+i.radius,2):!1},inLabelRange:$t,inXRange:$t,inYRange:te,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view;var i=this._chart.ctx;var n=e.pointStyle;var o=e.rotation;var r=e.radius;var a=e.x;var s=e.y;var l=pt.global;var h=l.defaultColor;if(e.skip)return;if(t===undefined||Mt.canvas._isPointInArea(e,t)){i.strokeStyle=e.borderColor||h;i.lineWidth=Xt(e.borderWidth,l.elements.point.borderWidth);i.fillStyle=e.backgroundColor||h;Mt.canvas.drawPoint(i,n,r,a,s,o)}}}),ie=pt.global.defaultColor;function ne(t){return t&&t.width!==undefined}function oe(t){var e,i,n,o,r;if(ne(t)){r=t.width/2;e=t.x-r;i=t.x+r;n=Math.min(t.y,t.base);o=Math.max(t.y,t.base)}else{r=t.height/2;e=Math.min(t.x,t.base);i=Math.max(t.x,t.base);n=t.y-r;o=t.y+r}return{left:e,top:n,right:i,bottom:o}}function re(t,e,i){return t===e?i:t===i?e:t}function ae(t){var e=t.borderSkipped;var i={};if(!e)return i;if(t.horizontal){if(t.base>t.x)e=re(e,"left","right")}else if(t.base<t.y)e=re(e,"bottom","top");i[e]=!0;return i}function se(t,e,i){var n=t.borderWidth;var o=ae(t);var r,a,s,l;if(Mt.isObject(n)){r=+n.top||0;a=+n.right||0;s=+n.bottom||0;l=+n.left||0}else r=a=s=l=+n||0;return{t:o.top||r<0?0:r>i?i:r,r:o.right||a<0?0:a>e?e:a,b:o.bottom||s<0?0:s>i?i:s,l:o.left||l<0?0:l>e?e:l}}function le(t){var e=oe(t);var i=e.right-e.left;var n=e.bottom-e.top;var o=se(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n},inner:{x:e.left+o.l,y:e.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b}}}function he(t,e,i){var n=e===null;var o=i===null;var r=!t||n&&o?false:oe(t);return r&&(n||e>=r.left&&e<=r.right)&&(o||i>=r.top&&i<=r.bottom)}pt._set("global",{elements:{rectangle:{backgroundColor:ie,borderColor:ie,borderSkipped:"bottom",borderWidth:0}}});var ue=Ot.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx;var e=this._view;var i=le(e);var n=i.outer;var o=i.inner;t.fillStyle=e.backgroundColor;t.fillRect(n.x,n.y,n.w,n.h);if(n.w===o.w&&n.h===o.h)return;t.save();t.beginPath();t.rect(n.x,n.y,n.w,n.h);t.clip();t.fillStyle=e.borderColor;t.rect(o.x,o.y,o.w,o.h);t.fill("evenodd");t.restore()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return he(this._view,t,e)},inLabelRange:function(t,e){var i=this._view;return ne(i)?he(i,t,null):he(i,null,e)},inXRange:function(t){return he(this._view,t,null)},inYRange:function(t){return he(this._view,null,t)},getCenterPoint:function(){var t=this._view;var e,i;if(ne(t)){e=t.x;i=(t.y+t.base)/2}else{e=(t.x+t.base)/2;i=t.y}return{x:e,y:i}},getArea:function(){var t=this._view;return ne(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),ce={},de,pe=Yt,fe=ee,me=ue;ce.Arc=qt,ce.Line=pe,ce.Point=fe,ce.Rectangle=me;var ge=Mt._deprecated,ve=Mt.valueOrDefault;function _e(t,e){var i=t._length;var n,o,r,a;for(r=1,a=e.length;r<a;++r)i=Math.min(i,Math.abs(e[r]-e[r-1]));for(r=0,a=t.getTicks().length;r<a;++r){o=t.getPixelForTick(r);i=r>0?Math.min(i,Math.abs(o-n)):i;n=o}return i}function ye(t,e,i){var n=i.barThickness;var o=e.stackCount;var r=e.pixels[t];var a=Mt.isNullOrUndef(n)?_e(e.scale,e.pixels):-1;var s,l;if(Mt.isNullOrUndef(n)){s=a*i.categoryPercentage;l=i.barPercentage}else{s=n*o;l=1}return{chunk:s/o,ratio:l,start:r-s/2}}function xe(t,e,i){var n=e.pixels;var o=n[t];var r=t>0?n[t-1]:null;var a=t<n.length-1?n[t+1]:null;var s=i.categoryPercentage;var l,h;if(r===null)r=o-(a===null?e.end-e.start:a-o);if(a===null)a=o+o-r;l=o-(o-Math.min(r,a))/2*s;h=Math.abs(a-r)/2*s;return{chunk:h/e.stackCount,ratio:i.barPercentage,start:l}}pt._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),pt._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var be=jt.extend({dataElementType:ce.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t=this;var e,i;jt.prototype.initialize.apply(t,arguments);e=t.getMeta();e.stack=t.getDataset().stack;e.bar=!0;i=t._getIndexScale().options;ge("bar chart",i.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage");ge("bar chart",i.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness");ge("bar chart",i.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage");ge("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength");ge("bar chart",i.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e=this;var i=e.getMeta().data;var n,o;e._ruler=e.getRuler();for(n=0,o=i.length;n<o;++n)e.updateElement(i[n],n,t)},updateElement:function(t,e,i){var n=this;var o=n.getMeta();var r=n.getDataset();var a=n._resolveDataElementOptions(t,e);t._xScale=n.getScaleForId(o.xAxisID);t._yScale=n.getScaleForId(o.yAxisID);t._datasetIndex=n.index;t._index=e;t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:r.label,label:n.chart.data.labels[e]};if(Mt.isArray(r.data[e]))t._model.borderSkipped=null;n._updateElementGeometry(t,e,i,a);t.pivot()},_updateElementGeometry:function(t,e,i,n){var o=this;var r=t._model;var a=o._getValueScale();var s=a.getBasePixel();var l=a.isHorizontal();var h=o._ruler||o.getRuler();var u=o.calculateBarValuePixels(o.index,e,n);var c=o.calculateBarIndexPixels(o.index,e,h,n);r.horizontal=l;r.base=i?s:u.base;r.x=l?i?s:u.head:c.center;r.y=l?c.center:i?s:u.head;r.height=l?c.size:undefined;r.width=l?undefined:c.size},_getStacks:function(t){var e=this;var i=e._getIndexScale();var n=i._getMatchingVisibleMetas(e._type);var o=i.options.stacked;var r=n.length;var a=[];var s,l;for(s=0;s<r;++s){l=n[s];if(o===!1||a.indexOf(l.stack)===-1||o===undefined&&l.stack===undefined)a.push(l.stack);if(l.index===t)break}return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var i=this._getStacks(t);var n=e!==undefined?i.indexOf(e):-1;return n===-1?i.length-1:n},getRuler:function(){var t=this;var e=t._getIndexScale();var i=[];var n,o;for(n=0,o=t.getMeta().data.length;n<o;++n)i.push(e.getPixelForValue(null,n,t.index));return{pixels:i,start:e._startPixel,end:e._endPixel,stackCount:t.getStackCount(),scale:e}},calculateBarValuePixels:function(t,e,i){var n=this;var o=n.chart;var r=n._getValueScale();var a=r.isHorizontal();var s=o.data.datasets;var l=r._getMatchingVisibleMetas(n._type);var h=r._parseValue(s[t].data[e]);var u=i.minBarLength;var c=r.options.stacked;var d=n.getMeta().stack;var p=h.start===undefined?0:h.max>=0&&h.min>=0?h.min:h.max;var f=h.start===undefined?h.end:h.max>=0&&h.min>=0?h.max-h.min:h.min-h.max;var m=l.length;var g,v,_,y,x,b,w;if(c||c===undefined&&d!==undefined)for(g=0;g<m;++g){v=l[g];if(v.index===t)break;if(v.stack===d){w=r._parseValue(s[v.index].data[e]);_=w.start===undefined?w.end:w.min>=0&&w.max>=0?w.max:w.min;if(h.min<0&&_<0||h.max>=0&&_>0)p+=_}}y=r.getPixelForValue(p);x=r.getPixelForValue(p+f);b=x-y;if(u!==undefined&&Math.abs(b)<u){b=u;if(f>=0&&!a||f<0&&a)x=y-u;else x=y+u}return{size:b,base:y,head:x,center:x+b/2}},calculateBarIndexPixels:function(t,e,i,n){var o=this;var r=n.barThickness==="flex"?xe(e,i,n):ye(e,i,n);var a=o.getStackIndex(t,o.getMeta().stack);var s=r.start+r.chunk*a+r.chunk/2;var l=Math.min(ve(n.maxBarThickness,Infinity),r.chunk*r.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var t=this;var e=t.chart;var i=t._getValueScale();var n=t.getMeta().data;var o=t.getDataset();var r=n.length;var a=0;Mt.canvas.clipArea(e.ctx,e.chartArea);for(;a<r;++a){var s=i._parseValue(o.data[a]);if(!isNaN(s.min)&&!isNaN(s.max))n[a].draw()}Mt.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this;var e=Mt.extend({},jt.prototype._resolveDataElementOptions.apply(t,arguments));var i=t._getIndexScale().options;var n=t._getValueScale().options;e.barPercentage=ve(i.barPercentage,e.barPercentage);e.barThickness=ve(i.barThickness,e.barThickness);e.categoryPercentage=ve(i.categoryPercentage,e.categoryPercentage);e.maxBarThickness=ve(i.maxBarThickness,e.maxBarThickness);e.minBarLength=ve(n.minBarLength,e.minBarLength);return e}}),we=Mt.valueOrDefault,ke=Mt.options.resolve;pt._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";var n=e.datasets[t.datasetIndex].data[t.index];return i+": ("+t.xLabel+", "+t.yLabel+", "+n.r+")"}}}});var Le=jt.extend({dataElementType:ce.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(i){var n=this;var t=n.getMeta();var e=t.data;Mt.each(e,function(t,e){n.updateElement(t,e,i)})},updateElement:function(t,e,i){var n=this;var o=n.getMeta();var r=t.custom||{};var a=n.getScaleForId(o.xAxisID);var s=n.getScaleForId(o.yAxisID);var l=n._resolveDataElementOptions(t,e);var h=n.getDataset().data[e];var u=n.index;var c=i?a.getPixelForDecimal(.5):a.getPixelForValue(typeof h==="object"?h:NaN,e,u);var d=i?s.getBasePixel():s.getPixelForValue(h,e,u);t._xScale=a;t._yScale=s;t._options=l;t._datasetIndex=u;t._index=e;t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:i?0:l.radius,skip:r.skip||isNaN(c)||isNaN(d),x:c,y:d};t.pivot()},setHoverStyle:function(t){var e=t._model;var i=t._options;var n=Mt.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=we(i.hoverBackgroundColor,n(i.backgroundColor));e.borderColor=we(i.hoverBorderColor,n(i.borderColor));e.borderWidth=we(i.hoverBorderWidth,i.borderWidth);e.radius=i.radius+i.hoverRadius},_resolveDataElementOptions:function(t,e){var i=this;var n=i.chart;var o=i.getDataset();var r=t.custom||{};var a=o.data[e]||{};var s=jt.prototype._resolveDataElementOptions.apply(i,arguments);var l={chart:n,dataIndex:e,dataset:o,datasetIndex:i.index};if(i._cachedDataOpts===s)s=Mt.extend({},s);s.radius=ke([r.radius,a.r,i._config.radius,n.options.elements.point.radius],l,e);return s}}),Me=Mt.valueOrDefault,Ce=Math.PI,Te=Ce*2,Pe=Ce/2;pt._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=document.createElement("ul");var i=t.data;var n=i.datasets;var o=i.labels;var r,a,s,l;e.setAttribute("class",t.id+"-legend");if(n.length)for(r=0,a=n[0].data.length;r<a;++r){s=e.appendChild(document.createElement("li"));l=s.appendChild(document.createElement("span"));l.style.backgroundColor=n[0].backgroundColor[r];if(o[r])s.appendChild(document.createTextNode(o[r]))}return e.outerHTML},legend:{labels:{generateLabels:function(o){var r=o.data;if(r.labels.length&&r.datasets.length)return r.labels.map(function(t,e){var i=o.getDatasetMeta(0);var n=i.controller.getStyle(e);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(r.datasets[0].data[e])||i.data[e].hidden,index:e}});return[]}},onClick:function(t,e){var i=e.index;var n=this.chart;var o,r,a;for(o=0,r=(n.data.datasets||[]).length;o<r;++o){a=n.getDatasetMeta(o);if(a.data[i])a.data[i].hidden=!a.data[i].hidden}n.update()}},cutoutPercentage:50,rotation:-Pe,circumference:Te,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var i=e.labels[t.index];var n=": "+e.datasets[t.datasetIndex].data[t.index];if(Mt.isArray(i)){i=i.slice();i[0]+=n}else i+=n;return i}}}});var Se=jt.extend({dataElementType:ce.Arc,linkScales:Mt.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){var e=0;for(var i=0;i<t;++i)if(this.chart.isDatasetVisible(i))++e;return e},update:function(t){var e=this;var i=e.chart;var n=i.chartArea;var o=i.options;var r=1;var a=1;var s=0;var l=0;var h=e.getMeta();var u=h.data;var c=o.cutoutPercentage/100||0;var d=o.circumference;var p=e._getRingWeight(e.index);var f,m,g,v;if(d<Te){var _=o.rotation%Te;_+=_>=Ce?-Te:_<-Ce?Te:0;var y=_+d;var x=Math.cos(_);var b=Math.sin(_);var w=Math.cos(y);var k=Math.sin(y);var L=_<=0&&y>=0||y>=Te;var M=_<=Pe&&y>=Pe||y>=Te+Pe;var C=_===-Ce||y>=Ce;var T=_<=-Pe&&y>=-Pe||y>=Ce+Pe;var P=C?-1:Math.min(x,x*c,w,w*c);var S=T?-1:Math.min(b,b*c,k,k*c);var A=L?1:Math.max(x,x*c,w,w*c);var D=M?1:Math.max(b,b*c,k,k*c);r=(A-P)/2;a=(D-S)/2;s=-(A+P)/2;l=-(D+S)/2}for(g=0,v=u.length;g<v;++g)u[g]._options=e._resolveDataElementOptions(u[g],g);i.borderWidth=e.getMaxBorderWidth();f=(n.right-n.left-i.borderWidth)/r;m=(n.bottom-n.top-i.borderWidth)/a;i.outerRadius=Math.max(Math.min(f,m)/2,0);i.innerRadius=Math.max(i.outerRadius*c,0);i.radiusLength=(i.outerRadius-i.innerRadius)/(e._getVisibleDatasetWeightTotal()||1);i.offsetX=s*i.outerRadius;i.offsetY=l*i.outerRadius;h.total=e.calculateTotal();e.outerRadius=i.outerRadius-i.radiusLength*e._getRingWeightOffset(e.index);e.innerRadius=Math.max(e.outerRadius-i.radiusLength*p,0);for(g=0,v=u.length;g<v;++g)e.updateElement(u[g],g,t)},updateElement:function(t,e,i){var n=this;var o=n.chart;var r=o.chartArea;var a=o.options;var s=a.animation;var l=(r.left+r.right)/2;var h=(r.top+r.bottom)/2;var u=a.rotation;var c=a.rotation;var d=n.getDataset();var p=i&&s.animateRotate?0:t.hidden?0:n.calculateCircumference(d.data[e])*(a.circumference/Te);var f=i&&s.animateScale?0:n.innerRadius;var m=i&&s.animateScale?0:n.outerRadius;var g=t._options||{};Mt.extend(t,{_datasetIndex:n.index,_index:e,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+o.offsetX,y:h+o.offsetY,startAngle:u,endAngle:c,circumference:p,outerRadius:m,innerRadius:f,label:Mt.valueAtIndexOrDefault(d.label,e,o.data.labels[e])}});var v=t._model;if(!i||!s.animateRotate){if(e===0)v.startAngle=a.rotation;else v.startAngle=n.getMeta().data[e-1]._model.endAngle;v.endAngle=v.startAngle+v.circumference}t.pivot()},calculateTotal:function(){var i=this.getDataset();var t=this.getMeta();var n=0;var o;Mt.each(t.data,function(t,e){o=i.data[e];if(!isNaN(o)&&!t.hidden)n+=Math.abs(o)});return n},calculateCircumference:function(t){var e=this.getMeta().total;if(e>0&&!isNaN(t))return Te*(Math.abs(t)/e);return 0},getMaxBorderWidth:function(t){var e=this;var i=0;var n=e.chart;var o,r,a,s,l,h,u,c;if(!t)for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){a=n.getDatasetMeta(o);t=a.data;if(o!==e.index)l=a.controller;break}if(!t)return 0;for(o=0,r=t.length;o<r;++o){s=t[o];if(l){l._configure();h=l._resolveDataElementOptions(s,o)}else h=s._options;if(h.borderAlign!=="inner"){u=h.borderWidth;c=h.hoverBorderWidth;i=u>i?u:i;i=c>i?c:i}}return i},setHoverStyle:function(t){var e=t._model;var i=t._options;var n=Mt.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth};e.backgroundColor=Me(i.hoverBackgroundColor,n(i.backgroundColor));e.borderColor=Me(i.hoverBorderColor,n(i.borderColor));e.borderWidth=Me(i.hoverBorderWidth,i.borderWidth)},_getRingWeightOffset:function(t){var e=0;for(var i=0;i<t;++i)if(this.chart.isDatasetVisible(i))e+=this._getRingWeight(i);return e},_getRingWeight:function(t){return Math.max(Me(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});pt._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),pt._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Ae=be.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),De=Mt.valueOrDefault,Ie=Mt.options.resolve,Oe=Mt.canvas._isPointInArea;function ze(t,e){var i=t&&t.options.ticks||{};var n=i.reverse;var o=i.min===undefined?e:0;var r=i.max===undefined?e:0;return{start:n?r:o,end:n?o:r}}function Ee(t,e,i){var n=i/2;var o=ze(t,n);var r=ze(e,n);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}function Be(t){var e,i,n,o;if(Mt.isObject(t)){e=t.top;i=t.right;n=t.bottom;o=t.left}else e=i=n=o=t;return{top:e,right:i,bottom:n,left:o}}pt._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Fe=jt.extend({datasetElementType:ce.Line,dataElementType:ce.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e=this;var i=e.getMeta();var n=i.dataset;var o=i.data||[];var r=e.chart.options;var a=e._config;var s=e._showLine=De(a.showLine,r.showLines);var l,h;e._xScale=e.getScaleForId(i.xAxisID);e._yScale=e.getScaleForId(i.yAxisID);if(s){if(a.tension!==undefined&&a.lineTension===undefined)a.lineTension=a.tension;n._scale=e._yScale;n._datasetIndex=e.index;n._children=o;n._model=e._resolveDatasetElementOptions(n);n.pivot()}for(l=0,h=o.length;l<h;++l)e.updateElement(o[l],l,t);if(s&&n._model.tension!==0)e.updateBezierControlPoints();for(l=0,h=o.length;l<h;++l)o[l].pivot()},updateElement:function(t,e,i){var n=this;var o=n.getMeta();var r=t.custom||{};var a=n.getDataset();var s=n.index;var l=a.data[e];var h=n._xScale;var u=n._yScale;var c=o.dataset._model;var d,p;var f=n._resolveDataElementOptions(t,e);d=h.getPixelForValue(typeof l==="object"?l:NaN,e,s);p=i?u.getBasePixel():n.calculatePointY(l,e,s);t._xScale=h;t._yScale=u;t._options=f;t._datasetIndex=s;t._index=e;t._model={x:d,y:p,skip:r.skip||isNaN(d)||isNaN(p),radius:f.radius,pointStyle:f.pointStyle,rotation:f.rotation,backgroundColor:f.backgroundColor,borderColor:f.borderColor,borderWidth:f.borderWidth,tension:De(r.tension,c?c.tension:0),steppedLine:c?c.steppedLine:!1,hitRadius:f.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this;var i=e._config;var n=t.custom||{};var o=e.chart.options;var r=o.elements.line;var a=jt.prototype._resolveDatasetElementOptions.apply(e,arguments);a.spanGaps=De(i.spanGaps,o.spanGaps);a.tension=De(i.lineTension,r.tension);a.steppedLine=Ie([n.steppedLine,i.steppedLine,r.stepped]);a.clip=Be(De(i.clip,Ee(e._xScale,e._yScale,a.borderWidth)));return a},calculatePointY:function(t,e,i){var n=this;var o=n.chart;var r=n._yScale;var a=0;var s=0;var l,h,u,c,d,p,f;if(r.options.stacked){d=+r.getRightValue(t);p=o._getSortedVisibleDatasetMetas();f=p.length;for(l=0;l<f;++l){u=p[l];if(u.index===i)break;h=o.data.datasets[u.index];if(u.type==="line"&&u.yAxisID===r.id){c=+r.getRightValue(h.data[e]);if(c<0)s+=c||0;else a+=c||0}}if(d<0)return r.getPixelForValue(s+d);return r.getPixelForValue(a+d)}return r.getPixelForValue(t)},updateBezierControlPoints:function(){var t=this;var e=t.chart;var i=t.getMeta();var n=i.dataset._model;var o=e.chartArea;var r=i.data||[];var a,s,l,h;if(n.spanGaps)r=r.filter(function(t){return!t._model.skip});function u(t,e,i){return Math.max(Math.min(t,i),e)}if(n.cubicInterpolationMode==="monotone")Mt.splineCurveMonotone(r);else for(a=0,s=r.length;a<s;++a){l=r[a]._model;h=Mt.splineCurve(Mt.previousItem(r,a)._model,l,Mt.nextItem(r,a)._model,n.tension);l.controlPointPreviousX=h.previous.x;l.controlPointPreviousY=h.previous.y;l.controlPointNextX=h.next.x;l.controlPointNextY=h.next.y}if(e.options.elements.line.capBezierPoints)for(a=0,s=r.length;a<s;++a){l=r[a]._model;if(Oe(l,o)){if(a>0&&Oe(r[a-1]._model,o)){l.controlPointPreviousX=u(l.controlPointPreviousX,o.left,o.right);l.controlPointPreviousY=u(l.controlPointPreviousY,o.top,o.bottom)}if(a<r.length-1&&Oe(r[a+1]._model,o)){l.controlPointNextX=u(l.controlPointNextX,o.left,o.right);l.controlPointNextY=u(l.controlPointNextY,o.top,o.bottom)}}}},draw:function(){var t=this;var e=t.chart;var i=t.getMeta();var n=i.data||[];var o=e.chartArea;var r=e.canvas;var a=0;var s=n.length;var l;if(t._showLine){l=i.dataset._model.clip;Mt.canvas.clipArea(e.ctx,{left:l.left===!1?0:o.left-l.left,right:l.right===!1?r.width:o.right+l.right,top:l.top===!1?0:o.top-l.top,bottom:l.bottom===!1?r.height:o.bottom+l.bottom});i.dataset.draw();Mt.canvas.unclipArea(e.ctx)}for(;a<s;++a)n[a].draw(o)},setHoverStyle:function(t){var e=t._model;var i=t._options;var n=Mt.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=De(i.hoverBackgroundColor,n(i.backgroundColor));e.borderColor=De(i.hoverBorderColor,n(i.borderColor));e.borderWidth=De(i.hoverBorderWidth,i.borderWidth);e.radius=De(i.hoverRadius,i.radius)}}),Re=Mt.options.resolve;pt._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=document.createElement("ul");var i=t.data;var n=i.datasets;var o=i.labels;var r,a,s,l;e.setAttribute("class",t.id+"-legend");if(n.length)for(r=0,a=n[0].data.length;r<a;++r){s=e.appendChild(document.createElement("li"));l=s.appendChild(document.createElement("span"));l.style.backgroundColor=n[0].backgroundColor[r];if(o[r])s.appendChild(document.createTextNode(o[r]))}return e.outerHTML},legend:{labels:{generateLabels:function(o){var r=o.data;if(r.labels.length&&r.datasets.length)return r.labels.map(function(t,e){var i=o.getDatasetMeta(0);var n=i.controller.getStyle(e);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,hidden:isNaN(r.datasets[0].data[e])||i.data[e].hidden,index:e}});return[]}},onClick:function(t,e){var i=e.index;var n=this.chart;var o,r,a;for(o=0,r=(n.data.datasets||[]).length;o<r;++o){a=n.getDatasetMeta(o);a.data[i].hidden=!a.data[i].hidden}n.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Ne=jt.extend({dataElementType:ce.Arc,linkScales:Mt.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e=this;var i=e.getDataset();var n=e.getMeta();var o=e.chart.options.startAngle||0;var r=e._starts=[];var a=e._angles=[];var s=n.data;var l,h,u;e._updateRadius();n.count=e.countVisibleElements();for(l=0,h=i.data.length;l<h;l++){r[l]=o;u=e._computeAngle(l);a[l]=u;o+=u}for(l=0,h=s.length;l<h;++l){s[l]._options=e._resolveDataElementOptions(s[l],l);e.updateElement(s[l],l,t)}},_updateRadius:function(){var t=this;var e=t.chart;var i=e.chartArea;var n=e.options;var o=Math.min(i.right-i.left,i.bottom-i.top);e.outerRadius=Math.max(o/2,0);e.innerRadius=Math.max(n.cutoutPercentage?e.outerRadius/100*n.cutoutPercentage:1,0);e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount();t.outerRadius=e.outerRadius-e.radiusLength*t.index;t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,i){var n=this;var o=n.chart;var r=n.getDataset();var a=o.options;var s=a.animation;var l=o.scale;var h=o.data.labels;var u=l.xCenter;var c=l.yCenter;var d=a.startAngle;var p=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]);var f=n._starts[e];var m=f+(t.hidden?0:n._angles[e]);var g=s.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]);var v=t._options||{};Mt.extend(t,{_datasetIndex:n.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:u,y:c,innerRadius:0,outerRadius:i?g:p,startAngle:i&&s.animateRotate?d:f,endAngle:i&&s.animateRotate?d:m,label:Mt.valueAtIndexOrDefault(h,e,h[e])}});t.pivot()},countVisibleElements:function(){var i=this.getDataset();var t=this.getMeta();var n=0;Mt.each(t.data,function(t,e){if(!isNaN(i.data[e])&&!t.hidden)n++});return n},setHoverStyle:function(t){var e=t._model;var i=t._options;var n=Mt.getHoverColor;var o=Mt.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth};e.backgroundColor=o(i.hoverBackgroundColor,n(i.backgroundColor));e.borderColor=o(i.hoverBorderColor,n(i.borderColor));e.borderWidth=o(i.hoverBorderWidth,i.borderWidth)},_computeAngle:function(t){var e=this;var i=this.getMeta().count;var n=e.getDataset();var o=e.getMeta();if(isNaN(n.data[t])||o.data[t].hidden)return 0;var r={chart:e.chart,dataIndex:t,dataset:n,datasetIndex:e.index};return Re([e.chart.options.elements.arc.angle,2*Math.PI/i],r,t)}});pt._set("pie",Mt.clone(pt.doughnut)),pt._set("pie",{cutoutPercentage:0});var Ue=Se,Ze=Mt.valueOrDefault;pt._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var je=jt.extend({datasetElementType:ce.Line,dataElementType:ce.Point,linkScales:Mt.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e=this;var i=e.getMeta();var n=i.dataset;var o=i.data||[];var r=e.chart.scale;var a=e._config;var s,l;if(a.tension!==undefined&&a.lineTension===undefined)a.lineTension=a.tension;n._scale=r;n._datasetIndex=e.index;n._children=o;n._loop=!0;n._model=e._resolveDatasetElementOptions(n);n.pivot();for(s=0,l=o.length;s<l;++s)e.updateElement(o[s],s,t);e.updateBezierControlPoints();for(s=0,l=o.length;s<l;++s)o[s].pivot()},updateElement:function(t,e,i){var n=this;var o=t.custom||{};var r=n.getDataset();var a=n.chart.scale;var s=a.getPointPositionForValue(e,r.data[e]);var l=n._resolveDataElementOptions(t,e);var h=n.getMeta().dataset._model;var u=i?a.xCenter:s.x;var c=i?a.yCenter:s.y;t._scale=a;t._options=l;t._datasetIndex=n.index;t._index=e;t._model={x:u,y:c,skip:o.skip||isNaN(u)||isNaN(c),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ze(o.tension,h?h.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this;var e=t._config;var i=t.chart.options;var n=jt.prototype._resolveDatasetElementOptions.apply(t,arguments);n.spanGaps=Ze(e.spanGaps,i.spanGaps);n.tension=Ze(e.lineTension,i.elements.line.tension);return n},updateBezierControlPoints:function(){var t=this;var e=t.getMeta();var i=t.chart.chartArea;var n=e.data||[];var o,r,a,s;if(e.dataset._model.spanGaps)n=n.filter(function(t){return!t._model.skip});function l(t,e,i){return Math.max(Math.min(t,i),e)}for(o=0,r=n.length;o<r;++o){a=n[o]._model;s=Mt.splineCurve(Mt.previousItem(n,o,!0)._model,a,Mt.nextItem(n,o,!0)._model,a.tension);a.controlPointPreviousX=l(s.previous.x,i.left,i.right);a.controlPointPreviousY=l(s.previous.y,i.top,i.bottom);a.controlPointNextX=l(s.next.x,i.left,i.right);a.controlPointNextY=l(s.next.y,i.top,i.bottom)}},setHoverStyle:function(t){var e=t._model;var i=t._options;var n=Mt.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius};e.backgroundColor=Ze(i.hoverBackgroundColor,n(i.backgroundColor));e.borderColor=Ze(i.hoverBorderColor,n(i.borderColor));e.borderWidth=Ze(i.hoverBorderWidth,i.borderWidth);e.radius=Ze(i.hoverRadius,i.radius)}});pt._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),pt._set("global",{datasets:{scatter:{showLine:!1}}});var We,He={bar:be,bubble:Le,doughnut:Se,horizontalBar:Ae,line:Fe,polarArea:Ne,pie:Ue,radar:je,scatter:Fe};function Ge(t,e){if(t.native)return{x:t.x,y:t.y};return Mt.getRelativePosition(t,e)}function Ve(t,e){var i=t._getSortedVisibleDatasetMetas();var n,o,r,a,s,l;for(o=0,a=i.length;o<a;++o){n=i[o].data;for(r=0,s=n.length;r<s;++r){l=n[r];if(!l._view.skip)e(l)}}}function qe(t,e){var i=[];Ve(t,function(t){if(t.inRange(e.x,e.y))i.push(t)});return i}function Ke(t,n,o,r){var a=Number.POSITIVE_INFINITY;var s=[];Ve(t,function(t){if(o&&!t.inRange(n.x,n.y))return;var e=t.getCenterPoint();var i=r(n,e);if(i<a){s=[t];a=i}else if(i===a)s.push(t)});return s}function Je(t){var o=t.indexOf("x")!==-1;var r=t.indexOf("y")!==-1;return function(t,e){var i=o?Math.abs(t.x-e.x):0;var n=r?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}}function Ye(t,e,i){var n=Ge(e,t);i.axis=i.axis||"x";var o=Je(i.axis);var r=i.intersect?qe(t,n):Ke(t,n,!1,o);var a=[];if(!r.length)return[];t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[r[0]._index];if(e&&!e._view.skip)a.push(e)});return a}var Xe={modes:{single:function(t,e){var i=Ge(e,t);var n=[];Ve(t,function(t){if(t.inRange(i.x,i.y)){n.push(t);return n}});return n.slice(0,1)},label:Ye,index:Ye,dataset:function(t,e,i){var n=Ge(e,t);i.axis=i.axis||"xy";var o=Je(i.axis);var r=i.intersect?qe(t,n):Ke(t,n,!1,o);if(r.length>0)r=t.getDatasetMeta(r[0]._datasetIndex).data;return r},"x-axis":function(t,e){return Ye(t,e,{intersect:!1})},point:function(t,e){var i=Ge(e,t);return qe(t,i)},nearest:function(t,e,i){var n=Ge(e,t);i.axis=i.axis||"xy";var o=Je(i.axis);return Ke(t,n,i.intersect,o)},x:function(t,e,i){var n=Ge(e,t);var o=[];var r=!1;Ve(t,function(t){if(t.inXRange(n.x))o.push(t);if(t.inRange(n.x,n.y))r=!0});if(i.intersect&&!r)o=[];return o},y:function(t,e,i){var n=Ge(e,t);var o=[];var r=!1;Ve(t,function(t){if(t.inYRange(n.y))o.push(t);if(t.inRange(n.x,n.y))r=!0});if(i.intersect&&!r)o=[];return o}}},Qe=Mt.extend;function $e(t,e){return Mt.where(t,function(t){return t.pos===e})}function ti(t,o){return t.sort(function(t,e){var i=o?e:t;var n=o?t:e;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function ei(t){var e=[];var i,n,o;for(i=0,n=(t||[]).length;i<n;++i){o=t[i];e.push({index:i,box:o,pos:o.position,horizontal:o.isHorizontal(),weight:o.weight})}return e}function ii(t,e){var i,n,o;for(i=0,n=t.length;i<n;++i){o=t[i];o.width=o.horizontal?o.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth;o.height=o.horizontal&&e.hBoxMaxHeight}}function ni(t){var e=ei(t);var i=ti($e(e,"left"),!0);var n=ti($e(e,"right"));var o=ti($e(e,"top"),!0);var r=ti($e(e,"bottom"));return{leftAndTop:i.concat(o),rightAndBottom:n.concat(r),chartArea:$e(e,"chartArea"),vertical:i.concat(n),horizontal:o.concat(r)}}function oi(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function ri(t,e,i){var n=i.box;var o=t.maxPadding;var r,a;if(i.size)t[i.pos]-=i.size;i.size=i.horizontal?n.height:n.width;t[i.pos]+=i.size;if(n.getPadding){var s=n.getPadding();o.top=Math.max(o.top,s.top);o.left=Math.max(o.left,s.left);o.bottom=Math.max(o.bottom,s.bottom);o.right=Math.max(o.right,s.right)}r=e.outerWidth-oi(o,t,"left","right");a=e.outerHeight-oi(o,t,"top","bottom");if(r!==t.w||a!==t.h){t.w=r;t.h=a;var l=i.horizontal?[r,t.w]:[a,t.h];return l[0]!==l[1]&&(!isNaN(l[0])||!isNaN(l[1]))}}function ai(i){var n=i.maxPadding;function t(t){var e=Math.max(n[t]-i[t],0);i[t]+=e;return e}i.y+=t("top");i.x+=t("left");t("right");t("bottom")}function si(t,i){var n=i.maxPadding;function e(t){var e={left:0,top:0,right:0,bottom:0};t.forEach(function(t){e[t]=Math.max(i[t],n[t])});return e}return t?e(["left","right"]):e(["top","bottom"])}function li(t,e,i){var n=[];var o,r,a,s,l,h;for(o=0,r=t.length;o<r;++o){a=t[o];s=a.box;s.update(a.width||e.w,a.height||e.h,si(a.horizontal,e));if(ri(e,i,a)){h=!0;if(n.length)l=!0}if(!s.fullWidth)n.push(a)}return l?li(n,e,i)||h:h}function hi(t,e,i){var n=i.padding;var o=e.x;var r=e.y;var a,s,l,h;for(a=0,s=t.length;a<s;++a){l=t[a];h=l.box;if(l.horizontal){h.left=h.fullWidth?n.left:e.left;h.right=h.fullWidth?i.outerWidth-n.right:e.left+e.w;h.top=r;h.bottom=r+h.height;h.width=h.right-h.left;r=h.bottom}else{h.left=o;h.right=o+h.width;h.top=e.top;h.bottom=e.top+e.h;h.height=h.bottom-h.top;o=h.right}}e.x=o;e.y=r}pt._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ui={defaults:{},addBox:function(t,e){if(!t.boxes)t.boxes=[];e.fullWidth=e.fullWidth||!1;e.position=e.position||"top";e.weight=e.weight||0;e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]};t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;if(i!==-1)t.boxes.splice(i,1)},configure:function(t,e,i){var n=["fullWidth","position","weight"];var o=n.length;var r=0;var a;for(;r<o;++r){a=n[r];if(i.hasOwnProperty(a))e[a]=i[a]}},update:function(i,t,e){if(!i)return;var n=i.options.layout||{};var o=Mt.options.toPadding(n.padding);var r=t-o.width;var a=e-o.height;var s=ni(i.boxes);var l=s.vertical;var h=s.horizontal;var u=Object.freeze({outerWidth:t,outerHeight:e,padding:o,availableWidth:r,vBoxMaxWidth:r/2/l.length,hBoxMaxHeight:a/2});var c=Qe({maxPadding:Qe({},o),w:r,h:a,x:o.left,y:o.top},o);ii(l.concat(h),u);li(l,c,u);if(li(h,c,u))li(l,c,u);ai(c);hi(s.leftAndTop,c,u);c.x+=c.w;c.y+=c.h;hi(s.rightAndBottom,c,u);i.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h};Mt.each(s.chartArea,function(t){var e=t.box;Qe(e,i.chartArea);e.update(c.w,c.h)})}},ci={acquireContext:function(t){if(t&&t.canvas)t=t.canvas;return t&&t.getContext("2d")||null}},di="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n",pi,fi=e(Object.freeze({__proto__:null,default:di})),mi="$chartjs",gi="chartjs-",vi=gi+"size-monitor",_i=gi+"render-monitor",yi=gi+"render-animation",xi=["animationstart","webkitAnimationStart"],bi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function wi(t,e){var i=Mt.getStyle(t,e);var n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):undefined}function ki(t,e){var i=t.style;var n=t.getAttribute("height");var o=t.getAttribute("width");t[mi]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}};i.display=i.display||"block";if(o===null||o===""){var r=wi(t,"width");if(r!==undefined)t.width=r}if(n===null||n==="")if(t.style.height==="")t.height=t.width/(e.options.aspectRatio||2);else{var a=wi(t,"height");if(r!==undefined)t.height=a}return t}var Li,Mi=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()?{passive:!0}:!1;function Ci(t,e,i){t.addEventListener(e,i,Mi)}function Ti(t,e,i){t.removeEventListener(e,i,Mi)}function Pi(t,e,i,n,o){return{type:t,chart:e,native:o||null,x:i!==undefined?i:null,y:n!==undefined?n:null}}function Si(t,e){var i=bi[t.type]||t.type;var n=Mt.getRelativePosition(t,e);return Pi(i,e,n.x,n.y,t)}function Ai(t,e){var i=!1;var n=[];return function(){n=Array.prototype.slice.call(arguments);e=e||this;if(!i){i=!0;Mt.requestAnimFrame.call(window,function(){i=!1;t.apply(e,n)})}}}function Di(t){var e=document.createElement("div");e.className=t||"";return e}function Ii(t){var e=1e6;var i=Di(vi);var n=Di(vi+"-expand");var o=Di(vi+"-shrink");n.appendChild(Di());o.appendChild(Di());i.appendChild(n);i.appendChild(o);i._reset=function(){n.scrollLeft=e;n.scrollTop=e;o.scrollLeft=e;o.scrollTop=e};var r=function(){i._reset();t()};Ci(n,"scroll",r.bind(n,"expand"));Ci(o,"scroll",r.bind(o,"shrink"));return i}function Oi(e,i){var t=e[mi]||(e[mi]={});var n=t.renderProxy=function(t){if(t.animationName===yi)i()};Mt.each(xi,function(t){Ci(e,t,n)});t.reflow=!!e.offsetParent;e.classList.add(_i)}function zi(e){var t=e[mi]||{};var i=t.renderProxy;if(i){Mt.each(xi,function(t){Ti(e,t,i)});delete t.renderProxy}e.classList.remove(_i)}function Ei(i,n,o){var r=i[mi]||(i[mi]={});var e=r.resizer=Ii(Ai(function(){if(r.resizer){var t=o.options.maintainAspectRatio&&i.parentNode;var e=t?t.clientWidth:0;n(Pi("resize",o));if(t&&t.clientWidth<e&&o.canvas)n(Pi("resize",o))}}));Oi(i,function(){if(r.resizer){var t=i.parentNode;if(t&&t!==e.parentNode)t.insertBefore(e,t.firstChild);e._reset()}})}function Bi(t){var e=t[mi]||{};var i=e.resizer;delete e.resizer;zi(t);if(i&&i.parentNode)i.parentNode.removeChild(i)}function Fi(t,e){var i=t[mi]||(t[mi]={});if(!i.containsStyles){i.containsStyles=!0;e="/* Chart.js */\n"+e;var n=document.createElement("style");n.setAttribute("type","text/css");n.appendChild(document.createTextNode(e));t.appendChild(n)}}var Ri={disableCSSInjection:!1,_enabled:typeof window!=="undefined"&&typeof document!=="undefined",_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;var i=e.host?e:document.head;Fi(i,fi)}},acquireContext:function(t,e){if(typeof t==="string")t=document.getElementById(t);else if(t.length)t=t[0];if(t&&t.canvas)t=t.canvas;var i=t&&t.getContext&&t.getContext("2d");if(i&&i.canvas===t){this._ensureLoaded(t);ki(t,e);return i}return null},releaseContext:function(t){var i=t.canvas;if(!i[mi])return;var n=i[mi].initial;["height","width"].forEach(function(t){var e=n[t];if(Mt.isNullOrUndef(e))i.removeAttribute(t);else i.setAttribute(t,e)});Mt.each(n.style||{},function(t,e){i.style[e]=t});i.width=i.width;delete i[mi]},addEventListener:function(e,t,i){var n=e.canvas;if(t==="resize"){Ei(n,i,e);return}var o=i[mi]||(i[mi]={});var r=o.proxies||(o.proxies={});var a=r[e.id+"_"+t]=function(t){i(Si(t,e))};Ci(n,t,a)},removeEventListener:function(t,e,i){var n=t.canvas;if(e==="resize"){Bi(n);return}var o=i[mi]||{};var r=o.proxies||{};var a=r[t.id+"_"+e];if(!a)return;Ti(n,e,a)}};Mt.addEvent=Ci,Mt.removeEvent=Ti;var Ni=Ri._enabled?Ri:ci,Ui=Mt.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ni);pt._set("global",{plugins:{}});var Zi={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){if(e.indexOf(t)===-1)e.push(t)});this._cacheId++},unregister:function(t){var i=this._plugins;[].concat(t).forEach(function(t){var e=i.indexOf(t);if(e!==-1)i.splice(e,1)});this._cacheId++},clear:function(){this._plugins=[];this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,i){var n=this.descriptors(t);var o=n.length;var r,a,s,l,h;for(r=0;r<o;++r){a=n[r];s=a.plugin;h=s[e];if(typeof h==="function"){l=[t].concat(i||[]);l.push(a.options);if(h.apply(s,l)===!1)return!1}}return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var o=[];var r=[];var i=t&&t.config||{};var a=i.options&&i.options.plugins||{};this._plugins.concat(i.plugins||[]).forEach(function(t){var e=o.indexOf(t);if(e!==-1)return;var i=t.id;var n=a[i];if(n===!1)return;if(n===!0)n=Mt.clone(pt.global.plugins[i]);o.push(t);r.push({plugin:t,options:n||{}})});e.descriptors=r;e.id=this._cacheId;return r},_invalidate:function(t){delete t.$plugins}},ji={constructors:{},defaults:{},registerScaleType:function(t,e,i){this.constructors[t]=e;this.defaults[t]=Mt.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:undefined},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?Mt.merge(Object.create(null),[pt.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var i=this;if(i.defaults.hasOwnProperty(t))i.defaults[t]=Mt.extend(i.defaults[t],e)},addScalesToLayout:function(e){Mt.each(e.scales,function(t){t.fullWidth=t.options.fullWidth;t.position=t.options.position;t.weight=t.options.weight;ui.addBox(e,t)})}},Wi=Mt.valueOrDefault,Hi=Mt.rtl.getRtlAdapter;pt._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Mt.noop,title:function(t,e){var i="";var n=e.labels;var o=n?n.length:0;if(t.length>0){var r=t[0];if(r.label)i=r.label;else if(r.xLabel)i=r.xLabel;else if(o>0&&r.index<o)i=n[r.index]}return i},afterTitle:Mt.noop,beforeBody:Mt.noop,beforeLabel:Mt.noop,label:function(t,e){var i=e.datasets[t.datasetIndex].label||"";if(i)i+=": ";if(!Mt.isNullOrUndef(t.value))i+=t.value;else i+=t.yLabel;return i},labelColor:function(t,e){var i=e.getDatasetMeta(t.datasetIndex);var n=i.data[t.index];var o=n._view;return{borderColor:o.borderColor,backgroundColor:o.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Mt.noop,afterBody:Mt.noop,beforeFooter:Mt.noop,footer:Mt.noop,afterFooter:Mt.noop}}});var Gi={average:function(t){if(!t.length)return!1;var e,i;var n=0;var o=0;var r=0;for(e=0,i=t.length;e<i;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();n+=s.x;o+=s.y;++r}}return{x:n/r,y:o/r}},nearest:function(t,e){var i=e.x;var n=e.y;var o=Number.POSITIVE_INFINITY;var r,a,s;for(r=0,a=t.length;r<a;++r){var l=t[r];if(l&&l.hasValue()){var h=l.getCenterPoint();var u=Mt.distanceBetweenPoints(e,h);if(u<o){o=u;s=l}}}if(s){var c=s.tooltipPosition();i=c.x;n=c.y}return{x:i,y:n}}};function Vi(t,e){if(e)if(Mt.isArray(e))Array.prototype.push.apply(t,e);else t.push(e);return t}function qi(t){if((typeof t==="string"||t instanceof String)&&t.indexOf("\n")>-1)return t.split("\n");return t}function Ki(t){var e=t._xScale;var i=t._yScale||t._scale;var n=t._index;var o=t._datasetIndex;var r=t._chart.getDatasetMeta(o).controller;var a=r._getIndexScale();var s=r._getValueScale();return{xLabel:e?e.getLabelForIndex(n,o):"",yLabel:i?i.getLabelForIndex(n,o):"",label:a?""+a.getLabelForIndex(n,o):"",value:s?""+s.getLabelForIndex(n,o):"",index:n,datasetIndex:o,x:t._model.x,y:t._model.y}}function Ji(t){var e=pt.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Wi(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Wi(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Wi(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Wi(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Wi(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Wi(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Wi(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Wi(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Wi(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Yi(t,e){var i=t._chart.ctx;var n=e.yPadding*2;var o=0;var r=e.body;var a=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length;var l=e.footer.length;var h=e.titleFontSize;var u=e.bodyFontSize;var c=e.footerFontSize;n+=s*h;n+=s?(s-1)*e.titleSpacing:0;n+=s?e.titleMarginBottom:0;n+=a*u;n+=a?(a-1)*e.bodySpacing:0;n+=l?e.footerMarginTop:0;n+=l*c;n+=l?(l-1)*e.footerSpacing:0;var d=0;var p=function(t){o=Math.max(o,i.measureText(t).width+d)};i.font=Mt.fontString(h,e._titleFontStyle,e._titleFontFamily);Mt.each(e.title,p);i.font=Mt.fontString(u,e._bodyFontStyle,e._bodyFontFamily);Mt.each(e.beforeBody.concat(e.afterBody),p);d=e.displayColors?u+2:0;Mt.each(r,function(t){Mt.each(t.before,p);Mt.each(t.lines,p);Mt.each(t.after,p)});d=0;i.font=Mt.fontString(c,e._footerFontStyle,e._footerFontFamily);Mt.each(e.footer,p);o+=2*e.xPadding;return{width:o,height:n}}function Xi(t,e){var i=t._model;var n=t._chart;var o=t._chart.chartArea;var r="center";var a="center";if(i.y<e.height)a="top";else if(i.y>n.height-e.height)a="bottom";var s,l;var h,u;var c;var d=(o.left+o.right)/2;var p=(o.top+o.bottom)/2;if(a==="center"){s=function(t){return t<=d};l=function(t){return t>d}}else{s=function(t){return t<=e.width/2};l=function(t){return t>=n.width-e.width/2}}h=function(t){return t+e.width+i.caretSize+i.caretPadding>n.width};u=function(t){return t-e.width-i.caretSize-i.caretPadding<0};c=function(t){return t<=p?"top":"bottom"};if(s(i.x)){r="left";if(h(i.x)){r="center";a=c(i.y)}}else if(l(i.x)){r="right";if(u(i.x)){r="center";a=c(i.y)}}var f=t._options;return{xAlign:f.xAlign?f.xAlign:r,yAlign:f.yAlign?f.yAlign:a}}function Qi(t,e,i,n){var o=t.x;var r=t.y;var a=t.caretSize;var s=t.caretPadding;var l=t.cornerRadius;var h=i.xAlign;var u=i.yAlign;var c=a+s;var d=l+s;if(h==="right")o-=e.width;else if(h==="center"){o-=e.width/2;if(o+e.width>n.width)o=n.width-e.width;if(o<0)o=0}if(u==="top")r+=c;else if(u==="bottom")r-=e.height+c;else r-=e.height/2;if(u==="center"){if(h==="left")o+=c;else if(h==="right")o-=c}else if(h==="left")o-=d;else if(h==="right")o+=d;return{x:o,y:r}}function $i(t,e){return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-t.xPadding:t.x+t.xPadding}function tn(t){return Vi([],qi(t))}var en,nn,on=Ot.extend({initialize:function(){this._model=Ji(this._options);this._lastActive=[]},getTitle:function(){var t=this;var e=t._options;var i=e.callbacks;var n=i.beforeTitle.apply(t,arguments);var o=i.title.apply(t,arguments);var r=i.afterTitle.apply(t,arguments);var a=[];a=Vi(a,qi(n));a=Vi(a,qi(o));a=Vi(a,qi(r));return a},getBeforeBody:function(){return tn(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,i){var n=this;var o=n._options.callbacks;var r=[];Mt.each(t,function(t){var e={before:[],lines:[],after:[]};Vi(e.before,qi(o.beforeLabel.call(n,t,i)));Vi(e.lines,o.label.call(n,t,i));Vi(e.after,qi(o.afterLabel.call(n,t,i)));r.push(e)});return r},getAfterBody:function(){return tn(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this;var e=t._options.callbacks;var i=e.beforeFooter.apply(t,arguments);var n=e.footer.apply(t,arguments);var o=e.afterFooter.apply(t,arguments);var r=[];r=Vi(r,qi(i));r=Vi(r,qi(n));r=Vi(r,qi(o));return r},update:function(t){var e=this;var i=e._options;var n=e._model;var o=e._model=Ji(i);var r=e._active;var a=e._data;var s={xAlign:n.xAlign,yAlign:n.yAlign};var l={x:n.x,y:n.y};var h={width:n.width,height:n.height};var u={x:n.caretX,y:n.caretY};var c,d;if(r.length){o.opacity=1;var p=[];var f=[];u=Gi[i.position].call(e,r,e._eventPosition);var m=[];for(c=0,d=r.length;c<d;++c)m.push(Ki(r[c]));if(i.filter)m=m.filter(function(t){return i.filter(t,a)});if(i.itemSort)m=m.sort(function(t,e){return i.itemSort(t,e,a)});Mt.each(m,function(t){p.push(i.callbacks.labelColor.call(e,t,e._chart));f.push(i.callbacks.labelTextColor.call(e,t,e._chart))});o.title=e.getTitle(m,a);o.beforeBody=e.getBeforeBody(m,a);o.body=e.getBody(m,a);o.afterBody=e.getAfterBody(m,a);o.footer=e.getFooter(m,a);o.x=u.x;o.y=u.y;o.caretPadding=i.caretPadding;o.labelColors=p;o.labelTextColors=f;o.dataPoints=m;h=Yi(this,o);s=Xi(this,h);l=Qi(o,h,s,e._chart)}else o.opacity=0;o.xAlign=s.xAlign;o.yAlign=s.yAlign;o.x=l.x;o.y=l.y;o.width=h.width;o.height=h.height;o.caretX=u.x;o.caretY=u.y;e._model=o;if(t&&i.custom)i.custom.call(e,o);return e},drawCaret:function(t,e){var i=this._chart.ctx;var n=this._view;var o=this.getCaretPosition(t,e,n);i.lineTo(o.x1,o.y1);i.lineTo(o.x2,o.y2);i.lineTo(o.x3,o.y3)},getCaretPosition:function(t,e,i){var n,o,r,a,s,l;var h=i.caretSize;var u=i.cornerRadius;var c=i.xAlign;var d=i.yAlign;var p=t.x;var f=t.y;var m=e.width;var g=e.height;if(d==="center"){s=f+g/2;if(c==="left"){n=p;o=n-h;r=n;a=s+h;l=s-h}else{n=p+m;o=n+h;r=n;a=s-h;l=s+h}}else{if(c==="left"){o=p+u+h;n=o-h;r=o+h}else if(c==="right"){o=p+m-u-h;n=o-h;r=o+h}else{o=i.caretX;n=o-h;r=o+h}if(d==="top"){a=f;s=a-h;l=a}else{a=f+g;s=a+h;l=a;var v=r;r=n;n=v}}return{x1:n,x2:o,x3:r,y1:a,y2:s,y3:l}},drawTitle:function(t,e,i){var n=e.title;var o=n.length;var r,a,s;if(o){var l=Hi(e.rtl,e.x,e.width);t.x=$i(e,e._titleAlign);i.textAlign=l.textAlign(e._titleAlign);i.textBaseline="middle";r=e.titleFontSize;a=e.titleSpacing;i.fillStyle=e.titleFontColor;i.font=Mt.fontString(r,e._titleFontStyle,e._titleFontFamily);for(s=0;s<o;++s){i.fillText(n[s],l.x(t.x),t.y+r/2);t.y+=r+a;if(s+1===o)t.y+=e.titleMarginBottom-a}}},drawBody:function(e,t,i){var n=t.bodyFontSize;var o=t.bodySpacing;var r=t._bodyAlign;var a=t.body;var s=t.displayColors;var l=0;var h=s?$i(t,"left"):0;var u=Hi(t.rtl,t.x,t.width);var c=function(t){i.fillText(t,u.x(e.x+l),e.y+n/2);e.y+=n+o};var d,p,f,m,g,v,_,y;var x=u.textAlign(r);i.textAlign=r;i.textBaseline="middle";i.font=Mt.fontString(n,t._bodyFontStyle,t._bodyFontFamily);e.x=$i(t,x);i.fillStyle=t.bodyFontColor;Mt.each(t.beforeBody,c);l=s&&x!=="right"?r==="center"?n/2+1:n+2:0;for(g=0,_=a.length;g<_;++g){d=a[g];p=t.labelTextColors[g];f=t.labelColors[g];i.fillStyle=p;Mt.each(d.before,c);m=d.lines;for(v=0,y=m.length;v<y;++v){if(s){var b=u.x(h);i.fillStyle=t.legendColorBackground;i.fillRect(u.leftForLtr(b,n),e.y,n,n);i.lineWidth=1;i.strokeStyle=f.borderColor;i.strokeRect(u.leftForLtr(b,n),e.y,n,n);i.fillStyle=f.backgroundColor;i.fillRect(u.leftForLtr(u.xPlus(b,1),n-2),e.y+1,n-2,n-2);i.fillStyle=p}c(m[v])}Mt.each(d.after,c)}l=0;Mt.each(t.afterBody,c);e.y-=o},drawFooter:function(t,e,i){var n=e.footer;var o=n.length;var r,a;if(o){var s=Hi(e.rtl,e.x,e.width);t.x=$i(e,e._footerAlign);t.y+=e.footerMarginTop;i.textAlign=s.textAlign(e._footerAlign);i.textBaseline="middle";r=e.footerFontSize;i.fillStyle=e.footerFontColor;i.font=Mt.fontString(r,e._footerFontStyle,e._footerFontFamily);for(a=0;a<o;++a){i.fillText(n[a],s.x(t.x),t.y+r/2);t.y+=r+e.footerSpacing}}},drawBackground:function(t,e,i,n){i.fillStyle=e.backgroundColor;i.strokeStyle=e.borderColor;i.lineWidth=e.borderWidth;var o=e.xAlign;var r=e.yAlign;var a=t.x;var s=t.y;var l=n.width;var h=n.height;var u=e.cornerRadius;i.beginPath();i.moveTo(a+u,s);if(r==="top")this.drawCaret(t,n);i.lineTo(a+l-u,s);i.quadraticCurveTo(a+l,s,a+l,s+u);if(r==="center"&&o==="right")this.drawCaret(t,n);i.lineTo(a+l,s+h-u);i.quadraticCurveTo(a+l,s+h,a+l-u,s+h);if(r==="bottom")this.drawCaret(t,n);i.lineTo(a+u,s+h);i.quadraticCurveTo(a,s+h,a,s+h-u);if(r==="center"&&o==="left")this.drawCaret(t,n);i.lineTo(a,s+u);i.quadraticCurveTo(a,s,a+u,s);i.closePath();i.fill();if(e.borderWidth>0)i.stroke()},draw:function(){var t=this._chart.ctx;var e=this._view;if(e.opacity===0)return;var i={width:e.width,height:e.height};var n={x:e.x,y:e.y};var o=Math.abs(e.opacity<.001)?0:e.opacity;var r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;if(this._options.enabled&&r){t.save();t.globalAlpha=o;this.drawBackground(n,e,t,i);n.y+=e.yPadding;Mt.rtl.overrideTextDirection(t,e.textDirection);this.drawTitle(n,e,t);this.drawBody(n,e,t);this.drawFooter(n,e,t);Mt.rtl.restoreTextDirection(t,e.textDirection);t.restore()}},handleEvent:function(t){var e=this;var i=e._options;var n=!1;e._lastActive=e._lastActive||[];if(t.type==="mouseout")e._active=[];else{e._active=e._chart.getElementsAtEventForMode(t,i.mode,i);if(i.reverse)e._active.reverse()}n=!Mt.arrayEquals(e._active,e._lastActive);if(n){e._lastActive=e._active;if(i.enabled||i.custom){e._eventPosition={x:t.x,y:t.y};e.update(!0);e.pivot()}}return n}});on.positioners=Gi;var rn=Mt.valueOrDefault;function an(){return Mt.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){if(t==="xAxes"||t==="yAxes"){var o=i[t].length;var r,a,s;if(!e[t])e[t]=[];for(r=0;r<o;++r){s=i[t][r];a=rn(s.type,t==="xAxes"?"category":"linear");if(r>=e[t].length)e[t].push({});if(!e[t][r].type||s.type&&s.type!==e[t][r].type)Mt.merge(e[t][r],[ji.getScaleDefaults(a),s]);else Mt.merge(e[t][r],s)}}else Mt._merger(t,e,i,n)}})}function sn(){return Mt.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,i,n){var o=e[t]||Object.create(null);var r=i[t];if(t==="scales")e[t]=an(o,r);else if(t==="scale")e[t]=Mt.merge(o,[ji.getScaleDefaults(r.type),r]);else Mt._merger(t,e,i,n)}})}function ln(t){t=t||Object.create(null);var e=t.data=t.data||{};e.datasets=e.datasets||[];e.labels=e.labels||[];t.options=sn(pt.global,pt[t.type],t.options||{});return t}function hn(e){var t=e.options;Mt.each(e.scales,function(t){ui.removeBox(e,t)});t=sn(pt.global,pt[e.config.type],t);e.options=e.config.options=t;e.ensureScalesHaveIDs();e.buildOrUpdateScales();e.tooltip._options=t.tooltips;e.tooltip.initialize()}function un(t,e,i){var n;var o=function(t){return t.id===n};do{n=e+i++}while(Mt.findIndex(t,o)>=0);return n}function cn(t){return t==="top"||t==="bottom"}function dn(i,n){return function(t,e){return t[i]===e[i]?t[n]-e[n]:t[i]-e[i]}}pt._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var pn=function(t,e){this.construct(t,e);return this};Mt.extend(pn.prototype,{construct:function(t,e){var i=this;e=ln(e);var n=Ui.acquireContext(t,e);var o=n&&n.canvas;var r=o&&o.height;var a=o&&o.width;i.id=Mt.uid();i.ctx=n;i.canvas=o;i.config=e;i.width=a;i.height=r;i.aspectRatio=r?a/r:null;i.options=e.options;i._bufferedRender=!1;i._layers=[];i.chart=i;i.controller=i;pn.instances[i.id]=i;Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}});if(!n||!o){console.error("Failed to create chart: can't acquire context from the given item");return}i.initialize();i.update()},initialize:function(){var t=this;Zi.notify(t,"beforeInit");Mt.retinaScale(t,t.options.devicePixelRatio);t.bindEvents();if(t.options.responsive)t.resize(!0);t.initToolTip();Zi.notify(t,"afterInit");return t},clear:function(){Mt.canvas.clear(this);return this},stop:function(){Bt.cancelAnimation(this);return this},resize:function(t){var e=this;var i=e.options;var n=e.canvas;var o=i.maintainAspectRatio&&e.aspectRatio||null;var r=Math.max(0,Math.floor(Mt.getMaximumWidth(n)));var a=Math.max(0,Math.floor(o?r/o:Mt.getMaximumHeight(n)));if(e.width===r&&e.height===a)return;n.width=e.width=r;n.height=e.height=a;n.style.width=r+"px";n.style.height=a+"px";Mt.retinaScale(e,i.devicePixelRatio);if(!t){var s={width:r,height:a};Zi.notify(e,"resize",[s]);if(i.onResize)i.onResize(e,s);e.stop();e.update({duration:i.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options;var i=t.scales||{};var e=t.scale;Mt.each(i.xAxes,function(t,e){if(!t.id)t.id=un(i.xAxes,"x-axis-",e)});Mt.each(i.yAxes,function(t,e){if(!t.id)t.id=un(i.yAxes,"y-axis-",e)});if(e)e.id=e.id||"scale"},buildOrUpdateScales:function(){var a=this;var t=a.options;var s=a.scales||{};var e=[];var l=Object.keys(s).reduce(function(t,e){t[e]=!1;return t},{});if(t.scales)e=e.concat((t.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}));if(t.scale)e.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"});Mt.each(e,function(t){var e=t.options;var i=e.id;var n=rn(e.type,t.dtype);if(cn(e.position)!==cn(t.dposition))e.position=t.dposition;l[i]=!0;var o=null;if(i in s&&s[i].type===n){o=s[i];o.options=e;o.ctx=a.ctx;o.chart=a}else{var r=ji.getScaleConstructor(n);if(!r)return;o=new r({id:i,type:n,options:e,ctx:a.ctx,chart:a});s[o.id]=o}o.mergeTicksOptions();if(t.isDefault)a.scale=o});Mt.each(l,function(t,e){if(!t)delete s[e]});a.scales=s;ji.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this;var e=[];var i=t.data.datasets;var n,o;for(n=0,o=i.length;n<o;n++){var r=i[n];var a=t.getDatasetMeta(n);var s=r.type||t.config.type;if(a.type&&a.type!==s){t.destroyDatasetMeta(n);a=t.getDatasetMeta(n)}a.type=s;a.order=r.order||0;a.index=n;if(a.controller){a.controller.updateIndex(n);a.controller.linkScales()}else{var l=He[a.type];if(l===undefined)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(t,n);e.push(a.controller)}}return e},resetElements:function(){var i=this;Mt.each(i.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset()},i)},reset:function(){this.resetElements();this.tooltip.initialize()},update:function(t){var e=this;var i,n;if(!t||typeof t!=="object")t={duration:t,lazy:arguments[1]};hn(e);Zi._invalidate(e);if(Zi.notify(e,"beforeUpdate")===!1)return;e.tooltip._data=e.data;var o=e.buildOrUpdateControllers();for(i=0,n=e.data.datasets.length;i<n;i++)e.getDatasetMeta(i).controller.buildOrUpdateElements();e.updateLayout();if(e.options.animation&&e.options.animation.duration)Mt.each(o,function(t){t.reset()});e.updateDatasets();e.tooltip.initialize();e.lastActive=[];Zi.notify(e,"afterUpdate");e._layers.sort(dn("z","_idx"));if(e._bufferedRender)e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy};else e.render(t)},updateLayout:function(){var e=this;if(Zi.notify(e,"beforeLayout")===!1)return;ui.update(this,this.width,this.height);e._layers=[];Mt.each(e.boxes,function(t){if(t._configure)t._configure();e._layers.push.apply(e._layers,t._layers())},e);e._layers.forEach(function(t,e){t._idx=e});Zi.notify(e,"afterScaleUpdate");Zi.notify(e,"afterLayout")},updateDatasets:function(){var t=this;if(Zi.notify(t,"beforeDatasetsUpdate")===!1)return;for(var e=0,i=t.data.datasets.length;e<i;++e)t.updateDataset(e);Zi.notify(t,"afterDatasetsUpdate")},updateDataset:function(t){var e=this;var i=e.getDatasetMeta(t);var n={meta:i,index:t};if(Zi.notify(e,"beforeDatasetUpdate",[n])===!1)return;i.controller._update();Zi.notify(e,"afterDatasetUpdate",[n])},render:function(t){var e=this;if(!t||typeof t!=="object")t={duration:t,lazy:arguments[1]};var i=e.options.animation;var n=rn(t.duration,i&&i.duration);var o=t.lazy;if(Zi.notify(e,"beforeRender")===!1)return;var r=function(t){Zi.notify(e,"afterRender");Mt.callback(i&&i.onComplete,[t],e)};if(i&&n){var a=new Et({numSteps:n/16.66,easing:t.easing||i.easing,render:function(t,e){var i=Mt.easing.effects[e.easing];var n=e.currentStep;var o=n/e.numSteps;t.draw(i(o),o,n)},onAnimationProgress:i.onProgress,onAnimationComplete:r});Bt.addAnimation(e,a,n,o)}else{e.draw();r(new Et({numSteps:0,chart:e}))}return e},draw:function(t){var e=this;var i,n;e.clear();if(Mt.isNullOrUndef(t))t=1;e.transition(t);if(e.width<=0||e.height<=0)return;if(Zi.notify(e,"beforeDraw",[t])===!1)return;n=e._layers;for(i=0;i<n.length&&n[i].z<=0;++i)n[i].draw(e.chartArea);e.drawDatasets(t);for(;i<n.length;++i)n[i].draw(e.chartArea);e._drawTooltip(t);Zi.notify(e,"afterDraw",[t])},transition:function(t){var e=this;for(var i=0,n=(e.data.datasets||[]).length;i<n;++i)if(e.isDatasetVisible(i))e.getDatasetMeta(i).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e=this;var i=e.data.datasets||[];var n=[];var o,r;for(o=0,r=i.length;o<r;++o)if(!t||e.isDatasetVisible(o))n.push(e.getDatasetMeta(o));n.sort(dn("order","index"));return n},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e=this;var i,n;if(Zi.notify(e,"beforeDatasetsDraw",[t])===!1)return;i=e._getSortedVisibleDatasetMetas();for(n=i.length-1;n>=0;--n)e.drawDataset(i[n],t);Zi.notify(e,"afterDatasetsDraw",[t])},drawDataset:function(t,e){var i=this;var n={meta:t,index:t.index,easingValue:e};if(Zi.notify(i,"beforeDatasetDraw",[n])===!1)return;t.controller.draw(e);Zi.notify(i,"afterDatasetDraw",[n])},_drawTooltip:function(t){var e=this;var i=e.tooltip;var n={tooltip:i,easingValue:t};if(Zi.notify(e,"beforeTooltipDraw",[n])===!1)return;i.draw();Zi.notify(e,"afterTooltipDraw",[n])},getElementAtEvent:function(t){return Xe.modes.single(this,t)},getElementsAtEvent:function(t){return Xe.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Xe.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,i){var n=Xe.modes[e];if(typeof n==="function")return n(this,t,i);return[]},getDatasetAtEvent:function(t){return Xe.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this;var i=e.data.datasets[t];if(!i._meta)i._meta={};var n=i._meta[e.id];if(!n)n=i._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i.order||0,index:t};return n},getVisibleDatasetCount:function(){var t=0;for(var e=0,i=this.data.datasets.length;e<i;++e)if(this.isDatasetVisible(e))t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return typeof e.hidden==="boolean"?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id;var i=this.data.datasets[t];var n=i._meta&&i._meta[e];if(n){n.controller.destroy();delete i._meta[e]}},destroy:function(){var t=this;var e=t.canvas;var i,n;t.stop();for(i=0,n=t.data.datasets.length;i<n;++i)t.destroyDatasetMeta(i);if(e){t.unbindEvents();Mt.canvas.clear(t);Ui.releaseContext(t.ctx);t.canvas=null;t.ctx=null}Zi.notify(t,"destroy");delete pn.instances[t.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new on({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this;var i=e._listeners={};var n=function(){e.eventHandler.apply(e,arguments)};Mt.each(e.options.events,function(t){Ui.addEventListener(e,t,n);i[t]=n});if(e.options.responsive){n=function(){e.resize()};Ui.addEventListener(e,"resize",n);i.resize=n}},unbindEvents:function(){var i=this;var t=i._listeners;if(!t)return;delete i._listeners;Mt.each(t,function(t,e){Ui.removeEventListener(i,e,t)})},updateHoverStyle:function(t,e,i){var n=i?"set":"remove";var o,r,a;for(r=0,a=t.length;r<a;++r){o=t[r];if(o)this.getDatasetMeta(o._datasetIndex).controller[n+"HoverStyle"](o)}if(e==="dataset")this.getDatasetMeta(t[0]._datasetIndex).controller["_"+n+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this;var i=e.tooltip;if(Zi.notify(e,"beforeEvent",[t])===!1)return;e._bufferedRender=!0;e._bufferedRequest=null;var n=e.handleEvent(t);if(i)n=i._start?i.handleEvent(t):n|i.handleEvent(t);Zi.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;if(o)e.render(o);else if(n&&!e.animating){e.stop();e.render({duration:e.options.hover.animationDuration,lazy:!0})}e._bufferedRender=!1;e._bufferedRequest=null;return e},handleEvent:function(t){var e=this;var i=e.options||{};var n=i.hover;var o=!1;e.lastActive=e.lastActive||[];if(t.type==="mouseout")e.active=[];else e.active=e.getElementsAtEventForMode(t,n.mode,n);Mt.callback(i.onHover||i.hover.onHover,[t.native,e.active],e);if(t.type==="mouseup"||t.type==="click")if(i.onClick)i.onClick.call(e,t.native,e.active);if(e.lastActive.length)e.updateHoverStyle(e.lastActive,n.mode,!1);if(e.active.length&&n.mode)e.updateHoverStyle(e.active,n.mode,!0);o=!Mt.arrayEquals(e.active,e.lastActive);e.lastActive=e.active;return o}}),pn.instances={};var fn=pn;(pn.Controller=pn).types={},Mt.configMerge=sn,Mt.scaleMerge=an;var mn=function(){Mt.where=function(t,e){if(Mt.isArray(t)&&Array.prototype.filter)return t.filter(e);var i=[];Mt.each(t,function(t){if(e(t))i.push(t)});return i};Mt.findIndex=Array.prototype.findIndex?function(t,e,i){return t.findIndex(e,i)}:function(t,e,i){i=i===undefined?t:i;for(var n=0,o=t.length;n<o;++n)if(e.call(i,t[n],n,t))return n;return-1};Mt.findNextWhere=function(t,e,i){if(Mt.isNullOrUndef(i))i=-1;for(var n=i+1;n<t.length;n++){var o=t[n];if(e(o))return o}};Mt.findPreviousWhere=function(t,e,i){if(Mt.isNullOrUndef(i))i=t.length;for(var n=i-1;n>=0;n--){var o=t[n];if(e(o))return o}};Mt.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};Mt.almostEquals=function(t,e,i){return Math.abs(t-e)<i};Mt.almostWhole=function(t,e){var i=Math.round(t);return i-e<=t&&i+e>=t};Mt.max=function(t){return t.reduce(function(t,e){if(!isNaN(e))return Math.max(t,e);return t},Number.NEGATIVE_INFINITY)};Mt.min=function(t){return t.reduce(function(t,e){if(!isNaN(e))return Math.min(t,e);return t},Number.POSITIVE_INFINITY)};Mt.sign=Math.sign?function(t){return Math.sign(t)}:function(t){t=+t;if(t===0||isNaN(t))return t;return t>0?1:-1};Mt.toRadians=function(t){return t*(Math.PI/180)};Mt.toDegrees=function(t){return t*(180/Math.PI)};Mt._decimalPlaces=function(t){if(!Mt.isFinite(t))return;var e=1;var i=0;while(Math.round(t*e)/e!==t){e*=10;i++}return i};Mt.getAngleFromPoint=function(t,e){var i=e.x-t.x;var n=e.y-t.y;var o=Math.sqrt(i*i+n*n);var r=Math.atan2(n,i);if(r<-.5*Math.PI)r+=2*Math.PI;return{angle:r,distance:o}};Mt.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))};Mt.aliasPixel=function(t){return t%2===0?0:.5};Mt._alignPixel=function(t,e,i){var n=t.currentDevicePixelRatio;var o=i/2;return Math.round((e-o)*n)/n+o};Mt.splineCurve=function(t,e,i,n){var o=t.skip?e:t;var r=e;var a=i.skip?e:i;var s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2));var l=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2));var h=s/(s+l);var u=l/(s+l);h=isNaN(h)?0:h;u=isNaN(u)?0:u;var c=n*h;var d=n*u;return{previous:{x:r.x-c*(a.x-o.x),y:r.y-c*(a.y-o.y)},next:{x:r.x+d*(a.x-o.x),y:r.y+d*(a.y-o.y)}}};Mt.EPSILON=Number.EPSILON||1e-14;Mt.splineCurveMonotone=function(t){var e=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}});var i=e.length;var n,o,r,a;for(n=0;n<i;++n){r=e[n];if(r.model.skip)continue;o=n>0?e[n-1]:null;a=n<i-1?e[n+1]:null;if(a&&!a.model.skip){var s=a.model.x-r.model.x;r.deltaK=s!==0?(a.model.y-r.model.y)/s:0}if(!o||o.model.skip)r.mK=r.deltaK;else if(!a||a.model.skip)r.mK=o.deltaK;else if(this.sign(o.deltaK)!==this.sign(r.deltaK))r.mK=0;else r.mK=(o.deltaK+r.deltaK)/2}var l,h,u,c;for(n=0;n<i-1;++n){r=e[n];a=e[n+1];if(r.model.skip||a.model.skip)continue;if(Mt.almostEquals(r.deltaK,0,this.EPSILON)){r.mK=a.mK=0;continue}l=r.mK/r.deltaK;h=a.mK/r.deltaK;c=Math.pow(l,2)+Math.pow(h,2);if(c<=9)continue;u=3/Math.sqrt(c);r.mK=l*u*r.deltaK;a.mK=h*u*r.deltaK}var d;for(n=0;n<i;++n){r=e[n];if(r.model.skip)continue;o=n>0?e[n-1]:null;a=n<i-1?e[n+1]:null;if(o&&!o.model.skip){d=(r.model.x-o.model.x)/3;r.model.controlPointPreviousX=r.model.x-d;r.model.controlPointPreviousY=r.model.y-d*r.mK}if(a&&!a.model.skip){d=(a.model.x-r.model.x)/3;r.model.controlPointNextX=r.model.x+d;r.model.controlPointNextY=r.model.y+d*r.mK}}};Mt.nextItem=function(t,e,i){if(i)return e>=t.length-1?t[0]:t[e+1];return e>=t.length-1?t[t.length-1]:t[e+1]};Mt.previousItem=function(t,e,i){if(i)return e<=0?t[t.length-1]:t[e-1];return e<=0?t[0]:t[e-1]};Mt.niceNum=function(t,e){var i=Math.floor(Mt.log10(t));var n=t/Math.pow(10,i);var o;if(e)if(n<1.5)o=1;else if(n<3)o=2;else if(n<7)o=5;else o=10;else if(n<=1)o=1;else if(n<=2)o=2;else if(n<=5)o=5;else o=10;return o*Math.pow(10,i)};Mt.requestAnimFrame=function(){if(typeof window==="undefined")return function(t){t()};return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}();Mt.getRelativePosition=function(t,e){var i,n;var o=t.originalEvent||t;var r=t.target||t.srcElement;var a=r.getBoundingClientRect();var s=o.touches;if(s&&s.length>0){i=s[0].clientX;n=s[0].clientY}else{i=o.clientX;n=o.clientY}var l=parseFloat(Mt.getStyle(r,"padding-left"));var h=parseFloat(Mt.getStyle(r,"padding-top"));var u=parseFloat(Mt.getStyle(r,"padding-right"));var c=parseFloat(Mt.getStyle(r,"padding-bottom"));var d=a.right-a.left-l-u;var p=a.bottom-a.top-h-c;i=Math.round((i-a.left-l)/d*r.width/e.currentDevicePixelRatio);n=Math.round((n-a.top-h)/p*r.height/e.currentDevicePixelRatio);return{x:i,y:n}};function u(t,e,i){var n;if(typeof t==="string"){n=parseInt(t,10);if(t.indexOf("%")!==-1)n=n/100*e.parentNode[i]}else n=t;return n}function c(t){return t!==undefined&&t!==null&&t!=="none"}function e(t,e,i){var n=document.defaultView;var o=Mt._getParentNode(t);var r=n.getComputedStyle(t)[e];var a=n.getComputedStyle(o)[e];var s=c(r);var l=c(a);var h=Number.POSITIVE_INFINITY;if(s||l)return Math.min(s?u(r,t,i):h,l?u(a,o,i):h);return"none"}Mt.getConstraintWidth=function(t){return e(t,"max-width","clientWidth")};Mt.getConstraintHeight=function(t){return e(t,"max-height","clientHeight")};Mt._calculatePadding=function(t,e,i){e=Mt.getStyle(t,e);return e.indexOf("%")>-1?i*parseInt(e,10)/100:parseInt(e,10)};Mt._getParentNode=function(t){var e=t.parentNode;if(e&&e.toString()==="[object ShadowRoot]")e=e.host;return e};Mt.getMaximumWidth=function(t){var e=Mt._getParentNode(t);if(!e)return t.clientWidth;var i=e.clientWidth;var n=Mt._calculatePadding(e,"padding-left",i);var o=Mt._calculatePadding(e,"padding-right",i);var r=i-n-o;var a=Mt.getConstraintWidth(t);return isNaN(a)?r:Math.min(r,a)};Mt.getMaximumHeight=function(t){var e=Mt._getParentNode(t);if(!e)return t.clientHeight;var i=e.clientHeight;var n=Mt._calculatePadding(e,"padding-top",i);var o=Mt._calculatePadding(e,"padding-bottom",i);var r=i-n-o;var a=Mt.getConstraintHeight(t);return isNaN(a)?r:Math.min(r,a)};Mt.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)};Mt.retinaScale=function(t,e){var i=t.currentDevicePixelRatio=e||typeof window!=="undefined"&&window.devicePixelRatio||1;if(i===1)return;var n=t.canvas;var o=t.height;var r=t.width;n.height=o*i;n.width=r*i;t.ctx.scale(i,i);if(!n.style.height&&!n.style.width){n.style.height=o+"px";n.style.width=r+"px"}};Mt.fontString=function(t,e,i){return e+" "+t+"px "+i};Mt.longestText=function(t,e,i,n){n=n||{};var o=n.data=n.data||{};var r=n.garbageCollect=n.garbageCollect||[];if(n.font!==e){o=n.data={};r=n.garbageCollect=[];n.font=e}t.font=e;var a=0;var s=i.length;var l,h,u,c,d;for(l=0;l<s;l++){c=i[l];if(c!==undefined&&c!==null&&Mt.isArray(c)!==!0)a=Mt.measureText(t,o,r,a,c);else if(Mt.isArray(c))for(h=0,u=c.length;h<u;h++){d=c[h];if(d!==undefined&&d!==null&&!Mt.isArray(d))a=Mt.measureText(t,o,r,a,d)}}var p=r.length/2;if(p>i.length){for(l=0;l<p;l++)delete o[r[l]];r.splice(0,p)}return a};Mt.measureText=function(t,e,i,n,o){var r=e[o];if(!r){r=e[o]=t.measureText(o).width;i.push(o)}if(r>n)n=r;return n};Mt.numberOfLabelLines=function(t){var e=1;Mt.each(t,function(t){if(Mt.isArray(t))if(t.length>e)e=t.length});return e};Mt.color=!Q?function(t){console.error("Color.js not found!");return t}:function(t){if(t instanceof CanvasGradient)t=pt.global.defaultColor;return Q(t)};Mt.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:Mt.color(t).saturate(.5).darken(.1).rgbString()}};function gn(){throw new Error("This method is not implemented: either no adapter can "+"be found or an incomplete integration was provided.")}function vn(t){this.options=t||{}}Mt.extend(vn.prototype,{formats:gn,parse:gn,format:gn,add:gn,diff:gn,startOf:gn,endOf:gn,_create:function(t){return t}}),vn.override=function(t){Mt.extend(vn.prototype,t)};var _n,yn={_date:vn},xn={formatters:{values:function(t){return Mt.isArray(t)?t:""+t},linear:function(t,e,i){var n=i.length>3?i[2]-i[1]:i[1]-i[0];if(Math.abs(n)>1)if(t!==Math.floor(t))n=t-Math.floor(t);var o=Mt.log10(Math.abs(n));var r="";if(t!==0){var a=Math.max(Math.abs(i[0]),Math.abs(i[i.length-1]));if(a<1e-4){var s=Mt.log10(Math.abs(t));var l=Math.floor(s)-Math.floor(o);l=Math.max(Math.min(l,20),0);r=t.toExponential(l)}else{var h=-1*Math.floor(o);h=Math.max(Math.min(h,20),0);r=t.toFixed(h)}}else r="0";return r},logarithmic:function(t,e,i){var n=t/Math.pow(10,Math.floor(Mt.log10(t)));if(t===0)return"0";else if(n===1||n===2||n===5||e===0||e===i.length-1)return t.toExponential();return""}}},bn=Mt.isArray,wn=Mt.isNullOrUndef,kn=Mt.valueOrDefault,Ln=Mt.valueAtIndexOrDefault;function Mn(t,e){var i=[];var n=t.length/e;var o=0;var r=t.length;for(;o<r;o+=n)i.push(t[Math.floor(o)]);return i}function Cn(t,e,i){var n=t.getTicks().length;var o=Math.min(e,n-1);var r=t.getPixelForTick(o);var a=t._startPixel;var s=t._endPixel;var l=1e-6;var h;if(i){if(n===1)h=Math.max(r-a,s-r);else if(e===0)h=(t.getPixelForTick(1)-r)/2;else h=(r-t.getPixelForTick(o-1))/2;r+=o<e?h:-h;if(r<a-l||r>s+l)return}return r}function Tn(t,o){Mt.each(t,function(t){var e=t.gc;var i=e.length/2;var n;if(i>o){for(n=0;n<i;++n)delete t.data[e[n]];e.splice(0,i)}})}function Pn(t,e,i,n){var o=i.length;var r=[];var a=[];var s=[];var l=0;var h=0;var u,c,d,p,f,m,g,v,_,y,x,b,w;for(u=0;u<o;++u){p=i[u].label;f=i[u].major?e.major:e.minor;t.font=m=f.string;g=n[m]=n[m]||{data:{},gc:[]};v=f.lineHeight;_=y=0;if(!wn(p)&&!bn(p)){_=Mt.measureText(t,g.data,g.gc,_,p);y=v}else if(bn(p))for(c=0,d=p.length;c<d;++c){x=p[c];if(!wn(x)&&!bn(x)){_=Mt.measureText(t,g.data,g.gc,_,x);y+=v}}r.push(_);a.push(y);s.push(v/2);l=Math.max(_,l);h=Math.max(y,h)}Tn(n,o);b=r.indexOf(l);w=a.indexOf(h);function k(t){return{width:r[t]||0,height:a[t]||0,offset:s[t]||0}}return{first:k(0),last:k(o-1),widest:k(b),highest:k(w)}}function Sn(t){return t.drawTicks?t.tickMarkLength:0}function An(t){var e,i;if(!t.display)return 0;e=Mt.options._parseFont(t);i=Mt.options.toPadding(t.padding);return e.lineHeight+i.height}function Dn(t,e){return Mt.extend(Mt.options._parseFont({fontFamily:kn(e.fontFamily,t.fontFamily),fontSize:kn(e.fontSize,t.fontSize),fontStyle:kn(e.fontStyle,t.fontStyle),lineHeight:kn(e.lineHeight,t.lineHeight)}),{color:Mt.options.resolve([e.fontColor,t.fontColor,pt.global.defaultFontColor])})}function In(t){var e=Dn(t,t.minor);var i=t.major.enabled?Dn(t,t.major):e;return{minor:e,major:i}}function On(t){var e=[];var i,n,o;for(n=0,o=t.length;n<o;++n){i=t[n];if(typeof i._index!=="undefined")e.push(i)}return e}function zn(t){var e=t.length;var i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}function En(t,e,i,n){var o=zn(t);var r=(e.length-1)/n;var a,s,l,h;if(!o)return Math.max(r,1);a=Mt.math._factorize(o);for(l=0,h=a.length-1;l<h;l++){s=a[l];if(s>r)return s}return Math.max(r,1)}function Bn(t){var e=[];var i,n;for(i=0,n=t.length;i<n;i++)if(t[i].major)e.push(i);return e}function Fn(t,e,i){var n=0;var o=e[0];var r,a;i=Math.ceil(i);for(r=0;r<t.length;r++){a=t[r];if(r===o){a._index=r;n++;o=e[n*i]}else delete a.label}}function Rn(t,e,i,n){var o=kn(i,0);var r=Math.min(kn(n,t.length),t.length);var a=0;var s,l,h,u;e=Math.ceil(e);if(n){s=n-i;e=s/Math.floor(s/e)}u=o;while(u<0){a++;u=Math.round(o+a*e)}for(l=Math.max(o,0);l<r;l++){h=t[l];if(l===u){h._index=l;a++;u=Math.round(o+a*e)}else delete h.label}}pt._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:xn.formatters.values,minor:{},major:{}}});var Nn=Ot.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){Mt.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var n=this;var o=n.options.ticks;var r=o.sampleSize;var a,s,l,h,u;n.beforeUpdate();n.maxWidth=t;n.maxHeight=e;n.margins=Mt.extend({left:0,right:0,top:0,bottom:0},i);n._ticks=null;n.ticks=null;n._labelSizes=null;n._maxLabelLines=0;n.longestLabelWidth=0;n.longestTextCache=n.longestTextCache||{};n._gridLineItems=null;n._labelItems=null;n.beforeSetDimensions();n.setDimensions();n.afterSetDimensions();n.beforeDataLimits();n.determineDataLimits();n.afterDataLimits();n.beforeBuildTicks();h=n.buildTicks()||[];h=n.afterBuildTicks(h)||h;if((!h||!h.length)&&n.ticks){h=[];for(a=0,s=n.ticks.length;a<s;++a)h.push({value:n.ticks[a],major:!1})}n._ticks=h;u=r<h.length;l=n._convertTicksToLabels(u?Mn(h,r):h);n._configure();n.beforeCalculateTickRotation();n.calculateTickRotation();n.afterCalculateTickRotation();n.beforeFit();n.fit();n.afterFit();n._ticksToDraw=o.display&&(o.autoSkip||o.source==="auto")?n._autoSkip(h):h;if(u)l=n._convertTicksToLabels(n._ticksToDraw);n.ticks=l;n.afterUpdate();return n.minSize},_configure:function(){var t=this;var e=t.options.ticks.reverse;var i,n;if(t.isHorizontal()){i=t.left;n=t.right}else{i=t.top;n=t.bottom;e=!e}t._startPixel=i;t._endPixel=n;t._reversePixels=e;t._length=n-i},afterUpdate:function(){Mt.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Mt.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0},afterSetDimensions:function(){Mt.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Mt.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Mt.noop,afterDataLimits:function(){Mt.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Mt.callback(this.options.beforeBuildTicks,[this])},buildTicks:Mt.noop,afterBuildTicks:function(t){var e=this;if(bn(t)&&t.length)return Mt.callback(e.options.afterBuildTicks,[e,t]);e.ticks=Mt.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks;return t},beforeTickToLabelConversion:function(){Mt.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this;var e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){Mt.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Mt.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this;var e=t.options;var i=e.ticks;var n=t.getTicks().length;var o=i.minRotation||0;var r=i.maxRotation;var a=o;var s,l,h,u,c,d,p;if(!t._isVisible()||!i.display||o>=r||n<=1||!t.isHorizontal()){t.labelRotation=o;return}s=t._getLabelSizes();l=s.widest.width;h=s.highest.height-s.highest.offset;u=Math.min(t.maxWidth,t.chart.width-l);c=e.offset?t.maxWidth/n:u/(n-1);if(l+6>c){c=u/(n-(e.offset?.5:1));d=t.maxHeight-Sn(e.gridLines)-i.padding-An(e.scaleLabel);p=Math.sqrt(l*l+h*h);a=Mt.toDegrees(Math.min(Math.asin(Math.min((s.highest.height+6)/c,1)),Math.asin(Math.min(d/p,1))-Math.asin(h/p)));a=Math.max(o,Math.min(r,a))}t.labelRotation=a},afterCalculateTickRotation:function(){Mt.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Mt.callback(this.options.beforeFit,[this])},fit:function(){var t=this;var e=t.minSize={width:0,height:0};var i=t.chart;var n=t.options;var o=n.ticks;var r=n.scaleLabel;var a=n.gridLines;var s=t._isVisible();var l=n.position==="bottom";var h=t.isHorizontal();if(h)e.width=t.maxWidth;else if(s)e.width=Sn(a)+An(r);if(!h)e.height=t.maxHeight;else if(s)e.height=Sn(a)+An(r);if(o.display&&s){var u=In(o);var c=t._getLabelSizes();var d=c.first;var p=c.last;var f=c.widest;var m=c.highest;var g=u.minor.lineHeight*.4;var v=o.padding;if(h){var _=t.labelRotation!==0;var y=Mt.toRadians(t.labelRotation);var x=Math.cos(y);var b=Math.sin(y);var w=b*f.width+x*(m.height-(_?m.offset:0))+(_?0:g);e.height=Math.min(t.maxHeight,e.height+w+v);var k=t.getPixelForTick(0)-t.left;var L=t.right-t.getPixelForTick(t.getTicks().length-1);var M,C;if(_){M=l?x*d.width+b*d.offset:b*(d.height-d.offset);C=l?b*(p.height-p.offset):x*p.width+b*p.offset}else{M=d.width/2;C=p.width/2}t.paddingLeft=Math.max((M-k)*t.width/(t.width-k),0)+3;t.paddingRight=Math.max((C-L)*t.width/(t.width-L),0)+3}else{var T=o.mirror?0:f.width+v+g;e.width=Math.min(t.maxWidth,e.width+T);t.paddingTop=d.height/2;t.paddingBottom=p.height/2}}t.handleMargins();if(h){t.width=t._length=i.width-t.margins.left-t.margins.right;t.height=e.height}else{t.width=e.width;t.height=t._length=i.height-t.margins.top-t.margins.bottom}},handleMargins:function(){var t=this;if(t.margins){t.margins.left=Math.max(t.paddingLeft,t.margins.left);t.margins.top=Math.max(t.paddingTop,t.margins.top);t.margins.right=Math.max(t.paddingRight,t.margins.right);t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom)}},afterFit:function(){Mt.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return t==="top"||t==="bottom"},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(wn(t))return NaN;if((typeof t==="number"||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(t.x!==undefined)return this.getRightValue(t.x)}else if(t.y!==undefined)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e=this;var i,n,o;e.ticks=t.map(function(t){return t.value});e.beforeTickToLabelConversion();i=e.convertTicksToLabels(t)||e.ticks;e.afterTickToLabelConversion();for(n=0,o=t.length;n<o;++n)t[n].label=i[n];return i},_getLabelSizes:function(){var t=this;var e=t._labelSizes;if(!e){t._labelSizes=e=Pn(t.ctx,In(t.options.ticks),t.getTicks(),t.longestTextCache);t.longestLabelWidth=e.widest.width}return e},_parseValue:function(t){var e,i,n,o;if(bn(t)){e=+this.getRightValue(t[0]);i=+this.getRightValue(t[1]);n=Math.min(e,i);o=Math.max(e,i)}else{t=+this.getRightValue(t);e=undefined;i=t;n=t;o=t}return{min:n,max:o,start:e,end:i}},_getScaleLabel:function(t){var e=this._parseValue(t);if(e.start!==undefined)return"["+e.start+", "+e.end+"]";return+this.getRightValue(t)},getLabelForIndex:Mt.noop,getPixelForValue:Mt.noop,getValueForPixel:Mt.noop,getPixelForTick:function(t){var e=this;var i=e.options.offset;var n=e._ticks.length;var o=1/Math.max(n-(i?0:1),1);return t<0||t>n-1?null:e.getPixelForDecimal(t*o+(i?o/2:0))},getPixelForDecimal:function(t){var e=this;if(e._reversePixels)t=1-t;return e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this;var e=t.min;var i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e=this;var i=e.options.ticks;var n=e._length;var o=i.maxTicksLimit||n/e._tickSize()+1;var r=i.major.enabled?Bn(t):[];var a=r.length;var s=r[0];var l=r[a-1];var h,u,c,d;if(a>o){Fn(t,r,a/o);return On(t)}c=En(r,t,n,o);if(a>0){for(h=0,u=a-1;h<u;h++)Rn(t,c,r[h],r[h+1]);d=a>1?(l-s)/(a-1):null;Rn(t,c,Mt.isNullOrUndef(d)?0:s-d,s);Rn(t,c,l,Mt.isNullOrUndef(d)?t.length:l+d);return On(t)}Rn(t,c);return On(t)},_tickSize:function(){var t=this;var e=t.options.ticks;var i=Mt.toRadians(t.labelRotation);var n=Math.abs(Math.cos(i));var o=Math.abs(Math.sin(i));var r=t._getLabelSizes();var a=e.autoSkipPadding||0;var s=r?r.widest.width+a:0;var l=r?r.highest.height+a:0;return t.isHorizontal()?l*n>s*o?s/n:l/o:l*o<s*n?l/n:s/o},_isVisible:function(){var t=this;var e=t.chart;var i=t.options.display;var n,o,r;if(i!=="auto")return!!i;for(n=0,o=e.data.datasets.length;n<o;++n)if(e.isDatasetVisible(n)){r=e.getDatasetMeta(n);if(r.xAxisID===t.id||r.yAxisID===t.id)return!0}return!1},_computeGridLineItems:function(t){var e=this;var i=e.chart;var n=e.options;var o=n.gridLines;var r=n.position;var a=o.offsetGridLines;var s=e.isHorizontal();var l=e._ticksToDraw;var h=l.length+(a?1:0);var u=Sn(o);var c=[];var d=o.drawBorder?Ln(o.lineWidth,0,0):0;var p=d/2;var f=Mt._alignPixel;var m=function(t){return f(i,t,d)};var g,v,_,y,x;var b,w,k,L,M,C,T,P,S,A,D,I;if(r==="top"){g=m(e.bottom);w=e.bottom-u;L=g-p;C=m(t.top)+p;P=t.bottom}else if(r==="bottom"){g=m(e.top);C=t.top;P=m(t.bottom)-p;w=g+p;L=e.top+u}else if(r==="left"){g=m(e.right);b=e.right-u;k=g-p;M=m(t.left)+p;T=t.right}else{g=m(e.left);M=t.left;T=m(t.right)-p;b=g+p;k=e.left+u}for(v=0;v<h;++v){_=l[v]||{};if(wn(_.label)&&v<l.length)continue;if(v===e.zeroLineIndex&&n.offset===a){S=o.zeroLineWidth;A=o.zeroLineColor;D=o.zeroLineBorderDash||[];I=o.zeroLineBorderDashOffset||0}else{S=Ln(o.lineWidth,v,1);A=Ln(o.color,v,"rgba(0,0,0,0.1)");D=o.borderDash||[];I=o.borderDashOffset||0}y=Cn(e,_._index||v,a);if(y===undefined)continue;x=f(i,y,S);if(s)b=k=M=T=x;else w=L=C=P=x;c.push({tx1:b,ty1:w,tx2:k,ty2:L,x1:M,y1:C,x2:T,y2:P,width:S,color:A,borderDash:D,borderDashOffset:I})}c.ticksLength=h;c.borderValue=g;return c},_computeLabelItems:function(){var t=this;var e=t.options;var i=e.ticks;var n=e.position;var o=i.mirror;var r=t.isHorizontal();var a=t._ticksToDraw;var s=In(i);var l=i.padding;var h=Sn(e.gridLines);var u=-Mt.toRadians(t.labelRotation);var c=[];var d,p,f,m,g,v,_,y,x,b,w,k;if(n==="top"){v=t.bottom-h-l;_=!u?"center":"left"}else if(n==="bottom"){v=t.top+h+l;_=!u?"center":"right"}else if(n==="left"){g=t.right-(o?0:h)-l;_=o?"left":"right"}else{g=t.left+(o?0:h)+l;_=o?"right":"left"}for(d=0,p=a.length;d<p;++d){f=a[d];m=f.label;if(wn(m))continue;y=t.getPixelForTick(f._index||d)+i.labelOffset;x=f.major?s.major:s.minor;b=x.lineHeight;w=bn(m)?m.length:1;if(r){g=y;k=n==="top"?((!u?.5:1)-w)*b:(!u?.5:0)*b}else{v=y;k=(1-w)*b/2}c.push({x:g,y:v,rotation:u,label:m,font:x,textOffset:k,textAlign:_})}return c},_drawGrid:function(t){var e=this;var i=e.options.gridLines;if(!i.display)return;var n=e.ctx;var o=e.chart;var r=Mt._alignPixel;var a=i.drawBorder?Ln(i.lineWidth,0,0):0;var s=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));var l,h,u,c,d;for(u=0,c=s.length;u<c;++u){d=s[u];l=d.width;h=d.color;if(l&&h){n.save();n.lineWidth=l;n.strokeStyle=h;if(n.setLineDash){n.setLineDash(d.borderDash);n.lineDashOffset=d.borderDashOffset}n.beginPath();if(i.drawTicks){n.moveTo(d.tx1,d.ty1);n.lineTo(d.tx2,d.ty2)}if(i.drawOnChartArea){n.moveTo(d.x1,d.y1);n.lineTo(d.x2,d.y2)}n.stroke();n.restore()}}if(a){var p=a;var f=Ln(i.lineWidth,s.ticksLength-1,1);var m=s.borderValue;var g,v,_,y;if(e.isHorizontal()){g=r(o,e.left,p)-p/2;v=r(o,e.right,f)+f/2;_=y=m}else{_=r(o,e.top,p)-p/2;y=r(o,e.bottom,f)+f/2;g=v=m}n.lineWidth=a;n.strokeStyle=Ln(i.color,0);n.beginPath();n.moveTo(g,_);n.lineTo(v,y);n.stroke()}},_drawLabels:function(){var t=this;var e=t.options.ticks;if(!e.display)return;var i=t.ctx;var n=t._labelItems||(t._labelItems=t._computeLabelItems());var o,r,a,s,l,h,u,c;for(o=0,a=n.length;o<a;++o){l=n[o];h=l.font;i.save();i.translate(l.x,l.y);i.rotate(l.rotation);i.font=h.string;i.fillStyle=h.color;i.textBaseline="middle";i.textAlign=l.textAlign;u=l.label;c=l.textOffset;if(bn(u))for(r=0,s=u.length;r<s;++r){i.fillText(""+u[r],0,c);c+=h.lineHeight}else i.fillText(u,0,c);i.restore()}},_drawTitle:function(){var t=this;var e=t.ctx;var i=t.options;var n=i.scaleLabel;if(!n.display)return;var o=kn(n.fontColor,pt.global.defaultFontColor);var r=Mt.options._parseFont(n);var a=Mt.options.toPadding(n.padding);var s=r.lineHeight/2;var l=i.position;var h=0;var u,c;if(t.isHorizontal()){u=t.left+t.width/2;c=l==="bottom"?t.bottom-s-a.bottom:t.top+s+a.top}else{var d=l==="left";u=d?t.left+s+a.top:t.right-s-a.top;c=t.top+t.height/2;h=d?-.5*Math.PI:.5*Math.PI}e.save();e.translate(u,c);e.rotate(h);e.textAlign="center";e.textBaseline="middle";e.fillStyle=o;e.font=r.string;e.fillText(n.labelString,0,0);e.restore()},draw:function(t){var e=this;if(!e._isVisible())return;e._drawGrid(t);e._drawTitle();e._drawLabels()},_layers:function(){var t=this;var e=t.options;var i=e.ticks&&e.ticks.z||0;var n=e.gridLines&&e.gridLines.z||0;if(!t._isVisible()||i===n||t.draw!==t._draw)return[{z:i,draw:function(){t.draw.apply(t,arguments)}}];return[{z:n,draw:function(){t._drawGrid.apply(t,arguments);t._drawTitle.apply(t,arguments)}},{z:i,draw:function(){t._drawLabels.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(e){var i=this;var n=i.isHorizontal();return i.chart._getSortedVisibleDatasetMetas().filter(function(t){return(!e||t.type===e)&&(n?t.xAxisID===i.id:t.yAxisID===i.id)})}});Nn.prototype._draw=Nn.prototype.draw;var Un=Nn,Zn=Mt.isNullOrUndef,jn={position:"bottom"},Wn=Un.extend({determineDataLimits:function(){var t=this;var e=t._getLabels();var i=t.options.ticks;var n=i.min;var o=i.max;var r=0;var a=e.length-1;var s;if(n!==undefined){s=e.indexOf(n);if(s>=0)r=s}if(o!==undefined){s=e.indexOf(o);if(s>=0)a=s}t.minIndex=r;t.maxIndex=a;t.min=e[r];t.max=e[a]},buildTicks:function(){var t=this;var e=t._getLabels();var i=t.minIndex;var n=t.maxIndex;t.ticks=i===0&&n===e.length-1?e:e.slice(i,n+1)},getLabelForIndex:function(t,e){var i=this;var n=i.chart;if(n.getDatasetMeta(e).controller._getValueScaleId()===i.id)return i.getRightValue(n.data.datasets[e].data[t]);return i._getLabels()[t]},_configure:function(){var t=this;var e=t.options.offset;var i=t.ticks;Un.prototype._configure.call(t);if(!t.isHorizontal())t._reversePixels=!t._reversePixels;if(!i)return;t._startValue=t.minIndex-(e?.5:0);t._valueRange=Math.max(i.length-(e?0:1),1)},getPixelForValue:function(t,e,i){var n=this;var o,r,a;if(!Zn(e)&&!Zn(i))t=n.chart.data.datasets[i].data[e];if(!Zn(t))o=n.isHorizontal()?t.x:t.y;if(o!==undefined||t!==undefined&&isNaN(e)){r=n._getLabels();t=Mt.valueOrDefault(o,t);a=r.indexOf(t);e=a!==-1?a:e;if(isNaN(e))e=t}return n.getPixelForDecimal((e-n._startValue)/n._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this;var i=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(i,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Hn;Wn._defaults=jn;var Gn=Mt.noop,Vn=Mt.isNullOrUndef;function qn(t,e){var i=[];var n=1e-14;var o=t.stepSize;var r=o||1;var a=t.maxTicks-1;var s=t.min;var l=t.max;var h=t.precision;var u=e.min;var c=e.max;var d=Mt.niceNum((c-u)/a/r)*r;var p,f,m,g;if(d<n&&Vn(s)&&Vn(l))return[u,c];g=Math.ceil(c/d)-Math.floor(u/d);if(g>a)d=Mt.niceNum(g*d/a/r)*r;if(o||Vn(h))p=Math.pow(10,Mt._decimalPlaces(d));else{p=Math.pow(10,h);d=Math.ceil(d*p)/p}f=Math.floor(u/d)*d;m=Math.ceil(c/d)*d;if(o){if(!Vn(s)&&Mt.almostWhole(s/d,d/1e3))f=s;if(!Vn(l)&&Mt.almostWhole(l/d,d/1e3))m=l}g=(m-f)/d;if(Mt.almostEquals(g,Math.round(g),d/1e3))g=Math.round(g);else g=Math.ceil(g);f=Math.round(f*p)/p;m=Math.round(m*p)/p;i.push(Vn(s)?f:s);for(var v=1;v<g;++v)i.push(Math.round((f+v*d)*p)/p);i.push(Vn(l)?m:l);return i}var Kn=Un.extend({getRightValue:function(t){if(typeof t==="string")return+t;return Un.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this;var e=t.options;var i=e.ticks;if(i.beginAtZero){var n=Mt.sign(t.min);var o=Mt.sign(t.max);if(n<0&&o<0)t.max=0;else if(n>0&&o>0)t.min=0}var r=i.min!==undefined||i.suggestedMin!==undefined;var a=i.max!==undefined||i.suggestedMax!==undefined;if(i.min!==undefined)t.min=i.min;else if(i.suggestedMin!==undefined)if(t.min===null)t.min=i.suggestedMin;else t.min=Math.min(t.min,i.suggestedMin);if(i.max!==undefined)t.max=i.max;else if(i.suggestedMax!==undefined)if(t.max===null)t.max=i.suggestedMax;else t.max=Math.max(t.max,i.suggestedMax);if(r!==a)if(t.min>=t.max)if(r)t.max=t.min+1;else t.min=t.max-1;if(t.min===t.max){t.max++;if(!i.beginAtZero)t.min--}},getTickLimit:function(){var t=this;var e=t.options.ticks;var i=e.stepSize;var n=e.maxTicksLimit;var o;if(i)o=Math.ceil(t.max/i)-Math.floor(t.min/i)+1;else{o=t._computeTickLimit();n=n||11}if(n)o=Math.min(n,o);return o},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Gn,buildTicks:function(){var t=this;var e=t.options;var i=e.ticks;var n=t.getTickLimit();n=Math.max(2,n);var o={maxTicks:n,min:i.min,max:i.max,precision:i.precision,stepSize:Mt.valueOrDefault(i.fixedStepSize,i.stepSize)};var r=t.ticks=qn(o,t);t.handleDirectionalChanges();t.max=Mt.max(r);t.min=Mt.min(r);if(i.reverse){r.reverse();t.start=t.max;t.end=t.min}else{t.start=t.min;t.end=t.max}},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice();t.zeroLineIndex=t.ticks.indexOf(0);Un.prototype.convertTicksToLabels.call(t)},_configure:function(){var t=this;var e=t.getTicks();var i=t.min;var n=t.max;var o;Un.prototype._configure.call(t);if(t.options.offset&&e.length){o=(n-i)/Math.max(e.length-1,1)/2;i-=o;n+=o}t._startValue=i;t._endValue=n;t._valueRange=n-i}}),Jn={position:"left",ticks:{callback:xn.formatters.linear}},Yn=0,Xn=1;function Qn(t,e,i){var n=[i.type,e===undefined&&i.stack===undefined?i.index:"",i.stack].join(".");if(t[n]===undefined)t[n]={pos:[],neg:[]};return t[n]}function $n(t,e,i,n){var o=t.options;var r=o.stacked;var a=Qn(e,r,i);var s=a.pos;var l=a.neg;var h=n.length;var u,c;for(u=0;u<h;++u){c=t._parseValue(n[u]);if(isNaN(c.min)||isNaN(c.max)||i.data[u].hidden)continue;s[u]=s[u]||0;l[u]=l[u]||0;if(o.relativePoints)s[u]=100;else if(c.min<0||c.max<0)l[u]+=c.min;else s[u]+=c.max}}function to(t,e,i){var n=i.length;var o,r;for(o=0;o<n;++o){r=t._parseValue(i[o]);if(isNaN(r.min)||isNaN(r.max)||e.data[o].hidden)continue;t.min=Math.min(t.min,r.min);t.max=Math.max(t.max,r.max)}}var eo=Kn.extend({determineDataLimits:function(){var e=this;var t=e.options;var i=e.chart;var n=i.data.datasets;var o=e._getMatchingVisibleMetas();var r=t.stacked;var a={};var s=o.length;var l,h,u,c;e.min=Number.POSITIVE_INFINITY;e.max=Number.NEGATIVE_INFINITY;if(r===undefined)for(l=0;!r&&l<s;++l){h=o[l];r=h.stack!==undefined}for(l=0;l<s;++l){h=o[l];u=n[h.index].data;if(r)$n(e,a,h,u);else to(e,h,u)}Mt.each(a,function(t){c=t.pos.concat(t.neg);e.min=Math.min(e.min,Mt.min(c));e.max=Math.max(e.max,Mt.max(c))});e.min=Mt.isFinite(e.min)&&!isNaN(e.min)?e.min:Yn;e.max=Mt.isFinite(e.max)&&!isNaN(e.max)?e.max:Xn;e.handleTickRangeOptions()},_computeTickLimit:function(){var t=this;var e;if(t.isHorizontal())return Math.ceil(t.width/40);e=Mt.options._parseFont(t.options.ticks);return Math.ceil(t.height/e.lineHeight)},handleDirectionalChanges:function(){if(!this.isHorizontal())this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;if(t<0||t>e.length-1)return null;return this.getPixelForValue(e[t])}}),io;eo._defaults=Jn;var no=Mt.valueOrDefault,oo=Mt.math.log10;function ro(t,e){var i=[];var n=no(t.min,Math.pow(10,Math.floor(oo(e.min))));var o=Math.floor(oo(e.max));var r=Math.ceil(e.max/Math.pow(10,o));var a,s;if(n===0){a=Math.floor(oo(e.minNotZero));s=Math.floor(e.minNotZero/Math.pow(10,a));i.push(n);n=s*Math.pow(10,a)}else{a=Math.floor(oo(n));s=Math.floor(n/Math.pow(10,a))}var l=a<0?Math.pow(10,Math.abs(a)):1;do{i.push(n);++s;if(s===10){s=1;++a;l=a>=0?1:l}n=Math.round(s*Math.pow(10,a)*l)/l}while(a<o||a===o&&s<r);var h=no(t.max,n);i.push(h);return i}var ao={position:"left",ticks:{callback:xn.formatters.logarithmic}};function so(t,e){return Mt.isFinite(t)&&t>=0?t:e}var lo=Un.extend({determineDataLimits:function(){var n=this;var t=n.options;var e=n.chart;var i=e.data.datasets;var o=n.isHorizontal();function r(t){return o?t.xAxisID===n.id:t.yAxisID===n.id}var a,s,l,h,u,c;n.min=Number.POSITIVE_INFINITY;n.max=Number.NEGATIVE_INFINITY;n.minNotZero=Number.POSITIVE_INFINITY;var d=t.stacked;if(d===undefined)for(a=0;a<i.length;a++){s=e.getDatasetMeta(a);if(e.isDatasetVisible(a)&&r(s)&&s.stack!==undefined){d=!0;break}}if(t.stacked||d){var p={};for(a=0;a<i.length;a++){s=e.getDatasetMeta(a);var f=[s.type,t.stacked===undefined&&s.stack===undefined?a:"",s.stack].join(".");if(e.isDatasetVisible(a)&&r(s)){if(p[f]===undefined)p[f]=[];h=i[a].data;for(u=0,c=h.length;u<c;u++){var m=p[f];l=n._parseValue(h[u]);if(isNaN(l.min)||isNaN(l.max)||s.data[u].hidden||l.min<0||l.max<0)continue;m[u]=m[u]||0;m[u]+=l.max}}}Mt.each(p,function(t){if(t.length>0){var e=Mt.min(t);var i=Mt.max(t);n.min=Math.min(n.min,e);n.max=Math.max(n.max,i)}})}else for(a=0;a<i.length;a++){s=e.getDatasetMeta(a);if(e.isDatasetVisible(a)&&r(s)){h=i[a].data;for(u=0,c=h.length;u<c;u++){l=n._parseValue(h[u]);if(isNaN(l.min)||isNaN(l.max)||s.data[u].hidden||l.min<0||l.max<0)continue;n.min=Math.min(l.min,n.min);n.max=Math.max(l.max,n.max);if(l.min!==0)n.minNotZero=Math.min(l.min,n.minNotZero)}}}n.min=Mt.isFinite(n.min)?n.min:null;n.max=Mt.isFinite(n.max)?n.max:null;n.minNotZero=Mt.isFinite(n.minNotZero)?n.minNotZero:null;this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this;var e=t.options.ticks;var i=1;var n=10;t.min=so(e.min,t.min);t.max=so(e.max,t.max);if(t.min===t.max)if(t.min!==0&&t.min!==null){t.min=Math.pow(10,Math.floor(oo(t.min))-1);t.max=Math.pow(10,Math.floor(oo(t.max))+1)}else{t.min=i;t.max=n}if(t.min===null)t.min=Math.pow(10,Math.floor(oo(t.max))-1);if(t.max===null)t.max=t.min!==0?Math.pow(10,Math.floor(oo(t.min))+1):n;if(t.minNotZero===null)if(t.min>0)t.minNotZero=t.min;else if(t.max<1)t.minNotZero=Math.pow(10,Math.floor(oo(t.max)));else t.minNotZero=i},buildTicks:function(){var t=this;var e=t.options.ticks;var i=!t.isHorizontal();var n={min:so(e.min),max:so(e.max)};var o=t.ticks=ro(n,t);t.max=Mt.max(o);t.min=Mt.min(o);if(e.reverse){i=!i;t.start=t.max;t.end=t.min}else{t.start=t.min;t.end=t.max}if(i)o.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();Un.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;if(t<0||t>e.length-1)return null;return this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(oo(t));var i=Math.floor(t/Math.pow(10,e));return i*Math.pow(10,e)},_configure:function(){var t=this;var e=t.min;var i=0;Un.prototype._configure.call(t);if(e===0){e=t._getFirstTickValue(t.minNotZero);i=no(t.options.ticks.fontSize,pt.global.defaultFontSize)/t._length}t._startValue=oo(e);t._valueOffset=i;t._valueRange=(oo(t.max)-oo(e))/(1-i)},getPixelForValue:function(t){var e=this;var i=0;t=+e.getRightValue(t);if(t>e.min&&t>0)i=(oo(t)-e._startValue)/e._valueRange+e._valueOffset;return e.getPixelForDecimal(i)},getValueForPixel:function(t){var e=this;var i=e.getDecimalForPixel(t);return i===0&&e.min===0?0:Math.pow(10,e._startValue+(i-e._valueOffset)*e._valueRange)}}),ho;lo._defaults=ao;var uo=Mt.valueOrDefault,co=Mt.valueAtIndexOrDefault,po=Mt.options.resolve,fo={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:xn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function mo(t){var e=t.ticks;if(e.display&&t.display)return uo(e.fontSize,pt.global.defaultFontSize)+e.backdropPaddingY*2;return 0}function go(t,e,i){if(Mt.isArray(i))return{w:Mt.longestText(t,t.font,i),h:i.length*e};return{w:t.measureText(i).width,h:e}}function vo(t,e,i,n,o){if(t===n||t===o)return{start:e-i/2,end:e+i/2};else if(t<n||t>o)return{start:e-i,end:e};return{start:e,end:e+i}}function _o(t){var e=Mt.options._parseFont(t.options.pointLabels);var i={l:0,r:t.width,t:0,b:t.height-t.paddingTop};var n={};var o,r,a;t.ctx.font=e.string;t._pointLabelSizes=[];var s=t.chart.data.labels.length;for(o=0;o<s;o++){a=t.getPointPosition(o,t.drawingArea+5);r=go(t.ctx,e.lineHeight,t.pointLabels[o]);t._pointLabelSizes[o]=r;var l=t.getIndexAngle(o);var h=Mt.toDegrees(l)%360;var u=vo(h,a.x,r.w,0,180);var c=vo(h,a.y,r.h,90,270);if(u.start<i.l){i.l=u.start;n.l=l}if(u.end>i.r){i.r=u.end;n.r=l}if(c.start<i.t){i.t=c.start;n.t=l}if(c.end>i.b){i.b=c.end;n.b=l}}t.setReductions(t.drawingArea,i,n)}function yo(t){if(t===0||t===180)return"center";else if(t<180)return"left";return"right"}function xo(t,e,i,n){var o=i.y+n/2;var r,a;if(Mt.isArray(e))for(r=0,a=e.length;r<a;++r){t.fillText(e[r],i.x,o);o+=n}else t.fillText(e,i.x,o)}function bo(t,e,i){if(t===90||t===270)i.y-=e.h/2;else if(t>270||t<90)i.y-=e.h}function wo(t){var e=t.ctx;var i=t.options;var n=i.pointLabels;var o=mo(i);var r=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max);var a=Mt.options._parseFont(n);e.save();e.font=a.string;e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=s===0?o/2:0;var h=t.getPointPosition(s,r+l+5);var u=co(n.fontColor,s,pt.global.defaultFontColor);e.fillStyle=u;var c=t.getIndexAngle(s);var d=Mt.toDegrees(c);e.textAlign=yo(d);bo(d,t._pointLabelSizes[s],h);xo(e,t.pointLabels[s],h,a.lineHeight)}e.restore()}function ko(t,e,i,n){var o=t.ctx;var r=e.circular;var a=t.chart.data.labels.length;var s=co(e.color,n-1);var l=co(e.lineWidth,n-1);var h;if(!r&&!a||!s||!l)return;o.save();o.strokeStyle=s;o.lineWidth=l;if(o.setLineDash){o.setLineDash(e.borderDash||[]);o.lineDashOffset=e.borderDashOffset||0}o.beginPath();if(r)o.arc(t.xCenter,t.yCenter,i,0,Math.PI*2);else{h=t.getPointPosition(0,i);o.moveTo(h.x,h.y);for(var u=1;u<a;u++){h=t.getPointPosition(u,i);o.lineTo(h.x,h.y)}}o.closePath();o.stroke();o.restore()}function Lo(t){return Mt.isNumber(t)?t:0}var Mo=Kn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth;t.height=t.maxHeight;t.paddingTop=mo(t.options)/2;t.xCenter=Math.floor(t.width/2);t.yCenter=Math.floor((t.height-t.paddingTop)/2);t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var o=this;var i=o.chart;var r=Number.POSITIVE_INFINITY;var a=Number.NEGATIVE_INFINITY;Mt.each(i.data.datasets,function(t,e){if(i.isDatasetVisible(e)){var n=i.getDatasetMeta(e);Mt.each(t.data,function(t,e){var i=+o.getRightValue(t);if(isNaN(i)||n.data[e].hidden)return;r=Math.min(i,r);a=Math.max(i,a)})}});o.min=r===Number.POSITIVE_INFINITY?0:r;o.max=a===Number.NEGATIVE_INFINITY?0:a;o.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/mo(this.options))},convertTicksToLabels:function(){var e=this;Kn.prototype.convertTicksToLabels.call(e);e.pointLabels=e.chart.data.labels.map(function(){var t=Mt.callback(e.options.pointLabels.callback,arguments,e);return t||t===0?t:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this;var e=t.options;if(e.display&&e.pointLabels.display)_o(t);else t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,i){var n=this;var o=e.l/Math.sin(i.l);var r=Math.max(e.r-n.width,0)/Math.sin(i.r);var a=-e.t/Math.cos(i.t);var s=-Math.max(e.b-(n.height-n.paddingTop),0)/Math.cos(i.b);o=Lo(o);r=Lo(r);a=Lo(a);s=Lo(s);n.drawingArea=Math.min(Math.floor(t-(o+r)/2),Math.floor(t-(a+s)/2));n.setCenterPoint(o,r,a,s)},setCenterPoint:function(t,e,i,n){var o=this;var r=o.width-e-o.drawingArea;var a=t+o.drawingArea;var s=i+o.drawingArea;var l=o.height-o.paddingTop-n-o.drawingArea;o.xCenter=Math.floor((a+r)/2+o.left);o.yCenter=Math.floor((s+l)/2+o.top+o.paddingTop)},getIndexAngle:function(t){var e=this.chart;var i=360/e.data.labels.length;var n=e.options||{};var o=n.startAngle||0;var r=(t*i+o)%360;return(r<0?r+360:r)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(Mt.isNullOrUndef(t))return NaN;var i=e.drawingArea/(e.max-e.min);if(e.options.ticks.reverse)return(e.max-t)*i;return(t-e.min)*i},getPointPosition:function(t,e){var i=this;var n=i.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+i.xCenter,y:Math.sin(n)*e+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this;var i=e.min;var n=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:i<0&&n<0?n:i>0&&n>0?i:0)},_drawGrid:function(){var i=this;var t=i.ctx;var e=i.options;var n=e.gridLines;var o=e.angleLines;var r=uo(o.lineWidth,n.lineWidth);var a=uo(o.color,n.color);var s,l,h;if(e.pointLabels.display)wo(i);if(n.display)Mt.each(i.ticks,function(t,e){if(e!==0){l=i.getDistanceFromCenterForValue(i.ticksAsNumbers[e]);ko(i,n,l,e)}});if(o.display&&r&&a){t.save();t.lineWidth=r;t.strokeStyle=a;if(t.setLineDash){t.setLineDash(po([o.borderDash,n.borderDash,[]]));t.lineDashOffset=po([o.borderDashOffset,n.borderDashOffset,0])}for(s=i.chart.data.labels.length-1;s>=0;s--){l=i.getDistanceFromCenterForValue(e.ticks.reverse?i.min:i.max);h=i.getPointPosition(s,l);t.beginPath();t.moveTo(i.xCenter,i.yCenter);t.lineTo(h.x,h.y);t.stroke()}t.restore()}},_drawLabels:function(){var i=this;var n=i.ctx;var t=i.options;var o=t.ticks;if(!o.display)return;var e=i.getIndexAngle(0);var r=Mt.options._parseFont(o);var a=uo(o.fontColor,pt.global.defaultFontColor);var s,l;n.save();n.font=r.string;n.translate(i.xCenter,i.yCenter);n.rotate(e);n.textAlign="center";n.textBaseline="middle";Mt.each(i.ticks,function(t,e){if(e===0&&!o.reverse)return;s=i.getDistanceFromCenterForValue(i.ticksAsNumbers[e]);if(o.showLabelBackdrop){l=n.measureText(t).width;n.fillStyle=o.backdropColor;n.fillRect(-l/2-o.backdropPaddingX,-s-r.size/2-o.backdropPaddingY,l+o.backdropPaddingX*2,r.size+o.backdropPaddingY*2)}n.fillStyle=a;n.fillText(t,0,-s)});n.restore()},_drawTitle:Mt.noop}),Co;Mo._defaults=fo;var To=Mt._deprecated,Po=Mt.options.resolve,So=Mt.valueOrDefault,Ao=Number.MIN_SAFE_INTEGER||-9007199254740991,Do=Number.MAX_SAFE_INTEGER||9007199254740991,Io={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Oo=Object.keys(Io);function zo(t,e){return t-e}function Eo(t){var e={};var i=[];var n,o,r;for(n=0,o=t.length;n<o;++n){r=t[n];if(!e[r]){e[r]=!0;i.push(r)}}return i}function Bo(t){return Mt.valueOrDefault(t.time.min,t.ticks.min)}function Fo(t){return Mt.valueOrDefault(t.time.max,t.ticks.max)}function Ro(t,e,i,n){if(n==="linear"||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o=[];var r=[e];var a,s,l,h,u;for(a=0,s=t.length;a<s;++a){h=t[a];if(h>e&&h<i)r.push(h)}r.push(i);for(a=0,s=r.length;a<s;++a){u=r[a+1];l=r[a-1];h=r[a];if(l===undefined||u===undefined||Math.round((u+l)/2)!==h)o.push({time:h,pos:a/(s-1)})}return o}function No(t,e,i){var n=0;var o=t.length-1;var r,a,s;while(n>=0&&n<=o){r=n+o>>1;a=t[r-1]||null;s=t[r];if(!a)return{lo:null,hi:s};else if(s[e]<i)n=r+1;else if(a[e]>i)o=r-1;else return{lo:a,hi:s}}return{lo:s,hi:null}}function Uo(t,e,i,n){var o=No(t,e,i);var r=!o.lo?t[0]:!o.hi?t[t.length-2]:o.lo;var a=!o.lo?t[1]:!o.hi?t[t.length-1]:o.hi;var s=a[e]-r[e];var l=s?(i-r[e])/s:0;var h=(a[n]-r[n])*l;return r[n]+h}function Zo(t,e){var i=t._adapter;var n=t.options.time;var o=n.parser;var r=o||n.format;var a=e;if(typeof o==="function")a=o(a);if(!Mt.isFinite(a))a=typeof r==="string"?i.parse(a,r):i.parse(a);if(a!==null)return+a;if(!o&&typeof r==="function"){a=r(e);if(!Mt.isFinite(a))a=i.parse(a)}return a}function jo(t,e){if(Mt.isNullOrUndef(e))return null;var i=t.options.time;var n=Zo(t,t.getRightValue(e));if(n===null)return n;if(i.round)n=+t._adapter.startOf(n,i.round);return n}function Wo(t,e,i,n){var o=Oo.length;var r,a,s;for(r=Oo.indexOf(t);r<o-1;++r){a=Io[Oo[r]];s=a.steps?a.steps:Do;if(a.common&&Math.ceil((i-e)/(s*a.size))<=n)return Oo[r]}return Oo[o-1]}function Ho(t,e,i,n,o){var r,a;for(r=Oo.length-1;r>=Oo.indexOf(i);r--){a=Oo[r];if(Io[a].common&&t._adapter.diff(o,n,a)>=e-1)return a}return Oo[i?Oo.indexOf(i):0]}function Go(t){for(var e=Oo.indexOf(t)+1,i=Oo.length;e<i;++e)if(Io[Oo[e]].common)return Oo[e]}function Vo(t,e,i,n){var o=t._adapter;var r=t.options;var a=r.time;var s=a.unit||Wo(a.minUnit,e,i,n);var l=Po([a.stepSize,a.unitStepSize,1]);var h=s==="week"?a.isoWeekday:!1;var u=e;var c=[];var d;if(h)u=+o.startOf(u,"isoWeek",h);u=+o.startOf(u,h?"day":s);if(o.diff(i,e,s)>1e5*l)throw e+" and "+i+" are too far apart with stepSize of "+l+" "+s;for(d=u;d<i;d=+o.add(d,l,s))c.push(d);if(d===i||r.bounds==="ticks")c.push(d);return c}function qo(t,e,i,n,o){var r=0;var a=0;var s,l;if(o.offset&&e.length){s=Uo(t,"time",e[0],"pos");if(e.length===1)r=1-s;else r=(Uo(t,"time",e[1],"pos")-s)/2;l=Uo(t,"time",e[e.length-1],"pos");if(e.length===1)a=l;else a=(l-Uo(t,"time",e[e.length-2],"pos"))/2}return{start:r,end:a,factor:1/(r+1+a)}}function Ko(t,e,i,n){var o=t._adapter;var r=+o.startOf(e[0].value,n);var a=e[e.length-1].value;var s,l;for(s=r;s<=a;s=+o.add(s,1,n)){l=i[s];if(l>=0)e[l].major=!0}return e}function Jo(t,e,i){var n=[];var o={};var r=e.length;var a,s;for(a=0;a<r;++a){s=e[a];o[s]=a;n.push({value:s,major:!1})}return r===0||!i?n:Ko(t,n,o,i)}var Yo={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Xo=Un.extend({initialize:function(){this.mergeTicksOptions();Un.prototype.initialize.call(this)},update:function(){var t=this;var e=t.options;var i=e.time||(e.time={});var n=t._adapter=new yn._date(e.adapters.date);To("time scale",i.format,"time.format","time.parser");To("time scale",i.min,"time.min","ticks.min");To("time scale",i.max,"time.max","ticks.max");Mt.mergeIf(i.displayFormats,n.formats());return Un.prototype.update.apply(t,arguments)},getRightValue:function(t){if(t&&t.t!==undefined)t=t.t;return Un.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t=this;var e=t.chart;var i=t._adapter;var n=t.options;var o=n.time.unit||"day";var r=Do;var a=Ao;var s=[];var l=[];var h=[];var u,c,d,p,f,m,g;var v=t._getLabels();for(u=0,d=v.length;u<d;++u)h.push(jo(t,v[u]));for(u=0,d=(e.data.datasets||[]).length;u<d;++u)if(e.isDatasetVisible(u)){f=e.data.datasets[u].data;if(Mt.isObject(f[0])){l[u]=[];for(c=0,p=f.length;c<p;++c){m=jo(t,f[c]);s.push(m);l[u][c]=m}}else{l[u]=h.slice(0);if(!g){s=s.concat(h);g=!0}}}else l[u]=[];if(h.length){r=Math.min(r,h[0]);a=Math.max(a,h[h.length-1])}if(s.length){s=d>1?Eo(s).sort(zo):s.sort(zo);r=Math.min(r,s[0]);a=Math.max(a,s[s.length-1])}r=jo(t,Bo(n))||r;a=jo(t,Fo(n))||a;r=r===Do?+i.startOf(Date.now(),o):r;a=a===Ao?+i.endOf(Date.now(),o)+1:a;t.min=Math.min(r,a);t.max=Math.max(r+1,a);t._table=[];t._timestamps={data:s,datasets:l,labels:h}},buildTicks:function(){var t=this;var e=t.min;var i=t.max;var n=t.options;var o=n.ticks;var r=n.time;var a=t._timestamps;var s=[];var l=t.getLabelCapacity(e);var h=o.source;var u=n.distribution;var c,d,p;if(h==="data"||h==="auto"&&u==="series")a=a.data;else if(h==="labels")a=a.labels;else a=Vo(t,e,i,l);if(n.bounds==="ticks"&&a.length){e=a[0];i=a[a.length-1]}e=jo(t,Bo(n))||e;i=jo(t,Fo(n))||i;for(c=0,d=a.length;c<d;++c){p=a[c];if(p>=e&&p<=i)s.push(p)}t.min=e;t.max=i;t._unit=r.unit||(o.autoSkip?Wo(r.minUnit,t.min,t.max,l):Ho(t,s.length,r.minUnit,t.min,t.max));t._majorUnit=!o.major.enabled||t._unit==="year"?undefined:Go(t._unit);t._table=Ro(t._timestamps.data,e,i,u);t._offsets=qo(t._table,s,e,i,n);if(o.reverse)s.reverse();return Jo(t,s,t._majorUnit)},getLabelForIndex:function(t,e){var i=this;var n=i._adapter;var o=i.chart.data;var r=i.options.time;var a=o.labels&&t<o.labels.length?o.labels[t]:"";var s=o.datasets[e].data[t];if(Mt.isObject(s))a=i.getRightValue(s);if(r.tooltipFormat)return n.format(Zo(i,a),r.tooltipFormat);if(typeof a==="string")return a;return n.format(Zo(i,a),r.displayFormats.datetime)},tickFormatFunction:function(t,e,i,n){var o=this;var r=o._adapter;var a=o.options;var s=a.time.displayFormats;var l=s[o._unit];var h=o._majorUnit;var u=s[h];var c=i[e];var d=a.ticks;var p=h&&u&&c&&c.major;var f=r.format(t,n?n:p?u:l);var m=p?d.major:d.minor;var g=Po([m.callback,m.userCallback,d.callback,d.userCallback]);return g?g(f,e,i):f},convertTicksToLabels:function(t){var e=[];var i,n;for(i=0,n=t.length;i<n;++i)e.push(this.tickFormatFunction(t[i].value,i,t));return e},getPixelForOffset:function(t){var e=this;var i=e._offsets;var n=Uo(e._table,"time",t,"pos");return e.getPixelForDecimal((i.start+n)*i.factor)},getPixelForValue:function(t,e,i){var n=this;var o=null;if(e!==undefined&&i!==undefined)o=n._timestamps.datasets[i][e];if(o===null)o=jo(n,t);if(o!==null)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this;var i=e._offsets;var n=e.getDecimalForPixel(t)/i.factor-i.end;var o=Uo(e._table,"pos",n,"time");return e._adapter._create(o)},_getLabelSize:function(t){var e=this;var i=e.options.ticks;var n=e.ctx.measureText(t).width;var o=Mt.toRadians(e.isHorizontal()?i.maxRotation:i.minRotation);var r=Math.cos(o);var a=Math.sin(o);var s=So(i.fontSize,pt.global.defaultFontSize);return{w:n*r+s*a,h:n*a+s*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this;var i=e.options.time;var n=i.displayFormats;var o=n[i.unit]||n.millisecond;var r=e.tickFormatFunction(t,0,Jo(e,[t],e._majorUnit),o);var a=e._getLabelSize(r);var s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h);if(e.options.offset)s--;return s>0?s:1}}),Qo;Xo._defaults=Yo;var $o={category:Wn,linear:eo,logarithmic:lo,radialLinear:Mo,time:Xo},tr={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};yn._date.override(typeof n==="function"?{_id:"moment",formats:function(){return tr},parse:function(t,e){if(typeof t==="string"&&typeof e==="string")t=n(t,e);else if(!(t instanceof n))t=n(t);return t.isValid()?t.valueOf():null},format:function(t,e){return n(t).format(e)},add:function(t,e,i){return n(t).add(e,i).valueOf()},diff:function(t,e,i){return n(t).diff(n(e),i)},startOf:function(t,e,i){t=n(t);if(e==="isoWeek")return t.isoWeekday(i).valueOf();return t.startOf(e).valueOf()},endOf:function(t,e){return n(t).endOf(e).valueOf()},_create:function(t){return n(t)}}:{}),pt._set("global",{plugins:{filler:{propagate:!0}}});var er={dataset:function(t){var e=t.fill;var i=t.chart;var n=i.getDatasetMeta(e);var o=n&&i.isDatasetVisible(e);var r=o&&n.dataset._children||[];var a=r.length||0;return!a?null:function(t,e){return e<a&&r[e]._view||null}},boundary:function(t){var i=t.boundary;var e=i?i.x:null;var n=i?i.y:null;if(Mt.isArray(i))return function(t,e){return i[e]};return function(t){return{x:e===null?t.x:e,y:n===null?t.y:n}}}};function ir(t,e,i){var n=t._model||{};var o=n.fill;var r;if(o===undefined)o=!!n.backgroundColor;if(o===!1||o===null)return!1;if(o===!0)return"origin";r=parseFloat(o,10);if(isFinite(r)&&Math.floor(r)===r){if(o[0]==="-"||o[0]==="+")r=e+r;if(r===e||r<0||r>=i)return!1;return r}switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function nr(t){var e=t.el._model||{};var i=t.el._scale||{};var n=t.fill;var o=null;var r;if(isFinite(n))return null;if(n==="start")o=e.scaleBottom===undefined?i.bottom:e.scaleBottom;else if(n==="end")o=e.scaleTop===undefined?i.top:e.scaleTop;else if(e.scaleZero!==undefined)o=e.scaleZero;else if(i.getBasePixel)o=i.getBasePixel();if(o!==undefined&&o!==null){if(o.x!==undefined&&o.y!==undefined)return o;if(Mt.isFinite(o)){r=i.isHorizontal();return{x:r?o:null,y:r?null:o}}}return null}function or(t){var e=t.el._scale;var i=e.options;var n=e.chart.data.labels.length;var o=t.fill;var r=[];var a,s,l,h,u;if(!n)return null;a=i.ticks.reverse?e.max:e.min;s=i.ticks.reverse?e.min:e.max;l=e.getPointPositionForValue(0,a);for(h=0;h<n;++h){u=o==="start"||o==="end"?e.getPointPositionForValue(h,o==="start"?a:s):e.getBasePosition(h);if(i.gridLines.circular){u.cx=l.x;u.cy=l.y;u.angle=e.getIndexAngle(h)-Math.PI/2}r.push(u)}return r}function rr(t){var e=t.el._scale||{};if(e.getPointPositionForValue)return or(t);return nr(t)}function ar(t,e,i){var n=t[e];var o=n.fill;var r=[e];var a;if(!i)return o;while(o!==!1&&r.indexOf(o)===-1){if(!isFinite(o))return o;a=t[o];if(!a)return!1;if(a.visible)return o;r.push(o);o=a.fill}return!1}function sr(t){var e=t.fill;var i="dataset";if(e===!1)return null;if(!isFinite(e))i="boundary";return er[i](t)}function lr(t){return t&&!t.skip}function hr(t,e,i,n,o){var r,a,s,l;if(!n||!o)return;t.moveTo(e[0].x,e[0].y);for(r=1;r<n;++r)Mt.canvas.lineTo(t,e[r-1],e[r]);if(i[0].angle!==undefined){a=i[0].cx;s=i[0].cy;l=Math.sqrt(Math.pow(i[0].x-a,2)+Math.pow(i[0].y-s,2));for(r=o-1;r>0;--r)t.arc(a,s,l,i[r].angle,i[r-1].angle,!0);return}t.lineTo(i[o-1].x,i[o-1].y);for(r=o-1;r>0;--r)Mt.canvas.lineTo(t,i[r],i[r-1],!0)}function ur(t,e,i,n,o,r){var a=e.length;var s=n.spanGaps;var l=[];var h=[];var u=0;var c=0;var d,p,f,m,g,v,_,y;t.beginPath();for(d=0,p=a;d<p;++d){f=d%a;m=e[f]._view;g=i(m,f,n);v=lr(m);_=lr(g);if(r&&y===undefined&&v){y=d+1;p=a+y}if(v&&_){u=l.push(m);c=h.push(g)}else if(u&&c)if(!s){hr(t,l,h,u,c);u=c=0;l=[];h=[]}else{if(v)l.push(m);if(_)h.push(g)}}hr(t,l,h,u,c);t.closePath();t.fillStyle=o;t.fill()}var cr={id:"filler",afterDatasetsUpdate:function(t,e){var i=(t.data.datasets||[]).length;var n=e.propagate;var o=[];var r,a,s,l;for(a=0;a<i;++a){r=t.getDatasetMeta(a);s=r.dataset;l=null;if(s&&s._model&&s instanceof ce.Line)l={visible:t.isDatasetVisible(a),fill:ir(s,a,i),chart:t,el:s};r.$filler=l;o.push(l)}for(a=0;a<i;++a){l=o[a];if(!l)continue;l.fill=ar(o,a,n);l.boundary=rr(l);l.mapper=sr(l)}},beforeDatasetsDraw:function(t){var e=t._getSortedVisibleDatasetMetas();var i=t.ctx;var n,o,r,a,s,l,h;for(o=e.length-1;o>=0;--o){n=e[o].$filler;if(!n||!n.visible)continue;r=n.el;a=r._view;s=r._children||[];l=n.mapper;h=a.backgroundColor||pt.global.defaultColor;if(l&&h&&s.length){Mt.canvas.clipArea(i,t.chartArea);ur(i,s,l,a,h,r._loop);Mt.canvas.unclipArea(i)}}}},dr=Mt.rtl.getRtlAdapter,pr=Mt.noop,fr=Mt.valueOrDefault;function mr(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}pt._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var i=e.datasetIndex;var n=this.chart;var o=n.getDatasetMeta(i);o.hidden=o.hidden===null?!n.data.datasets[i].hidden:null;n.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(i){var n=i.data.datasets;var t=i.options.legend||{};var o=t.labels&&t.labels.usePointStyle;return i._getSortedDatasetMetas().map(function(t){var e=t.controller.getStyle(o?0:undefined);return{text:n[t.index].label,fillStyle:e.backgroundColor,hidden:!i.isDatasetVisible(t.index),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,rotation:e.rotation,datasetIndex:t.index}},this)}}},legendCallback:function(t){var e=document.createElement("ul");var i=t.data.datasets;var n,o,r,a;e.setAttribute("class",t.id+"-legend");for(n=0,o=i.length;n<o;n++){r=e.appendChild(document.createElement("li"));a=r.appendChild(document.createElement("span"));a.style.backgroundColor=i[n].backgroundColor;if(i[n].label)r.appendChild(document.createTextNode(i[n].label))}return e.outerHTML}});var gr=Ot.extend({initialize:function(t){var e=this;Mt.extend(e,t);e.legendHitBoxes=[];e._hoveredItem=null;e.doughnutMode=!1},beforeUpdate:pr,update:function(t,e,i){var n=this;n.beforeUpdate();n.maxWidth=t;n.maxHeight=e;n.margins=i;n.beforeSetDimensions();n.setDimensions();n.afterSetDimensions();n.beforeBuildLabels();n.buildLabels();n.afterBuildLabels();n.beforeFit();n.fit();n.afterFit();n.afterUpdate();return n.minSize},afterUpdate:pr,beforeSetDimensions:pr,setDimensions:function(){var t=this;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0;t.minSize={width:0,height:0}},afterSetDimensions:pr,beforeBuildLabels:pr,buildLabels:function(){var e=this;var i=e.options.labels||{};var t=Mt.callback(i.generateLabels,[e.chart],e)||[];if(i.filter)t=t.filter(function(t){return i.filter(t,e.chart.data)});if(e.options.reverse)t.reverse();e.legendItems=t},afterBuildLabels:pr,beforeFit:pr,fit:function(){var t=this;var e=t.options;var o=e.labels;var i=e.display;var r=t.ctx;var n=Mt.options._parseFont(o);var a=n.size;var s=t.legendHitBoxes=[];var l=t.minSize;var h=t.isHorizontal();if(h){l.width=t.maxWidth;l.height=i?10:0}else{l.width=i?10:0;l.height=t.maxHeight}if(!i){t.width=l.width=t.height=l.height=0;return}r.font=n.string;if(h){var u=t.lineWidths=[0];var c=0;r.textAlign="left";r.textBaseline="middle";Mt.each(t.legendItems,function(t,e){var i=mr(o,a);var n=i+a/2+r.measureText(t.text).width;if(e===0||u[u.length-1]+n+2*o.padding>l.width){c+=a+o.padding;u[u.length-(e>0?0:1)]=0}s[e]={left:0,top:0,width:n,height:a};u[u.length-1]+=n+o.padding});l.height+=c}else{var d=o.padding;var p=t.columnWidths=[];var f=t.columnHeights=[];var m=o.padding;var g=0;var v=0;Mt.each(t.legendItems,function(t,e){var i=mr(o,a);var n=i+a/2+r.measureText(t.text).width;if(e>0&&v+a+2*d>l.height){m+=g+o.padding;p.push(g);f.push(v);g=0;v=0}g=Math.max(g,n);v+=a+d;s[e]={left:0,top:0,width:n,height:a}});m+=g;p.push(g);f.push(v);l.width+=m}t.width=l.width;t.height=l.height},afterFit:pr,isHorizontal:function(){return this.options.position==="top"||this.options.position==="bottom"},draw:function(){var s=this;var i=s.options;var l=i.labels;var t=pt.global;var h=t.defaultColor;var u=t.elements.line;var c=s.height;var d=s.columnHeights;var p=s.width;var f=s.lineWidths;if(!i.display)return;var m=dr(i.rtl,s.left,s.minSize.width);var g=s.ctx;var e=fr(l.fontColor,t.defaultFontColor);var n=Mt.options._parseFont(l);var v=n.size;var _;g.textAlign=m.textAlign("left");g.textBaseline="middle";g.lineWidth=.5;g.strokeStyle=e;g.fillStyle=e;g.font=n.string;var y=mr(l,v);var x=s.legendHitBoxes;var b=function(t,e,i){if(isNaN(y)||y<=0)return;g.save();var n=fr(i.lineWidth,u.borderWidth);g.fillStyle=fr(i.fillStyle,h);g.lineCap=fr(i.lineCap,u.borderCapStyle);g.lineDashOffset=fr(i.lineDashOffset,u.borderDashOffset);g.lineJoin=fr(i.lineJoin,u.borderJoinStyle);g.lineWidth=n;g.strokeStyle=fr(i.strokeStyle,h);if(g.setLineDash)g.setLineDash(fr(i.lineDash,u.borderDash));if(l&&l.usePointStyle){var o=y*Math.SQRT2/2;var r=m.xPlus(t,y/2);var a=e+v/2;Mt.canvas.drawPoint(g,i.pointStyle,o,r,a,i.rotation)}else{g.fillRect(m.leftForLtr(t,y),e,y,v);if(n!==0)g.strokeRect(m.leftForLtr(t,y),e,y,v)}g.restore()};var w=function(t,e,i,n){var o=v/2;var r=m.xPlus(t,y+o);var a=e+o;g.fillText(i.text,r,a);if(i.hidden){g.beginPath();g.lineWidth=2;g.moveTo(r,a);g.lineTo(m.xPlus(r,n),a);g.stroke()}};var k=function(t,e){switch(i.align){case"start":return l.padding;case"end":return t-e;default:return(t-e+l.padding)/2}};var L=s.isHorizontal();if(L)_={x:s.left+k(p,f[0]),y:s.top+l.padding,line:0};else _={x:s.left+l.padding,y:s.top+k(c,d[0]),line:0};Mt.rtl.overrideTextDirection(s.ctx,i.textDirection);var M=v+l.padding;Mt.each(s.legendItems,function(t,e){var i=g.measureText(t.text).width;var n=y+v/2+i;var o=_.x;var r=_.y;m.setWidth(s.minSize.width);if(L){if(e>0&&o+n+l.padding>s.left+s.minSize.width){r=_.y+=M;_.line++;o=_.x=s.left+k(p,f[_.line])}}else if(e>0&&r+M>s.top+s.minSize.height){o=_.x=o+s.columnWidths[_.line]+l.padding;_.line++;r=_.y=s.top+k(c,d[_.line])}var a=m.x(o);b(a,r,t);x[e].left=m.leftForLtr(a,x[e].width);x[e].top=r;w(a,r,t,i);if(L)_.x+=n+l.padding;else _.y+=M});Mt.rtl.restoreTextDirection(s.ctx,i.textDirection)},_getLegendItemAt:function(t,e){var i=this;var n,o,r;if(t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom){r=i.legendHitBoxes;for(n=0;n<r.length;++n){o=r[n];if(t>=o.left&&t<=o.left+o.width&&e>=o.top&&e<=o.top+o.height)return i.legendItems[n]}}return null},handleEvent:function(t){var e=this;var i=e.options;var n=t.type==="mouseup"?"click":t.type;var o;if(n==="mousemove"){if(!i.onHover&&!i.onLeave)return}else if(n==="click"){if(!i.onClick)return}else return;o=e._getLegendItemAt(t.x,t.y);if(n==="click"){if(o&&i.onClick)i.onClick.call(e,t.native,o)}else{if(i.onLeave&&o!==e._hoveredItem){if(e._hoveredItem)i.onLeave.call(e,t.native,e._hoveredItem);e._hoveredItem=o}if(i.onHover&&o)i.onHover.call(e,t.native,o)}}});function vr(t,e){var i=new gr({ctx:t.ctx,options:e,chart:t});ui.configure(t,i,e);ui.addBox(t,i);t.legend=i}var _r={id:"legend",_element:gr,beforeInit:function(t){var e=t.options.legend;if(e)vr(t,e)},beforeUpdate:function(t){var e=t.options.legend;var i=t.legend;if(e){Mt.mergeIf(e,pt.global.legend);if(i){ui.configure(t,i,e);i.options=e}else vr(t,e)}else if(i){ui.removeBox(t,i);delete t.legend}},afterEvent:function(t,e){var i=t.legend;if(i)i.handleEvent(e)}},yr=Mt.noop;pt._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var xr=Ot.extend({initialize:function(t){var e=this;Mt.extend(e,t);e.legendHitBoxes=[]},beforeUpdate:yr,update:function(t,e,i){var n=this;n.beforeUpdate();n.maxWidth=t;n.maxHeight=e;n.margins=i;n.beforeSetDimensions();n.setDimensions();n.afterSetDimensions();n.beforeBuildLabels();n.buildLabels();n.afterBuildLabels();n.beforeFit();n.fit();n.afterFit();n.afterUpdate();return n.minSize},afterUpdate:yr,beforeSetDimensions:yr,setDimensions:function(){var t=this;if(t.isHorizontal()){t.width=t.maxWidth;t.left=0;t.right=t.width}else{t.height=t.maxHeight;t.top=0;t.bottom=t.height}t.paddingLeft=0;t.paddingTop=0;t.paddingRight=0;t.paddingBottom=0;t.minSize={width:0,height:0}},afterSetDimensions:yr,beforeBuildLabels:yr,buildLabels:yr,afterBuildLabels:yr,beforeFit:yr,fit:function(){var t=this;var e=t.options;var i=t.minSize={};var n=t.isHorizontal();var o,r;if(!e.display){t.width=i.width=t.height=i.height=0;return}o=Mt.isArray(e.text)?e.text.length:1;r=o*Mt.options._parseFont(e).lineHeight+e.padding*2;t.width=i.width=n?t.maxWidth:r;t.height=i.height=n?r:t.maxHeight},afterFit:yr,isHorizontal:function(){var t=this.options.position;return t==="top"||t==="bottom"},draw:function(){var t=this;var e=t.ctx;var i=t.options;if(!i.display)return;var n=Mt.options._parseFont(i);var o=n.lineHeight;var r=o/2+i.padding;var a=0;var s=t.top;var l=t.left;var h=t.bottom;var u=t.right;var c,d,p;e.fillStyle=Mt.valueOrDefault(i.fontColor,pt.global.defaultFontColor);e.font=n.string;if(t.isHorizontal()){d=l+(u-l)/2;p=s+r;c=u-l}else{d=i.position==="left"?l+r:u-r;p=s+(h-s)/2;c=h-s;a=Math.PI*(i.position==="left"?-.5:.5)}e.save();e.translate(d,p);e.rotate(a);e.textAlign="center";e.textBaseline="middle";var f=i.text;if(Mt.isArray(f)){var m=0;for(var g=0;g<f.length;++g){e.fillText(f[g],0,m,c);m+=o}}else e.fillText(f,0,0,c);e.restore()}});function br(t,e){var i=new xr({ctx:t.ctx,options:e,chart:t});ui.configure(t,i,e);ui.addBox(t,i);t.titleBlock=i}var wr,kr={},Lr,Mr=_r,Cr={id:"title",_element:xr,beforeInit:function(t){var e=t.options.title;if(e)br(t,e)},beforeUpdate:function(t){var e=t.options.title;var i=t.titleBlock;if(e){Mt.mergeIf(e,pt.global.title);if(i){ui.configure(t,i,e);i.options=e}else br(t,e)}else if(i){ui.removeBox(t,i);delete t.titleBlock}}},Tr;for(Tr in kr.filler=cr,kr.legend=Mr,kr.title=Cr,fn.helpers=Mt,mn(),fn._adapters=yn,fn.Animation=Et,fn.animationService=Bt,fn.controllers=He,fn.DatasetController=jt,fn.defaults=pt,fn.Element=Ot,fn.elements=ce,fn.Interaction=Xe,fn.layouts=ui,fn.platform=Ui,fn.plugins=Zi,fn.Scale=Un,fn.scaleService=ji,fn.Ticks=xn,fn.Tooltip=on,fn.helpers.each($o,function(t,e){fn.scaleService.registerScaleType(e,t,t._defaults)}),kr)if(kr.hasOwnProperty(Tr))fn.plugins.register(kr[Tr]);fn.platform.initialize();var Pr=fn;if(typeof window!=="undefined")window.Chart=fn;return(fn.Chart=fn).Legend=kr.legend._element,fn.Title=kr.title._element,fn.pluginService=fn.plugins,fn.PluginBase=fn.Element.extend({}),fn.canvasHelpers=fn.helpers.canvas,fn.layoutService=fn.layouts,fn.LinearScaleBase=Kn,fn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(i){fn[i]=function(t,e){return new fn(t,fn.helpers.merge(e||{},{type:i.charAt(0).toLowerCase()+i.slice(1)}))}}),Pr}(function(){try{return i(2470)}catch(t){}}())},7310:function(t,e,i){"use strict";t.exports=i(2702).polyfill()},2702:function(t,e,nt){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
t.exports=function(){"use strict";function n(t){var e=typeof t;return t!==null&&(e==="object"||e==="function")}function l(t){return typeof t==="function"}var t=void 0;if(Array.isArray)t=Array.isArray;else t=function(t){return Object.prototype.toString.call(t)==="[object Array]"};var i=t,o=0,e=void 0,r=void 0,a=function t(e,i){x[o]=e;x[o+1]=i;o+=2;if(o===2)if(r)r(b);else k()};function s(t){r=t}function h(t){a=t}var u=typeof window!=="undefined"?window:undefined,c=u||{},d=c.MutationObserver||c.WebKitMutationObserver,p=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]",f=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function m(){return function(){return process.nextTick(b)}}function g(){if(typeof e!=="undefined")return function(){e(b)};return y()}function v(){var t=0;var e=new d(b);var i=document.createTextNode("");e.observe(i,{characterData:!0});return function(){i.data=t=++t%2}}function _(){var t=new MessageChannel;t.port1.onmessage=b;return function(){return t.port2.postMessage(0)}}function y(){var t=setTimeout;return function(){return t(b,1)}}var x=new Array(1e3);function b(){for(var t=0;t<o;t+=2){var e=x[t];var i=x[t+1];e(i);x[t]=undefined;x[t+1]=undefined}o=0}function w(){try{var t=Function("return this")().require("vertx");e=t.runOnLoop||t.runOnContext;return g()}catch(t){return y()}}var k=void 0;if(p)k=m();else if(d)k=v();else if(f)k=_();else if(u===undefined&&"function"==="function")k=w();else k=y();function L(t,e){var i=this;var n=new this.constructor(T);if(n[C]===undefined)q(n);var o=i._state;if(o){var r=arguments[o-1];a(function(){return W(o,n,r,i._result)})}else Z(i,n,t,e);return n}function M(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e)return t;var i=new e(T);F(i,t);return i}var C=Math.random().toString(36).substring(2);function T(){}var P=void 0,S=1,A=2;function D(){return new TypeError("You cannot resolve a promise with itself")}function I(){return new TypeError("A promises callback cannot return that same promise.")}function O(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function z(t,n,o){a(function(e){var i=!1;var t=O(o,n,function(t){if(i)return;i=!0;if(n!==t)F(e,t);else N(e,t)},function(t){if(i)return;i=!0;U(e,t)},"Settle: "+(e._label||" unknown promise"));if(!i&&t){i=!0;U(e,t)}},t)}function E(e,t){if(t._state===S)N(e,t._result);else if(t._state===A)U(e,t._result);else Z(t,undefined,function(t){return F(e,t)},function(t){return U(e,t)})}function B(t,e,i){if(e.constructor===t.constructor&&i===L&&e.constructor.resolve===M)E(t,e);else if(i===undefined)N(t,e);else if(l(i))z(t,e,i);else N(t,e)}function F(e,t){if(e===t)U(e,D());else if(n(t)){var i=void 0;try{i=t.then}catch(t){U(e,t);return}B(e,t,i)}else N(e,t)}function R(t){if(t._onerror)t._onerror(t._result);j(t)}function N(t,e){if(t._state!==P)return;t._result=e;t._state=S;if(t._subscribers.length!==0)a(j,t)}function U(t,e){if(t._state!==P)return;t._state=A;t._result=e;a(R,t)}function Z(t,e,i,n){var o=t._subscribers;var r=o.length;t._onerror=null;o[r]=e;o[r+S]=i;o[r+A]=n;if(r===0&&t._state)a(j,t)}function j(t){var e=t._subscribers;var i=t._state;if(e.length===0)return;var n=void 0,o=void 0,r=t._result;for(var a=0;a<e.length;a+=3){n=e[a];o=e[a+i];if(n)W(i,n,o,r);else o(r)}t._subscribers.length=0}function W(t,e,i,n){var o=l(i),r=void 0,a=void 0,s=!0;if(o){try{r=i(n)}catch(t){s=!1;a=t}if(e===r){U(e,I());return}}else r=n;if(e._state!==P);else if(o&&s)F(e,r);else if(s===!1)U(e,a);else if(t===S)N(e,r);else if(t===A)U(e,r)}function H(i,t){try{t(function t(e){F(i,e)},function t(e){U(i,e)})}catch(t){U(i,t)}}var G=0;function V(){return G++}function q(t){t[C]=G++;t._state=undefined;t._result=undefined;t._subscribers=[]}function K(){return new Error("Array Methods must be provided an Array")}var J=function(){function t(t,e){this._instanceConstructor=t;this.promise=new t(T);if(!this.promise[C])q(this.promise);if(i(e)){this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0)N(this.promise,this._result);else{this.length=this.length||0;this._enumerate(e);if(this._remaining===0)N(this.promise,this._result)}}else U(this.promise,K())}t.prototype._enumerate=function t(e){for(var i=0;this._state===P&&i<e.length;i++)this._eachEntry(e[i],i)};t.prototype._eachEntry=function t(e,i){var n=this._instanceConstructor;var o=n.resolve;if(o===M){var r=void 0;var a=void 0;var s=!1;try{r=e.then}catch(t){s=!0;a=t}if(r===L&&e._state!==P)this._settledAt(e._state,i,e._result);else if(typeof r!=="function"){this._remaining--;this._result[i]=e}else if(n===et){var l=new n(T);if(s)U(l,a);else B(l,e,r);this._willSettleAt(l,i)}else this._willSettleAt(new n(function(t){return t(e)}),i)}else this._willSettleAt(o(e),i)};t.prototype._settledAt=function t(e,i,n){var o=this.promise;if(o._state===P){this._remaining--;if(e===A)U(o,n);else this._result[i]=n}if(this._remaining===0)N(o,this._result)};t.prototype._willSettleAt=function t(e,i){var n=this;Z(e,undefined,function(t){return n._settledAt(S,i,t)},function(t){return n._settledAt(A,i,t)})};return t}();function Y(t){return new J(this,t).promise}function X(o){var r=this;if(i(o))return new r(function(t,e){for(var i=o.length,n=0;n<i;n++)r.resolve(o[n]).then(t,e)});else return new r(function(t,e){return e(new TypeError("You must pass an array to race."))})}function Q(t){var e=new this(T);return U(e,t),e}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function tt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var et=function(){function e(t){this[C]=V();this._result=this._state=undefined;this._subscribers=[];if(T!==t){typeof t!=="function"&&$();this instanceof e?H(this,t):tt()}}e.prototype.catch=function t(e){return this.then(null,e)};e.prototype.finally=function t(e){var i=this;var n=i.constructor;if(l(e))return i.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})});return i.then(e,e)};return e}();function it(){var t=void 0;if(void 0!==nt.g)t=nt.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=et}return et.prototype.then=L,et.all=function(t){return new J(this,t).promise},et.race=function(o){var r=this;return i(o)?new r(function(t,e){for(var i=o.length,n=0;n<i;n++)r.resolve(o[n]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},et.resolve=M,et.reject=function(t){var e=new this(T);return U(e,t),e},et._setScheduler=function(t){r=t},et._setAsap=function(t){a=t},et._asap=a,et.polyfill=function(){var t=void 0;if(void 0!==nt.g)t=nt.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=et},et.Promise=et}()},4144:function(t,e){var i,n;i=[e,t],void 0===(n="function"==typeof(n=function(t,e){"use strict";var i={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function c(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function d(e){try{delete window[e]}catch(t){window[e]=undefined}}function p(t){var e=document.getElementById(t);if(e)document.getElementsByTagName("head")[0].removeChild(e)}function n(r){var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var s=r;var l=a.timeout||i.timeout;var h=a.jsonpCallback||i.jsonpCallback;var u=undefined;return new Promise(function(t,e){var i=a.jsonpCallbackFunction||c();var n=h+"_"+i;window[i]=function(e){t({ok:!0,json:function t(){return Promise.resolve(e)}});if(u)clearTimeout(u);p(n);d(i)};s+=s.indexOf("?")===-1?"?":"&";var o=document.createElement("script");o.setAttribute("src",""+s+h+"="+i);if(a.charset)o.setAttribute("charset",a.charset);o.id=n;document.getElementsByTagName("head")[0].appendChild(o);u=setTimeout(function(){e(new Error("JSONP request to "+r+" timed out"));d(i);p(n);window[i]=function(){d(i)}},l);o.onerror=function(){e(new Error("JSONP request to "+r+" failed"));d(i);p(n);if(u)clearTimeout(u)}})}e.exports=n})?n.apply(e,i):n)||(t.exports=n)},7977:function(t,e,i){var n=i(5243),o=i(4144),r=i(5568);var a=["Aerial","AerialWithLabels","AerialWithLabelsOnDemand","Road","RoadOnDemand","CanvasLight","CanvasDark","CanvasGray","OrdnanceSurvey"],s=["AerialWithLabelsOnDemand","RoadOnDemand"];n.TileLayer.Bing=n.TileLayer.extend({options:{bingMapsKey:null,imagerySet:"Aerial",culture:"en-US",minZoom:1,minNativeZoom:1,maxNativeZoom:19},statics:{METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}?key={bingMapsKey}&include=ImageryProviders&uriScheme=https&c={culture}",POINT_METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}/{lat},{lng}?zl={z}&key={bingMapsKey}&uriScheme=https&c={culture}"},initialize:function(t){if((t="string"==typeof t?{bingMapsKey:t}:t)&&t.BingMapsKey&&(t.bingMapsKey=t.BingMapsKey,console.warn("use options.bingMapsKey instead of options.BingMapsKey")),!t||!t.bingMapsKey)throw new Error("Must supply options.BingMapsKey");if(t=n.setOptions(this,t),a.indexOf(t.imagerySet)<0)throw new Error("'"+t.imagerySet+"' is an invalid imagerySet, see https://github.com/digidem/leaflet-bing-layer#parameters");t&&t.style&&s.indexOf(t.imagerySet)<0&&console.warn("Dynamic styles will only work with these imagerySet choices: "+s.join(", "));t=n.Util.template(n.TileLayer.Bing.METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,culture:this.options.culture});this._imageryProviders=[],this._attributions=[],this._fetch=o(t,{jsonpCallback:"jsonp"}).then(function(t){return t.json()}).then(this._metaDataOnLoad.bind(this)).catch(console.error.bind(console)),n.Browser.android||this.on("tileunload",this._onTileRemove)},createTile:function(t,e){var i=document.createElement("img");return n.DomEvent.on(i,"load",n.bind(this._tileOnLoad,this,e,i)),n.DomEvent.on(i,"error",n.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",this._url?i.src=this.getTileUrl(t):this._fetch.then(function(){i.src=this.getTileUrl(t)}.bind(this)).catch(function(t){console.error(t),e(t)}),i},getTileUrl:function(t){var e=function(t,e,i){for(var n="",o=i;0<o;o--){var r=0,a=1<<o-1;0!=(t&a)&&r++,0!=(e&a)&&(r+=2),n+=r.toString()}return n}(t.x,t.y,t.z),t=n.Util.template(this._url,{quadkey:e,subdomain:this._getSubdomain(t),culture:this.options.culture});return"string"==typeof this.options.style&&(t+="&st="+this.options.style),t},onAdd:function(e){e.on("moveend",this._updateAttribution,this),n.TileLayer.prototype.onAdd.call(this,e),this._attributions.forEach(function(t){e.attributionControl.addAttribution(t)})},onRemove:function(e){e.off("moveend",this._updateAttribution,this),this._attributions.forEach(function(t){e.attributionControl.removeAttribution(t)}),n.TileLayer.prototype.onRemove.call(this,e)},getMetaData:function(t,e){if(!(this._map||t&&e))return Promise.reject(new Error("If layer is not attached to map, you must provide LatLng and zoom"));t=t||this._map.getCenter(),e=e||this._map.getZoom();t=n.Util.template(n.TileLayer.Bing.POINT_METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,z:e,lat:t.lat,lng:t.lng});return o(t,{jsonpCallback:"jsonp"}).then(function(t){return t.json()}).catch(console.error.bind(console))},_metaDataOnLoad:function(t){if(200!==t.statusCode)throw new Error("Bing Imagery Metadata error: \n"+JSON.stringify(t,null,"  "));t=t.resourceSets[0].resources[0];return this._url=t.imageUrl,this._imageryProviders=t.imageryProviders||[],this.options.subdomains=t.imageUrlSubdomains,this._updateAttribution(),Promise.resolve()},_updateAttribution:function(){var t,n,e,o=this._map;o&&o.attributionControl&&(t=o.getZoom(),n=[(e=(e=o.getBounds().toBBoxString()).split(","))[1],e[0],e[3],e[2]],this._fetch.then(function(){var e=this._getAttributions(n,t),i=this._attributions;e.forEach(function(t){-1<i.indexOf(t)||o.attributionControl.addAttribution(t)}),i.filter(function(t){-1<e.indexOf(t)||o.attributionControl.removeAttribution(t)}),this._attributions=e}.bind(this)))},_getAttributions:function(n,o){return this._imageryProviders.reduce(function(t,e){for(var i=0;i<e.coverageAreas.length;i++)if(r(n,e.coverageAreas[i].bbox)&&o>=e.coverageAreas[i].zoomMin&&o<=e.coverageAreas[i].zoomMax)return t.push(e.attribution),t;return t},[])}}),n.tileLayer.bing=function(t){return new n.TileLayer.Bing(t)},t.exports=n.TileLayer.Bing},5356:function(t,e,i){var n;n=[i(5243)],void 0===(i="function"==typeof(i=function(u){u.Map.mergeOptions({contextmenuItems:[]}),u.Map.ContextMenu=u.Handler.extend({_touchstart:u.Browser.msPointer?"MSPointerDown":u.Browser.pointer?"pointerdown":"touchstart",statics:{BASE_CLS:"leaflet-contextmenu"},initialize:function(t){u.Handler.prototype.initialize.call(this,t);this._items=[];this._visible=!1;var e=this._container=u.DomUtil.create("div",u.Map.ContextMenu.BASE_CLS,t._container);e.style.zIndex=1e4;e.style.position="absolute";if(t.options.contextmenuWidth)e.style.width=t.options.contextmenuWidth+"px";this._createItems();u.DomEvent.on(e,"click",u.DomEvent.stop).on(e,"mousedown",u.DomEvent.stop).on(e,"dblclick",u.DomEvent.stop).on(e,"contextmenu",u.DomEvent.stop)},addHooks:function(){var t=this._map.getContainer();u.DomEvent.on(t,"mouseleave",this._hide,this).on(document,"keydown",this._onKeyDown,this);if(u.Browser.touch)u.DomEvent.on(document,this._touchstart,this._hide,this);this._map.on({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},removeHooks:function(){var t=this._map.getContainer();u.DomEvent.off(t,"mouseleave",this._hide,this).off(document,"keydown",this._onKeyDown,this);if(u.Browser.touch)u.DomEvent.off(document,this._touchstart,this._hide,this);this._map.off({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},showAt:function(t,e){if(t instanceof u.LatLng)t=this._map.latLngToContainerPoint(t);this._showAtPoint(t,e)},hide:function(){this._hide()},addItem:function(t){return this.insertItem(t)},insertItem:function(t,e){e=e!==undefined?e:this._items.length;var i=this._createItem(this._container,t,e);this._items.push(i);this._sizeChanged=!0;this._map.fire("contextmenu.additem",{contextmenu:this,el:i.el,index:e});return i.el},removeItem:function(t){var e=this._container;if(!isNaN(t))t=e.children[t];if(t){this._removeItem(u.Util.stamp(t));this._sizeChanged=!0;this._map.fire("contextmenu.removeitem",{contextmenu:this,el:t});return t}return null},removeAllItems:function(){var t=this._container.children,e;while(t.length){e=t[0];this._removeItem(u.Util.stamp(e))}return t},hideAllItems:function(){var t,e,i;for(e=0,i=this._items.length;e<i;e++){t=this._items[e];t.el.style.display="none"}},showAllItems:function(){var t,e,i;for(e=0,i=this._items.length;e<i;e++){t=this._items[e];t.el.style.display=""}},setDisabled:function(t,e){var i=this._container,n=u.Map.ContextMenu.BASE_CLS+"-item";if(!isNaN(t))t=i.children[t];if(t&&u.DomUtil.hasClass(t,n))if(e){u.DomUtil.addClass(t,n+"-disabled");this._map.fire("contextmenu.disableitem",{contextmenu:this,el:t})}else{u.DomUtil.removeClass(t,n+"-disabled");this._map.fire("contextmenu.enableitem",{contextmenu:this,el:t})}},isVisible:function(){return this._visible},_createItems:function(){var t=this._map.options.contextmenuItems,e,i,n;for(i=0,n=t.length;i<n;i++)this._items.push(this._createItem(this._container,t[i]))},_createItem:function(t,e,i){if(e.separator||e==="-")return this._createSeparator(t,i);var n=u.Map.ContextMenu.BASE_CLS+"-item",o=e.disabled?n+" "+n+"-disabled":n,r=this._insertElementAt("a",o,t,i),a=this._createEventHandler(r,e.callback,e.context,e.hideOnSelect),s=this._getIcon(e),l=this._getIconCls(e),h="";if(s)h='<img class="'+u.Map.ContextMenu.BASE_CLS+'-icon" src="'+s+'"/>';else if(l)h='<span class="'+u.Map.ContextMenu.BASE_CLS+"-icon "+l+'"></span>';r.innerHTML=h+e.text;r.href="#";u.DomEvent.on(r,"mouseover",this._onItemMouseOver,this).on(r,"mouseout",this._onItemMouseOut,this).on(r,"mousedown",u.DomEvent.stopPropagation).on(r,"click",a);if(u.Browser.touch)u.DomEvent.on(r,this._touchstart,u.DomEvent.stopPropagation);if(!u.Browser.pointer)u.DomEvent.on(r,"click",this._onItemMouseOut,this);return{id:u.Util.stamp(r),el:r,callback:a}},_removeItem:function(t){var e,i,n,o,r;for(n=0,o=this._items.length;n<o;n++){e=this._items[n];if(e.id===t){i=e.el;r=e.callback;if(r){u.DomEvent.off(i,"mouseover",this._onItemMouseOver,this).off(i,"mouseover",this._onItemMouseOut,this).off(i,"mousedown",u.DomEvent.stopPropagation).off(i,"click",r);if(u.Browser.touch)u.DomEvent.off(i,this._touchstart,u.DomEvent.stopPropagation);if(!u.Browser.pointer)u.DomEvent.on(i,"click",this._onItemMouseOut,this)}this._container.removeChild(i);this._items.splice(n,1);return e}}return null},_createSeparator:function(t,e){var i=this._insertElementAt("div",u.Map.ContextMenu.BASE_CLS+"-separator",t,e);return{id:u.Util.stamp(i),el:i}},_createEventHandler:function(e,i,n,o){var r=this,a=this._map,s=u.Map.ContextMenu.BASE_CLS+"-item-disabled",o=o!==undefined?o:!0;return function(t){if(u.DomUtil.hasClass(e,s))return;if(o)r._hide();if(i)i.call(n||a,r._showLocation);r._map.fire("contextmenu.select",{contextmenu:r,el:e})}},_insertElementAt:function(t,e,i,n){var o,r=document.createElement(t);r.className=e;if(n!==undefined)o=i.children[n];if(o)i.insertBefore(r,o);else i.appendChild(r);return r},_show:function(t){this._showAtPoint(t.containerPoint,t)},_showAtPoint:function(t,e){if(this._items.length){var i=this._map,n=i.containerPointToLayerPoint(t),o=i.layerPointToLatLng(n),r=u.extend(e||{},{contextmenu:this});this._showLocation={latlng:o,layerPoint:n,containerPoint:t};if(e&&e.relatedTarget)this._showLocation.relatedTarget=e.relatedTarget;this._setPosition(t);if(!this._visible){this._container.style.display="block";this._visible=!0}this._map.fire("contextmenu.show",r)}},_hide:function(){if(this._visible){this._visible=!1;this._container.style.display="none";this._map.fire("contextmenu.hide",{contextmenu:this})}},_getIcon:function(t){return u.Browser.retina&&t.retinaIcon||t.icon},_getIconCls:function(t){return u.Browser.retina&&t.retinaIconCls||t.iconCls},_setPosition:function(t){var e=this._map.getSize(),i=this._container,n=this._getElementSize(i),o;if(this._map.options.contextmenuAnchor){o=u.point(this._map.options.contextmenuAnchor);t=t.add(o)}i._leaflet_pos=t;if(t.x+n.x>e.x){i.style.left="auto";i.style.right=Math.min(Math.max(e.x-t.x,0),e.x-n.x-1)+"px"}else{i.style.left=Math.max(t.x,0)+"px";i.style.right="auto"}if(t.y+n.y>e.y){i.style.top="auto";i.style.bottom=Math.min(Math.max(e.y-t.y,0),e.y-n.y-1)+"px"}else{i.style.top=Math.max(t.y,0)+"px";i.style.bottom="auto"}},_getElementSize:function(t){var e=this._size,i=t.style.display;if(!e||this._sizeChanged){e={};t.style.left="-999999px";t.style.right="auto";t.style.display="block";e.x=t.offsetWidth;e.y=t.offsetHeight;t.style.left="auto";t.style.display=i;this._sizeChanged=!1}return e},_onKeyDown:function(t){var e=t.keyCode;if(e===27)this._hide()},_onItemMouseOver:function(t){u.DomUtil.addClass(t.target||t.srcElement,"over")},_onItemMouseOut:function(t){u.DomUtil.removeClass(t.target||t.srcElement,"over")}}),u.Map.addInitHook("addHandler","contextmenu",u.Map.ContextMenu),u.Mixin.ContextMenu={bindContextMenu:function(t){u.setOptions(this,t);this._initContextMenu();return this},unbindContextMenu:function(){this.off("contextmenu",this._showContextMenu,this);return this},addContextMenuItem:function(t){this.options.contextmenuItems.push(t)},removeContextMenuItemWithIndex:function(t){var e=[];for(var i=0;i<this.options.contextmenuItems.length;i++)if(this.options.contextmenuItems[i].index==t)e.push(i);var n=e.pop();while(n!==undefined){this.options.contextmenuItems.splice(n,1);n=e.pop()}},replaceContextMenuItem:function(t){this.removeContextMenuItemWithIndex(t.index);this.addContextMenuItem(t)},_initContextMenu:function(){this._items=[];this.on("contextmenu",this._showContextMenu,this)},_showContextMenu:function(t){var e,i,n,o,r;if(this._map.contextmenu){i=u.extend({relatedTarget:this},t);n=this._map.mouseEventToContainerPoint(t.originalEvent);if(!this.options.contextmenuInheritItems)this._map.contextmenu.hideAllItems();for(o=0,r=this.options.contextmenuItems.length;o<r;o++){e=this.options.contextmenuItems[o];this._items.push(this._map.contextmenu.insertItem(e,e.index))}this._map.once("contextmenu.hide",this._hideContextMenu,this);this._map.contextmenu.showAt(n,i)}},_hideContextMenu:function(){var t,e;for(t=0,e=this._items.length;t<e;t++)this._map.contextmenu.removeItem(this._items[t]);this._items.length=0;if(!this.options.contextmenuInheritItems)this._map.contextmenu.showAllItems()}};var t=[u.Marker,u.Path],e={contextmenu:!1,contextmenuItems:[],contextmenuInheritItems:!0},i,n,o;for(n=0,o=t.length;n<o;n++){i=t[n];if(!i.prototype.options)i.prototype.options=e;else i.mergeOptions(e);i.addInitHook(function(){if(this.options.contextmenu)this._initContextMenu()});i.include(u.Mixin.ContextMenu)}return u.Map.ContextMenu})?i.apply(e,n):i)||(t.exports=i)},810:function(t,e,i){var n,o,r;o=function(n){n.EdgeBuffer={previousMethods:{getTiledPixelBounds:n.GridLayer.prototype._getTiledPixelBounds}},n.GridLayer.include({_getTiledPixelBounds:function(t,e,i){e=n.EdgeBuffer.previousMethods.getTiledPixelBounds.call(this,t,e,i),i=1;return 0<(i=void 0!==this.options.edgeBufferTiles&&null!==this.options.edgeBufferTiles?this.options.edgeBufferTiles:i)&&(i=n.GridLayer.prototype.getTileSize.call(this).multiplyBy(i),e=new n.Bounds(e.min.subtract(i),e.max.add(i))),e}})},r=window,n=[i(5243)],void 0===(i="function"==typeof(i=o)?i.apply(e,n):i)||(t.exports=i),void 0!==r&&r.L&&!r.L.EdgeBuffer&&o(r.L)},8292:function(){L.Control.Fullscreen=L.Control.extend({options:{position:"topleft",title:{false:"View Fullscreen",true:"Exit Fullscreen"}},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-fullscreen leaflet-bar leaflet-control");return this.link=L.DomUtil.create("a","leaflet-control-fullscreen-button leaflet-bar-part",e),this.link.href="#",this._map=t,this._map.on("fullscreenchange",this._toggleTitle,this),this._toggleTitle(),L.DomEvent.on(this.link,"click",this._click,this),e},_click:function(t){L.DomEvent.stopPropagation(t),L.DomEvent.preventDefault(t),this._map.toggleFullscreen(this.options)},_toggleTitle:function(){this.link.title=this.options.title[this._map.isFullscreen()]}}),L.Map.include({isFullscreen:function(){return this._isFullscreen||!1},toggleFullscreen:function(t){var e=this.getContainer();this.isFullscreen()?t&&t.pseudoFullscreen?this._disablePseudoFullscreen(e):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this._disablePseudoFullscreen(e):t&&t.pseudoFullscreen?this._enablePseudoFullscreen(e):e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():this._enablePseudoFullscreen(e)},_enablePseudoFullscreen:function(t){L.DomUtil.addClass(t,"leaflet-pseudo-fullscreen"),this._setFullscreen(!0),this.fire("fullscreenchange")},_disablePseudoFullscreen:function(t){L.DomUtil.removeClass(t,"leaflet-pseudo-fullscreen"),this._setFullscreen(!1),this.fire("fullscreenchange")},_setFullscreen:function(t){this._isFullscreen=t;var e=this.getContainer();t?L.DomUtil.addClass(e,"leaflet-fullscreen-on"):L.DomUtil.removeClass(e,"leaflet-fullscreen-on"),this.invalidateSize()},_onFullscreenChange:function(t){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;e!==this.getContainer()||this._isFullscreen?e!==this.getContainer()&&this._isFullscreen&&(this._setFullscreen(!1),this.fire("fullscreenchange")):(this._setFullscreen(!0),this.fire("fullscreenchange"))}}),L.Map.mergeOptions({fullscreenControl:!1}),L.Map.addInitHook(function(){var t,e;this.options.fullscreenControl&&(this.fullscreenControl=new L.Control.Fullscreen(this.options.fullscreenControl),this.addControl(this.fullscreenControl)),"onfullscreenchange"in document?t="fullscreenchange":"onmozfullscreenchange"in document?t="mozfullscreenchange":"onwebkitfullscreenchange"in document?t="webkitfullscreenchange":"onmsfullscreenchange"in document&&(t="MSFullscreenChange"),t&&(e=L.bind(this._onFullscreenChange,this),this.whenReady(function(){L.DomEvent.on(document,t,e)}),this.on("unload",function(){L.DomEvent.off(document,t,e)}))}),L.control.fullscreen=function(t){return new L.Control.Fullscreen(t)}},5830:function(t,e){!function(t){"use strict";var n={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var e=!1,i=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(t){"movestart"==t.type||"move"==t.type?e=!0:"moveend"==t.type&&(e=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var t=this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac?this._map.options.gestureHandlingOptions.text:(i=this._getUserLanguage(),(t=n[i=i||"en"]?n[i]:t)||-1===i.indexOf("-")||(i=i.split("-")[0],t=n[i]),t||n[i="en"]),e=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(e=!0);var i=t.scroll;e&&(i=t.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",t.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",i)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(t){for(var e=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],i=!1,n=0;n<e.length;n++)L.DomUtil.hasClass(t.target,e[n])&&(i=!0);i?L.DomUtil.hasClass(t.target,"leaflet-interactive")&&"touchmove"===t.type&&1===t.touches.length?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):"touchmove"===t.type||"touchstart"===t.type?1===t.touches.length?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(t){t.metaKey||t.ctrlKey?(t.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var t=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),e=0;e<t.length;e++)L.DomUtil.removeClass(t[e],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(t){this._enableInteractions()},_handleMouseOut:function(t){e||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",i),t.GestureHandling=i,t.default=i,Object.defineProperty(t,"__esModule",{value:!0})}(e)},7244:function(t,e,i){var n,o,r;o=function(a){var t=a.Control.extend({includes:a.Evented?a.Evented.prototype:a.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(t,e){a.Util.setOptions(this,e),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=t},onAdd:function(t){this._mainMap=t,this._container=a.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",a.DomEvent.disableClickPropagation(this._container),a.DomEvent.on(this._container,"mousewheel",a.DomEvent.stopPropagation);t={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:t.options.crs},t=a.Util.extend(this.options.mapOptions,t);return this._miniMap=new a.Map(this._container,t),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(a.Util.bind(function(){this._aimingRect=a.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=a.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(t){a.Control.prototype.addTo.call(this,t);t=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(t,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(t,e,i,n,o,r){n=a.DomUtil.create("a",i,n);n.innerHTML=t,n.href="#",n.title=e;e=a.DomEvent.stopPropagation;return a.DomEvent.on(n,"click",e).on(n,"mousedown",e).on(n,"dblclick",e).on(n,"click",a.DomEvent.preventDefault).on(n,"click",o,r),n},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){var e;this._miniMapMoving?this._miniMapMoving=!1:(e=this.options.centerFixed||this._mainMap.getCenter(),this._mainMapMoving=!0,this._miniMap.setView(e,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())),this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){var e,i;this.options.centerFixed||(i=this._aimingRect.getBounds(),e=this._miniMap.latLngToContainerPoint(i.getSouthWest()),i=this._miniMap.latLngToContainerPoint(i.getNorthEast()),this._lastAimingRectPosition={sw:e,ne:i})},_onMiniMapMoving:function(t){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new a.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var e,i=this._miniMap.getZoom()-this._mainMap.getZoom(),t=this._miniMap.getZoom()-this.options.zoomLevelOffset;return i>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(e=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):e=this._mainMap.getZoom():e=t,this._lastMiniMapZoom=this._miniMap.getZoom(),e},_decideMinimized:function(){return!this._userToggledDisplay&&this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){a.Util.requestAnimFrame(function(){a.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),a.Browser.any3d||a.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){a.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var t={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",t),this.fire("toggle",t)}});return a.Map.mergeOptions({miniMapControl:!1}),a.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new t).addTo(this))}),t},r=window,n=[i(5243)],void 0===(i="function"==typeof(i=o)?i.apply(e,n):i)||(t.exports=i),void 0!==r&&r.L&&(r.L.Control.MiniMap=o(L),r.L.control.minimap=function(t,e){return new r.L.Control.MiniMap(t,e)})},9627:function(){!function(){"use strict";function e(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}var a=Symbol("newer"),s=Symbol("older");function l(t,e){this.key=t,this.value=e,this[a]=void 0,this[s]=void 0}function t(t){this.entry=t}function i(t){this.entry=t}function n(t){this.entry=t}e.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[a]&&(t===this.oldest&&(this.oldest=t[a]),t[a][s]=t[s]),t[s]&&(t[s][a]=t[a]),t[a]=void 0,t[s]=this.newest,this.newest&&(this.newest[a]=t),this.newest=t)},e.prototype.assign=function(t){var e,i=this.limit||Number.MAX_VALUE;this._keymap.clear();for(var n=t[Symbol.iterator](),o=n.next();!o.done;o=n.next()){var r=new l(o.value[0],o.value[1]);if(this._keymap.set(r.key,r),e?(e[a]=r)[s]=e:this.oldest=r,e=r,0==i--)throw new Error("overflow")}this.newest=e,this.size=this._keymap.size},e.prototype.get=function(t){t=this._keymap.get(t);if(t)return this._markEntryAsUsed(t),t.value},e.prototype.set=function(t,e){var i=this._keymap.get(t);return i?(i.value=e,this._markEntryAsUsed(i)):(this._keymap.set(t,i=new l(t,e)),this.newest?(this.newest[a]=i)[s]=this.newest:this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift()),this},e.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[a]?(this.oldest=this.oldest[a],this.oldest[s]=void 0):(this.oldest=void 0,this.newest=void 0),t[a]=t[s]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},e.prototype.find=function(t){t=this._keymap.get(t);return t?t.value:void 0},e.prototype.has=function(t){return this._keymap.has(t)},e.prototype.delete=function(t){t=this._keymap.get(t);if(t)return this._keymap.delete(t.key),t[a]&&t[s]?(t[s][a]=t[a],t[a][s]=t[s]):t[a]?(t[a][s]=void 0,this.oldest=t[a]):t[s]?(t[s][a]=void 0,this.newest=t[s]):this.oldest=this.newest=void 0,this.size--,t.value},e.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},e.prototype.keys=function(){return new i(this.oldest)},e.prototype.values=function(){return new n(this.oldest)},e.prototype.entries=function(){return this},e.prototype[Symbol.iterator]=function(){return new t(this.oldest)},e.prototype.forEach=function(t,e){"object"!=typeof e&&(e=this);for(var i=this.oldest;i;)t.call(e,i.value,i.key,this),i=i[a]},e.prototype.toJSON=function(){for(var t=new Array(this.size),e=0,i=this.oldest;i;)t[e++]={key:i.key,value:i.value},i=i[a];return t},e.prototype.toString=function(){for(var t="",e=this.oldest;e;)t+=String(e.key)+":"+e.value,(e=e[a])&&(t+=" < ");return t},t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){var t=this.entry;return t?(this.entry=t[a],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){var t=this.entry;return t?(this.entry=t[a],{done:!1,value:t.key}):{done:!0,value:void 0}},n.prototype[Symbol.iterator]=function(){return this},n.prototype.next=function(){var t=this.entry;return t?(this.entry=t[a],{done:!1,value:t.value}):{done:!0,value:void 0}};var o=new Promise(function(t,e){var i=0,n=null,n=setInterval(function(){return 20<=i?(clearInterval(n),e(new Error("window.google not found after 10 seconds"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(n),t(window.google)):void++i},500)});L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:21,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(t){L.GridLayer.prototype.initialize.call(this,t),this._isMounted=!0,this.once("spawned",function(){if(this._subLayers)for(var t in this._subLayers)this._subLayers[t].setMap(this._mutant)}),this._tileCallbacks={},this._lru=new e(100),this._imagesPerTile="hybrid"===this.options.type?2:1,this._boundOnMutatedImage=this._onMutatedImage.bind(this)},onAdd:function(e){var i=this;L.GridLayer.prototype.onAdd.call(this,e),this._initMutantContainer(),this._logoContainer&&e._controlCorners.bottomleft.appendChild(this._logoContainer),this._attributionContainer&&e._controlCorners.bottomright.appendChild(this._attributionContainer),o.then(function(){var t;i._isMounted&&(i._ready=!0,i._initMutant(),(e=i._map)&&(t=i.options.updateWhenIdle?"moveend":"move",e.on(t,i._update,i),i.once("remove",function(){this._map.off(t,this._update,this)}),google.maps.event.addListenerOnce(i._mutant,"idle",function(){i._map&&(i._checkZoomLevels(),i._mutantIsReady=!0)}),i._update()))})},onRemove:function(t){L.GridLayer.prototype.onRemove.call(this,t),this._observer.disconnect(),t._container.removeChild(this._mutantContainer),this._logoContainer&&L.DomUtil.remove(this._logoContainer),this._attributionContainer&&L.DomUtil.remove(this._attributionContainer),google.maps.event.clearListeners(t,"idle"),this._mutant&&google.maps.event.clearListeners(this._mutant,"idle"),t.off("move moveend",this._update,this),this._isMounted=!1},addGoogleLayer:function(e,i){var n=this;return this._subLayers||(this._subLayers={}),o.then(function(){var t=new google.maps[e](i);n._mutant&&t.setMap(n._mutant),n._subLayers[e]=t}),this},removeGoogleLayer:function(e){var i=this;return o.then(function(){var t=i._subLayers&&i._subLayers[e];t&&(t.setMap(null),delete i._subLayers[e])}),this},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex=800,this._mutantContainer.style.pointerEvents="none",L.DomEvent.off(this._mutantContainer)),this._map.getContainer().appendChild(this._mutantContainer),this.setOpacity(this.options.opacity);var t=this._mutantContainer.style;this.options.zoomSnap<1?(t.width="150%",t.height="150%"):(t.width="100%",t.height="100%"),t.zIndex=-1,this._attachObserver(this._mutantContainer)},_initMutant:function(){var t,i=this;this._mutant||(t=new google.maps.Map(this._mutantContainer,{center:{lat:0,lng:0},zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"}),this._mutant=t,google.maps.event.addListenerOnce(t,"idle",function(){for(var t=i._mutantContainer.querySelectorAll("a"),e=0;e<t.length;++e)t[e].style.pointerEvents="auto"}),this.fire("spawned",{mapObject:t}))},_attachObserver:function(t){this._observer||(this._observer=new MutationObserver(this._onMutations.bind(this))),this._observer.observe(t,{childList:!0,subtree:!0}),Array.prototype.forEach.call(t.querySelectorAll("img"),this._boundOnMutatedImage)},_onMutations:function(t){for(var e=0;e<t.length;++e)for(var i=t[e],n=0;n<i.addedNodes.length;++n){var o,r=i.addedNodes[n];r instanceof HTMLImageElement?this._onMutatedImage(r):r instanceof HTMLElement&&(Array.prototype.forEach.call(r.querySelectorAll("img"),this._boundOnMutatedImage),"white"===r.style.backgroundColor&&L.DomUtil.remove(r),0===r.textContent.indexOf("For development purposes only")&&L.DomUtil.remove(r),Array.prototype.forEach.call(r.querySelectorAll('div[draggable=false][style*="text-align: center"]'),L.DomUtil.remove),(0<r.querySelectorAll(".gmnoprint").length||0<r.querySelectorAll('a[title="Click to see this area on Google Maps"]').length)&&(o=this._attributionContainer=L.DomUtil.create("div","leaflet-control leaflet-control-attribution"),L.DomEvent.disableClickPropagation(o),o.style.height="14px",o.style.background="none",this._map._controlCorners.bottomright.appendChild(o),o.appendChild(r)),1e6==r.style.zIndex&&(this._map._controlCorners.bottomleft.appendChild(r),this._logoContainer=r))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(e){var t,i=e.src.match(this._roadRegexp),n=0;i?(t={z:i[1],x:i[2],y:i[3]},1<this._imagesPerTile&&(n=e.style.zIndex=1)):((i=e.src.match(this._satRegexp))&&(t={x:i[1],y:i[2],z:i[3]}),n=0),t?(t=this._tileCoordsToKey(t),e.style.position="absolute",e.style.visibility="hidden",n=t+"/"+n,this._lru.set(n,e),n in this._tileCallbacks&&this._tileCallbacks[n]&&(this._tileCallbacks[n].forEach(function(t){return t(e)}),delete this._tileCallbacks[n])):e.src.match(this._staticRegExp)&&(e.style.visibility="hidden")},createTile:function(t,i){var e=this._tileCoordsToKey(t),n=L.DomUtil.create("div");n.style.textAlign="left",n.dataset.pending=this._imagesPerTile,i=i.bind(this,null,n);for(var o=0;o<this._imagesPerTile;++o){var r=e+"/"+o,a=this._lru.get(r);a?(n.appendChild(this._clone(a)),--n.dataset.pending):(this._tileCallbacks[r]=this._tileCallbacks[r]||[],this._tileCallbacks[r].push(function(e){return function(t){e.appendChild(this._clone(t)),--e.dataset.pending,parseInt(e.dataset.pending)||i()}.bind(this)}.bind(this)(n)))}return parseInt(n.dataset.pending)||L.Util.requestAnimFrame(i),n},_clone:function(t){t=t.cloneNode(!0);return t.style.visibility="visible",t},_checkZoomLevels:function(){var t=this._map.getZoom(),e=this._mutant.getZoom();t&&e&&(e!==t||e>this.options.maxNativeZoom)&&this._setMaxNativeZoom(e)},_setMaxNativeZoom:function(t){t!==this.options.maxNativeZoom&&(this.options.maxNativeZoom=t,this._resetView())},_update:function(){var t,e,i;this._mutant&&(i=this._map.getCenter(),t=new google.maps.LatLng(i.lat,i.lng),e=Math.round(this._map.getZoom()),i=this._mutant.getZoom(),this._mutant.setCenter(t),e!==i&&(this._mutant.setZoom(e),this._mutantIsReady&&this._checkZoomLevels())),L.GridLayer.prototype._update.call(this)},_resize:function(){var t=this.options.zoomSnap<1?1.5:1,t=this._map.getSize().multiplyBy(t);this._mutantContainer.style.width===t.x&&this._mutantContainer.style.height===t.y||(this.setElementSize(this._mutantContainer,t),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){var t;this._mutant&&(t=this._map.getCenter(),t=new google.maps.LatLng(t.lat,t.lng),this._mutant.setCenter(t),this._mutant.setZoom(Math.round(this._map.getZoom())))}}),L.gridLayer.googleMutant=function(t){return new L.GridLayer.GoogleMutant(t)}}()},687:function(t,e,i){var n,o,r;
/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/
o=function(s){function i(e,i,t){(t=t.split(" ")).forEach(function(t){s.DomUtil[e].call(this,i,t)})}function e(t,e){i("addClass",t,e)}function n(t,e){i("removeClass",t,e)}var t=s.Marker.extend({initialize:function(t,e){s.Util.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon:function(){var t=this.options,e="";void 0!==t.color&&(e+="stroke:"+t.color+";"),void 0!==t.weight&&(e+="stroke-width:"+t.weight+";"),void 0!==t.fillColor&&(e+="fill:"+t.fillColor+";"),void 0!==t.fillOpacity&&(e+="fill-opacity:"+t.fillOpacity+";"),void 0!==t.opacity&&(e+="opacity:"+t.opacity+";");e=this._getIconSVG(t,e);this._locationIcon=s.divIcon({className:e.className,html:e.svg,iconSize:[e.w,e.h]}),this.setIcon(this._locationIcon)},_getIconSVG:function(t,e){var i=t.radius,n=i+t.weight,t=2*n;return{className:"leaflet-control-locate-location",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+t+'" version="1.1" viewBox="-'+n+" -"+n+" "+t+" "+t+'"><circle r="'+i+'" style="'+e+'" /></svg>',w:t,h:t}},setStyle:function(t){s.Util.setOptions(this,t),this.createIcon()}}),o=t.extend({initialize:function(t,e,i){s.Util.setOptions(this,i),this._latlng=t,this._heading=e,this.createIcon()},setHeading:function(t){this._heading=t},_getIconSVG:function(t,e){var i=t.radius,n=t.width+t.weight,i=2*(i+t.depth+t.weight),t="M0,0 l"+t.width/2+","+t.depth+" l-"+n+",0 z";return{className:"leaflet-control-locate-heading",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+i+'" version="1.1" viewBox="-'+n/2+" 0 "+n+" "+i+'" style="'+("transform: rotate("+this._heading+"deg)")+'"><path d="'+t+'" style="'+e+'" /></svg>',w:n,h:i}}}),o=s.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds:function(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:t,compassClass:o,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,e){t=s.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);return t.title=e.strings.title,t.role="button",t.href="#",{link:t,icon:s.DomUtil.create(e.iconElementTag,e.icon,t)}},onLocationError:function(t,e){alert(t.message)},onLocationOutsideMapBounds:function(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var e in t)"object"==typeof this.options[e]?s.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=s.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=s.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=s.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd:function(t){var e=s.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new s.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;t=this.options.createButtonCallback(e,this.options);return this._link=t.link,this._icon=t.icon,s.DomEvent.on(this._link,"click",function(t){s.DomEvent.stopPropagation(t),s.DomEvent.preventDefault(t),this._onClick()},this).on(this._link,"dblclick",s.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick:function(){this._justClicked=!0;var t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){var e=this.options.clickBehavior,i=e.outOfView;switch(i=e[i=this._map.getBounds().contains(this._event.latlng)?t?e.inView:e.inViewNotFollowing:i]?e[i]:i){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing:function(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate:function(){var t,e,i;this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),!this.options.showCompass||((t="ondeviceorientationabsolute"in window)||"ondeviceorientation"in window)&&(e=this,i=function(){s.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)},DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(t){"granted"===t&&i()}):i()))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?s.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&s.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView:function(){var t;this._drawMarker(),this._isOutsideMapBounds()?(this._event=void 0,this.options.onLocationOutsideMapBounds(this)):this._justClicked&&!1!==this.options.initialZoomLevel?(t=this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel):this.options.keepCurrentZoomLevel?(t=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]):(t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds,this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom}),s.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this))},_drawCompass:function(){var t,e;this._event&&(t=this._event.latlng,this.options.showCompass&&t&&null!==this._compassHeading&&(e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle,this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)),!this._compass||this.options.showCompass&&null!==this._compassHeading||(this._compass.removeFrom(this._layer),this._compass=null))},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,e,i,n=this._event.accuracy,o=this._event.latlng;this.options.drawCircle&&(t=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle,this._circle?this._circle.setLatLng(o).setRadius(n).setStyle(t):this._circle=s.circle(o,n,t).addTo(this._layer)),i=this.options.metric?(e=n.toFixed(0),this.options.strings.metersUnit):(e=(3.2808399*n).toFixed(0),this.options.strings.feetUnit),this.options.drawMarker&&(n=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle,this._marker?(this._marker.setLatLng(o),this._marker.setStyle&&this._marker.setStyle(n)):this._marker=new this.options.markerClass(o,n).addTo(this._layer)),this._drawCompass();var r=this.options.strings.popup;function a(){return"string"==typeof r?s.Util.template(r,{distance:e,unit:i}):"function"==typeof r?r({distance:e,unit:i}):r}this.options.showPopup&&r&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(o),this.options.showPopup&&r&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(o)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading:function(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,s.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration:function(){this._setCompassHeading()},_onDeviceOrientation:function(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError:function(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound:function(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":this._userPanned||this._userZoomed||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom:function(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd:function(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:"untilPanOrZoom"===this.options.setView?!this._userPanned&&!this._userZoomed:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(n(this._container,"active following"),e(this._container,"requesting"),n(this._icon,this.options.icon),e(this._icon,this.options.iconLoading)):"active"==t?(n(this._container,"requesting following"),e(this._container,"active"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)):"following"==t&&(n(this._container,"requesting"),e(this._container,"active following"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon))},_cleanClasses:function(){s.DomUtil.removeClass(this._container,"requesting"),s.DomUtil.removeClass(this._container,"active"),s.DomUtil.removeClass(this._container,"following"),n(this._icon,this.options.iconLoading),e(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return s.control.locate=function(t){return new s.Control.Locate(t)},o},r=window,n=[i(5243)],void 0===(i="function"==typeof(i=o)?i.apply(e,n):i)||(t.exports=i),void 0!==r&&r.L&&(r.L.Control.Locate=o(L))},5732:function(t,e){!function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):(t.getLatLng?this._map?t.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow())):(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t})):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t})),this)},addLayers:function(i,n){if(!L.Util.isArray(i))return this.addLayer(i);var o,r=this._featureGroup,a=this._nonPointGroup,s=this.options.chunkedLoading,l=this.options.chunkInterval,h=this.options.chunkProgress,u=i.length,c=0,d=!0;if(this._map){var p=(new Date).getTime(),f=L.bind(function(){for(var t=(new Date).getTime();c<u;c++){if(s&&c%200==0){var e=(new Date).getTime()-t;if(l<e)break}(o=i[c])instanceof L.LayerGroup?(d&&(i=i.slice(),d=!1),this._extractNonGroupLayers(o,i),u=i.length):o.getLatLng?this.hasLayer(o)||(this._addLayer(o,this._maxZoom),n||this.fire("layeradd",{layer:o}),o.__parent&&2===o.__parent.getChildCount()&&(e=(e=o.__parent.getAllChildMarkers())[0]===o?e[1]:e[0],r.removeLayer(e))):(a.addLayer(o),n||this.fire("layeradd",{layer:o}))}h&&h(c,u,(new Date).getTime()-p),c===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)},this);f()}else for(var t=this._needsClustering;c<u;c++)(o=i[c])instanceof L.LayerGroup?(d&&(i=i.slice(),d=!1),this._extractNonGroupLayers(o,i),u=i.length):o.getLatLng?this.hasLayer(o)||t.push(o):a.addLayer(o);return this},removeLayers:function(t){var e,i=t.length,n=this._featureGroup,o=this._nonPointGroup,r=!0;if(!this._map){for(l=0;l<i;l++)(e=t[l])instanceof L.LayerGroup?(r&&(t=t.slice(),r=!1),this._extractNonGroupLayers(e,t),i=t.length):(this._arraySplice(this._needsClustering,e),o.removeLayer(e),this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}));return this}if(this._unspiderfy){this._unspiderfy();for(var a=t.slice(),s=i,l=0;l<s;l++)(e=a[l])instanceof L.LayerGroup?(this._extractNonGroupLayers(e,a),s=a.length):this._unspiderfyLayer(e)}for(l=0;l<i;l++)(e=t[l])instanceof L.LayerGroup?(r&&(t=t.slice(),r=!1),this._extractNonGroupLayers(e,t),i=t.length):e.__parent?(this._removeLayer(e,!0,!0),this.fire("layerremove",{layer:e}),n.hasLayer(e)&&(n.removeLayer(e),e.clusterShow&&e.clusterShow())):(o.removeLayer(e),this.fire("layerremove",{layer:e}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;0<=e;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,o,r=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;0<=n;n--){for(i=!0,o=a.length-1;0<=o;o--)if(a[o].layer===r[n]){i=!1;break}i&&t.call(e,r[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var e=[];return this.eachLayer(function(t){e.push(t)}),e},getLayer:function(e){var i=null;return e=parseInt(e,10),this.eachLayer(function(t){L.stamp(t)===e&&(i=t)}),i},hasLayer:function(t){if(!t)return!1;for(var e=this._needsClustering,i=e.length-1;0<=i;i--)if(e[i]===t)return!0;for(i=(e=this._needsRemoving).length-1;0<=i;i--)if(e[i].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;0<=i;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());o<=e&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){var e;this._ignoreMove||t.target.__dragStart||(e=t.target._popup&&t.target._popup.isOpen(),this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup())},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,h=t.__parent,u=h._markers;for(this._arraySplice(u,t);h&&(h._childCount--,h._boundsNeedUpdate=!0,!(h._zoom<s));)e&&h._childCount<=1?(l=h._markers[0]===t?h._markers[1]:h._markers[0],n[h._zoom].removeObject(h,a.project(h._cLatLng,h._zoom)),o[h._zoom].addObject(l,a.project(l.getLatLng(),h._zoom)),this._arraySplice(h.__parent._childClusters,h),h.__parent._markers.push(l),l.__parent=h.__parent,h._icon&&(r.removeLayer(h),i||r.addLayer(l))):h._iconNeedsUpdate=!0,h=h.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),t=" marker-cluster-";return t+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+t,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),2<t.layer.getChildCount()&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){var t;this._inZoomAnimation||(t=this._getExpandedVisibleBounds(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t)},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n="function"!=typeof i?function(){return i}:i;null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;e<=o;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n=this._gridClusters,o=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);r<=e;e--){i=this._map.project(t.getLatLng(),e);var a=n[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=o[e].getNearObject(i)){var s=a.__parent;s&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);n[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l;for(var h=t.__parent=l,u=e-1;u>s._zoom;u--)h=new this._markerCluster(this,u,h),n[u].addObject(h,this._map.project(a.getLatLng(),u));return s._addChild(h),void this._removeFromGridUnclustered(a,e)}o[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){e===t?this._featureGroup.addLayer(t):2===e._childCount?(e._addToMap(),t=e.getAllChildMarkers(),this._featureGroup.removeLayer(t[0]),this._featureGroup.removeLayer(t[1])):e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(i=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,r){var a,s=this._getExpandedVisibleBounds(),l=this._featureGroup,t=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(s,o,t,function(t){var e,i=t._latlng,n=t._markers;for(s.contains(i)||(i=null),t._isSingleParent()&&o+1===r?(l.removeLayer(t),t._recursivelyAddChildrenToMap(null,r,s)):(t.clusterHide(),t._recursivelyAddChildrenToMap(i,r,s)),a=n.length-1;0<=a;a--)e=n[a],s.contains(e._latlng)||l.removeLayer(e)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,r),l.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(s,o,r,function(t){t._recursivelyRestoreChildPositions(r)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,o,t,function(t){l.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(2<e._childCount?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,i,n){var o=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(o,r,i+1,n);var a=this;this._forceLayout(),e._recursivelyBecomeVisible(o,n),this._enqueue(function(){var t;1===e._childCount?(t=e._markers[0],this._ignoreMove=!0,t.setLatLng(t.getLatLng()),this._ignoreMove=!1,t.clusterShow&&t.clusterShow()):e._recursively(o,n,r,function(t){t._recursivelyRemoveChildrenFromMap(o,r,i+1)}),a._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t,e){t=t||[];for(var i=this._childClusters.length-1;0<=i;i--)this._childClusters[i].getAllChildMarkers(t);for(var n=this._markers.length-1;0<=n;n--)e&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),o=this._zoom+1,i=i.getZoom();0<e.length&&o<n;){o++;for(var r=[],a=0;a<e.length;a++)r=r.concat(e[a]._childClusters);e=r}o<n?this._group._map.setView(this._latlng,o):n<=i?this._group._map.setView(this._latlng,i+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n=this._markers,o=this._childClusters,r=0,a=0,s=this._childCount;if(0!==s){for(this._resetBounds(),t=0;t<n.length;t++)e=n[t]._latlng,this._bounds.extend(e),r+=e.lat,a+=e.lng;for(t=0;t<o.length;t++)(i=o[t])._boundsNeedUpdate&&i._recalculateBounds(),this._bounds.extend(i._bounds),e=i._wLatLng,i=i._childCount,r+=e.lat*i,a+=e.lng*i;this._latlng=this._wLatLng=new L.LatLng(r/s,a/s),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,o,e){this._recursively(t,this._group._map.getMinZoom(),e-1,function(t){for(var e,i=t._markers,n=i.length-1;0<=n;n--)(e=i[n])._icon&&(e._setPos(o),e.clusterHide())},function(t){for(var e,i=t._childClusters,n=i.length-1;0<=n;n--)(e=i[n])._icon&&(e._setPos(o),e.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,i,n,o){this._recursively(e,o,i,function(t){t._recursivelyAnimateChildrenIn(e,t._group._map.latLngToLayerPoint(t.getLatLng()).round(),n),t._isSingleParent()&&n-1===o?(t.clusterShow(),t._recursivelyRemoveChildrenFromMap(e,i,n)):t.clusterHide(),t._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(n,o,r){this._recursively(r,this._group._map.getMinZoom()-1,o,function(t){if(o!==t._zoom)for(var e=t._markers.length-1;0<=e;e--){var i=t._markers[e];r.contains(i._latlng)&&(n&&(i._backupLatlng=i.getLatLng(),i.setLatLng(n),i.clusterHide&&i.clusterHide()),t._group._featureGroup.addLayer(i))}},function(t){t._addToMap(n)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;0<=e;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;0<=n;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;0<=o;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var o,r;this._recursively(t,e-1,i-1,function(t){for(r=t._markers.length-1;0<=r;r--)o=t._markers[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())},function(t){for(r=t._childClusters.length-1;0<=r;r--)o=t._childClusters[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())})},_recursively:function(t,e,i,n,o){var r,a,s=this._childClusters,l=this._zoom;if(e<=l&&(n&&n(this),o&&l===i&&o(this)),l<e||l<i)for(r=s.length-1;0<=r;r--)(a=s[r])._boundsNeedUpdate&&a._recalculateBounds(),t.intersects(a._bounds)&&a._recursively(t,e,i,n,o)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,n=o[n]=o[n]||{},n=n[i]=n[i]||[],i=L.Util.stamp(t);this._objectPoint[i]=e,n.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),e=this._grid,a=e[r]=e[r]||{},s=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=s.length;i<n;i++)if(s[i]===t)return s.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,a,s,l=this._grid;for(i in l)for(n in a=l[i])for(o=0,r=(s=a[n]).length;o<r;o++)t.call(e,s[o])&&(o--,r--)},getNearObject:function(t){for(var e,i,n,o,r,a,s,l=this._getCoord(t.x),h=this._getCoord(t.y),u=this._objectPoint,c=this._sqCellSize,d=null,p=h-1;p<=h+1;p++)if(n=this._grid[p])for(e=l-1;e<=l+1;e++)if(o=n[e])for(i=0,r=o.length;i<r;i++)a=o[i],((s=this._sqDist(u[L.Util.stamp(a)],t))<c||s<=c&&null===d)&&(c=s,d=a);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,t=e.y-t.y;return i*i+t*t}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){for(var i,n,o=0,r=null,a=[],s=e.length-1;0<=s;s--)i=e[s],0<(n=this.getDistant(i,t))&&(a.push(i),o<n&&(o=n,r=i));return{maxPoint:r,newPoints:a}},buildConvexHull:function(t,e){var i=[],e=this.findMostDistantPointFromBaseLine(t,e);return e.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],e.maxPoint],e.newPoints))).concat(this.buildConvexHull([e.maxPoint,t[1]],e.newPoints)):[t[0]]},getConvexHull:function(t){for(var e=!1,i=!1,n=!1,o=!1,r=null,a=null,s=null,l=null,h=null,u=null,c=t.length-1;0<=c;c--){var d=t[c];(!1===e||d.lat>e)&&(e=(r=d).lat),(!1===i||d.lat<i)&&(i=(a=d).lat),(!1===n||d.lng>n)&&(n=(s=d).lng),(!1===o||d.lng<o)&&(o=(l=d).lng)}return h=i!==e?(u=a,r):(u=l,s),[].concat(this.buildConvexHull([u,h],t),this.buildConvexHull([h,u],t))}},L.MarkerCluster.include({getConvexHull:function(){for(var t,e=this.getAllChildMarkers(),i=[],n=e.length-1;0<=n;n--)t=e[n].getLatLng(),i.push(t);return L.QuickHull.getConvexHull(i)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){var t,e;this._group._spiderfied===this||this._group._inZoomAnimation||(t=this.getAllChildMarkers(null,!0),e=this._group._map.latLngToLayerPoint(this._latlng),this._group._unspiderfy(),this._group._spiderfied=this,e=t.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(t.length,e):(e.y+=10,this._generatePointsCircle(t.length,e)),this._animationSpiderfy(t,e))},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,a=[],o=Math.max(o,35);for(a.length=t,i=0;i<t;i++)n=this._circleStartAngle+i*r,a[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){for(var i=this._group.options.spiderfyDistanceMultiplier,n=i*this._spiralLengthStart,o=i*this._spiralFootSeparation,r=i*this._spiralLengthFactor*this._2PI,a=0,s=[],l=s.length=t;0<=l;l--)l<t&&(s[l]=new L.Point(e.x+n*Math.cos(a),e.y+n*Math.sin(a))._round()),n+=r/(a+=o/n+5e-4*l);return s},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers(null,!0);for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;0<=e;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,a=this._group,s=a._map,l=a._featureGroup,h=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,i=0;i<t.length;i++)r=s.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],h),s.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,o,r,a,s,l=this,h=this._group,u=h._map,c=h._featureGroup,d=this._latlng,p=u.latLngToLayerPoint(d),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),g=m.opacity;for(void 0===g&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=g,h._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],s=u.layerPointToLatLng(e[i]),o=new L.Polyline([d,s],m),u.addLayer(o),n._spiderLeg=o,f&&(a=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=a,r.style.strokeDashoffset=a),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),c.addLayer(n),n._setPos&&n._setPos(p);for(h._forceLayout(),h._animationStart(),i=t.length-1;0<=i;i--)s=u.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.clusterShow&&n.clusterShow(),f&&((r=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:g}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,o,r,a=this,s=this._group,l=s._map,h=s._featureGroup,u=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),c=this.getAllChildMarkers(null,!0),d=L.Path.SVG;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),i=c.length-1;0<=i;i--)(e=c[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,r=!0,e._setPos&&(e._setPos(u),r=!1),e.clusterHide&&(e.clusterHide(),r=!1),r&&h.removeLayer(e),d&&(r=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var t=0;for(i=c.length-1;0<=i;i--)(e=c[i])._spiderLeg&&t++;for(i=c.length-1;0<=i;i--)(e=c[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),1<t&&h.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:a,markers:c})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=i}(e)},5243:function(t,e){
/* @preserve
 * Leaflet 1.6.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t){"use strict";var e=Object.freeze;function l(t){for(var e,i,n=1,o=arguments.length;n<o;n++)for(e in i=arguments[n])t[e]=i[e];return t}Object.freeze=function(t){return t};var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function d(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var i=0;function s(t){return t._leaflet_id=t._leaflet_id||++i,t._leaflet_id}function n(t,e,i){var n,o,r=function(){n=!1,o&&(a.apply(i,o),o=!1)},a=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(r,e),n=!0)};return a}function o(t,e,i){var n=e[1],o=e[0],e=n-o;return t===n&&i?t:((t-o)%e+e)%e+o}function h(){return!1}function a(t,e){e=Math.pow(10,void 0===e?6:e);return Math.round(t*e)/e}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return u(t).split(/\s+/)}function p(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?r(t.options):{}),e)t.options[i]=e[i];return t.options}function f(t,e,i){var n,o=[];for(n in t)o.push(encodeURIComponent(i?n.toUpperCase():n)+"="+encodeURIComponent(t[n]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(t,i){return t.replace(m,function(t,e){e=i[e];if(void 0===e)throw new Error("No value provided for variable "+t);return e="function"==typeof e?e(i):e})}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function _(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-b));return b=e+i,window.setTimeout(t,i)}var k=window.requestAnimationFrame||x("RequestAnimationFrame")||w,M=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function C(t,e,i){if(!i||k!==w)return k.call(window,d(t,e));t.call(e)}function T(t){t&&M.call(window,t)}var P=(Object.freeze||Object)({freeze:e,extend:l,create:r,bind:d,lastId:i,stamp:s,throttle:n,wrapNum:o,falseFn:h,formatNum:a,trim:u,splitWords:c,setOptions:p,getParamString:f,template:g,isArray:v,indexOf:_,emptyImageUrl:y,requestFn:k,cancelFn:M,requestAnimFrame:C,cancelAnimFrame:T});function S(){}S.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var i,n=e.__super__=this.prototype,o=r(n);for(i in(o.constructor=e).prototype=o,this)this.hasOwnProperty(i)&&"prototype"!==i&&"__super__"!==i&&(e[i]=this[i]);return t.statics&&(l(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),l.apply(null,[o].concat(t.includes)),delete t.includes),o.options&&(t.options=l(r(o.options),t.options)),l(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){n.callInitHooks&&n.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},S.include=function(t){return l(this.prototype,t),this},S.mergeOptions=function(t){return l(this.prototype.options,t),this},S.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},(Ii={on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else for(var o=0,r=(t=c(t)).length;o<r;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else for(var o=0,r=(t=c(t)).length;o<r;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n);for(var t={fn:e,ctx:i=i===this?void 0:i},o=n,r=0,a=o.length;r<a;r++)if(o[r].fn===e&&o[r].ctx===i)return;o.push(t)},_off:function(t,e,i){var n,o,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,r=n.length;o<r;o++){var a=n[o];if(a.ctx===i&&a.fn===e)return a.fn=h,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,r=n.length;o<r;o++)n[o].fn=h;delete this._events[t]}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,a=o.length;r<a;r++){var s=o[r];s.fn.call(s.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var o=d(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}}).addEventListener=Ii.on,Ii.removeEventListener=Ii.clearAllEventListeners=Ii.off,Ii.addOneTimeEventListener=Ii.once,Ii.fireEvent=Ii.fire,Ii.hasEventListeners=Ii.listens;var A=S.extend(Ii);function D(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var I=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function O(t,e,i){return t instanceof D?t:v(t)?new D(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,e,i)}function z(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function E(t,e){return!t||t instanceof z?t:new z(t,e)}function B(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function F(t,e){return t instanceof B?t:new B(t,e)}function R(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function N(t,e,i){return t instanceof R?t:v(t)&&"object"!=typeof t[0]?3===t.length?new R(t[0],t[1],t[2]):2===t.length?new R(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new R(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new R(t,e,i)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(O(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(O(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=I(this.x),this.y=I(this.y),this},distanceTo:function(t){var e=(t=O(t)).x-this.x,t=t.y-this.y;return Math.sqrt(e*e+t*t)},equals:function(t){return(t=O(t)).x===this.x&&t.y===this.y},contains:function(t){return t=O(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},z.prototype={extend:function(t){return t=O(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new D(this.min.x,this.max.y)},getTopRight:function(){return new D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t=("number"==typeof t[0]||t instanceof D?O:E)(t))instanceof z?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=E(t);var e=this.min,i=this.max,n=t.min,o=t.max,t=o.x>=e.x&&n.x<=i.x,i=o.y>=e.y&&n.y<=i.y;return t&&i},overlaps:function(t){t=E(t);var e=this.min,i=this.max,n=t.min,o=t.max,t=o.x>e.x&&n.x<i.x,i=o.y>e.y&&n.y<i.y;return t&&i},isValid:function(){return!(!this.min||!this.max)}},B.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof R)i=e=t;else{if(!(t instanceof B))return t?this.extend(N(t)||F(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new R(e.lat,e.lng),this._northEast=new R(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,t=Math.abs(e.lng-i.lng)*t;return new B(new R(e.lat-n,e.lng-t),new R(i.lat+n,i.lng+t))},getCenter:function(){return new R((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new R(this.getNorth(),this.getWest())},getSouthEast:function(){return new R(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof R||"lat"in t?N:F)(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof B?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=F(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>=e.lat&&n.lat<=i.lat,i=o.lng>=e.lng&&n.lng<=i.lng;return t&&i},overlaps:function(t){t=F(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),t=o.lat>e.lat&&n.lat<i.lat,i=o.lng>e.lng&&n.lng<i.lng;return t&&i},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}};var U={latLngToPoint:function(t,e){t=this.projection.project(t),e=this.scale(e);return this.transformation._transform(t,e)},pointToLatLng:function(t,e){e=this.scale(e),e=this.transformation.untransform(t,e);return this.projection.unproject(e)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,t=this.scale(t);return new z(this.transformation.transform(e.min,t),this.transformation.transform(e.max,t))},infinite:!(R.prototype={equals:function(t,e){return!!t&&(t=N(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return Z.distance(this,N(t))},wrap:function(){return Z.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,t=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-t],[this.lat+e,this.lng+t])},clone:function(){return new R(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new R(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,e=e.lng-i.lng;if(0==n&&0==e)return t;i=t.getSouthWest(),t=t.getNorthEast();return new B(new R(i.lat-n,i.lng-e),new R(t.lat-n,t.lng-e))}},Z=l({},U,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),i=Math.sin((e.lng-t.lng)*i/2),i=r*r+Math.cos(n)*Math.cos(o)*i*i,i=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i));return this.R*i}}),j={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,i=Math.max(Math.min(i,t.lat),-i),i=Math.sin(i*e);return new D(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new R((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new z([-t,-t],[t,t])}()};function W(t,e,i,n){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function H(t,e,i,n){return new W(t,e,i,n)}W.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new D((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=l({},Z,{code:"EPSG:3857",projection:j,transformation:function(){var t=.5/(Math.PI*j.R);return H(t,.5,-t,.5)}()}),V=l({},G,{code:"EPSG:900913"});function q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function K(t,e){for(var i,n,o,r,a="",s=0,l=t.length;s<l;s++){for(i=0,n=(o=t[s]).length;i<n;i++)a+=(i?"L":"M")+(r=o[i]).x+" "+r.y;a+=e?kt?"z":"x":""}return a||"M0 0"}var J=document.documentElement.style,Y=(Ct="ActiveXObject"in window)&&!document.addEventListener,X="msLaunchUri"in navigator&&!("documentMode"in document),Q=Mt("webkit"),$=Mt("android"),tt=Mt("android 2")||Mt("android 3"),et=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=$&&Mt("Google")&&et<537&&!("AudioNode"in window),nt=!!window.opera,ot=Mt("chrome"),rt=Mt("gecko")&&!Q&&!nt&&!Ct,at=!ot&&Mt("safari"),st=Mt("phantom"),lt="OTransition"in J,ht=0===navigator.platform.indexOf("Win"),ut=Ct&&"transition"in J,ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tt,dt="MozPerspective"in J,pt=!window.L_DISABLE_3D&&(ut||ct||dt)&&!lt&&!st,ft="undefined"!=typeof orientation||Mt("mobile"),mt=ft&&Q,gt=ft&&ct,et=!window.PointerEvent&&window.MSPointerEvent,vt=!(Q||!window.PointerEvent&&!et),_t=!window.L_NO_TOUCH&&(vt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),yt=ft&&nt,J=ft&&rt,xt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),bt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",h,e),window.removeEventListener("testPassiveEventSupport",h,e)}catch(t){}return t},wt=!!document.createElement("canvas").getContext,kt=!(!document.createElementNS||!q("svg").createSVGRect),Lt=!kt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';t=t.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(t){return!1}}();function Mt(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var Ct=(Object.freeze||Object)({ie:Ct,ielt9:Y,edge:X,webkit:Q,android:$,android23:tt,androidStock:it,opera:nt,chrome:ot,gecko:rt,safari:at,phantom:st,opera12:lt,win:ht,ie3d:ut,webkit3d:ct,gecko3d:dt,any3d:pt,mobile:ft,mobileWebkit:mt,mobileWebkit3d:gt,msPointer:et,pointer:vt,touch:_t,mobileOpera:yt,mobileGecko:J,retina:xt,passiveEvents:bt,canvas:wt,svg:kt,vml:Lt}),Tt=et?"MSPointerDown":"pointerdown",Pt=et?"MSPointerMove":"pointermove",St=et?"MSPointerUp":"pointerup",At=et?"MSPointerCancel":"pointercancel",Dt=["INPUT","SELECT","OPTION"],It={},Ot=!1,zt=0;function Et(t,e,i,n){function o(t){Nt(t,r)}var r,a,s,l,h,u;function c(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Nt(t,a)}return"touchstart"===e?(s=t,l=i,h=n,u=d(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Dt.indexOf(t.target.tagName)<0))return;De(t)}Nt(t,l)}),s["_leaflet_touchstart"+h]=u,s.addEventListener(Tt,u,!1),Ot||(document.documentElement.addEventListener(Tt,Bt,!0),document.documentElement.addEventListener(Pt,Ft,!0),document.documentElement.addEventListener(St,Rt,!0),document.documentElement.addEventListener(At,Rt,!0),Ot=!0)):"touchmove"===e?(a=i,(u=t)["_leaflet_touchmove"+n]=c,u.addEventListener(Pt,c,!1)):"touchend"===e&&(r=i,(t=t)["_leaflet_touchend"+n]=o,t.addEventListener(St,o,!1),t.addEventListener(At,o,!1)),this}function Bt(t){It[t.pointerId]=t,zt++}function Ft(t){It[t.pointerId]&&(It[t.pointerId]=t)}function Rt(t){delete It[t.pointerId],zt--}function Nt(t,e){for(var i in t.touches=[],It)t.touches.push(It[i]);t.changedTouches=[t],e(t)}var Ut=et?"MSPointerDown":vt?"pointerdown":"touchstart",Zt=et?"MSPointerUp":vt?"pointerup":"touchend",jt="_leaflet_";function Wt(t,o,e){var r,a,s=!1;function i(t){var e,i;if(vt){if(!X||"mouse"===t.pointerType)return;i=zt}else i=t.touches.length;1<i||(i=(e=Date.now())-(r||e),a=t.touches?t.touches[0]:t,s=0<i&&i<=250,r=e)}function n(t){if(s&&!a.cancelBubble){if(vt){if(!X||"mouse"===t.pointerType)return;var e,i,n={};for(i in a)e=a[i],n[i]=e&&e.bind?e.bind(a):e;a=n}a.type="dblclick",a.button=0,o(a),r=null}}return t[jt+Ut+e]=i,t[jt+Zt+e]=n,t[jt+"dblclick"+e]=o,t.addEventListener(Ut,i,!!bt&&{passive:!1}),t.addEventListener(Zt,n,!!bt&&{passive:!1}),t.addEventListener("dblclick",o,!1),this}function Ht(t,e){var i=t[jt+Ut+e],n=t[jt+Zt+e],e=t[jt+"dblclick"+e];return t.removeEventListener(Ut,i,!!bt&&{passive:!1}),t.removeEventListener(Zt,n,!!bt&&{passive:!1}),X||t.removeEventListener("dblclick",e,!1),this}var Gt,Vt,qt,Kt,Jt,Yt,Xt=pe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qt=pe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$t="webkitTransition"===Qt||"OTransition"===Qt?Qt+"End":"transitionend";function te(t){return"string"==typeof t?document.getElementById(t):t}function ee(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];return"auto"===(i=(!i||"auto"===i)&&document.defaultView?(t=document.defaultView.getComputedStyle(t,null))?t[e]:null:i)?null:i}function ie(t,e,i){t=document.createElement(t);return t.className=e||"",i&&i.appendChild(t),t}function ne(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function re(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ae(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function se(t,e){if(void 0!==t.classList)return t.classList.contains(e);t=ce(t);return 0<t.length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)}function le(t,e){var i;if(void 0!==t.classList)for(var n=c(e),o=0,r=n.length;o<r;o++)t.classList.add(n[o]);else se(t,e)||ue(t,((i=ce(t))?i+" ":"")+e)}function he(t,e){void 0!==t.classList?t.classList.remove(e):ue(t,u((" "+ce(t)+" ").replace(" "+e+" "," ")))}function ue(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ce(t){return void 0===(t=t.correspondingElement?t.correspondingElement:t).className.baseVal?t.className:t.className.baseVal}function de(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function pe(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function fe(t,e,i){e=e||new D(0,0);t.style[Xt]=(ut?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(i?" scale("+i+")":"")}function me(t,e){t._leaflet_pos=e,pt?fe(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ge(t){return t._leaflet_pos||new D(0,0)}function ve(){ke(window,"dragstart",De)}function _e(){Me(window,"dragstart",De)}function ye(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xe(),Jt=(Kt=t).style.outline,t.style.outline="none",ke(window,"keydown",xe))}function xe(){Kt&&(Kt.style.outline=Jt,Jt=Kt=void 0,Me(window,"keydown",xe))}function be(t){for(;t=t.parentNode,!(t.offsetWidth&&t.offsetHeight||t===document.body););return t}function we(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function ke(t,e,i,n){if("object"==typeof e)for(var o in e)Ce(t,o,e[o],i);else for(var r=0,a=(e=c(e)).length;r<a;r++)Ce(t,e[r],i,n);return this}Vt="onselectstart"in document?(Gt=function(){ke(window,"selectstart",De)},function(){Me(window,"selectstart",De)}):(Yt=pe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Gt=function(){var t;Yt&&(t=document.documentElement.style,qt=t[Yt],t[Yt]="none")},function(){Yt&&(document.documentElement.style[Yt]=qt,qt=void 0)}),Q=(Object.freeze||Object)({TRANSFORM:Xt,TRANSITION:Qt,TRANSITION_END:$t,get:te,getStyle:ee,create:ie,remove:ne,empty:oe,toFront:re,toBack:ae,hasClass:se,addClass:le,removeClass:he,setClass:ue,getClass:ce,setOpacity:de,testProp:pe,setTransform:fe,setPosition:me,getPosition:ge,disableTextSelection:Gt,enableTextSelection:Vt,disableImageDrag:ve,enableImageDrag:_e,preventOutline:ye,restoreOutline:xe,getSizedParentNode:be,getScale:we});var Le="_leaflet_events";function Me(t,e,i,n){if("object"==typeof e)for(var o in e)Te(t,o,e[o],i);else if(e)for(var r=0,a=(e=c(e)).length;r<a;r++)Te(t,e[r],i,n);else{for(var s in t[Le])Te(t,s,t[Le][s]);delete t[Le]}return this}function Ce(e,t,i,n){var o=t+s(i)+(n?"_"+s(n):"");if(e[Le]&&e[Le][o])return this;var r=function(t){return i.call(n||e,t||window.event)},a=r;vt&&0===t.indexOf("touch")?Et(e,t,r,o):!_t||"dblclick"!==t||vt&&ot?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",r,!!bt&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(r=function(t){t=t||window.event,Ue(e,t)&&a(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",r,!1)):("click"===t&&$&&(r=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=Be&&i-Be;if(n&&100<n&&n<500||t.target._simulatedClick&&!t._simulated)return Ie(t);Be=i,e(t)}(t,a)}),e.addEventListener(t,r,!1)):"attachEvent"in e&&e.attachEvent("on"+t,r):Wt(e,r,o),e[Le]=e[Le]||{},e[Le][o]=r}function Te(t,e,i,n){var o,r=e+s(i)+(n?"_"+s(n):""),a=t[Le]&&t[Le][r];if(!a)return this;vt&&0===e.indexOf("touch")?(n=(o=t)["_leaflet_"+(i=e)+(n=r)],"touchstart"===i?o.removeEventListener(Tt,n,!1):"touchmove"===i?o.removeEventListener(Pt,n,!1):"touchend"===i&&(o.removeEventListener(St,n,!1),o.removeEventListener(At,n,!1))):!_t||"dblclick"!==e||vt&&ot?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!!bt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a):Ht(t,r),t[Le][r]=null}function Pe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ne(t),this}function Se(t){return Ce(t,"mousewheel",Pe),this}function Ae(t){return ke(t,"mousedown touchstart dblclick",Pe),Ce(t,"click",Re),this}function De(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ie(t){return De(t),Pe(t),this}function Oe(t,e){if(!e)return new D(t.clientX,t.clientY);var i=we(e),n=i.boundingClientRect;return new D((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var ze=ht&&ot?2*window.devicePixelRatio:rt?window.devicePixelRatio:1;function Ee(t){return X?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Be,Fe={};function Re(t){Fe[t.type]=!0}function Ne(t){var e=Fe[t.type];return Fe[t.type]=!1,e}function Ue(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var nt=(Object.freeze||Object)({on:ke,off:Me,stopPropagation:Pe,disableScrollPropagation:Se,disableClickPropagation:Ae,preventDefault:De,stop:Ie,getMousePosition:Oe,getWheelDelta:Ee,fakeStop:Re,skipped:Ne,isExternalTarget:Ue,addListener:ke,removeListener:Me}),Ze=A.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=ge(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){t=this._startPos.add(this._offset.multiplyBy(t));e&&t._round(),me(this._el,t),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),je=A.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(N(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qt&&pt&&!yt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,$t,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,i){if((e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(N(t),e,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i)&&(void 0!==i.animate&&(i.zoom=l({animate:i.animate},i.zoom),i.pan=l({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,i.zoom):this._tryAnimatedPan(t,i.pan)))return clearTimeout(this._sizeTimer),this;return this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(pt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(pt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),n=(t instanceof D?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),n=this.containerPointToLatLng(o.add(n));return this.setView(n,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var i=O(e.paddingTopLeft||e.padding||[0,0]),n=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};n=n.subtract(i).divideBy(2),i=this.project(t.getSouthWest(),o),t=this.project(t.getNorthEast(),o);return{center:this.unproject(i.add(t).divideBy(2).add(n),o),zoom:o}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");t=this._getBoundsCenterZoom(t,e);return this.setView(t.center,t.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){return e=e||{},(t=O(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Ze,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(le(this._mapPane,"leaflet-pan-anim"),i=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend");var i},flyTo:function(n,o,t){if(!1===(t=t||{}).animate||!pt)return this.setView(n,o,t);this._stop();var r=this.project(this.getCenter()),a=this.project(n),e=this.getSize(),s=this._zoom;n=N(n),o=void 0===o?s:o;var l=Math.max(e.x,e.y),i=l*this.getZoomScale(s,o),h=a.distanceTo(r)||1,u=1.42,c=u*u;function d(t){t=(i*i-l*l+(t?-1:1)*c*c*h*h)/(2*(t?i:l)*c*h),t=Math.sqrt(t*t+1)-t;return t<1e-9?-18:Math.log(t)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function g(t){return l*(f(m)*(p(t=m+u*t)/f(t))-p(m))/c}var v=Date.now(),_=(d(1)-m)/u,y=t.duration?1e3*t.duration:1e3*_*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e=(Date.now()-v)/y,i=(i=e,(1-Math.pow(1-i,1.5))*_);e<=1?(this._flyToFrame=C(t,this),this._move(this.unproject(r.add(a.subtract(r).multiplyBy(g(i)/h)),s),this.getScaleZoom(l/(l*(f(m)/f(m+u*i))),s),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){t=this._getBoundsCenterZoom(t,e);return this.flyTo(t.center,t.zoom,e)},setMaxBounds:function(t){return(t=F(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),t=this._limitCenter(i,this._zoom,F(t));return i.equals(t)||this.panTo(t,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=O((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=O(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),a=this.project(t),s=this.getPixelBounds(),l=s.getSize().divideBy(2),o=E([s.min.add(i),s.max.subtract(n)]);return o.contains(a)||(this._enforcingBounds=!0,t=r.subtract(a),s=O(a.x+t.x,a.y+t.y),(a.x<o.min.x||a.x>o.max.x)&&(s.x=r.x-t.x,0<t.x?s.x+=l.x-i.x:s.x-=l.x-n.x),(a.y<o.min.y||a.y>o.max.y)&&(s.y=r.y-t.y,0<t.y?s.y+=l.y-i.y:s.y-=l.y-n.y),this.panTo(this.unproject(s),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),o=n.subtract(o);return o.x||o.y?(t.animate&&t.pan?this.panBy(o):(t.pan&&this._rawPanBy(o),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=d(this._handleGeolocationResponse,this),i=d(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."})},_handleGeolocationResponse:function(t){var e,i=new R(t.coords.latitude,t.coords.longitude),n=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;o.setView&&(e=this.getBoundsZoom(n),this.setView(i,o.maxZoom?Math.min(e,o.maxZoom):e));var r,a={latlng:i,bounds:n,timestamp:t.timestamp};for(r in t.coords)"number"==typeof t.coords[r]&&(a[r]=t.coords[r]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;e=this[t]=new e(this);return this._handlers.push(e),this.options[t]&&e.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ne(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){e=ie("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=F(t),i=O(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),t=this.getSize().subtract(i),i=E(this.project(s,n),this.project(a,n)).getSize(),s=pt?this.options.zoomSnap:1,a=t.x/i.x,i=t.y/i.y,i=e?Math.max(a,i):Math.min(a,i),n=this.getScaleZoom(i,n);return s&&(n=Math.round(n/(s/100))*(s/100),n=e?Math.ceil(n/s)*s:Math.floor(n/s)*s),Math.max(o,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){e=this._getTopLeftPoint(t,e);return new z(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;e=i.zoom(t*i.scale(e));return isNaN(e)?1/0:e},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(N(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(O(t),e)},layerPointToLatLng:function(t){t=O(t).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(t){return this.project(N(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(N(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(N(t),N(e))},containerPointToLayerPoint:function(t){return O(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return O(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){t=this.containerPointToLayerPoint(O(t));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(t)))},mouseEventToContainerPoint:function(t){return Oe(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){t=this._container=te(t);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");ke(t,"scroll",this._onScroll,this),this._containerId=s(t)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&pt,le(t,"leaflet-container"+(_t?" leaflet-touch":"")+(xt?" leaflet-retina":"")+(Y?" leaflet-oldie":"")+(at?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ee(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),me(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(le(t.markerPane,"leaflet-zoom-hide"),le(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){me(this._mapPane,new D(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){me(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?Me:ke;e((this._targets[s(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),pt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=C(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!Ue(r,t))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n=!(n.length||a||o)&&Ue(r,t)?[this]:n},_handleDOMEvent:function(t){var e;this._loaded&&!Ne(t)&&("mousedown"!==(e=t.type)&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||ye(t.target||t.srcElement),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,i){if("click"===t.type&&((o=l({},t)).type="preclick",this._fireDOMEvent(o,o.type,i)),!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e))).length){var n=i[0];"contextmenu"===e&&n.listens(e,!0)&&De(t);var o,r={originalEvent:t};"keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(o=n.getLatLng&&(!n._radius||n._radius<=10),r.containerPoint=o?this.latLngToContainerPoint(n.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=o?n.getLatLng():this.layerPointToLatLng(r.layerPoint));for(var a=0;a<i.length;a++)if(i[a].fire(e,r,!0),r.originalEvent._stopped||!1===i[a].options.bubblingMouseEvents&&-1!==_(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ge(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){i=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,i){i=this._getNewPixelOrigin(i,e);return E([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),o=new z(n.subtract(o),n.add(o)),i=this._getBoundsOffset(o,i,e);return i.round().equals([0,0])?t:this.unproject(n.add(i),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),i=new z(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,i){e=E(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),i=e.min.subtract(t.min),t=e.max.subtract(t.max);return new D(this._rebound(i.x,-t.x),this._rebound(i.y,-t.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=pt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){t=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(t))&&(this.panBy(t,e),!0)},_createAnimProxy:function(){var t=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Xt,i=this._proxy.style[e];fe(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();fe(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),n=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(n))&&(C(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),C(function(){this._moveEnd(!0)},this))}}),We=S.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),t=t._controlCorners[i];return le(e,"leaflet-control"),-1!==i.indexOf("bottom")?t.insertBefore(e,t.firstChild):t.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),st=function(t){return new We(t)};je.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",r=this._controlContainer=ie("div",o+"control-container",this._container);function t(t,e){var i=o+t+" "+o+e;n[t+e]=ie("div",i,r)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ne(this._controlCorners[t]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var He=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return We.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);t=this._getLayer(s(t));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ie("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ae(e),Se(e);var n=this._section=ie("section",t+"-list");i&&(this._map.on("click",this.collapse,this),$||ke(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ie("a",t+"-toggle",e);o.href="#",o.title="Layers",_t?(ke(o,"click",Ie),ke(o,"click",this.expand,this)):ke(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=ie("div",t+"-base",n),this._separator=ie("div",t+"-separator",n),this._overlaysList=ie("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(d(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oe(this._baseLayersList),oe(this._overlaysList),this._layerControlInputs=[];for(var t,e,i,n=0,o=0;o<this._layers.length;o++)i=this._layers[o],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,n+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&1<n,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),t=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;t&&this._map.fire(t,e)},_createRadioElement:function(t,e){t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",e=document.createElement("div");return e.innerHTML=t,e.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers_"+s(this),n),this._layerControlInputs.push(e),e.layerId=s(t.layer),ke(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;n=document.createElement("div");return i.appendChild(n),n.appendChild(e),n.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var r=i.length-1;0<=r;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;0<=o;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Ge=We.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=ie("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){n=ie("a",i,n);return n.innerHTML=t,n.href="#",n.title=e,n.setAttribute("role","button"),n.setAttribute("aria-label",e),Ae(n),ke(n,"click",Ie),ke(n,"click",o,this),ke(n,"click",this._refocusOnMap,this),n},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e),he(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||le(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||le(this._zoomInButton,e)}});je.mergeOptions({zoomControl:!0}),je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ge,this.addControl(this.zoomControl))});var Ve=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=ie("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=ie("div",e,i)),t.imperial&&(this._iScale=ie("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,e=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(e)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i=3.2808399*t;5280<i?(e=i/5280,t=this._getRoundNum(e),this._updateScale(this._iScale,t+" mi",t/e)):(e=this._getRoundNum(i),this._updateScale(this._iScale,e+" ft",e/i))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),t=t/e;return e*(t=10<=t?10:5<=t?5:3<=t?3:2<=t?2:1)}}),qe=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=ie("div","leaflet-control-attribution"),Ae(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(" | ")}}});je.mergeOptions({attributionControl:!0}),je.addInitHook(function(){this.options.attributionControl&&(new qe).addTo(this)}),We.Layers=He,We.Zoom=Ge,We.Scale=Ve,We.Attribution=qe,st.layers=function(t,e,i){return new He(t,e,i)},st.zoom=function(t){return new Ge(t)},st.scale=function(t){return new Ve(t)},st.attribution=function(t){return new qe(t)},(lt=S.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(t,e){return t.addHandler(e,this),this};var Ke,ct={Events:Ii},Je=_t?"touchstart mousedown":"mousedown",Ye={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Xe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Qe=A.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){p(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ke(this._dragStartTarget,Je,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qe._dragging===this&&this.finishDrag(),Me(this._dragStartTarget,Je,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,i;!t._simulated&&this._enabled&&(this._moved=!1,se(this._element,"leaflet-zoom-anim")||Qe._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Qe._dragging=this)._preventOutline&&ye(this._element),ve(),Gt(),this._moving||(this.fire("down"),e=t.touches?t.touches[0]:t,i=be(this._element),this._startPoint=new D(e.clientX,e.clientY),this._parentScale=we(i),ke(document,Xe[t.type],this._onMove,this),ke(document,Ye[t.type],this._onUp,this))))},_onMove:function(t){var e;!t._simulated&&this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:((e=new D((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x||e.y)&&(Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,De(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ge(this._element).subtract(e),le(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,T(this._animRequest),this._lastEvent=t,this._animRequest=C(this._updatePosition,this,!0))))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),me(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe)Me(document,Xe[t],this._onMove,this),Me(document,Ye[t],this._onUp,this);_e(),Vt(),this._moved&&this._moving&&(T(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Qe._dragging=!1}});function $e(t,e){if(!e||!t.length)return t.slice();e*=e;return t=function(t,e){var i=t.length,n=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,o,r){var a,s,l,h=0;for(s=o+1;s<=r-1;s++)l=oi(e[s],e[o],e[r],!0),h<l&&(a=s,h=l);n<h&&(i[a]=1,t(e,i,n,o,a),t(e,i,n,a,r))}(t,n,e,0,i-1);var o,r=[];for(o=0;o<i;o++)n[o]&&r.push(t[o]);return r}(t=function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)(function(t,e){var i=e.x-t.x,t=e.y-t.y;return i*i+t*t})(t[n],t[o])>e&&(i.push(t[n]),o=n);o<r-1&&i.push(t[r-1]);return i}(t,e),e)}function ti(t,e,i){return Math.sqrt(oi(t,e,i,!0))}function ei(t,e,i,n,o){var r,a,s,l=n?Ke:ni(t,i),h=ni(e,i);for(Ke=h;;){if(!(l|h))return[t,e];if(l&h)return!1;s=ni(a=ii(t,e,r=l||h,i,o),i),r===l?(t=a,l=s):(e=a,h=s)}}function ii(t,e,i,n,o){var r,a,s=e.x-t.x,l=e.y-t.y,e=n.min,n=n.max;return 8&i?(r=t.x+s*(n.y-t.y)/l,a=n.y):4&i?(r=t.x+s*(e.y-t.y)/l,a=e.y):2&i?(r=n.x,a=t.y+l*(n.x-t.x)/s):1&i&&(r=e.x,a=t.y+l*(e.x-t.x)/s),new D(r,a,o)}function ni(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function oi(t,e,i,n){var o=e.x,r=e.y,a=i.x-o,s=i.y-r,e=a*a+s*s;return 0<e&&(1<(e=((t.x-o)*a+(t.y-r)*s)/e)?(o=i.x,r=i.y):0<e&&(o+=a*e,r+=s*e)),a=t.x-o,s=t.y-r,n?a*a+s*s:new D(o,r)}function ri(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function ai(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ri(t)}function si(t,e,i){for(var n,o,r,a,s,l,h,u=[1,4,2,8],c=0,d=t.length;c<d;c++)t[c]._code=ni(t[c],e);for(r=0;r<4;r++){for(l=u[r],n=[],c=0,o=(d=t.length)-1;c<d;o=c++)a=t[c],s=t[o],a._code&l?s._code&l||((h=ii(s,a,l,e,i))._code=ni(h,e),n.push(h)):(s._code&l&&((h=ii(s,a,l,e,i))._code=ni(h,e),n.push(h)),n.push(a));t=n}return t}dt=(Object.freeze||Object)({simplify:$e,pointToSegmentDistance:ti,closestPointOnSegment:function(t,e,i){return oi(t,e,i)},clipSegment:ei,_getEdgeIntersection:ii,_getBitCode:ni,_sqClosestPointOnSegment:oi,isFlat:ri,_flat:ai});var mt=(Object.freeze||Object)({clipPolygon:si}),gt={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new R(t.y,t.x)},bounds:new z([-180,-90],[180,90])},li={R:6378137,R_MINOR:6356752.314245179,bounds:new z([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),o=r*Math.sin(n),r=Math.tan(Math.PI/4-n/2)/Math.pow((1-o)/(1+o),r/2),n=-i*Math.log(Math.max(r,1e-10));return new D(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),a=Math.exp(-t.y/n),s=Math.PI/2-2*Math.atan(a),l=0,h=.1;l<15&&1e-7<Math.abs(h);l++)e=r*Math.sin(s),e=Math.pow((1-e)/(1+e),r/2),s+=h=Math.PI/2-2*Math.atan(a*e)-s;return new R(s*i,t.x*i/n)}},J=(Object.freeze||Object)({LonLat:gt,Mercator:li,SphericalMercator:j}),et=l({},Z,{code:"EPSG:3395",projection:li,transformation:function(){var t=.5/(Math.PI*li.R);return H(t,.5,-t,.5)}()}),hi=l({},Z,{code:"EPSG:4326",projection:gt,transformation:H(1/180,1,-1/180,.5)}),ht=l({},U,{projection:gt,transformation:H(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,t=e.lat-t.lat;return Math.sqrt(i*i+t*t)},infinite:!0});U.Earth=Z,U.EPSG3395=et,U.EPSG3857=G,U.EPSG900913=V,U.EPSG4326=hi,U.Simple=ht;var ui=A.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,i=t.target;i.hasLayer(this)&&(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents&&(e=this.getEvents(),i.on(e,this),this.once("remove",function(){i.off(e,this)},this)),this.onAdd(i),this.getAttribution&&i.attributionControl&&i.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),i.fire("layeradd",{layer:this}))}});je.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=s(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?v(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=s(t);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,e=1/0,i=-1/0,n=this._getZoomSpan();for(t in this._zoomBoundLayers)var o=this._zoomBoundLayers[t].options,e=void 0===o.minZoom?e:Math.min(e,o.minZoom),i=void 0===o.maxZoom?i:Math.max(i,o.maxZoom);this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=ui.extend({initialize:function(t,e){var i,n;if(p(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){t=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:s}),di=ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,e=new B;for(t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),pi=S.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}e=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(e,t),e},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"],o=O(n="number"==typeof n?[n,n]:n),n=O("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),n&&(t.style.marginLeft=-n.x+"px",t.style.marginTop=-n.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return xt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),fi=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return fi.imagePath||(fi.imagePath=this._detectIconPath()),(this.options.imagePath||fi.imagePath)+pi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ie("div","leaflet-default-icon-path",document.body),e=ee(t,"background-image")||ee(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),mi=lt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Qe(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),le(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=ge(e._icon),a=i.getPixelBounds(),s=i.getPixelOrigin(),o=E(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));o.contains(r)||(n=O((Math.max(o.max.x,r.x)-o.max.x)/(a.max.x-o.max.x)-(Math.min(o.min.x,r.x)-o.min.x)/(a.min.x-o.min.x),(Math.max(o.max.y,r.y)-o.max.y)/(a.max.y-o.max.y)-(Math.min(o.min.y,r.y)-o.min.y)/(a.min.y-o.min.y)).multiplyBy(n),i.panBy(n,{animate:!1}),this._draggable._newPos._add(n),this._draggable._startPos._add(n),me(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=ge(e._icon),o=e._map.layerPointToLatLng(n);i&&me(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),gi=ui.extend({options:{icon:new fi,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=N(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=N(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),le(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),i=!1;o!==this._shadow&&(this._removeShadow(),i=!0),o&&(le(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&i&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&me(this._icon,t),this._shadow&&me(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mi&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mi(this),t&&this.dragging.enable()))},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&de(this._icon,t),this._shadow&&de(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),vi=ui.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),_i=vi.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=N(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=N(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return vi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),i=[t+i,e+i];this._pxBounds=new z(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),yi=_i.extend({initialize:function(t,e,i){if(p(this,e="number"==typeof e?l({},i,{radius:e}):e),this._latlng=N(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:vi.prototype.setStyle,_project:function(){var t,e,i,n,o,r=this._latlng.lng,a=this._latlng.lat,s=this._map,l=s.options.crs;l.distance===Z.distance?(o=Math.PI/180,t=this._mRadius/Z.R/o,e=s.project([a+t,r]),n=s.project([a-t,r]),i=e.add(n).divideBy(2),n=s.unproject(i).lat,o=Math.acos((Math.cos(t*o)-Math.sin(a*o)*Math.sin(n*o))/(Math.cos(a*o)*Math.cos(n*o)))/o,!isNaN(o)&&0!==o||(o=t/Math.cos(Math.PI/180*a)),this._point=i.subtract(s.getPixelOrigin()),this._radius=isNaN(o)?0:i.x-s.project([n,r-o]).x,this._radiusY=i.y-e.y):(l=l.unproject(l.project(this._latlng).subtract([this._mRadius,0])),this._point=s.latLngToLayerPoint(this._latlng),this._radius=this._point.x-s.latLngToLayerPoint(l).x),this._updateBounds()}}),xi=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,r=oi,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],h=1,u=l.length;h<u;h++){var c=r(t,e=l[h-1],i=l[h],!0);c<n&&(n=c,o=r(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,a=this._rings[0],s=a.length;if(!s)return null;for(e=t=0;t<s-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(i=t=0;t<s-1;t++)if(n=a[t],o=a[t+1],e<(i+=r=n.distanceTo(o)))return r=(i-e)/r,this._map.layerPointToLatLng([o.x-r*(o.x-n.x),o.y-r*(o.y-n.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=N(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ri(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=ri(t),n=0,o=t.length;n<o;n++)i?(e[n]=N(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),t=new D(t,t);this._pxBounds=new z([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(t,e,i){var n,o,r=t[0]instanceof R,a=t.length;if(r){for(o=[],n=0;n<a;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<a;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,i,n,o,r=this._parts,a=0,s=0,l=this._rings.length;a<l;a++)for(e=0,i=(o=this._rings[a]).length;e<i-1;e++)(n=ei(o[e],o[e+1],t,e,!0))&&(r[s]=r[s]||[],r[s].push(n[0]),n[1]===o[e+1]&&e!==i-2||(r[s].push(n[1]),s++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=$e(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,r,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,o=(a=(s=this._parts[i]).length)-1;n<a;o=n++)if((e||0!==n)&&ti(t,s[o],s[n])<=l)return!0;return!1}});xi._flat=ai;var bi=xi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,a,s,l,h=this._rings[0],u=h.length;if(!u)return null;for(t=r=a=s=0,e=u-1;t<u;e=t++)i=h[t],n=h[e],o=i.y*n.x-n.y*i.x,a+=(i.x+n.x)*o,s+=(i.y+n.y)*o,r+=3*o;return l=0===r?h[0]:[a/r,s/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=xi.prototype._convertLatLngs.call(this,t),t=e.length;return 2<=t&&e[0]instanceof R&&e[0].equals(e[t-1])&&e.pop(),e},_setLatLngs:function(t){xi.prototype._setLatLngs.call(this,t),ri(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(ri(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,e=new D(e,e),t=new z(t.min.subtract(e),t.max.add(e));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var i,n=0,o=this._rings.length;n<o;n++)(i=si(this._rings[n],t,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,r,a,s,l,h=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(r=0,a=(l=(e=this._parts[o]).length)-1;r<l;a=r++)i=e[r],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(h=!h);return h||xi.prototype._containsPoint.call(this,t,!0)}}),wi=di.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=v(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=ki(t,r);return a?(a.feature=Ai(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function ki(t,e){var i,n,o,r,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],h=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Mi;if(!s&&!a)return null;switch(a.type){case"Point":return Li(h,t,i=u(s),e);case"MultiPoint":for(o=0,r=s.length;o<r;o++)i=u(s[o]),l.push(Li(h,t,i,e));return new di(l);case"LineString":case"MultiLineString":return n=Ci(s,"LineString"===a.type?0:1,u),new xi(n,e);case"Polygon":case"MultiPolygon":return n=Ci(s,"Polygon"===a.type?1:2,u),new bi(n,e);case"GeometryCollection":for(o=0,r=a.geometries.length;o<r;o++){var c=ki({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);c&&l.push(c)}return new di(l);default:throw new Error("Invalid GeoJSON object.")}}function Li(t,e,i,n){return t?t(e,i):new gi(i,n&&n.markersInheritOptions&&n)}function Mi(t){return new R(t[1],t[0],t[2])}function Ci(t,e,i){for(var n,o=[],r=0,a=t.length;r<a;r++)n=e?Ci(t[r],e-1,i):(i||Mi)(t[r]),o.push(n);return o}function Ti(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function Pi(t,e,i,n){for(var o=[],r=0,a=t.length;r<a;r++)o.push(e?Pi(t[r],e-1,i,n):Ti(t[r],n));return!e&&i&&o.push(o[0]),o}function Si(t,e){return t.feature?l({},t.feature,{geometry:e}):Ai(e)}function Ai(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Di(t,e){return new wi(t,e)}rt={toGeoJSON:function(t){return Si(this,{type:"Point",coordinates:Ti(this.getLatLng(),t)})}},gi.include(rt),yi.include(rt),_i.include(rt),xi.include({toGeoJSON:function(t){var e=!ri(this._latlngs);return Si(this,{type:(e?"Multi":"")+"LineString",coordinates:Pi(this._latlngs,e?1:0,!1,t)})}}),bi.include({toGeoJSON:function(t){var e=!ri(this._latlngs),i=e&&!ri(this._latlngs[0]),t=Pi(this._latlngs,i?2:e?1:0,!0,t);return Si(this,{type:(i?"Multi":"")+"Polygon",coordinates:t=!e?[t]:t})}}),ci.include({toMultiPoint:function(e){var i=[];return this.eachLayer(function(t){i.push(t.toGeoJSON(e).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var i="GeometryCollection"===t,n=[];return this.eachLayer(function(t){t.toGeoJSON&&(t=t.toGeoJSON(e),i?n.push(t.geometry):"FeatureCollection"===(t=Ai(t)).type?n.push.apply(n,t.features):n.push(t))}),i?Si(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Ii=Di,Oi=ui.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=F(e),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&re(this._image),this},bringToBack:function(){return this._map&&ae(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ie("img");le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onload=d(this.fire,this,"load"),e.onerror=d(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fe(this._image,t,e)},_reset:function(){var t=this._image,e=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();me(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){de(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),zi=Oi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ie("video");if(le(e,"leaflet-image-layer"),this._zoomAnimated&&le(e,"leaflet-zoom-animated"),this.options.className&&le(e,this.options.className),e.onselectstart=h,e.onmousemove=h,e.onloadeddata=d(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],o=0;o<i.length;o++)n.push(i[o].src);this._url=0<i.length?n:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var r=0;r<this._url.length;r++){var a=ie("source");a.src=this._url[r],e.appendChild(a)}}}}),Ei=Oi.extend({_initImage:function(){var t=this._image=this._url;le(t,"leaflet-image-layer"),this._zoomAnimated&&le(t,"leaflet-zoom-animated"),this.options.className&&le(t,this.options.className),t.onselectstart=h,t.onmousemove=h}}),Bi=ui.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&de(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&de(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(de(this._container,0),this._removeTimeout=setTimeout(d(ne,void 0,this._container),200)):ne(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=N(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&re(this._container),this},bringToBack:function(){return this._map&&ae(this._container),this},_prepareOpen:function(t,e,i){if(e instanceof ui||(i=e,e=t),e instanceof di)for(var n in t._layers){e=t._layers[n];break}if(!i)if(e.getCenter)i=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");i=e.getLatLng()}return this._source=e,this.update(),i},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,i;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),i=O(this.options.offset),e=this._getAnchor(),this._zoomAnimated?me(this._container,t.add(e)):i=i.add(t).add(e),e=this._containerBottom=-i.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+i.x,this._container.style.bottom=e+"px",this._container.style.left=i+"px")},_getAnchor:function(){return[0,0]}}),Fi=Bi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Bi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",Pe))},onRemove:function(t){Bi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",Pe))},getEvents:function(){var t=Bi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ie("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=ie("div",t+"-content-wrapper",e);this._contentNode=ie("div",t+"-content",i),Ae(i),Se(this._contentNode),ke(i,"contextmenu",Pe),this._tipContainer=ie("div",t+"-tip-container",e),this._tip=ie("div",t+"-tip",this._tipContainer),this.options.closeButton&&((e=this._closeButton=ie("a",t+"-close-button",e)).href="#close",e.innerHTML="&#215;",ke(e,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth,i=Math.min(i,this.options.maxWidth);i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,i="leaflet-popup-scrolled";o&&o<n?(e.height=o+"px",le(t,i)):he(t,i),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),t=this._getAnchor();me(this._container,e.add(t))},_adjustPan:function(){var t,e,i,n,o,r,a,s,l;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),t=this._map,a=parseInt(ee(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+a,i=this._containerWidth,(s=new D(this._containerLeft,-e-this._containerBottom))._add(ge(this._container)),n=t.layerPointToContainerPoint(s),l=O(this.options.autoPanPadding),o=O(this.options.autoPanPaddingTopLeft||l),r=O(this.options.autoPanPaddingBottomRight||l),a=t.getSize(),l=s=0,n.x+i+r.x>a.x&&(s=n.x+i-a.x+r.x),n.x-s-o.x<0&&(s=n.x-o.x),n.y+e+r.y>a.y&&(l=n.y+e-a.y+r.y),n.y-l-o.y<0&&(l=n.y-o.y),(s||l)&&t.fire("autopanstart").panBy([s,l]))},_onCloseButtonClick:function(t){this._close(),Ie(t)},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});je.mergeOptions({closePopupOnClick:!0}),je.include({openPopup:function(t,e,i){return t instanceof Fi||(t=new Fi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),ui.include({bindPopup:function(t,e){return t instanceof Fi?(p(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new Fi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Ie(t),e instanceof vi?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ri=Bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Bi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Bi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Bi.prototype.getEvents.call(this);return _t&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,a=i.offsetWidth,s=i.offsetHeight,l=O(this.options.offset),e=this._getAnchor();t="top"===r?t.add(O(-a/2+l.x,-s+l.y+e.y,!0)):"bottom"===r?t.subtract(O(a/2-l.x,-l.y,!0)):"center"===r?t.subtract(O(a/2+l.x,s/2-e.y+l.y,!0)):"right"===r||"auto"===r&&o.x<n.x?(r="right",t.add(O(l.x+e.x,e.y-s/2+l.y,!0))):(r="left",t.subtract(O(a+e.x-l.x,s/2-e.y-l.y,!0))),he(i,"leaflet-tooltip-right"),he(i,"leaflet-tooltip-left"),he(i,"leaflet-tooltip-top"),he(i,"leaflet-tooltip-bottom"),le(i,"leaflet-tooltip-"+r),me(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&de(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(t)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});je.include({openTooltip:function(t,e,i){return t instanceof Ri||(t=new Ri(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),ui.include({bindTooltip:function(t,e){return t instanceof Ri?(p(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new Ri(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,i;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),_t&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t)},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(le(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),e=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(e)}});var Ni=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),t=this.options;return t.html instanceof Element?(oe(e),e.appendChild(t.html)):e.innerHTML=!1!==t.html?t.html:"",t.bgPos&&(t=O(t.bgPos),e.style.backgroundPosition=-t.x+"px "+-t.y+"px"),this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});pi.Default=fi;var Ui=ui.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ft,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ne(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(re(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ae(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=n(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Y){de(this._container,this.options.opacity);var t,e=+new Date,i=!1,n=!1;for(t in this._tiles){var o,r=this._tiles[t];r.current&&r.loaded&&(o=Math.min(1,(e-r.loaded)/200),de(r.el,o),o<1?i=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0))}n&&!this._noPrune&&this._pruneTiles(),i&&(T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ne(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),h(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var t,e,i,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(i=this._tiles[t]).retain=i.current;for(t in this._tiles)(i=this._tiles[t]).current&&!i.active&&(e=i.coords,this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ne(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),t=Math.floor(e/2),e=i-1,i=new D(+o,+t);i.z=+e;i=this._tileCoordsToKey(i),i=this._tiles[i];return i&&i.active?i.retain=!0:(i&&i.loaded&&(i.retain=!0),n<e&&this._retainParent(o,t,e,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new D(o,r);a.z=i+1;a=this._tileCoordsToKey(a),a=this._tiles[a];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),i=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();pt?fe(t.el,i,n):me(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(i,this._tileZoom),t=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*i);return new z(t.subtract(i),t.add(i))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n,e=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(e),r=o.getCenter(),a=[],e=this.options.keepBuffer,s=new z(o.getBottomLeft().subtract([e,-e]),o.getTopRight().add([e,-e]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(n in this._tiles){var l=this._tiles[n].coords;l.z===this._tileZoom&&s.contains(new D(l.x,l.y))||(this._tiles[n].current=!1)}if(1<Math.abs(i-this._tileZoom))this._setView(t,i);else{for(var h=o.min.y;h<=o.max.y;h++)for(var u=o.min.x;u<=o.max.x;u++){var c,d=new D(u,h);d.z=this._tileZoom,this._isValidTile(d)&&((c=this._tiles[this._tileCoordsToKey(d)])?c.current=!0:a.push(d))}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));for(var p=document.createDocumentFragment(),u=0;u<a.length;u++)this._addTile(a[u],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;t=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(t)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),i=n.add(i);return[e.unproject(n,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){t=this._tileCoordsToNwSe(t),t=new B(t[0],t[1]);return t=!this.options.noWrap?this._map.wrapLatLngBounds(t):t},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),t=new D(+e[0],+e[1]);return t.z=+e[2],t},_removeTile:function(t){var e=this._tiles[t];e&&(ne(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){le(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=h,t.onmousemove=h,Y&&this.options.opacity<1&&de(t,this.options.opacity),$&&!tt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),d(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&C(d(this._tileReady,this,t,null,o)),me(o,i),this._tiles[n]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(de(i.el,0),T(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(le(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Y||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new D(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new z(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),Zi=Ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&xt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),$||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ke(i,"load",d(this._tileOnLoad,this,e,i)),ke(i,"error",d(this._tileOnError,this,e,i)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:xt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(e.y=t),e["-y"]=t),g(this._url,l(e,this.options))},_tileOnLoad:function(t,e){Y?setTimeout(d(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return(t=this.options.zoomReverse?e-t:t)+this.options.zoomOffset},_getSubdomain:function(t){t=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=h,e.onerror=h,e.complete||(e.src=y,ne(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return it||e.el.setAttribute("src",y),Ui.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==y))return Ui.prototype._tileReady.call(this,t,e,i)}});function ji(t,e){return new Zi(t,e)}var Wi=Zi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i,n=l({},this.defaultWmsParams);for(i in e)i in this.options||(n[i]=e[i]);var o=(e=p(this,e)).detectRetina&&xt?2:1,t=this.getTileSize();n.width=t.x*o,n.height=t.y*o,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,Zi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,i=E(i.project(e[0]),i.project(e[1])),e=i.min,i=i.max,i=(1.3<=this._wmsVersion&&this._crs===hi?[e.y,e.x,i.y,i.x]:[e.x,e.y,i.x,i.y]).join(","),t=Zi.prototype.getTileUrl.call(this,t);return t+f(this.wmsParams,t,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+i},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}});Zi.WMS=Wi,ji.wms=function(t,e){return new Wi(t,e)};var Hi=ui.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=ge(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),r=this._map.project(t,e).subtract(r),r=o.multiplyBy(-i).add(n).add(o).subtract(r);pt?fe(this._container,r,i):me(this._container,r)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new z(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Gi=Hi.extend({getEvents:function(){var t=Hi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ke(t,"mousemove",this._onMouseMove,this),ke(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,ne(this._container),Me(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,i,n;this._map._animatingZoom&&this._bounds||(Hi.prototype._update.call(this),t=this._bounds,e=this._container,i=t.getSize(),n=xt?2:1,me(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",xt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){Hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);t=(this._layers[s(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,e=e.prev;i?i.prev=e:this._drawLast=e,e?e.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,i=t.options.dashArray.split(/[, ]+/),n=[],o=0;o<i.length;o++){if(e=Number(i[o]),isNaN(e))return;n.push(e)}t.options._dashArray=n}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e,i=this._redrawBounds;this._ctx.save(),i&&(e=i.getSize(),this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,r,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),i=0;i<s;i++){for(n=0,o=a[i].length;n<o;n++)r=a[i][n],l[n?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){var e,i,n,o;this._drawing&&!t._empty()&&(e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),1!=(o=(Math.max(Math.round(t._radiusY),1)||n)/n)&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!=o&&i.restore(),this._fillStroke(i,t))},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(Re(t),this._fireEvent([i],t))},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(he(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(le(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e,i,n=t._order;n&&(e=n.next,i=n.prev,e&&((e.prev=i)?i.next=e:e&&(this._drawFirst=e),n.prev=this._drawLast,(this._drawLast.next=n).next=null,this._drawLast=n,this._requestRedraw(t)))},_bringToBack:function(t){var e,i,n=t._order;n&&(e=n.next,(i=n.prev)&&((i.next=e)?e.prev=i:i&&(this._drawLast=i),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)))}});function Vi(t){return wt?new Gi(t):null}var qi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),gt={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qi("shape");le(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qi("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ne(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e=e||(t._stroke=qi("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=v(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i=i||(t._fill=qi("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){re(t._container)},_bringToBack:function(t){ae(t._container)}},Ki=Lt?qi:q,Ji=Hi.extend({getEvents:function(){var t=Hi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Ki("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ki("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),Me(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var t,e,i;this._map._animatingZoom&&this._bounds||(Hi.prototype._update.call(this),e=(t=this._bounds).getSize(),i=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),me(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=Ki("path");t.options.className&&le(e,t.options.className),t.options.interactive&&le(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ne(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,t=t.options;e&&(t.stroke?(e.setAttribute("stroke",t.color),e.setAttribute("stroke-opacity",t.opacity),e.setAttribute("stroke-width",t.weight),e.setAttribute("stroke-linecap",t.lineCap),e.setAttribute("stroke-linejoin",t.lineJoin),t.dashArray?e.setAttribute("stroke-dasharray",t.dashArray):e.removeAttribute("stroke-dasharray"),t.dashOffset?e.setAttribute("stroke-dashoffset",t.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),t.fill?(e.setAttribute("fill",t.fillColor||t.color),e.setAttribute("fill-opacity",t.fillOpacity),e.setAttribute("fill-rule",t.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,K(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){re(t._path)},_bringToBack:function(t){ae(t._path)}});function Yi(t){return kt||Lt?new Ji(t):null}Lt&&Ji.include(gt),je.include({getRenderer:function(t){t=(t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer());return this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Vi(t)||Yi(t)}});var Xi=bi.extend({initialize:function(t,e){bi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Ji.create=Ki,Ji.pointsToPath=K,wi.geometryToLayer=ki,wi.coordsToLatLng=Mi,wi.coordsToLatLngs=Ci,wi.latLngToCoords=Ti,wi.latLngsToCoords=Pi,wi.getFeature=Si,wi.asFeature=Ai,je.mergeOptions({boxZoom:!0}),et=lt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Gt(),ve(),this._startPoint=this._map.mouseEventToContainerPoint(t),ke(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new z(this._point,this._startPoint),t=e.getSize();me(this._box,e.min),this._box.style.width=t.x+"px",this._box.style.height=t.y+"px"},_finish:function(){this._moved&&(ne(this._box),he(this._container,"leaflet-crosshair")),Vt(),_e(),Me(document,{contextmenu:Ie,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0),t=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),je.addInitHook("addHandler","boxZoom",et),je.mergeOptions({doubleClickZoom:!0}),G=lt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,n=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}}),je.addInitHook("addHandler","doubleClickZoom",G),je.mergeOptions({dragging:!0,inertia:!tt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),V=lt.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new Qe(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=F(this._map.options.maxBounds),this._offsetLimit=E(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,i;this._map.options.inertia&&(e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(i),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit,t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,e=(n+e+i)%t-e-i,e=Math.abs(o+i)<Math.abs(e+i)?o:e;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=e},_onDragEnd:function(t){var e,i,n,o,r=this._map,a=r.options,s=!a.inertia||this._times.length<2;r.fire("dragend",t),s?r.fire("moveend"):(this._prunePositions(+new Date),i=this._lastPos.subtract(this._positions[0]),t=(this._lastTime-this._times[0])/1e3,e=a.easeLinearity,i=(s=i.multiplyBy(e/t)).distanceTo([0,0]),t=Math.min(a.inertiaMaxSpeed,i),i=s.multiplyBy(t/i),n=t/(a.inertiaDeceleration*e),(o=i.multiplyBy(-n/2).round()).x||o.y?(o=r._limitOffset(o,r.options.maxBounds),C(function(){r.panBy(o,{duration:n,easeLinearity:e,noMoveStart:!0,animate:!0})})):r.fire("moveend"))}}),je.addInitHook("addHandler","dragging",V),je.mergeOptions({keyboard:!0,keyboardPanDelta:80}),ht=lt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ke(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Me(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,i;this._focused||(t=document.body,i=document.documentElement,e=t.scrollTop||i.scrollTop,i=t.scrollLeft||i.scrollLeft,this._map._container.focus(),window.scrollTo(i,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},i=this.keyCodes,n=0,o=i.left.length;n<o;n++)e[i.left[n]]=[-1*t,0];for(n=0,o=i.right.length;n<o;n++)e[i.right[n]]=[t,0];for(n=0,o=i.down.length;n<o;n++)e[i.down[n]]=[0,t];for(n=0,o=i.up.length;n<o;n++)e[i.up[n]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},i=this.keyCodes,n=0,o=i.zoomIn.length;n<o;n++)e[i.zoomIn[n]]=t;for(n=0,o=i.zoomOut.length;n<o;n++)e[i.zoomOut[n]]=-t},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=O(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}Ie(t)}}}),je.addInitHook("addHandler","keyboard",ht),je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),rt=lt.extend({addHooks:function(){ke(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Me(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ee(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);i=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),i),Ie(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),n=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,n=i?Math.ceil(n/i)*i:n,n=t._limitZoom(e+(0<this._delta?n:-n))-e;this._delta=0,this._startTime=null,n&&("center"===t.options.scrollWheelZoom?t.setZoom(e+n):t.setZoomAround(this._lastMousePos,e+n))}}),je.addInitHook("addHandler","scrollWheelZoom",rt),je.mergeOptions({tap:!0,tapTolerance:15}),ft=lt.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(De(t),this._fireClick=!0,1<t.touches.length)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],t=e.target;this._startPos=this._newPos=new D(e.clientX,e.clientY),t.tagName&&"a"===t.tagName.toLowerCase()&&le(t,"leaflet-active"),this._holdTimeout=setTimeout(d(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),ke(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){var e;clearTimeout(this._holdTimeout),Me(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches&&((t=(e=t.changedTouches[0]).target)&&t.tagName&&"a"===t.tagName.toLowerCase()&&he(t,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e))},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){t=t.touches[0];this._newPos=new D(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}),_t&&!vt&&je.addInitHook("addHandler","tap",ft),je.mergeOptions({touchZoom:_t&&!tt,bounceAtZoomLimits:!0}),gt=lt.extend({addHooks:function(){le(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,i,n=this._map;!t.touches||2!==t.touches.length||n._animatingZoom||this._zooming||(e=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(e.add(i)._divideBy(2))),this._startDist=e.distanceTo(i),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend",this._onTouchEnd,this),De(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{n=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1==o&&0===n.x&&0===n.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);e=d(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(e,this,!0),De(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Me(document,"touchmove",this._onTouchMove),Me(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),je.addInitHook("addHandler","touchZoom",gt),je.BoxZoom=et,je.DoubleClickZoom=G,je.Drag=V,je.Keyboard=ht,je.ScrollWheelZoom=rt,je.Tap=ft,je.TouchZoom=gt,Object.freeze=e,t.version="1.6.0",t.Control=We,t.control=st,t.Browser=Ct,t.Evented=A,t.Mixin=ct,t.Util=P,t.Class=S,t.Handler=lt,t.extend=l,t.bind=d,t.stamp=s,t.setOptions=p,t.DomEvent=nt,t.DomUtil=Q,t.PosAnimation=Ze,t.Draggable=Qe,t.LineUtil=dt,t.PolyUtil=mt,t.Point=D,t.point=O,t.Bounds=z,t.bounds=E,t.Transformation=W,t.transformation=H,t.Projection=J,t.LatLng=R,t.latLng=N,t.LatLngBounds=B,t.latLngBounds=F,t.CRS=U,t.GeoJSON=wi,t.geoJSON=Di,t.geoJson=Ii,t.Layer=ui,t.LayerGroup=ci,t.layerGroup=function(t,e){return new ci(t,e)},t.FeatureGroup=di,t.featureGroup=function(t){return new di(t)},t.ImageOverlay=Oi,t.imageOverlay=function(t,e,i){return new Oi(t,e,i)},t.VideoOverlay=zi,t.videoOverlay=function(t,e,i){return new zi(t,e,i)},t.SVGOverlay=Ei,t.svgOverlay=function(t,e,i){return new Ei(t,e,i)},t.DivOverlay=Bi,t.Popup=Fi,t.popup=function(t,e){return new Fi(t,e)},t.Tooltip=Ri,t.tooltip=function(t,e){return new Ri(t,e)},t.Icon=pi,t.icon=function(t){return new pi(t)},t.DivIcon=Ni,t.divIcon=function(t){return new Ni(t)},t.Marker=gi,t.marker=function(t,e){return new gi(t,e)},t.TileLayer=Zi,t.tileLayer=ji,t.GridLayer=Ui,t.gridLayer=function(t){return new Ui(t)},t.SVG=Ji,t.svg=Yi,t.Renderer=Hi,t.Canvas=Gi,t.canvas=Vi,t.Path=vi,t.CircleMarker=_i,t.circleMarker=function(t,e){return new _i(t,e)},t.Circle=yi,t.circle=function(t,e,i){return new yi(t,e,i)},t.Polyline=xi,t.polyline=function(t,e){return new xi(t,e)},t.Polygon=bi,t.polygon=function(t,e){return new bi(t,e)},t.Rectangle=Xi,t.rectangle=function(t,e){return new Xi(t,e)},t.Map=je,t.map=function(t,e){return new je(t,e)};var Qi=window.L;t.noConflict=function(){return window.L=Qi,this},window.L=t}(e)},2470:function(t){"use strict";if("undefined"==typeof moment){var e=new Error("Cannot find module 'moment'");throw e.code="MODULE_NOT_FOUND",e}t.exports=moment}},n={};function bt(t){if(n[t])return n[t].exports;var e=n[t]={exports:{}};return i[t].call(e.exports,e,e.exports,bt),e.exports}bt.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return bt.d(e,{a:e}),e},bt.d=function(t,e){for(var i in e)bt.o(e,i)&&!bt.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},bt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),bt.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";function t(t){t=t||{},this.settings={timeMovingThreshold:t.timeMovingThreshold||15e3,eleGainThreshold:t.eleGainThreshold||5},this.xml=null,this.metadata={},this.waypoints=[],this.routes=[],this.tracks=[]}bt(7310),t.prototype.parse=function(t){var e=this,i=new DOMParser;this.xml=i.parseFromString(t,"text/xml");t=this.xml.querySelector("metadata");null!==t&&(this.metadata=this.parseMetadataType(t));for(var n=[].slice.call(this.xml.querySelectorAll("wpt")),o=0;o<n.length;o++){var r=n[o],r=e.parseWptType(r,!0);e.waypoints.push(r)}for(var a=[].slice.call(this.xml.querySelectorAll("rte")),o=0;o<a.length;o++){var s=a[o],s=e.parseRteType(s);s.time=e.calcTime(s.points),s.distance=e.calcDistance(s.points),s.elevation=e.calcElevation(s.points),s.heartRate=e.calcHeartRate(s.points),e.routes.push(s)}for(var l=[].slice.call(this.xml.querySelectorAll("trk")),o=0;o<l.length;o++){var h=l[o],h=e.parseTrkType(h);h.time=e.calcTime(h.points),h.distance=e.calcDistance(h.points),h.elevation=e.calcElevation(h.points),h.heartRate=e.calcHeartRate(h.points),e.tracks.push(h)}},t.prototype.getFirstTagValue=function(t,e){e=t.querySelectorAll(e);return e.length?e[0].textContent:null},t.prototype.getFirstTagValueNs=function(t,e,i){i=t.getElementsByTagNameNS(e,i);return i.length?i[0].textContent:null},t.prototype.getTpxValue=function(t,e){var i=this.getFirstTagValueNs(t,"http://www.garmin.com/xmlschemas/TrackPointExtension/v1",e);return i=null===i?this.getFirstTagValueNs(t,"http://www.garmin.com/xmlschemas/TrackPointExtension/v2",e):i},t.prototype.parseLinks=function(t){for(var e=[],i=[].slice.call(t.querySelectorAll("link")),n=0;n<i.length;n++){var o=i[n],o=this.parseLinkType(o);e.push(o)}return e},t.prototype.parseRtepts=function(t){for(var e=[],i=[].slice.call(t.querySelectorAll("rtept")),n=0;n<i.length;n++){var o=i[n],o=this.parseWptType(o,!1);e.push(o)}return e},t.prototype.parseTrkpts=function(t){for(var e=[],i=[].slice.call(t.querySelectorAll("trkpt")),n=0;n<i.length;n++){var o=i[n],o=this.parseWptType(o,!1);e.push(o)}return e},t.prototype.parseTrksegs=function(t){for(var e=[],i=[].slice.call(t.querySelectorAll("trkseg")),n=0;n<i.length;n++){var o=i[n],o=this.parseTrksegType(o,!1);o.time=this.calcTime(o.points),o.distance=this.calcDistance(o.points),o.elevation=this.calcElevation(o.points),o.heartRate=this.calcHeartRate(o.points),e.push(o)}return e},t.prototype.parseWptTypeExtensions=function(t){return{tpx:this.parseTrackPointExtensionType(t)}},t.prototype.parseLinkType=function(t){return{href:t.getAttribute("href"),text:this.getFirstTagValue(t,"text"),type:this.getFirstTagValue(t,"type")}},t.prototype.parseMetadataType=function(t){return{name:this.getFirstTagValue(t,"name"),desc:this.getFirstTagValue(t,"desc"),time:Date.parse(this.getFirstTagValue(t,"time")),links:this.parseLinks(t)}},t.prototype.parseWptType=function(t,e){var i={lat:parseFloat(t.getAttribute("lat")),lon:parseFloat(t.getAttribute("lon")),ele:parseFloat(this.getFirstTagValue(t,"ele")),time:Date.parse(this.getFirstTagValue(t,"time")),extension:this.parseWptTypeExtensions(t)};return e&&(i.name=this.getFirstTagValue(t,"name"),i.cmt=this.getFirstTagValue(t,"cmt"),i.desc=this.getFirstTagValue(t,"desc"),i.links=this.parseLinks(t)),i},t.prototype.parseRteType=function(t){return{name:this.getFirstTagValue(t,"name"),cmt:this.getFirstTagValue(t,"cmt"),desc:this.getFirstTagValue(t,"desc"),src:this.getFirstTagValue(t,"src"),number:this.getFirstTagValue(t,"number"),type:this.getFirstTagValue(t,"type"),links:this.parseLinks(t),points:this.parseRtepts(t),extensions:this.parseMmpExtensionType(t,["color","weight","opacity"])}},t.prototype.parseTrkType=function(t){return{name:this.getFirstTagValue(t,"name"),cmt:this.getFirstTagValue(t,"cmt"),desc:this.getFirstTagValue(t,"desc"),src:this.getFirstTagValue(t,"src"),number:this.getFirstTagValue(t,"number"),type:this.getFirstTagValue(t,"type"),links:this.parseLinks(t),points:this.parseTrkpts(t),segments:this.parseTrksegs(t),extensions:this.parseMmpExtensionType(t,["color","weight","opacity"])}},t.prototype.parseTrksegType=function(t){return{points:this.parseTrkpts(t),extensions:this.parseMmpExtensionType(t,["color","weight","opacity"])}},t.prototype.parseMmpExtensionType=function(t,e){var i=t.querySelector("extensions");if(null===i)return{};for(var n={},o=0;o<e.length;o++){var r=e[o];n[r]=this.getFirstTagValueNs(i,"https://www.mapsmarker.com/GPX/1/",r)}return n},t.prototype.parseTrackPointExtensionType=function(t){t=t.querySelector("TrackPointExtension");return null===t?{}:{atemp:parseFloat(this.getTpxValue(t,"atemp")),wtemp:parseFloat(this.getTpxValue(t,"wtemp")),depth:parseFloat(this.getTpxValue(t,"depth")),hr:parseInt(this.getTpxValue(t,"hr")),cad:parseInt(this.getTpxValue(t,"cad")),speed:parseFloat(this.getTpxValue(t,"speed")),course:parseFloat(this.getTpxValue(t,"course")),bearing:parseFloat(this.getTpxValue(t,"bearing"))}},t.prototype.calcTime=function(t){var e=0,i=0;t[0].elapsed=e;for(var n=0;n<t.length-1;n++){var o=t[n+1].time-t[n].time;isNaN(o)||(e+=o,o<this.settings.timeMovingThreshold&&(i+=o)),t[n+1].elapsed=e}return{start:t[0].time,end:t[t.length-1].time,total:e,moving:i}},t.prototype.calcDistance=function(t){var e=0;t[0].dist=e;for(var i=0;i<t.length-1;i++)e+=this.calcDistanceBetween(t[i],t[i+1]),t[i+1].dist=e;return{total:e}},t.prototype.calcDistanceBetween=function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),i=Math.sin((e.lon-t.lon)*i/2),i=r*r+Math.cos(n)*Math.cos(o)*i*i;return 6371e3*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},t.prototype.calcElevation=function(t){for(var e=[],i=0,n=0,o=null,r=0;r<t.length;r++){var a,s=t[r].ele;isNaN(s)?(t[r].gain=Math.abs(i),t[r].loss=Math.abs(n)):(null!==o?(a=s-o,5<=Math.abs(a)&&(0<a?i+=a:a<0&&(n+=a),o=s,e.push(s))):(e.push(s),o=s),t[r].gain=Math.abs(i),t[r].loss=Math.abs(n))}return{max:Math.max.apply(null,e),min:Math.min.apply(null,e),gain:Math.abs(i),loss:Math.abs(n),avg:e.reduce(function(t,e){return t+e},0)/e.length}},t.prototype.calcHeartRate=function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i].extension;void 0!==n.tpx&&n.tpx.hr&&e.push(n.tpx.hr)}return{max:Math.max.apply(null,e),min:Math.min.apply(null,e),avg:e.reduce(function(t,e){return t+e},0)/e.length}};var n=t,e=bt(7757),s=bt.n(e),f=bt(5243),D=bt.n(f),i=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,o=""===document.documentElement.style.pointerEvents,h={cors:i,pointerEvents:o},r={attributionWidthOffset:55},a=0;function l(t){var e,i,n,o="";for(e in t.f=t.f||"json",t)t.hasOwnProperty(e)&&(n=t[e],i=Object.prototype.toString.call(n),o.length&&(o+="&"),n="[object Array]"===i?"[object Object]"===Object.prototype.toString.call(n[0])?JSON.stringify(n):n.join(","):"[object Object]"===i?JSON.stringify(n):"[object Date]"===i?n.valueOf():n,o+=encodeURIComponent(e)+"="+encodeURIComponent(n));return o}function u(n,o){var r=new window.XMLHttpRequest;return r.onerror=function(t){r.onreadystatechange=f.Util.falseFn,n.call(o,{error:{code:500,message:"XMLHttpRequest error"}},null)},r.onreadystatechange=function(){var e,i;if(4===r.readyState){try{e=JSON.parse(r.responseText)}catch(t){e=null,i={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!i&&e.error&&(i=e.error,e=null),r.onerror=f.Util.falseFn,n.call(o,i,e)}},r.ontimeout=function(){this.onerror()},r}function c(t,e,i,n){i=u(i,n);return i.open("GET",t+"?"+l(e),!0),null!=n&&void 0!==n.options&&(i.timeout=n.options.timeout,n.options.withCredentials&&(i.withCredentials=!0)),i.send(null),i}function d(t,e,i,n){var o=l(e),r=u(i,n),a=(t+"?"+o).length;if(a<=2e3&&h.cors?r.open("GET",t+"?"+o):2e3<a&&h.cors&&(r.open("POST",t),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=n&&void 0!==n.options&&(r.timeout=n.options.timeout,n.options.withCredentials&&(r.withCredentials=!0)),a<=2e3&&h.cors)r.send(null);else{if(!(2e3<a&&h.cors))return a<=2e3&&!h.cors?p(t,e,i,n):void m("a request to "+t+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");r.send(o)}return r}function p(t,e,n,o){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var r="c"+a;e.callback="window._EsriLeafletCallbacks."+r,window._EsriLeafletCallbacks[r]=function(t){var e,i;!0!==window._EsriLeafletCallbacks[r]&&("[object Object]"!==(i=Object.prototype.toString.call(t))&&"[object Array]"!==i&&(e={error:{code:500,message:"Expected array or object as JSONP response"}},t=null),!e&&t.error&&(e=t,t=null),n.call(o,e,t),window._EsriLeafletCallbacks[r]=!0)};var i=f.DomUtil.create("script",null,document.body);return i.type="text/javascript",i.src=t+"?"+l(e),i.id=r,i.onerror=function(t){t&&!0!==window._EsriLeafletCallbacks[r]&&(n.call(o,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[r]=!0)},f.DomUtil.addClass(i,"esri-leaflet-jsonp"),a++,{id:r,url:i.src,abort:function(){window._EsriLeafletCallbacks._callback[r]({code:0,message:"Request aborted."})}}}function m(){console&&console.warn&&console.warn.apply(console,arguments)}function g(t,e){for(var i=0;i<t.length-1;i++)for(var n=0;n<e.length-1;n++)if(function(t,e,i,n){var o=(n[0]-i[0])*(t[1]-i[1])-(n[1]-i[1])*(t[0]-i[0]),r=(e[0]-t[0])*(t[1]-i[1])-(e[1]-t[1])*(t[0]-i[0]),t=(n[1]-i[1])*(e[0]-t[0])-(n[0]-i[0])*(e[1]-t[1]);if(0!=t){o=o/t,t=r/t;if(0<=o&&o<=1&&0<=t&&t<=1)return!0}return!1}(t[i],t[i+1],e[n],e[n+1]))return!0;return!1}function v(t){return function(t,e){for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(t[0],t[t.length-1])||t.push(t[0]),t}function _(t){for(var e,i=0,n=0,o=t.length,r=t[n];n<o-1;n++)i+=((e=t[n+1])[0]-r[0])*(e[1]+r[1]),r=e;return 0<=i}function y(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function x(t){for(var e,i,n=[],o=[],r=0;r<t.length;r++){var a,s=v(t[r].slice(0));s.length<4||(_(s)?(a=[s.slice().reverse()],n.push(a)):o.push(s.slice().reverse()))}for(var l,h,u,c=[];o.length;){i=o.pop();for(var d=!1,p=n.length-1;0<=p;p--)if(e=n[p][0],u=void 0,u=g(l=e,h=i),h=function(t,e){for(var i=!1,n=-1,o=t.length,r=o-1;++n<o;r=n)(t[n][1]<=e[1]&&e[1]<t[r][1]||t[r][1]<=e[1]&&e[1]<t[n][1])&&e[0]<(t[r][0]-t[n][0])*(e[1]-t[n][1])/(t[r][1]-t[n][1])+t[n][0]&&(i=!i);return i}(l,h[0]),!(u||!h)){n[p].push(i),d=!0;break}d||c.push(i)}for(;c.length;){i=c.pop();var f=!1;for(p=n.length-1;0<=p;p--)if(e=n[p][0],g(e,i)){n[p].push(i),f=!0;break}f||n.push([i.reverse()])}return 1===n.length?{type:"Polygon",coordinates:n[0]}:{type:"MultiPolygon",coordinates:n}}function b(t){var e=[],i=t.slice(0);if(4<=(t=v(i.shift().slice(0))).length){_(t)||t.reverse(),e.push(t);for(var n=0;n<i.length;n++){var o=v(i[n].slice(0));4<=o.length&&(_(o)&&o.reverse(),e.push(o))}}return e}(e=h.cors?c:p).CORS=c,e.JSONP=p;var w={request:d,get:e,post:function(t,e,i,n){return(i=u(i,n)).open("POST",t),null!=n&&void 0!==n.options&&(i.timeout=n.options.timeout),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(l(e)),i}},k=function t(e,i){var n={};if(e.features){n.type="FeatureCollection",n.features=[];for(var o=0;o<e.features.length;o++)n.features.push(t(e.features[o],i))}if("number"==typeof e.x&&"number"==typeof e.y&&(n.type="Point",n.coordinates=[e.x,e.y],"number"==typeof e.z&&n.coordinates.push(e.z)),e.points&&(n.type="MultiPoint",n.coordinates=e.points.slice(0)),e.paths&&(1===e.paths.length?(n.type="LineString",n.coordinates=e.paths[0].slice(0)):(n.type="MultiLineString",n.coordinates=e.paths.slice(0))),e.rings&&(n=x(e.rings.slice(0))),"number"==typeof e.xmin&&"number"==typeof e.ymin&&"number"==typeof e.xmax&&"number"==typeof e.ymax&&(n.type="Polygon",n.coordinates=[[[e.xmax,e.ymax],[e.xmin,e.ymax],[e.xmin,e.ymin],[e.xmax,e.ymin],[e.xmax,e.ymax]]]),(e.geometry||e.attributes)&&(n.type="Feature",n.geometry=e.geometry?t(e.geometry):null,n.properties=e.attributes?y(e.attributes):null,e.attributes))try{n.id=function(t,e){for(var i=e?[e,"OBJECTID","FID"]:["OBJECTID","FID"],n=0;n<i.length;n++){var o=i[n];if(o in t&&("string"==typeof t[o]||"number"==typeof t[o]))return t[o]}throw Error("No valid id attribute found")}(e.attributes,i)}catch(t){}return JSON.stringify(n.geometry)===JSON.stringify({})&&(n.geometry=null),e.spatialReference&&e.spatialReference.wkid&&4326!==e.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(e.spatialReference)),n},L=function t(e,i){i=i||"OBJECTID";var n,o={wkid:4326},r={};switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],r.spatialReference=o;break;case"MultiPoint":r.points=e.coordinates.slice(0),r.spatialReference=o;break;case"LineString":r.paths=[e.coordinates.slice(0)],r.spatialReference=o;break;case"MultiLineString":r.paths=e.coordinates.slice(0),r.spatialReference=o;break;case"Polygon":r.rings=b(e.coordinates.slice(0)),r.spatialReference=o;break;case"MultiPolygon":r.rings=function(t){for(var e=[],i=0;i<t.length;i++)for(var n=b(t[i]),o=n.length-1;0<=o;o--){var r=n[o].slice(0);e.push(r)}return e}(e.coordinates.slice(0)),r.spatialReference=o;break;case"Feature":e.geometry&&(r.geometry=t(e.geometry,i)),r.attributes=e.properties?y(e.properties):{},e.id&&(r.attributes[i]=e.id);break;case"FeatureCollection":for(r=[],n=0;n<e.features.length;n++)r.push(t(e.features[n],i));break;case"GeometryCollection":for(r=[],n=0;n<e.geometries.length;n++)r.push(t(e.geometries[n],i))}return r},M='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>';function C(t,e){return L(t,e)}function T(t,e){return k(t,e)}function P(t){if("NaN"===t.xmin||"NaN"===t.ymin||"NaN"===t.xmax||"NaN"===t.ymax)return null;var e=(0,f.latLng)(t.ymin,t.xmin),t=(0,f.latLng)(t.ymax,t.xmax);return(0,f.latLngBounds)(e,t)}function S(t){return{xmin:(t=(0,f.latLngBounds)(t)).getSouthWest().lng,ymin:t.getSouthWest().lat,xmax:t.getNorthEast().lng,ymax:t.getNorthEast().lat,spatialReference:{wkid:4326}}}var A=/^(OBJECTID|FID|OID|ID)$/i;function I(t){var e;if(t.objectIdFieldName)e=t.objectIdFieldName;else if(t.fields){for(var i=0;i<=t.fields.length-1;i++)if("esriFieldTypeOID"===t.fields[i].type){e=t.fields[i].name;break}if(!e)for(i=0;i<=t.fields.length-1;i++)if(t.fields[i].name.match(A)){e=t.fields[i].name;break}}return e}function O(t){for(var e in t.attributes)if(e.match(A))return e}function z(t,e){var i=t.features||t.results,n=i&&i.length,o=e||I(t),r={type:"FeatureCollection",features:[]};if(n)for(var a=i.length-1;0<=a;a--){var s=T(i[a],o||O(i[a]));r.features.push(s)}return r}function E(t){return"/"!==(t=f.Util.trim(t))[t.length-1]&&(t+="/"),t}function B(t){var e;return-1!==t.url.indexOf("?")&&(t.requestParams=t.requestParams||{},e=t.url.substring(t.url.indexOf("?")+1),t.url=t.url.split("?")[0],t.requestParams=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')),t.url=E(t.url.split("?")[0]),t}function F(t){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(t)}function R(t){var e;switch(t){case"Point":e="esriGeometryPoint";break;case"MultiPoint":e="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":e="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":e="esriGeometryPolygon"}return e}function N(t){return t.getSize().x-r.attributionWidthOffset+"px"}function U(e){var t;e.attributionControl&&(e.attributionControl._esriAttributionLayerCount||(e.attributionControl._esriAttributionLayerCount=0),0===e.attributionControl._esriAttributionLayerCount&&(e.attributionControl._esriAttributionAddedOnce||((t=document.createElement("style")).type="text/css",t.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(t),(t=document.createElement("style")).type="text/css",t.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+N(e)+";}",document.getElementsByTagName("head")[0].appendChild(t),e.on("resize",function(t){e.attributionControl&&(e.attributionControl._container.style.maxWidth=N(t.target))}),e.attributionControl._esriAttributionAddedOnce=!0),e.attributionControl.setPrefix(M+' | Powered by <a href="https://www.esri.com">Esri</a>'),f.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover"),f.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution")),e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount+1)}function Z(t){t.attributionControl&&(t.attributionControl._esriAttributionLayerCount&&1===t.attributionControl._esriAttributionLayerCount&&(t.attributionControl.setPrefix(M),f.DomUtil.removeClass(t.attributionControl._container,"esri-truncated-attribution:hover"),f.DomUtil.removeClass(t.attributionControl._container,"esri-truncated-attribution")),t.attributionControl._esriAttributionLayerCount=t.attributionControl._esriAttributionLayerCount-1)}function j(t){var e={geometry:null,geometryType:null};return t instanceof f.LatLngBounds?(e.geometry=S(t),e.geometryType="esriGeometryEnvelope",e):((t=(t=t.getLatLng?t.getLatLng():t)instanceof f.LatLng?{type:"Point",coordinates:[t.lng,t.lat]}:t)instanceof f.GeoJSON&&(t=t.getLayers()[0].feature.geometry,e.geometry=C(t),e.geometryType=R(t.type)),"Point"===(t="Feature"===(t=t.toGeoJSON?t.toGeoJSON():t).type?t.geometry:t).type||"LineString"===t.type||"Polygon"===t.type||"MultiPolygon"===t.type?(e.geometry=C(t),e.geometryType=R(t.type),e):void m("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function W(t,l){h.cors&&d(t,{},f.Util.bind(function(t,e){if(!t){l._esriAttributions=[];for(var i=0;i<e.contributors.length;i++)for(var n=e.contributors[i],o=0;o<n.coverageAreas.length;o++){var r=n.coverageAreas[o],a=(0,f.latLng)(r.bbox[0],r.bbox[1]),s=(0,f.latLng)(r.bbox[2],r.bbox[3]);l._esriAttributions.push({attribution:n.attribution,score:r.score,bounds:(0,f.latLngBounds)(a,s),minZoom:r.zoomMin,maxZoom:r.zoomMax})}l._esriAttributions.sort(function(t,e){return e.score-t.score}),H({target:l})}},this))}function H(t){var e=t.target,i=e._esriAttributions;if(e&&e.attributionControl){var n=e.attributionControl._container.querySelector(".esri-dynamic-attribution");if(n&&i){for(var o="",t=e.getBounds(),r=(0,f.latLngBounds)(t.getSouthWest().wrap(),t.getNorthEast().wrap()),a=e.getZoom(),s=0;s<i.length;s++){var l=i[s],h=l.attribution;!o.match(h)&&l.bounds.intersects(r)&&a>=l.minZoom&&a<=l.maxZoom&&(o+=", "+h)}o=o.substr(2),n.innerHTML=o,n.style.maxWidth=N(e),e.fire("attributionupdated",{attribution:o})}}}var G={warn:m,cleanUrl:E,getUrlParams:B,isArcgisOnline:F,geojsonTypeToArcGIS:R,responseToFeatureCollection:z,geojsonToArcGIS:C,arcgisToGeoJSON:T,boundsToExtent:S,extentToBounds:P,calcAttributionWidth:N,setEsriAttribution:U,_setGeometry:j,_getAttributionData:W,_updateMapAttribution:H,_findIdAttributeFromFeature:O,_findIdAttributeFromResponse:I},V=f.Class.extend({options:{proxy:!1,useCors:i},generateSetter:function(e,t){return f.Util.bind(function(t){return this.params[e]=t,this},t)},initialize:function(t){if(t.request&&t.options?(this._service=t,f.Util.setOptions(this,t.options)):(f.Util.setOptions(this,t),this.options.url=E(t.url)),this.params=f.Util.extend({},this.params||{}),this.setters)for(var e in this.setters){var i=this.setters[e];this[e]=this.generateSetter(i,this)}},token:function(t){return this._service?this._service.authenticate(t):this.params.token=t,this},apikey:function(t){return this.token(t)},format:function(t){return this.params.returnUnformattedValues=!t,this},request:function(t,e){return this.options.requestParams&&f.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,t,e):this._request("request",this.path,this.params,t,e)},_request:function(t,e,i,n,o){e=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return"get"!==t&&"request"!==t||this.options.useCors?w[t](e,i,n,o):w.get.JSONP(e,i,n,o)}}),q=V.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(t,e){return t=(0,f.latLng)(t),this.params.geometry=[t.lng,t.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=e,this.params.inSR=4326,this},where:function(t){return this.params.where=t,this},between:function(t,e){return this.params.time=[t.valueOf(),e.valueOf()],this},simplify:function(t,e){var i=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=i/t.getSize().y*e,this},orderBy:function(t,e){return e=e||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[t,e].join(" "),this},run:function(i,n){return this._cleanParams(),this.options.isModern||F(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request(function(t,e){this._trapSQLerrors(t),i.call(n,t,e,e)},this)):this.request(function(t,e){this._trapSQLerrors(t),i.call(n,t,e&&z(e),e)},this)},count:function(i,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(t,e){i.call(this,t,e&&e.count,e)},t)},ids:function(i,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(t,e){i.call(this,t,e&&e.objectIds,e)},t)},bounds:function(i,n){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(t,e){e&&e.extent&&P(e.extent)?i.call(n,t,P(e.extent),e):(t={message:"Invalid Bounds"},i.call(n,t,null,e))},n)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(t){t=(0,f.point)(t);return this.params.pixelSize=[t.x,t.y],this},layer:function(t){return this.path=t+"/query",this},_trapSQLerrors:function(t){t&&"400"===t.code&&m("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(t){this.params.inSR=4326;t=j(t);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}}),K=function(t){return new q(t)},J=V.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(t,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[t,e].join(":"),this},simplify:function(t,e){var i=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=i/t.getSize().y*e,this},run:function(i,n){return this.request(function(t,e){i.call(n,t,e&&z(e),e)},n)}}),Y=function(t){return new J(t)},X=(V=V.extend({path:"identify",between:function(t,e){return this.params.time=[t.valueOf(),e.valueOf()],this}})).extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(t){var e=S(t.getBounds()),t=t.getSize();return this.params.imageDisplay=[t.x,t.y,96],this.params.mapExtent=[e.xmin,e.ymin,e.xmax,e.ymax],this},at:function(t){return 2===t.length&&(t=(0,f.latLng)(t)),this._setGeometryParams(t),this},layerDef:function(t,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[t,e].join(":"),this},simplify:function(t,e){var i=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=i/t.getSize().y*e,this},run:function(o,r){return this.request(function(t,e){if(t)o.call(r,t,void 0,e);else{var i=z(e);e.results=e.results.reverse();for(var n=0;n<i.features.length;n++)i.features[n].layerId=e.results[n].layerId;o.call(r,void 0,i,e)}})},_setGeometryParams:function(t){t=j(t);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}}),Q=function(t){return new X(t)},$=V.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(t){return t=(0,f.latLng)(t),this.params.geometry=JSON.stringify({x:t.lng,y:t.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(i,n){return this.request(function(t,e){i.call(n,t,e&&this._responseToGeoJSON(e),e)},this)},_responseToGeoJSON:function(t){var e=t.location,i=t.catalogItems,n=t.catalogItemVisibilities,o={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},crs:{type:"EPSG",properties:{code:e.spatialReference.wkid}},properties:{OBJECTID:t.objectId,name:t.name,value:t.value},id:t.objectId}};if(t.properties&&t.properties.Values&&(o.pixel.properties.values=t.properties.Values),i&&i.features&&(o.catalogItems=z(i),n&&n.length===o.catalogItems.features.length))for(var r=n.length-1;0<=r;r--)o.catalogItems.features[r].properties.catalogItemVisibility=n[r];return o}}),tt=function(t){return new $(t)},et=(V=f.Evented.extend({options:{proxy:!1,useCors:i,timeout:0},initialize:function(t){t=t||{},this._requestQueue=[],this._authenticating=!1,f.Util.setOptions(this,t),this.options.url=E(this.options.url)},get:function(t,e,i,n){return this._request("get",t,e,i,n)},post:function(t,e,i,n){return this._request("post",t,e,i,n)},request:function(t,e,i,n){return this._request("request",t,e,i,n)},metadata:function(t,e){return this._request("get","",{},t,e)},authenticate:function(t){return this._authenticating=!1,this.options.token=t,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(t){this.options.timeout=t},_request:function(t,e,i,n,o){this.fire("requeststart",{url:this.options.url+e,params:i,method:t},!0);var r=this._createServiceCallback(t,e,i,n,o);if(this.options.token&&(i.token=this.options.token),this.options.requestParams&&f.Util.extend(i,this.options.requestParams),!this._authenticating){var a=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return"get"!==t&&"request"!==t||this.options.useCors?w[t](a,i,r,o):w.get.JSONP(a,i,r,o)}this._requestQueue.push([t,e,i,n,o])},_createServiceCallback:function(i,n,o,r,a){return f.Util.bind(function(t,e){!t||499!==t.code&&498!==t.code||(this._authenticating=!0,this._requestQueue.push([i,n,o,r,a]),this.fire("authenticationrequired",{authenticate:f.Util.bind(this.authenticate,this)},!0),t.authenticate=f.Util.bind(this.authenticate,this)),r.call(a,t,e),t?this.fire("requesterror",{url:this.options.url+n,params:o,message:t.message,code:t.code,method:i},!0):this.fire("requestsuccess",{url:this.options.url+n,params:o,response:e,method:i},!0),this.fire("requestend",{url:this.options.url+n,params:o,method:i},!0)},this)},_runQueue:function(){for(var t=this._requestQueue.length-1;0<=t;t--){var e=this._requestQueue[t];this[e.shift()].apply(this,e)}this._requestQueue=[]}})).extend({identify:function(){return Q(this)},find:function(){return Y(this)},query:function(){return K(this)}}),it=function(t){return new et(t)},nt=V.extend({query:function(){return K(this)},identify:function(){return tt(this)}}),ot=function(t){return new nt(t)},rt=V.extend({options:{idAttribute:"OBJECTID"},query:function(){return K(this)},addFeature:function(t,e,i){this.addFeatures(t,e,i)},addFeatures:function(t,n,o){for(var e=t.features||[t],i=e.length-1;0<=i;i--)delete e[i].id;return t=C(t),t=1<e.length?t:[t],this.post("addFeatures",{features:t},function(t,e){var i=e&&e.addResults?1<e.addResults.length?e.addResults:e.addResults[0]:void 0;n&&n.call(o,t||e.addResults[0].error,i)},o)},updateFeature:function(t,e,i){this.updateFeatures(t,e,i)},updateFeatures:function(t,n,o){var e=t.features||[t];return t=C(t,this.options.idAttribute),t=1<e.length?t:[t],this.post("updateFeatures",{features:t},function(t,e){var i=e&&e.updateResults?1<e.updateResults.length?e.updateResults:e.updateResults[0]:void 0;n&&n.call(o,t||e.updateResults[0].error,i)},o)},deleteFeature:function(t,e,i){this.deleteFeatures(t,e,i)},deleteFeatures:function(t,n,o){return this.post("deleteFeatures",{objectIds:t},function(t,e){var i=e&&e.deleteResults?1<e.deleteResults.length?e.deleteResults:e.deleteResults[0]:void 0;n&&n.call(o,t||e.deleteResults[0].error,i)},o)}}),at=function(t){return new rt(t)},e="https:"!==window.location.protocol?"http:":"https:",st=f.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:e+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:e+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:e+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:e+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:e+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:e+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(t,e){var i;if("object"==typeof t&&t.urlTemplate&&t.options)i=t;else{if("string"!=typeof t||!st.TILES[t])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');i=st.TILES[t]}e=f.Util.extend(i.options,e);f.Util.setOptions(this,e),this.options.token&&-1===i.urlTemplate.indexOf("token=")&&(i.urlTemplate+="?token="+this.options.token),this.options.proxy&&(i.urlTemplate=this.options.proxy+"?"+i.urlTemplate),f.TileLayer.prototype.initialize.call(this,i.urlTemplate,e)},onAdd:function(t){U(t),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&W((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,t),t.on("moveend",H),f.TileLayer.prototype.onAdd.call(this,t)},onRemove:function(t){Z(t),t.off("moveend",H),f.TileLayer.prototype.onRemove.call(this,t)},_initPane:function(){var t;this._map.getPane(this.options.pane)||((t=this._map.createPane(this.options.pane)).style.pointerEvents="none",t.style.zIndex=500)},getAttribution:function(){var t;return t=this.options.attribution?'<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>":t}});function lt(t,e){return new st(t,e)}var ht=f.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(t){t=B(t=f.Util.setOptions(this,t)),this.tileUrl=(t.proxy?t.proxy+"?":"")+t.url+"tile/{z}/{y}/{x}"+(t.requestParams&&0<Object.keys(t.requestParams).length?f.Util.getParamString(t.requestParams):""),-1!==t.url.indexOf("{s}")&&t.subdomains&&(t.url=t.url.replace("{s}",t.subdomains[0])),this.service=it(t),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(t.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),t.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),f.TileLayer.prototype.initialize.call(this,this.tileUrl,t)},getTileUrl:function(t){var e=this._getZoomForUrl();return f.Util.template(this.tileUrl,f.Util.extend({s:this._getSubdomain(t),x:t.x,y:t.y,z:this._lodMap&&this._lodMap[e]?this._lodMap[e]:e},this.options))},createTile:function(t,e){var i=document.createElement("img");return f.DomEvent.on(i,"load",f.Util.bind(this._tileOnLoad,this,e,i)),f.DomEvent.on(i,"error",f.Util.bind(this._tileOnError,this,e,i)),this.options.crossOrigin&&(i.crossOrigin=""),i.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?i.src=this.getTileUrl(t):this.once("lodmap",function(){i.src=this.getTileUrl(t)},this),i},onAdd:function(l){U(l),this._lodMap||this.metadata(function(t,e){if(!t&&e.spatialReference){t=e.spatialReference.latestWkid||e.spatialReference.wkid;if(!this.options.attribution&&l.attributionControl&&e.copyrightText&&(this.options.attribution=e.copyrightText,l.attributionControl.addAttribution(this.getAttribution())),l.options.crs!==f.CRS.EPSG3857||102100!==t&&3857!==t)l.options.crs&&l.options.crs.code&&-1<l.options.crs.code.indexOf(t)||m("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html");else{this._lodMap={};for(var i=e.tileInfo.lods,n=ht.MercatorZoomLevels,o=0;o<i.length;o++){var r,a=i[o];for(r in n){var s=n[r];if(this._withinPercentage(a.resolution,s,this.options.zoomOffsetAllowance)){this._lodMap[r]=a.level;break}}}this.fire("lodmap")}}},this),f.TileLayer.prototype.onAdd.call(this,l)},onRemove:function(t){Z(t)},metadata:function(t,e){return this.service.metadata(t,e),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(t){var e="?token="+t;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,e):this.tileUrl+e,this.options.token=t,this.service.authenticate(t),this},_withinPercentage:function(t,e,i){return Math.abs(t/e-1)<i}}),ut=f.ImageOverlay.extend({onAdd:function(t){this._topLeft=t.getPixelBounds().min,f.ImageOverlay.prototype.onAdd.call(this,t)},_reset:function(){this._map.options.crs===f.CRS.EPSG3857?f.ImageOverlay.prototype._reset.call(this):f.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}});(i=f.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:i,attribution:null,interactive:!1,alt:""},onAdd:function(i){U(i),this.options.zIndex&&(this.options.position=null),this._update=f.Util.throttle(this._update,this.options.updateInterval,this),i.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?i.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(t,e){!t&&!this.options.attribution&&i.attributionControl&&e.copyrightText&&(this.options.attribution=e.copyrightText,i.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(t){Z(t),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(t,e){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=(0,f.popup)(e),this._popupFunction=t,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(t){return this.options.zIndex=t,this._currentImage&&this._currentImage.setZIndex(t),this},_setAutoZIndex:function(t){if(this._currentImage){for(var e,i=this._currentImage.getPane().children,n=-t(-1/0,1/0),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._currentImage._image&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(t){return this.options.opacity=t,this._currentImage&&this._currentImage.setOpacity(t),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(t,e){return this.options.from=t,this.options.to=e,this._update(),this},metadata:function(t,e){return this.service.metadata(t,e),this},authenticate:function(t){return this.service.authenticate(t),this},redraw:function(){this._update()},_renderImage:function(t,i,e){var n,o;this._map&&(t=e?"data:"+e+";base64,"+t:t)&&(n=new ut(t,i,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),o=function(t){var e;n.off("error",o,this),this._map&&(e=t.target,t=this._currentImage,e._bounds.equals(i)&&e._bounds.equals(this._map.getBounds())?(this._currentImage=e,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),t&&this._map&&this._map.removeLayer(t),t&&t._map&&t._map.removeLayer(t)):this._map.removeLayer(e)),this.fire("load",{bounds:i})},n.once("error",function(){this._map.removeLayer(n),this.fire("error"),n.off("load",o,this)},this),n.once("load",o,this))},_update:function(){var t,e;this._map&&(e=this._map.getZoom(),t=this._map.getBounds(),this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress||(e>this.options.maxZoom||e<this.options.minZoom?this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null):(e=this._buildExportParams(),f.Util.extend(e,this.options.requestParams),e?(this._requestExport(e,t),this.fire("loading",{bounds:t})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null))))},_renderPopup:function(t,e,i,n){t=(0,f.latLng)(t),this._shouldRenderPopup&&this._lastClick.equals(t)&&((n=this._popupFunction(e,i,n))&&this._popup.setLatLng(t).setContent(n).openOn(this._map))},_resetPopupState:function(t){this._shouldRenderPopup=!1,this._lastClick=t.latlng},_calculateBbox:function(){var t=this._map.getPixelBounds(),e=this._map.unproject(t.getBottomLeft()),t=this._map.unproject(t.getTopRight()),t=this._map.options.crs.project(t),e=this._map.options.crs.project(e),e=(0,f.bounds)(t,e);return[e.getBottomLeft().x,e.getBottomLeft().y,e.getTopRight().x,e.getTopRight().y].join(",")},_calculateImageSize:function(){var t=this._map.getPixelBounds(),e=this._map.getSize(),i=this._map.unproject(t.getBottomLeft()),t=this._map.unproject(t.getTopRight()),t=this._map.latLngToLayerPoint(t).y,i=this._map.latLngToLayerPoint(i).y;return(0<t||i<e.y)&&(e.y=i-t),e.x+","+e.y}})).extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(t){t=B(t),this.service=ot(t),this.service.addEventParent(this),f.Util.setOptions(this,t)},setPixelType:function(t){return this.options.pixelType=t,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(t){return f.Util.isArray(t)?this.options.bandIds=t.join(","):this.options.bandIds=t.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(t,e){return f.Util.isArray(t)?this.options.noData=t.join(","):this.options.noData=t.toString(),e&&(this.options.noDataInterpretation=e),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(t){this.options.renderingRule=t,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(t){this.options.mosaicRule=t,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(n){var t=f.Util.bind(function(t,e,i){t||setTimeout(f.Util.bind(function(){this._renderPopup(n.latlng,t,e,i)},this),300)},this),e=this.identify().at(n.latlng);this.options.mosaicRule&&e.setMosaicRule(this.options.mosaicRule),e.run(t),this._shouldRenderPopup=!0,this._lastClick=n.latlng},_buildExportParams:function(){var t=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:t,imageSR:t};return this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),0!==this.options.noData&&!this.options.noData||(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport:function(t,i){"json"===this.options.f?this.service.request("exportImage",t,function(t,e){t||(this.options.token&&(e.href+="?token="+this.options.token),this.options.proxy&&(e.href=this.options.proxy+"?"+e.href),this._renderImage(e.href,i))},this):(t.f="image",t=this.options.url+"exportImage"+f.Util.getParamString(t),this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,i))}}),i.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(t){t=B(t),this.service=it(t),this.service.addEventParent(this),f.Util.setOptions(this,t)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(t){return this.options.dynamicLayers=t,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(t){return this.options.layers=t,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(t){return this.options.layerDefs=t,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(t){return this.options.timeOptions=t,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(n){var t=f.Util.bind(function(t,e,i){t||setTimeout(f.Util.bind(function(){this._renderPopup(n.latlng,t,e,i)},this),300)},this),e=(this.options.popup||this.identify()).on(this._map).at(n.latlng);if(e.params.maxAllowableOffset||e.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?e.layers("visible:"+this.options.layers.join(",")):e.layers("visible")),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!e.params.layerDefs)for(var i in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(i)&&e.layerDef(i,this.options.layerDefs[i]);e.run(t),this._shouldRenderPopup=!0,this._lastClick=n.latlng},_buildExportParams:function(){var t=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:t,imageSR:t};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;t.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(t.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport:function(t,i){"json"===this.options.f?this.service.request("export",t,function(t,e){t||(this.options.token&&e.href&&(e.href+="?token="+this.options.token),this.options.proxy&&e.href&&(e.href=this.options.proxy+"?"+e.href),e.href?this._renderImage(e.href,i):this._renderImage(e.imageData,i,e.contentType))},this):(t.f="image",t=this.options.url+"export"+f.Util.getParamString(t),this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,i))}});var ct=f.Layer.extend({options:{cellSize:512,updateWhenIdle:f.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(t){f.Util.setOptions(this,t)},onAdd:function(t){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(t){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),t},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var t=this.options.cellSize;return t instanceof f.Point?t:new f.Point(t,t)},_pruneCells:function(){if(this._map){var t,e,i;for(t in this._cells)(i=this._cells[t]).retain=i.current;for(t in this._cells)(i=this._cells[t]).current&&!i.active&&(e=i.coords,this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._cells)this._cells[t].retain||this._removeCell(t)}},_removeAllCells:function(){for(var t in this._cells)this._removeCell(t)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),t=Math.floor(e/2),e=i-1,i=new f.Point(+o,+t);i.z=+e;i=this._cellCoordsToKey(i),i=this._cells[i];return i&&i.active?i.retain=!0:(i&&i.loaded&&(i.retain=!0),n<e&&this._retainParent(o,t,e,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var a=new f.Point(o,r);a.z=i+1;a=this._cellCoordsToKey(a),a=this._cells[a];a&&a.active?a.retain=!0:(a&&a.loaded&&(a.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView:function(t,e,i,n){e=Math.round(e);n||(this._cellZoom=e,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==e&&this._update(t),i||this._pruneCells(),this._noPrune=!!i)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._cellSize=this.getCellSize(),n=this._cellZoom,o=this._map.getPixelWorldBounds(this._cellZoom);o&&(this._globalCellRange=this._pxBoundsToCellRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(t){t&&(t.pinch||t.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(i,this._cellZoom),t=e.project(t,this._cellZoom).floor(),i=e.getSize().divideBy(2*i);return new f.Bounds(t.subtract(i),t.add(i))},_update:function(t){var e=this._map;if(e){var i=Math.round(e.getZoom());void 0===t&&(t=e.getCenter());var n,e=this._getCelldPixelBounds(t),o=this._pxBoundsToCellRange(e),r=o.getCenter(),a=[],e=this.options.keepBuffer,s=new f.Bounds(o.getBottomLeft().subtract([e,-e]),o.getTopRight().add([e,-e]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of cells");for(n in this._cells){var l=this._cells[n].coords;l.z===this._cellZoom&&s.contains(new f.Point(l.x,l.y))||(this._cells[n].current=!1)}if(1<Math.abs(i-this._cellZoom))this._setView(t,i);else{for(var h=o.min.y;h<=o.max.y;h++)for(var u=o.min.x;u<=o.max.x;u++){var c,d=new f.Point(u,h);d.z=this._cellZoom,this._isValidCell(d)&&((c=this._cells[this._cellCoordsToKey(d)])?c.current=!0:a.push(d))}if(a.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==a.length)for(this._loading||(this._loading=!0),u=0;u<a.length;u++){var p=this._cellCoordsToKey(a[u]),p=this._keyToCellCoords(p);this._activeCells[p]?this._reuseCell(a[u]):this._createCell(a[u])}}}},_isValidCell:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalCellRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;t=this._cellCoordsToBounds(t);return(0,f.toLatLngBounds)(this.options.bounds).overlaps(t)},_keyToBounds:function(t){return this._cellCoordsToBounds(this._keyToCellCoords(t))},_cellCoordsToNwSe:function(t){var e=this._map,i=this.getCellSize(),n=t.scaleBy(i),i=n.add(i);return[e.unproject(n,t.z),e.unproject(i,t.z)]},_cellCoordsToBounds:function(t){t=this._cellCoordsToNwSe(t),t=new f.LatLngBounds(t[0],t[1]);return t=!this.options.noWrap?this._map.wrapLatLngBounds(t):t},_cellCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToCellCoords:function(t){var e=t.split(":"),t=new f.Point(+e[0],+e[1]);return t.z=+e[2],t},_removeCell:function(t){var e,i,n=this._cells[t];n&&(i=this._keyToCellCoords(t),e=this._wrapCoords(i),i=this._cellCoordsToBounds(this._wrapCoords(i)),n.current=!1,delete this._cells[t],this._activeCells[t]=n,this.cellLeave(i,e,t),this.fire("cellleave",{key:t,coords:e,bounds:i}))},_reuseCell:function(t){var e=this._cellCoordsToKey(t);this._cells[e]=this._activeCells[e],this._cells[e].current=!0;var i=this._wrapCoords(t),t=this._cellCoordsToBounds(this._wrapCoords(t));this.cellEnter(t,i,e),this.fire("cellenter",{key:e,coords:i,bounds:t})},_createCell:function(t){var e=this._cellCoordsToKey(t),i=this._wrapCoords(t),n=this._cellCoordsToBounds(this._wrapCoords(t));this.createCell(n,i,e),this.fire("cellcreate",{key:e,coords:i,bounds:n}),this._cells[e]={coords:t,current:!0},f.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(t,e,i){t=this._cellCoordsToKey(t);(i=this._cells[t])&&(i.loaded=+new Date,i.active=!0)},_getCellPos:function(t){return t.scaleBy(this.getCellSize())},_wrapCoords:function(t){var e=new f.Point(this._wrapX?f.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?f.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToCellRange:function(t){var e=this.getCellSize();return new f.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))}});function dt(t){this.values=[].concat(t||[])}dt.prototype.query=function(t){t=this.getIndex(t);return this.values[t]},dt.prototype.getIndex=function(t){this.dirty&&this.sort();for(var e,i,n=0,o=this.values.length-1;n<=o;)if(e=(n+o)/2|0,+(i=this.values[Math.round(e)]).value<+t)n=1+e;else{if(!(+i.value>+t))return e;o=e-1}return Math.abs(~o)},dt.prototype.between=function(t,e){var i=this.getIndex(t),n=this.getIndex(e);if(0===i&&0===n)return[];for(;this.values[i-1]&&this.values[i-1].value===t;)i--;for(;this.values[n+1]&&this.values[n+1].value===e;)n++;return this.values[n]&&this.values[n].value===e&&this.values[n+1]&&n++,this.values.slice(i,n)},dt.prototype.insert=function(t){return this.values.splice(this.getIndex(t.value),0,t),this},dt.prototype.bulkAdd=function(t,e){return this.values=this.values.concat([].concat(t||[])),e?this.sort():this.dirty=!0,this},dt.prototype.sort=function(){return this.values.sort(function(t,e){return+e.value-+t.value}).reverse(),this.dirty=!1,this};var pt=dt,ft=ct.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(t){if(ct.prototype.initialize.call(this,t),t=B(t),t=f.Util.setOptions(this,t),this.service=at(t),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var e=!1,i=0;i<this.options.fields.length;i++)this.options.fields[i].match(/^(OBJECTID|FID|OID|ID)$/i)&&(e=!0);!1===e&&m("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new pt,this._endTimeIndex=new pt):this.options.timeField&&(this._timeIndex=new pt),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(n){return U(n),this.service.metadata(function(t,e){var i;t||(i=e.supportedQueryFormats,!(t=(t=!1)===this.service.options.isModern||this.options.fetchAllFeatures?!0:t)&&i&&-1!==i.indexOf("geoJSON")&&(this.service.options.isModern=!0),e.objectIdField&&(this.service.options.idAttribute=e.objectIdField),!this.options.attribution&&n.attributionControl&&e.copyrightText&&(this.options.attribution=e.copyrightText,n.attributionControl.addAttribution(this.getAttribution())))},this),n.on("zoomend",this._handleZoomChange,this),ct.prototype.onAdd.call(this,n)},onRemove:function(t){return Z(t),t.off("zoomend",this._handleZoomChange,this),ct.prototype.onRemove.call(this,t)},getAttribution:function(){return this.options.attribution},createCell:function(t,e){this._visibleZoom()&&this._requestFeatures(t,e)},_requestFeatures:function(n,o,r,a){this._activeRequests++,a=a||0;var s=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:n},!0),this._buildQuery(n,a).run(function(t,e,i){i&&i.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===s&&(!t&&e&&e.features.length&&f.Util.requestAnimFrame(f.Util.bind(function(){this._addFeatures(e.features,o),this._postProcessFeatures(n)},this)),t||!e||e.features.length||this._postProcessFeatures(n),t&&this._postProcessFeatures(n),r&&r.call(this,t,e),i&&(i.exceededTransferLimit||i.properties&&i.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(n,o,r,a+e.features.length))},this)},_postProcessFeatures:function(t){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:t})},_cacheKey:function(t){return t.z+":"+t.x+":"+t.y},_addFeatures:function(t,e){var i;e&&(i=this._cacheKey(e),this._cache[i]=this._cache[i]||[]);for(var n=t.length-1;0<=n;n--){var o=t[n].id;-1===this._currentSnapshot.indexOf(o)&&this._currentSnapshot.push(o),void 0!==i&&-1===this._cache[i].indexOf(o)&&this._cache[i].push(o)}this.options.timeField&&this._buildTimeIndexes(t),this.createLayers(t)},_buildQuery:function(t,e){t=this.service.query().intersects(t).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return(t=this.options.fetchAllFeatures&&!isNaN(parseInt(e))?t.offset(e):t).params.resultType="tile",this.options.requestParams&&f.Util.extend(t.params,this.options.requestParams),this.options.simplifyFactor&&t.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&t.between(this.options.from,this.options.to),t},setWhere:function(n,o,r){this.options.where=n&&n.length?n:"1=1";for(var t,a=[],s=[],l=0,h=null,e=f.Util.bind(function(t,e){if(t&&(h=t),e)for(var i=e.features.length-1;0<=i;i--)s.push(e.features[i].id);--l<=0&&this._visibleZoom()&&n===this.options.where&&(this._currentSnapshot=s,f.Util.requestAnimFrame(f.Util.bind(function(){this.removeLayers(a),this.addLayers(s),o&&o.call(r,h)},this)))},this),i=this._currentSnapshot.length-1;0<=i;i--)a.push(this._currentSnapshot[i]);for(t in this._cache={},this._cells){l++;var u=this._keyToCellCoords(t),c=this._cellCoordsToBounds(u);this._requestFeatures(c,u,e)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,i,n,o){var r=this.options.from,a=this.options.to,s=0,l=null,t=f.Util.bind(function(t){t&&(l=t),this._filterExistingFeatures(r,a,e,i),s--,n&&s<=0&&n.call(o,l)},this);if(this.options.from=e,this.options.to=i,this._filterExistingFeatures(r,a,e,i),"server"===this.options.timeFilterMode)for(var h in this._cells){s++;var u=this._keyToCellCoords(h),c=this._cellCoordsToBounds(u);this._requestFeatures(c,u,t)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(t,e,i,n){var o=t&&e?this._getFeaturesInTimeRange(t,e):this._currentSnapshot,r=this._getFeaturesInTimeRange(i,n);if(r.indexOf)for(var a=0;a<r.length;a++){var s=o.indexOf(r[a]);0<=s&&o.splice(s,1)}f.Util.requestAnimFrame(f.Util.bind(function(){this.removeLayers(o),this.addLayers(r)},this))},_getFeaturesInTimeRange:function(t,e){var i=[];if(this.options.timeField.start&&this.options.timeField.end)var n=this._startTimeIndex.between(t,e),o=this._endTimeIndex.between(t,e),r=n.concat(o);else{if(!this._timeIndex)return m("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];r=this._timeIndex.between(t,e)}for(var a=r.length-1;0<=a;a--)i.push(r[a].id);return i},_buildTimeIndexes:function(t){var e;if(this.options.timeField.start&&this.options.timeField.end){for(var i=[],n=[],o=t.length-1;0<=o;o--)e=t[o],i.push({id:e.id,value:new Date(e.properties[this.options.timeField.start])}),n.push({id:e.id,value:new Date(e.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(i),this._endTimeIndex.bulkAdd(n)}else{var r=[];for(o=t.length-1;0<=o;o--)e=t[o],r.push({id:e.id,value:new Date(e.properties[this.options.timeField])});this._timeIndex.bulkAdd(r)}},_featureWithinTimeRange:function(t){if(!this.options.from||!this.options.to)return!0;var e=+this.options.from.valueOf(),i=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var n=+t.properties[this.options.timeField];return e<=n&&n<=i}if(this.options.timeField.start&&this.options.timeField.end){n=+t.properties[this.options.timeField.start],t=+t.properties[this.options.timeField.end];return e<=n&&n<=i||e<=t&&t<=i||n<=e&&i<=t}},_visibleZoom:function(){if(!this._map)return!1;var t=this._map.getZoom();return!(t>this.options.maxZoom||t<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var t in this._cells){var e=this._cells[t].coords,e=this._cacheKey(e);this._cache[e]&&this.addLayers(this._cache[e])}else this.removeLayers(this._currentSnapshot)},authenticate:function(t){return this.service.authenticate(t),this},metadata:function(t,e){return this.service.metadata(t,e),this},query:function(){return this.service.query()},_getMetadata:function(i){this._metadata?i(void 0,this._metadata):this.metadata(f.Util.bind(function(t,e){this._metadata=e,i(t,this._metadata)},this))},addFeature:function(t,e,i){this.addFeatures(t,e,i)},addFeatures:function(e,r,a){this._getMetadata(f.Util.bind(function(t,n){var o;t?r&&r.call(this,t,null):(o=e.features||[e],this.service.addFeatures(e,f.Util.bind(function(t,e){if(!t){for(var i=o.length-1;0<=i;i--)o[i].properties[n.objectIdField]=(1<o.length?e[i]:e).objectId,o[i].id=(1<o.length?e[i]:e).objectId;this._addFeatures(o)}r&&r.call(a,t,e)},this)))},this))},updateFeature:function(t,e,i){this.updateFeatures(t,e,i)},updateFeatures:function(t,n,o){var r=t.features||[t];this.service.updateFeatures(t,function(t,e){if(!t){for(var i=r.length-1;0<=i;i--)this.removeLayers([r[i].id],!0);this._addFeatures(r)}n&&n.call(o,t,e)},this)},deleteFeature:function(t,e,i){this.deleteFeatures(t,e,i)},deleteFeatures:function(t,o,r){return this.service.deleteFeatures(t,function(t,e){var i=e.length?e:[e];if(!t&&0<i.length)for(var n=i.length-1;0<=n;n--)this.removeLayers([i[n].objectId],!0);o&&o.call(r,t,e)},this)}});function mt(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function gt(t,n,o,r){return t.sort(function(t,e){var i,e="desc"==o?(i=e[n],t[n]):(i=t[n],e[n]);return r?i-e:i.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}),t}function vt(t,e,i,n){return n&&(t=t.replace(/<\/?[^>]+(>|$)/g,"")),i?-1!==t.indexOf(e):-1!==t.toUpperCase().indexOf(e.toUpperCase())}function _t(t,e){var i=Math.floor(t),n=i%1e3,o=(i=Math.floor(i/1e3))%60,r=(i=Math.floor(i/60))%60,a=(i=Math.floor(i/60))%24,i=i=Math.floor(i/24);return e?(n="",o+='"'):(n+='"',o+="."),6e4<t?r+="'":r="",36e5<t?a+=":":a="",864e5<t?i+=".":i="",i+a+r+o+n}function yt(t,e){e=Math.pow(10,e);return Math.round(t*e)/e}function xt(t){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}ft.extend({options:{cacheLayers:!0},initialize:function(t){t.apikey&&(t.token=t.apikey),ft.prototype.initialize.call(this,t),this._originalStyle=this.options.style,this._layers={}},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e]),this.fire("removefeature",{feature:this._layers[e].feature,permanent:!1},!0);return ft.prototype.onRemove.call(this,t)},createNewLayer:function(t){t=f.GeoJSON.geometryToLayer(t,this.options);return t&&(t.defaultOptions=t.options),t},_updateLayer:function(t,e){var i=[],n=this.options.coordsToLatLng||f.GeoJSON.coordsToLatLng;switch(e.properties&&(t.feature.properties=e.properties),e.geometry.type){case"Point":i=f.GeoJSON.coordsToLatLng(e.geometry.coordinates),t.setLatLng(i);break;case"LineString":i=f.GeoJSON.coordsToLatLngs(e.geometry.coordinates,0,n),t.setLatLngs(i);break;case"MultiLineString":case"Polygon":i=f.GeoJSON.coordsToLatLngs(e.geometry.coordinates,1,n),t.setLatLngs(i);break;case"MultiPolygon":i=f.GeoJSON.coordsToLatLngs(e.geometry.coordinates,2,n),t.setLatLngs(i)}},createLayers:function(t){for(var e=t.length-1;0<=e;e--){var i=t[e],n=this._layers[i.id];!this._visibleZoom()||!n||this._map.hasLayer(n)||this.options.timeField&&!this._featureWithinTimeRange(i)||(this._map.addLayer(n),this.fire("addfeature",{feature:n.feature},!0)),n&&0<this.options.simplifyFactor&&(n.setLatLngs||n.setLatLng)&&this._updateLayer(n,i),n||((n=this.createNewLayer(i))?(n.feature=i,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(i))&&this._map.addLayer(n)):m("invalid GeoJSON encountered"))}},addLayers:function(t){for(var e=t.length-1;0<=e;e--){var i=this._layers[t[e]];!i||this.options.timeField&&!this._featureWithinTimeRange(i.feature)||this._map.addLayer(i)}},removeLayers:function(t,e){for(var i=t.length-1;0<=i;i--){var n=t[i],o=this._layers[n];o&&(this.fire("removefeature",{feature:o.feature,permanent:e},!0),this._map.removeLayer(o)),o&&e&&delete this._layers[n]}},cellEnter:function(t,i){this._visibleZoom()&&!this._zooming&&this._map&&f.Util.requestAnimFrame(f.Util.bind(function(){var t=this._cacheKey(i),e=this._cellCoordsToKey(i),t=this._cache[t];this._activeCells[e]&&t&&this.addLayers(t)},this))},cellLeave:function(t,s){this._zooming||f.Util.requestAnimFrame(f.Util.bind(function(){if(this._map){var t=this._cacheKey(s),e=this._cellCoordsToKey(s),i=this._cache[t],n=this._map.getBounds();if(!this._activeCells[e]&&i){for(var o=!0,r=0;r<i.length;r++){var a=this._layers[i[r]];a&&a.getBounds&&n.intersects(a.getBounds())&&(o=!1)}o&&this.removeLayers(i,!this.options.cacheLayers),!this.options.cacheLayers&&o&&(delete this._cache[t],delete this._cells[e],delete this._activeCells[e])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(t){this.resetFeatureStyle(t.feature.id)},this),this},setStyle:function(e){return this.options.style=e,this.eachFeature(function(t){this.setFeatureStyle(t.feature.id,e)},this),this},resetFeatureStyle:function(t){var e=this._layers[t],i=this._originalStyle||f.Path.prototype.options;return e&&(f.Util.extend(e.options,e.defaultOptions),this.setFeatureStyle(t,i)),this},setFeatureStyle:function(t,e){t=this._layers[t];return"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e),this},eachActiveFeature:function(t,e){if(this._map){var i,n=this._map.getBounds();for(i in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[i].feature.id)&&("function"==typeof this._layers[i].getLatLng&&n.contains(this._layers[i].getLatLng())||"function"==typeof this._layers[i].getBounds&&n.intersects(this._layers[i].getBounds()))&&t.call(e,this._layers[i])}return this},eachFeature:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getFeature:function(t){return this._layers[t]},bringToBack:function(){this.eachFeature(function(t){t.bringToBack&&t.bringToBack()})},bringToFront:function(){this.eachFeature(function(t){t.bringToFront&&t.bringToFront()})},redraw:function(t){return t&&this._redraw(t),this},_redraw:function(t){var e,i=this._layers[t],t=i.feature;i&&i.setIcon&&this.options.pointToLayer&&this.options.pointToLayer&&(e=this.options.pointToLayer(t,(0,f.latLng)(t.geometry.coordinates[1],t.geometry.coordinates[0])).options.icon,i.setIcon(e)),i&&i.setStyle&&this.options.pointToLayer&&(e=this.options.pointToLayer(t,(0,f.latLng)(t.geometry.coordinates[1],t.geometry.coordinates[0])).options,this.setFeatureStyle(t.id,e)),i&&i.setStyle&&this.options.style&&this.resetStyle(t.id)}}),bt(5732),bt(9627),bt(7977),D().TileLayer.HERE=D().TileLayer.extend({options:{subdomains:"1234",minZoom:2,maxZoom:18,scheme:"normal.day",resource:"maptile",mapId:"newest",format:"png8",apiKey:"",appId:"",appCode:""},initialize:function(t){var e,i,n=(t=D().setOptions(this,t)).scheme.split(".")[0];t.tileResolution=256,D().Browser.retina&&(t.tileResolution=512),i=t.apiKey?(e=".maps.ls.hereapi.com",o="/{resource}/2.1/{resource}/{mapId}/{scheme}/{z}/{x}/{y}/{tileResolution}/{format}?apiKey={apiKey}","/maptile/2.1/copyright/{mapId}?apiKey={apiKey}"):(e=".maps.api.here.com",o="/{resource}/2.1/{resource}/{mapId}/{scheme}/{z}/{x}/{y}/{tileResolution}/{format}?app_id={appId}&app_code={appCode}","/maptile/2.1/copyright/{mapId}?app_id={appId}&app_code={appCode}");var n="satellite"!=n&&"terrain"!=n&&"hybrid"!=n?"base":"aerial",o="https://{s}."+(n=-1!==t.scheme.indexOf(".traffic.")?"traffic":n)+e+o;this._attributionUrl=D().Util.template("https://1."+n+e+i,this.options),D().TileLayer.prototype.initialize.call(this,o,t),this._attributionText=""},onAdd:function(t){D().TileLayer.prototype.onAdd.call(this,t),this._attributionText="",this._attributionBBoxes||this._fetchAttributionBBoxes()},onRemove:function(t){D().TileLayer.prototype.onRemove.call(this,t),void 0!==this._map.attributionControl&&this._map.attributionControl.removeAttribution(this._attributionText),this._map.off("moveend zoomend resetview",this._findCopyrightBBox,this)},_fetchAttributionBBoxes:function(){var t=new XMLHttpRequest;t.onreadystatechange=D().bind(function(){4==t.readyState&&200==t.status&&this._parseAttributionBBoxes(JSON.parse(t.responseText))},this),t.open("GET",this._attributionUrl,!0),t.send()},_parseAttributionBBoxes:function(t){if(this._map){for(var e=t[this.options.scheme.split(".")[0]]||t.normal,i=0;i<e.length;i++)if(e[i].boxes)for(var n=0;n<e[i].boxes.length;n++){var o=e[i].boxes[n];e[i].boxes[n]=D().latLngBounds([[o[0],o[1]],[o[2],o[3]]])}this._map.on("moveend zoomend resetview",this._findCopyrightBBox,this),this._attributionProviders=e,this._findCopyrightBBox()}},_findCopyrightBBox:function(){if(this._map){for(var t=this._attributionProviders,e=[],i=this._map.getZoom(),n=this._map.getBounds(),o=0;o<t.length;o++){if(t[o].minLevel<i&&t[o].maxLevel>i&&!t[o].boxes){e.push(t[o]);break}for(var r=0;r<t[o].boxes.length;r++){var a=t[o].boxes[r];if(n.overlaps(a)){e.push(t[o]);break}}}for(var s=['<a href="https://legal.here.com/terms/serviceterms/gb/">HERE maps</a>'],o=0;o<e.length;o++){var l=e[o];s.push('<abbr title="'+l.alt+'">'+l.label+"</abbr>")}var h="© "+s.join(", ")+". ";h!==this._attributionText&&void 0!==this._map.attributionControl&&(this._map.attributionControl.removeAttribution(this._attributionText),this._map.attributionControl.addAttribution(this._attributionText=h))}}}),D().tileLayer.here=function(t){return new(D().TileLayer.HERE)(t)},D().TileLayer.TomTom=D().TileLayer.extend({options:{apiKey:"",style:"main",subdomains:"abcd",minNativeZoom:0,maxNativeZoom:22},initialize:function(t){var e="https://{s}.api.tomtom.com/map/1/tile/basic/"+(t=D().setOptions(this,t)).style+"/{z}/{x}/{y}.png?key="+t.apiKey;D().TileLayer.prototype.initialize.call(this,e,t),this._copyright=D().DomUtil.create("div","tomtom-copyright"),this._copyrightClose=D().DomUtil.create("button","tomtom-copyright-close",this._copyright),this._copyrightContent=D().DomUtil.create("div","tomtom-copyright-content",this._copyright),D().DomEvent.on(this._copyrightClose,"click",function(t){t.preventDefault(),t.stopPropagation(),this._hideCopyright()},this),this._attributionText='<a class="tomtom-attribution" href="#">&copy; 1992 - '+(new Date).getFullYear()+" TomTom.</a>"},onAdd:function(t){D().TileLayer.prototype.onAdd.call(this,t),this._addAttribution(),this._map.on("click",this._hideCopyright,this)},onRemove:function(t){D().TileLayer.prototype.onRemove.call(this,t),this._hideCopyright(),this._removeAttribution(),this._map.off("click",this._hideCopyright,this)},_addAttribution:function(){var t;void 0!==this._map.attributionControl&&(this._map.attributionControl.addAttribution(this._attributionText),null!==(t=this._map.attributionControl.getContainer().querySelector(".tomtom-attribution"))&&D().DomEvent.on(t,"click",function(t){t.preventDefault(),t.stopPropagation(),this._showCopyright()},this))},_removeAttribution:function(){void 0!==this._map.attributionControl&&this._map.attributionControl.removeAttribution(this._attributionText)},_showCopyright:function(){var t=this._map.getContainer();null===t.querySelector(".tomtom-copyright")&&t.appendChild(this._copyright);var e,i,n=this._map.getBounds(),o=n.getNorthEast().wrap(),t=n.getSouthWest().wrap(),n=t.lng<o.lng?(e=t.lng,o.lng):(e=o.lng,t.lng),t=t.lat<o.lat?(i=t.lat,o.lat):(i=o.lat,t.lat),t="https://api.tomtom.com/map/1/copyrights/"+e+"/"+i+"/"+n+"/"+t+".json?key="+this.options.apiKey,r=new XMLHttpRequest;r.onreadystatechange=D().bind(function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){for(var t=JSON.parse(r.responseText),e="<h4>General Copyrights:</h4>",i=0;i<t.generalCopyrights.length;i++)e+="<p>"+t.generalCopyrights[i]+"</p>";for(i=0;i<t.regions.length;i++){var n=t.regions[i];e+="<h4>"+n.country.label+":</h4>";for(var o=0;o<n.copyrights.length;o++)e+="<p>"+n.copyrights[o]+"</p>"}this._copyrightContent.innerHTML=e}},this),r.open("GET",t,!0),r.send()},_hideCopyright:function(){this._copyright.remove()}}),D().tileLayer.tomTom=function(t,e){return new(D().TileLayer.TomTom)(t,e)},bt(810),bt(5830),bt(8292),bt(7244),bt(687),D().Control.ResetView=D().Control.extend({options:{position:"topleft",onDemand:!1,coordinates:null,zoom:null,title:""},onAdd:function(t){var e=D().DomUtil.create("div","leaflet-bar"),i=this.options;return i.onDemand&&(e.style.display="none",t.on("movestart",function(){e.style.display="block"})),null===i.coordinates&&(i.coordinates=t.getCenter()),null===i.zoom&&(i.zoom=t.getZoom()),this._createButton("",i.title,"mmp-control-resetview",e,this._resetView),e},_createButton:function(t,e,i,n,o){n=D().DomUtil.create("a",i,n);n.innerHTML=t,n.href="#",n.title=e,D().DomEvent.disableClickPropagation(n),D().DomEvent.on(n,"click",D().DomEvent.stop),D().DomEvent.on(n,"click",o,this),D().DomEvent.on(n,"click",this._refocusOnMap,this)},_resetView:function(){this._map.stop(),this.options.onDemand&&this._map.once("moveend",function(){this._container.style.display="none"},this),this._map.setView(this.options.coordinates,this.options.zoom,{animate:!0})}}),D().control.resetView=function(t){return new(D().Control.ResetView)(t)},D().Control.Filters=D().Control.extend({options:{mmp:null,collapsed:!0,position:"topright",buttons:!0,allText:"All",noneText:"None"},initialize:function(t){D().Util.setOptions(this,t)},onAdd:function(t){this._map=t;var e=this.options.mmp,i=this.options.collapsed,n="mmp-control-filters",o=this._container=D().DomUtil.create("div",n);o.setAttribute("aria-haspopup",!0),D().DomEvent.disableClickPropagation(o),D().DomEvent.disableScrollPropagation(o),i&&(this._map.on("click",this.collapse,this),D().Browser.android||D().DomEvent.on(o,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=D().DomUtil.create("a",n+"-toggle",o);r.href="#",r.title="Filters",D().Browser.touch?(D().DomEvent.on(r,"click",D().DomEvent.stop),D().DomEvent.on(r,"click",this.expand,this)):D().DomEvent.on(r,"focus",this.expand,this);var a,s=this._form=D().DomUtil.create("form",n+"-list",o);this.options.buttons&&(a=D().DomUtil.create("div","mmp-control-filters-buttons",s),(r=D().DomUtil.create("a",null,a)).innerHTML=this.options.allText,r.href="#",r.title=this.options.allText,D().DomEvent.disableClickPropagation(r),D().DomEvent.on(r,"click",D().DomEvent.stop),D().DomEvent.on(r,"click",function(){this._batchSelect(!0)},this),(a=D().DomUtil.create("a",null,a)).innerHTML=this.options.noneText,a.href="#",a.title=this.options.noneText,D().DomEvent.disableClickPropagation(a),D().DomEvent.on(a,"click",D().DomEvent.stop),D().DomEvent.on(a,"click",function(){this._batchSelect(!1)},this));var l=[];Object.keys(e.settings.filtersDetails).forEach(function(t){void 0!==e.groups[t]&&l.push({index:e.settings.filtersDetails[t].index,id:t,icon:e.settings.filtersDetails[t].icon,name:e.settings.filtersDetails[t].name,count:Object.keys(e.groups[t].markers).length})}),l="id"==e.settings.filtersOrderBy?gt(l,"id",e.settings.filtersSortOrder,!0):"name"==e.settings.filtersOrderBy?gt(l,"name",e.settings.filtersSortOrder,!1):"count"==e.settings.filtersOrderBy?gt(l,"count",e.settings.filtersSortOrder,!0):gt(l,"index",e.settings.filtersSortOrder,!0);for(var h=0;h<l.length;h++){var u=D().DomUtil.create("label",null,s),c=D().DomUtil.create("input",n+"-selector",u);c.type="checkbox",c.value=l[h].id,void 0!==e.groups[l[h].id]&&e.groups[l[h].id].active&&(c.checked=!0);var d=D().DomUtil.create("span",null,u),u="";e.settings.filtersIcon&&(u+='<img class="mmp-filter-icon" src="'+(l[h].icon?mmpVars.iconsUrl+l[h].icon:mmpVars.pluginUrl+"images/leaflet/marker.png")+'" />'),e.settings.filtersName&&(u+=l[h].name),e.settings.filtersCount&&(u+=" [ "+l[h].count+" ]"),d.innerHTML=u,D().DomEvent.on(c,"click",function(){void 0!==e.groups[this.value]&&(e.groups[this.value].active=this.checked),e.drawMarkers(),e.drawGeoJson(),t.fire("filterclick")},c)}return i||this.expand(),o},expand:function(){D().DomUtil.addClass(this._container,"mmp-control-filters-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(D().DomUtil.addClass(this._form,"mmp-control-filters-scrollbar"),this._form.style.height=t+"px"):D().DomUtil.removeClass(this._form,"mmp-control-filters-scrollbar"),this},collapse:function(){return D().DomUtil.removeClass(this._container,"mmp-control-filters-expanded"),this},_batchSelect:function(t){for(var e=this.options.mmp,i=this._container.getElementsByClassName("mmp-control-filters-selector"),n=i.length-1;0<=n;n--)i[n].checked=t,void 0!==e.groups[i[n].value]&&(e.groups[i[n].value].active=t);e.drawMarkers(),e.drawGeoJson(),this._map.fire("filterclick")}}),D().control.filters=function(t){return new(D().Control.Filters)(t)},D().Control.Gpx=D().Control.extend({options:{mmp:null,collapsed:!0,position:"topleft"},initialize:function(t){D().Util.setOptions(this,t)},onAdd:function(e){this._map=e;var i=this.options.mmp,t=this.options.collapsed,n="mmp-control-tracks",o=this._container=D().DomUtil.create("div",n);o.setAttribute("aria-haspopup",!0),D().DomEvent.disableClickPropagation(o),D().DomEvent.disableScrollPropagation(o),t&&(this._map.on("click",this.collapse,this),D().Browser.android||D().DomEvent.on(o,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=D().DomUtil.create("a",n+"-toggle",o);r.href="#",r.title="Tracks",D().Browser.touch?(D().DomEvent.on(r,"click",D().DomEvent.stop),D().DomEvent.on(r,"click",this.expand,this)):D().DomEvent.on(r,"focus",this.expand,this);for(var a=this._form=D().DomUtil.create("form",n+"-list",o),s=0;s<i.gpx.tracks.length;s++){var l=D().DomUtil.create("label",null,a),h=D().DomUtil.create("input",n+"-selector",l);h.type="radio",h.name="mmp-gpx-tracks",0==(h.value=s)&&(h.checked=!0),D().DomUtil.create("span",null,l).innerHTML=i.gpx.tracks[s].name||"Unnamed Track",D().DomEvent.on(h,"click",function(){var t=parseInt(this.value);e._activeTrack=t,e.fitBounds(i.gpxTracks[t].getBounds(),{padding:[10,10]}),i.updateElevationChart(!0)},h)}return t||this.expand(),o},expand:function(){D().DomUtil.addClass(this._container,"mmp-control-tracks-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(D().DomUtil.addClass(this._form,"mmp-control-tracks-scrollbar"),this._form.style.height=t+"px"):D().DomUtil.removeClass(this._form,"mmp-control-tracks-scrollbar"),this},collapse:function(){return D().DomUtil.removeClass(this._container,"mmp-control-tracks-expanded"),this}}),D().control.gpx=function(t){return new(D().Control.Gpx)(t)},bt(5356),i=function(t){var A=this;this.uid=t.uid,this.type=t.type,this.id=t.id,this.lazy=t.lazy,this.customMarkers=t.markers,this.settings=t.overrides||{},this.language=t.language||null,this.highlight=t.highlight||null,this.fullscreen=t.fullscreen||!1,this.page=t.page||null,this.containers={},this.map={},this.groups={},this.markers={},this.markerGroup={},this.geoJson={},this.geoJsonGroup={},this.tooltips={},this.basemaps={},this.minimaps={},this.overlays={},this.controls={},this.gpx={},this.gpxChart={},this.gpxTracks={},this.gpxWaypoints={},this.chartLayers={},this.location={},this.listeners={},this.on=function(t,e){A.listeners[t]instanceof Array||(A.listeners[t]=[]),-1===A.listeners[t].indexOf(e)&&A.listeners[t].push(e)},this.off=function(t,e){A.listeners[t]instanceof Array&&(-1!==(e=A.listeners[t].indexOf(e))&&A.listeners[t].splice(e,1))},this.fire=function(t,e){if(A.listeners[t]instanceof Array)for(var i=0;i<A.listeners[t].length;i++)A.listeners[t][i].call(A,e)},this.checkInvalidateSize=function(){var t=mt(A.containers.main);!A.mapVisible&&t&&(A.map.invalidateSize(),void 0!==A.controls.minimap&&A.controls.minimap._miniMap.invalidateSize()),A.mapVisible=t},this.strToBounds=function(t){return 4!==(t=(t=t.replace(/[^0-9.,-]/g,"")).split(",")).length?null:(t.map(parseFloat),[[t[0],t[1]],[t[2],t[3]]])},this.boundsToStr=function(t){return[t.getSouth(),t.getWest(),t.getNorth(),t.getEast()].join(",")},this.checkJson=function(t){try{var e=JSON.parse(t);if(e&&"object"===xt(e))return e}catch(t){}return!1},this.formatGpxValue=function(t,e,i){if(isNaN(t))return"N/A";var n,o,e="dist"===e?(n=1.609344,o=" km"," mi"):(n=.3048,o=" m"," ft"),r="imperial"===i||"imperial-metric"===i?(a=t*n,t):(a=t)/n,a=yt(a,2)+o;switch(r=yt(r,2)+e,i){case"imperial":return r;case"metric-imperial":return a+" ("+r+")";case"imperial-metric":return r+" ("+a+")";default:return a}},this.addLoading=function(t){if(!t.getElementsByClassName("mmp-loading-spinner").length){var e=document.createElement("div");e.className="mmp-loading-spinner";var i=document.createElement("div");i.className="rect-wrap",e.appendChild(i);for(var n=1;n<=5;n++){var o=document.createElement("div");o.className="rect"+n,i.appendChild(o)}t.appendChild(e)}},this.removeLoading=function(t){for(var e=t.getElementsByClassName("mmp-loading-spinner"),i=0;i<e.length;i++)e[i].remove()},this.showMapModal=function(t,e){void 0!==A.containers.mapModal&&A.containers.mapModal.remove(),A.containers.mapModal=D().DomUtil.create("div","mmp-map-modal"),A.containers.mapModal.addEventListener("click",function(t){t.target===this&&this.remove()});var i=D().DomUtil.create("div","mmp-map-modal-content",A.containers.mapModal),n=D().DomUtil.create("span","mmp-map-modal-close",i);n.innerHTML="&times;",n.addEventListener("click",function(t){t.target===this&&A.containers.mapModal.remove()});n=D().DomUtil.create("div","mmp-map-modal-header",i);D().DomUtil.create("p","mmp-map-modal-title",n).innerHTML=t;i=D().DomUtil.create("div","mmp-map-modal-body",i);"string"==typeof e?D().DomUtil.create("p","mmp-map-modal-message",i).innerHTML=e:i.appendChild(e),A.containers.map.appendChild(A.containers.mapModal)},this.getDirectionsLink=function(t,e,i,n){var o=A.settings,r="";switch(t){case"googlemaps":r="https://www.google.com/maps?daddr="+(n||e+","+i),r+="&t="+o.directionsGoogleType,r+="&layer="+(o.directionsGoogleTraffic?"1":"0"),r+="&doflg="+o.directionsGoogleUnits,o.directionsGoogleAvoidHighways&&(r+="&dirflg=h"),o.directionsGoogleAvoidTolls&&(r+="&dirflg=t"),o.directionsGooglePublicTransport&&(r+="&dirflg=r"),o.directionsGoogleWalking&&(r+="&dirflg=w"),o.directionsGoogleLanguage&&(r+="&hl="+o.directionsGoogleLanguage),r+="&om="+(o.directionsGoogleOverview?"1":"0");break;case"yours":r="http://www.yournavigation.org/?tlat="+e+"&tlon="+i,r+="&v="+o.directionsYoursType,r+="&fast="+("fastest"===o.directionsYoursRoute?"1":"0"),r+="&layer="+o.directionsYoursLayer;break;case"ors":r="https://maps.openrouteservice.org/directions?a=null,null,"+e+","+i,r+="&b="+("Bicycle"===o.directionsOrsType?"1a":"Pedestrian"===o.directionsOrsType?"2":"HeavyVehicle"===o.directionsOrsType?"4a":"0"),r+="&c="+("Shortest"===o.directionsOrsRoute?"1":"Recommended"===o.directionsOrsRoute?"2":"0");break;case"bingmaps":r="https://www.bing.com/maps/default.aspx?v=2&rtp=pos___e_~pos."+e+"_"+i+(n?"_"+n:"")}return r},this.getApiLink=function(t,e,i){i=i||{};var n=A.settings,o=mmpVars.apiUrl;switch(!n.language||"geojson"!==t&&"kml"!==t&&"georss"!==t||(i.lang=n.language),t){case"editMap":o=mmpVars.adminUrl+"admin.php?page=mapsmarkerpro_map&id="+e;break;case"editMarker":o=mmpVars.adminUrl+"admin.php?page=mapsmarkerpro_marker&id="+e;break;case"fs":o+="fullscreen/"+e+"/";break;case"gpx":o=mmpVars.baseUrl+"index.php?mapsmarkerpro=download_gpx&url="+n.gpxUrl;break;case"geojson":o+="export/geojson/"+e+"/";break;case"kml":o+="export/kml/"+e+"/";break;case"georss":o+="export/georss/"+e+"/"}return Object.keys(i).length&&(o+="?",Object.keys(i).forEach(function(t){o+=t+"="+i[t]+"&"}),o=o.slice(0,-1)),o},this.addApiLink=function(t,e,i,n){n=D().DomUtil.create("a",null,n);n.href=t,n.rel="nofollow",n.target="_blank",n.title=e;n=D().DomUtil.create("img",null,n);n.src=mmpVars.pluginUrl+"images/icons/"+i,n.title=e,n.style.width=14,n.style.height=14},this.addShareLink=function(t,e){e=D().DomUtil.create("img","mmp-share-icon",e);e.src=mmpVars.pluginUrl+"images/icons/share.png",e.title=mmpL10n.api.share,e.addEventListener("click",function(){A.containers.main.scrollIntoView(),A.openShareModal(t)})},this.openShareModal=function(t){var e=A.settings,i=e.apiFullscreen&&"fs"===e.shareUrl?A.getApiLink("fs",A.id,{marker:t}):A.page+"?markerid="+t,t=D().DomUtil.create("div",null);e.shareFacebook&&t.appendChild(A.getShareLink("facebook",i,e.shareText)),e.shareTwitter&&t.appendChild(A.getShareLink("twitter",i,e.shareText)),e.shareLinkedIn&&t.appendChild(A.getShareLink("linkedin",i,e.shareText)),e.shareWhatsApp&&t.appendChild(A.getShareLink("whatsapp",i,e.shareText)),e.shareEmail&&t.appendChild(A.getShareLink("email",i,e.shareText));e=D().DomUtil.create("div","mmp-share-modal-url",t),e=D().DomUtil.create("input",null,e);e.setAttribute("type","text"),e.setAttribute("value",i),e.addEventListener("click",function(){this.select()}),A.showMapModal(mmpL10n.api.share,t)},this.getShareLink=function(t,e,i){e=encodeURIComponent(e),i=encodeURIComponent(i);var n=D().DomUtil.create("a","mmp-share-button-link");n.setAttribute("target","_blank"),n.setAttribute("rel","noopener");var o=D().DomUtil.create("div","mmp-share-button",n),r=D().DomUtil.create("div","mmp-share-button-icon",o),a=D().SVG.create("svg");a.setAttribute("viewBox","0 0 24 24"),r.appendChild(a);var s=D().SVG.create("path");switch(a.appendChild(s),t){case"facebook":n.setAttribute("href","https://www.facebook.com/sharer.php?u="+e),D().DomUtil.addClass(o,"mmp-share-button-facebook"),s.setAttribute("d","M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z");break;case"twitter":n.setAttribute("href","https://twitter.com/share?text="+i+"&url="+e+"&via=mapsmarker"),D().DomUtil.addClass(o,"mmp-share-button-twitter"),s.setAttribute("d","M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z");break;case"linkedin":n.setAttribute("href","https://www.linkedin.com/shareArticle?title="+i+"&url="+e),D().DomUtil.addClass(o,"mmp-share-button-linkedin"),s.setAttribute("d","M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z");break;case"whatsapp":D().Browser.mobile?n.setAttribute("href","whatsapp://send?text="+i+" "+e):n.setAttribute("href","https://api.whatsapp.com/send?text="+i+" "+e),D().DomUtil.addClass(o,"mmp-share-button-whatsapp"),s.setAttribute("d","M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z");break;case"email":i?n.setAttribute("href","mailto:?subject="+i+"&body="+e):n.setAttribute("href","mailto:?body="+e),n.setAttribute("target","_self"),D().DomUtil.addClass(o,"mmp-share-button-email"),s.setAttribute("d","M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z");break;default:return null}return n},this.checkPopupSize=function(t){var e=A.settings;A.containers.map.offsetWidth<e.popupMaxWidth?(t.options.minWidth=A.containers.map.offsetWidth-50,t.options.maxWidth=A.containers.map.offsetWidth-50):(t.options.minWidth=e.popupMinWidth,t.options.maxWidth=e.popupMaxWidth),A.containers.map.offsetHeight<e.popupMaxHeight?t.options.maxHeight=A.containers.map.offsetHeight-50:t.options.maxHeight=e.popupMaxHeight,t.update()},this.loadPopup=function(r,a){return new Promise(function(t,e){var i,n,o=r.getPopup();void 0!==o?a||!o.getContent()?(n=D().DomUtil.create("div","mmp-popup"),D().DomUtil.create("img","mmp-popup-loading",n).src=mmpVars.pluginUrl+"images/paging-ajax-loader.gif",o.setContent(n),i="",r instanceof D().Marker?i=A.getMarkerPopup(r):r instanceof D().Path&&(i=A.getGeoJsonPopup(r)),n=i.getElementsByTagName("img"),n=Array.prototype.slice.call(n),Promise.all(n.map(A.imgLoaded)).then(function(){o.setContent(i),t(o)})):t(o):e()})},this.getMarkerPopup=function(t){var e,i,n=A.settings,o=D().DomUtil.create("div","mmp-popup");return o.id="mmp-popup-"+t.id,n.popupMarkername&&t.name&&((i=D().DomUtil.create("div","mmp-popup-name",o)).innerHTML=t.name,i.style.borderBottom="1px solid #f0f0e7"),t.popup&&(D().DomUtil.create("div","mmp-popup-text",o).innerHTML=t.popup),(t.address&&n.popupAddress||n.popupCoordinates||n.popupDirections||n.popupShare)&&((i=D().DomUtil.create("div","mmp-popup-location",o)).style.borderTop="1px solid #f0f0e7",n.popupShare&&(e=D().DomUtil.create("i","mmp-popup-share",i),A.addShareLink(t.id,e)),t.address&&n.popupAddress&&(D().DomUtil.create("span","mmp-popup-location-address",i).innerHTML+=t.address),n.popupCoordinates&&(e=D().DomUtil.create("span","mmp-popup-location-coordinates",i),t.address&&n.popupAddress?e.innerHTML+=" ("+t.getLatLng().lat+", "+t.getLatLng().lng+")":e.innerHTML+=t.getLatLng().lat+", "+t.getLatLng().lng),n.popupDirections&&(i=D().DomUtil.create("span","mmp-popup-location-directions",i),(t.address&&n.popupAddress||n.popupCoordinates)&&(i.innerHTML+=" "),(i=D().DomUtil.create("a",null,i)).href=A.getDirectionsLink(n.directionsProvider,t.getLatLng().lat,t.getLatLng().lng,t.address),i.target="_blank",i.title=mmpL10n.api.dir,i.innerHTML="("+mmpL10n.popup.directions+")")),o},this.getGeoJsonPopup=function(t){var e=A.settings,i=D().DomUtil.create("div","mmp-popup");return e.popupMarkername&&t.options.name&&((e=D().DomUtil.create("div","mmp-popup-name",i)).innerHTML=t.options.name,e.style.borderBottom="1px solid #f0f0e7"),t.options.popup&&(D().DomUtil.create("div","mmp-popup-text",i).innerHTML=t.options.popup),i},this.imgLoaded=function(e){return new Promise(function(t){e.addEventListener("load",t),e.addEventListener("error",t),e.loading&&"lazy"===e.loading&&(e.loading="eager")})},this.updatePopups=function(){var i=A.settings;Object.keys(A.markers).forEach(function(t){var e=A.markers[t],t=e.getPopup();void 0!==t&&(t.setContent(""),t.options.minWidth=i.popupMinWidth,t.options.maxWidth=i.popupMaxWidth,t.options.maxHeight=i.popupMaxHeight,t.isOpen()&&A.updatePopup(e))})},this.updatePopup=function(t,e){var i=A.settings,n=t.getPopup();!n&&t.popup?t.bindPopup("",A.popup):n&&!t.popup&&(t.closePopup(),t.unbindPopup()),A.loadPopup(t,e).then(function(t){A.checkPopupSize(t),i.popupCenterOnMap&&A.centerPopup(t)}).catch(function(){})},this.centerPopup=function(t){var e;t.isOpen()&&(e=t.getLatLng(),e=A.map.project(e),t=t._container.clientHeight,e.y-=t/2,e=A.map.unproject(e),A.map.panTo(e,{animate:!0}))},this.highlightMarker=function(t,e,i){var n;t.link?A.openLink(t.link,t.blank):(e&&A.containers.main.scrollIntoView(),n=function(t,e){e?t.isPopupOpen()?A.updatePopup(t):t.openPopup():(t=t.getLatLng(),A.map.setView(t))},A.settings.clustering?A.markerGroup.zoomToShowLayer(t,function(){n(t,i)}):n(t,i))},this.openLink=function(t,e){e="1"===e?"_blank":"_self";window.open(t,e)},this.editMarker=function(t){void 0!==t.relatedTarget.id&&(t=A.getApiLink("editMarker",t.relatedTarget.id),A.openLink(t,"1"))},this.logError=function(t){console.error("[Maps Marker Pro] "+t)},this.xhr=function(o){return new Promise(function(t,e){var i,n=new XMLHttpRequest;n.open(o.type,o.url,!0),n.onload=function(){200===n.status?t(n.responseText):e(n.status+" "+n.statusText)},n.onerror=function(){e("AJAX request failed")},o.data?(i=new FormData,Object.keys(o.data).forEach(function(t){i.append(t,o.data[t])}),n.send(i)):n.send(null)})},this.main=function(){(mapsMarkerPro[A.uid]=A).containers.main=document.getElementById("maps-marker-pro-"+A.uid),A.containers.main?A.lazy?"function"==typeof IntersectionObserver?new IntersectionObserver(A.lazyLoadHandler,{root:null,rootMargin:"0px",threshold:0}).observe(A.containers.main):A.lazyLoadHandlerFallback():A.load():"function"==typeof MutationObserver?new MutationObserver(A.deferredLoadHandler).observe(document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):A.logError("Unable to find map container")},this.load=function(){var t,e;A.addLoading(A.containers.main),"function"==typeof URL&&(e=new URL(window.location.href),t=parseInt(e.searchParams.get("marker")),isNaN(t)||(A.urlHighlight=t),e=parseInt(e.searchParams.get("markerid")),isNaN(e)||(A.urlHighlight=e));for(var i=document.getElementsByClassName("mmp-highlight"),n=0;n<i.length;n++){var o=i[n].dataset;o.uid&&o.uid!==A.uid||o.map&&o.map!==A.id||i[n].addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=this.dataset,i=e.marker||null,t=!e.scroll||"false"!==e.scroll,e=!e.open||"false"!==e.open;i&&void 0!==A.markers[i]&&A.highlightMarker(A.markers[i],t,e)})}for(n=0;n<mapsMarkerPro.callbacks.length;n++){var r=mapsMarkerPro.callbacks[n];"function"==typeof r&&r(A)}A.xhr({type:"POST",url:ajaxurl,data:{action:"mmp_map_settings",type:A.type,id:A.id,lang:A.language}}).then(function(t){if(!(t=JSON.parse(t)).success)return A.containers.main.innerHTML=t.response,void D().DomUtil.addClass(A.containers.main,"mmp-map-error");var e=t.response;Object.keys(A.settings).forEach(function(t){e[t]=A.settings[t]}),(A.settings=e).callback&&"function"==typeof window[e.callback]&&window[e.callback](A),A.fire("settingsloaded",A.settings),A.init()}).catch(function(t){A.containers.main.innerHTML="Error: the map with ID "+A.id+" could not be loaded. Please contact the site owner.",D().DomUtil.addClass(A.containers.main,"mmp-map-error"),A.logError("Error loading settings ("+t+")")})},this.init=function(){A.containers.mapWrap=document.getElementById("mmp-map-wrap-"+A.uid),A.containers.mapWrap||(A.containers.mapWrap=D().DomUtil.create("div","mmp-map-wrap",A.containers.main),A.containers.mapWrap.id="mmp-map-wrap-"+A.uid),A.loadPanel(),A.loadMap(),A.loadChart(),A.loadList(),A.setLayout(),window.addEventListener("resize",A.setLayoutThrottled),"function"==typeof IntersectionObserver?new IntersectionObserver(A.visibilityDetectionHandler,{root:null,rootMargin:"0px",threshold:0}).observe(A.containers.main):A.visibilityDetectionHandlerFallback(),A.loadBasemaps(),A.loadOverlays(),A.loadResources()},this.setLayout=function(){var t=A.settings;if(A.fullscreen)return D().DomUtil.removeClass(A.containers.main,"mmp-list-below"),D().DomUtil.removeClass(A.containers.main,"mmp-list-right"),D().DomUtil.removeClass(A.containers.main,"mmp-list-left"),D().DomUtil.addClass(A.containers.main,"mmp-fullscreen"),void A.map.invalidateSize();D().DomUtil.removeClass(A.containers.main,"mmp-fullscreen"),A.containers.main.style.width=t.width+t.widthUnit,A.containers.map.style.height=t.height+t.heightUnit,t.responsive&&"px"===t.widthUnit&&("100%"!==A.containers.main.style.width&&A.containers.main.parentNode.offsetWidth<t.width?A.containers.main.style.width="100%":"100%"===A.containers.main.style.width&&A.containers.main.parentNode.offsetWidth>t.width&&(A.containers.main.style.width=t.width+"px")),void 0!==A.containers.list&&(0<t.list?1===t.list||-1===A.containers.main.style.width.indexOf("px")&&A.containers.main.offsetWidth<t.listWidth+t.listBreakpoint?(D().DomUtil.removeClass(A.containers.main,"mmp-list-right"),D().DomUtil.removeClass(A.containers.main,"mmp-list-left"),D().DomUtil.addClass(A.containers.main,"mmp-list-below")):(D().DomUtil.removeClass(A.containers.main,"mmp-list-below"),2===t.list?(D().DomUtil.removeClass(A.containers.main,"mmp-list-left"),D().DomUtil.addClass(A.containers.main,"mmp-list-right")):3===t.list&&(D().DomUtil.removeClass(A.containers.main,"mmp-list-right"),D().DomUtil.addClass(A.containers.main,"mmp-list-left"))):(D().DomUtil.removeClass(A.containers.main,"mmp-list-below"),D().DomUtil.removeClass(A.containers.main,"mmp-list-right"),D().DomUtil.removeClass(A.containers.main,"mmp-list-left"))),A.map.invalidateSize()},this.setLayoutThrottled=D().Util.throttle(A.setLayout,200,this),this.loadPanel=function(){var t,e,i=A.settings;A.containers.panel=document.getElementById("mmp-panel-"+A.uid),i.panel?((t=D().DomUtil.create("div","mmp-panel")).id="mmp-panel-"+A.uid,t.style.backgroundColor=i.panelColor,D().DomUtil.create("div","mmp-panel-text",t).innerHTML=i.name,e=D().DomUtil.create("div","mmp-panel-api",t),"map"===A.type&&(i.panelEdit&&A.addApiLink(A.getApiLink("editMap",A.id),mmpL10n.api.editMap,"map-edit.png",e),i.apiFullscreen&&i.panelFs&&A.addApiLink(A.getApiLink("fs",A.id),mmpL10n.api.fs,"fullscreen.png",e),i.panelGpx&&i.gpxUrl&&A.addApiLink(A.getApiLink("gpx",A.id),mmpL10n.gpx.metaDownload,"gpx.png",e),i.apiExport&&i.panelGeoJson&&A.addApiLink(A.getApiLink("geojson",A.id),mmpL10n.api.geoJson,"geojson.png",e),i.apiExport&&i.panelKml&&A.addApiLink(A.getApiLink("kml",A.id),mmpL10n.api.kml,"kml.png",e),i.apiExport&&i.panelGeoRss&&A.addApiLink(A.getApiLink("georss",A.id),mmpL10n.api.geoRss,"georss.png",e)),A.containers.panel?A.containers.panel.parentNode.replaceChild(t,A.containers.panel):A.containers.mapWrap.insertBefore(t,A.containers.map),A.containers.panel=t,A.fire("panelloaded",A.map)):A.containers.panel&&(A.containers.panel.remove(),A.containers.panel=null)},this.loadMap=function(){var t=A.settings;"function"==typeof A.map.remove&&A.map.remove(),A.map={};var e=D().DomUtil.create("div","mmp-map");e.id="mmp-map-"+A.uid,e.style.height=t.height+t.heightUnit,A.containers.map=document.getElementById("mmp-map-"+A.uid),A.containers.map?A.containers.map.parentNode.replaceChild(e,A.containers.map):A.containers.mapWrap.insertBefore(e,A.containers.chartWrap),A.containers.map=e,A.map=D().map(A.containers.map,{center:[t.lat,t.lng],zoom:t.zoom,minZoom:t.minZoom,maxZoom:t.maxZoom,zoomSnap:t.zoomStep,zoomDelta:t.zoomStep,maxBounds:A.strToBounds(t.maxBounds),maxBoundsViscosity:1,gestureHandling:!A.fullscreen&&t.gestureHandling,dragging:t.dragging,inertia:t.inertia,inertiaDeceleration:t.inertiaDeceleration,inertiaMaxSpeed:t.inertiaMaxSpeed,keyboard:t.keyboard,keyboardPanDelta:t.keyboardPanDelta,scrollWheelZoom:t.scrollWheelZoom,doubleClickZoom:t.doubleClickZoom,touchZoom:t.touchZoom,boxzoom:t.boxzoom,bounceAtZoomLimits:t.bounceAtZoomLimits,worldCopyJump:t.worldCopyJump,attributionControl:!1,zoomControl:!1,closePopupOnClick:t.popupAutoClose,contextmenu:!0}),A.map._activeTrack=0,A.fire("maploaded",A.map)},this.loadChart=function(){var t,e=A.settings;"function"==typeof A.gpxChart.destroy&&A.gpxChart.destroy(),A.gpxChart={},A.containers.chartWrap=document.getElementById("mmp-chart-wrap-"+A.uid),e.gpxUrl&&e.gpxChart?((t=D().DomUtil.create("div","mmp-gpx-chart-wrap")).id="mmp-chart-wrap-"+A.uid,t.style.height=e.gpxChartHeight+"px",t.style.position="relative",t.style.minWidth=0,(e=D().DomUtil.create("canvas","mmp-gpx-chart",t)).id="mmp-gpx-chart-"+A.uid,A.containers.chartWrap?A.containers.chartWrap.parentNode.replaceChild(t,A.containers.chartWrap):A.containers.mapWrap.appendChild(t),A.containers.chartWrap=t,A.containers.chart=e,A.fire("chartloaded",A.gpxChart)):A.containers.chartWrap&&(A.containers.chartWrap.remove(),A.containers.chartWrap=null,A.containers.chart=null)},this.loadList=function(){var t,e=A.settings;A.containers.list=document.getElementById("mmp-list-"+A.uid),"map"!==A.type&&"custom"!==A.type||A.fullscreen||!e.list?A.containers.list&&(A.containers.list.remove(),A.containers.list=null):((t=D().DomUtil.create("div","mmp-list")).id="mmp-list-"+A.uid,t.style.flexBasis=e.listWidth+"px",A.containers.list?A.containers.list.parentNode.replaceChild(t,A.containers.list):A.containers.main.appendChild(t),A.containers.list=t)},this.loadBasemaps=function(){var i=A.settings;Object.keys(A.basemaps).forEach(function(t){A.map.removeLayer(A.basemaps[t])}),A.basemaps={},A.minimaps={},Object.keys(i.basemaps).forEach(function(t){var e;void 0!==i.availableBasemaps[i.basemaps[t]]&&(1==(e=i.availableBasemaps[i.basemaps[t]]).type?(e.options.bounds&&"string"==typeof e.options.bounds&&(t=A.strToBounds(e.options.bounds),e.options.rasterTiles?e.options.bounds=[A.map.unproject(D().point(t[0][1],t[0][0]),e.options.maxNativeZoom),A.map.unproject(D().point(t[1][1],t[1][0]),e.options.maxNativeZoom)]:e.options.bounds=t),e.options.minZoom=i.minZoom,e.options.maxZoom=i.maxZoom,e.options.errorTileUrl=void 0===e.options.errorTiles&&i.errorTiles||e.options.errorTiles?i.errorTileUrl:null,e.options.edgeBufferTiles=i.basemapEdgeBufferTiles,e.wms?(A.basemaps[e.name]=D().tileLayer.wms(e.url,e.options),A.minimaps[e.name]=D().tileLayer.wms(e.url,e.options)):(A.basemaps[e.name]=D().tileLayer(e.url,e.options),A.minimaps[e.name]=D().tileLayer(e.url,e.options))):2==e.type&&i.googleApiKey?(e.options.styles=i.basemapGoogleStyles,e.options.edgeBufferTiles=0,A.basemaps[e.name]=new(D().gridLayer.googleMutant)(e.options),A.minimaps[e.name]=new(D().gridLayer.googleMutant)(e.options)):3==e.type&&i.bingApiKey?(e.options.bingMapsKey=i.bingApiKey,e.options.culture=i.basemapBingCulture,e.options.minZoom=i.minZoom,e.options.maxZoom=i.maxZoom,e.options.errorTileUrl=i.errorTiles?i.errorTileUrl:null,e.options.edgeBufferTiles=i.basemapEdgeBufferTiles,A.basemaps[e.name]=D().tileLayer.bing(e.options),A.minimaps[e.name]=D().tileLayer.bing(e.options)):4==e.type&&(i.hereApiKey||i.hereAppId&&i.hereAppCode)?(e.options.apiKey=i.hereApiKey,e.options.appId=i.hereAppId,e.options.appCode=i.hereAppCode,e.options.minZoom=i.minZoom,e.options.maxZoom=i.maxZoom,e.options.errorTileUrl=i.errorTiles?i.errorTileUrl:null,e.options.edgeBufferTiles=i.basemapEdgeBufferTiles,A.basemaps[e.name]=D().tileLayer.here(e.options),A.minimaps[e.name]=D().tileLayer.here(e.options)):5==e.type&&i.tomApiKey?(e.options.apiKey=i.tomApiKey,e.options.minZoom=i.minZoom,e.options.maxZoom=i.maxZoom,e.options.errorTileUrl=i.errorTiles?i.errorTileUrl:null,e.options.edgeBufferTiles=i.basemapEdgeBufferTiles,A.basemaps[e.name]=D().tileLayer.tomTom(e.options),A.minimaps[e.name]=D().tileLayer.tomTom(e.options)):6==e.type&&(e.options.minZoom=i.minZoom,e.options.maxZoom=i.maxZoom,e.options.errorTileUrl=void 0===e.options.errorTiles&&i.errorTiles||e.options.errorTiles?i.errorTileUrl:null,e.options.edgeBufferTiles=i.basemapEdgeBufferTiles,e.labels?(A.basemaps[e.name]=D().layerGroup([lt(e.key,e.options),lt(e.labels,e.options)]),A.minimaps[e.name]=D().layerGroup([lt(e.key,e.options),lt(e.labels,e.options)])):(A.basemaps[e.name]=lt(e.key,e.options),A.minimaps[e.name]=lt(e.key,e.options))))});var t,e=Object.keys(A.basemaps);void 0!==i.availableBasemaps[i.basemapDefault]?(t=i.availableBasemaps[i.basemapDefault].name,void 0!==A.basemaps[t]?A.basemaps[t].addTo(A.map):e.length&&A.basemaps[e[0]].addTo(A.map)):e.length&&A.basemaps[e[0]].addTo(A.map),A.fire("basemapsloaded",A.basemaps)},this.loadOverlays=function(){var n=A.settings;Object.keys(A.overlays).forEach(function(t){A.map.removeLayer(A.overlays[t])}),A.overlays={},Object.keys(n.overlays).forEach(function(t){var e,i;void 0!==n.availableOverlays[n.overlays[t]]&&((e=n.availableOverlays[n.overlays[t]]).options.bounds&&"string"==typeof e.options.bounds&&(i=A.strToBounds(e.options.bounds),e.options.rasterTiles?e.options.bounds=[A.map.unproject(D().point(i[0][1],i[0][0]),e.options.maxNativeZoom),A.map.unproject(D().point(i[1][1],i[1][0]),e.options.maxNativeZoom)]:e.options.bounds=i),e.options.minZoom=n.minZoom,e.options.maxZoom=n.maxZoom,e.options.errorTileUrl=void 0===e.options.errorTiles||e.options.errorTiles?n.errorTileUrl:null,e.options.edgeBufferTiles=n.basemapEdgeBufferTiles,e.wms?A.overlays[e.name]=D().tileLayer.wms(e.url,e.options):A.overlays[e.name]=D().tileLayer(e.url,e.options),-1!==n.overlaysActive.indexOf(n.overlays[t])&&A.overlays[e.name].addTo(A.map))}),A.fire("overlaysloaded",A.overlays)},this.loadResources=function(){var e=A.settings;return A.groups={},A.groups[A.id]={active:!0,markers:{}},Object.keys(e.filtersDetails).forEach(function(t){A.groups[t]={active:e.filtersDetails[t].active,markers:{}}}),Promise.all([A.getMarkers(),A.getGeoJson(),A.getGpx()]).then(function(t){A.removeLoading(A.containers.main),A.loadControls()}).catch(function(t){A.logError("Error loading map ("+t+")")})},this.drawMarkers=function(i){var t=A.settings;if("function"==typeof A.markerGroup.remove&&A.markerGroup.remove(),A.markerGroup={},t.clustering?A.markerGroup=D().markerClusterGroup({showCoverageOnHover:t.showCoverageOnHover,disableClusteringAtZoom:t.disableClusteringAtZoom||null,maxClusterRadius:t.maxClusterRadius,singleMarkerMode:t.singleMarkerMode,spiderfyDistanceMultiplier:t.spiderfyDistanceMultiplier,chunkedLoading:!1}):A.markerGroup=D().featureGroup(),A.markerGroup.addTo(A.map),i||(i=[],Object.keys(A.groups).forEach(function(e){A.groups[e].active&&Object.keys(A.groups[e].markers).forEach(function(t){i.push(A.groups[e].markers[t])})})),t.clustering)A.markerGroup.addLayers(i);else for(var e=0;e<i.length;e++)A.markerGroup.hasLayer(i[e])||A.markerGroup.addLayer(i[e])},this.getMarkers=function(){var e=[A.id];return Object.keys(A.settings.filtersDetails).forEach(function(t){e.push(t)}),A.xhr({type:"POST",url:ajaxurl,data:{action:"mmp_map_markers",type:A.type,id:e,custom:A.customMarkers,all:A.settings.filtersAllMarkers,lang:A.language}}).then(function(t){t=JSON.parse(t);return A.addMarkers(t),!0}).catch(function(t){return A.logError("Error loading markers ("+t+")"),!1})},this.addMarkers=function(t){var e=A.settings;"function"==typeof A.markerGroup.remove&&A.markerGroup.remove(),A.markers={},A.markerGroup={},A.tooltip={direction:e.tooltipDirection,permanent:e.tooltipPermanent,sticky:e.tooltipSticky,opacity:e.tooltipOpacity},A.popup={minWidth:e.popupMinWidth,maxWidth:e.popupMaxWidth,maxHeight:e.popupMaxHeight,autoPan:!e.popupCenterOnMap,closeButton:e.popupCloseButton,autoClose:e.popupAutoClose};for(var i=0;i<t.length;i++){var n=t[i];if(A.markers[n.id]=D().marker([n.lat,n.lng],{pmIgnore:!0,contextmenu:e.listEdit,contextmenuItems:[{text:mmpL10n.api.editMarker,icon:mmpVars.pluginUrl+"images/icons/map-edit.png",callback:A.editMarker}],icon:D().icon({iconUrl:n.icon?mmpVars.iconsUrl+n.icon:mmpVars.pluginUrl+"images/leaflet/marker.png",iconSize:e.iconSize,iconAnchor:e.iconAnchor,popupAnchor:e.popupAnchor,shadowUrl:e.shadowUrl,shadowSize:e.shadowSize,shadowAnchor:e.shadowAnchor,className:"mmp-marker-icon mmp-marker-icon-"+n.id}),opacity:e.markerOpacity}),A.markers[n.id].id=n.id,A.markers[n.id].name=n.name,A.markers[n.id].address=n.address,A.markers[n.id].popup=n.popup,A.markers[n.id].link=n.link,A.markers[n.id].blank=n.blank,A.markers[n.id].icon=n.icon,A.markers[n.id].created=n.created,A.markers[n.id].updated=n.updated,A.markers[n.id].edit=n.edit,n.name&&(A.tooltips[n.id]=n.name,!e.tooltip||!e.tooltipPermanent&&D().Browser.mobile||A.markers[n.id].bindTooltip(A.tooltips[n.id],A.tooltip)),n.link?(A.markers[n.id].on("click",function(){A.openLink(this.link,this.blank)}),A.markers[n.id].on("keypress",function(t){13==t.which&&A.openLink(this.link,this.blank)})):(n.popup||n.address&&e.popupAddress||e.popupCoordinates||e.popupDirections)&&A.markers[n.id].bindPopup("",A.popup),A.markers[n.id].on("popupopen",A.openPopupHandler),e.popupOpenOnHover?A.markers[n.id].on("mouseover",A.openOnHoverHandler):A.markers[n.id].off("mouseover",A.openOnHoverHandler),"map"!==A.type||e.filtersAllMarkers)A.groups[A.id].markers[n.id]=A.markers[n.id];else for(var o=0;o<n.maps.length;o++)void 0!==A.groups[n.maps[o]]&&(A.groups[n.maps[o]].markers[n.id]=A.markers[n.id])}A.drawMarkers(),"map"===A.type&&!A.fullscreen&&0<e.list?A.map.on("filterclick",A.updateListHandler):A.map.off("filterclick",A.updateListHandler),A.fire("markersloaded",A.markers)},this.getGeoJson=function(){var e=[A.id];return!A.settings.filtersAllMarkers&&A.settings.filtersGeoJson&&Object.keys(A.settings.filtersDetails).forEach(function(t){e.push(t)}),A.xhr({type:"POST",url:ajaxurl,data:{action:"mmp_map_geojson",type:A.type,id:e,lang:A.language}}).then(function(t){t=JSON.parse(t);return A.addGeoJson(t),!0}).catch(function(t){return A.logError("Error loading GeoJSON ("+t+")"),!1})},this.parseGeoJson=function(t){return D().geoJSON(t,{pointToLayer:function(t,e){if(t.properties.radius)return D().circle(e,t.properties.radius)},style:function(e){if(!e.properties)return{};var i={};return Object.keys(e.properties).forEach(function(t){switch(t){case"weight":i[t]=parseInt(e.properties[t]);break;case"opacity":case"fillOpacity":i[t]=parseFloat(e.properties[t]);break;default:i[t]=e.properties[t]}}),i},onEachFeature:function(t,e){e.options.popup&&e.bindPopup("",A.popup),e.on("popupopen",A.openPopupHandler)}})},this.addGeoJson=function(e){"function"==typeof A.geoJsonGroup.remove&&A.geoJsonGroup.remove(),A.geoJson={},A.geoJsonGroup={},A.geoJson[A.id]=D().geoJSON(),e&&(Object.keys(e).forEach(function(t){void 0===e[t].features?A.geoJson[t]=D().geoJSON():A.geoJson[t]=A.parseGeoJson(e[t])}),A.drawGeoJson(),A.fire("geojsonloaded",A.geoJson))},this.drawGeoJson=function(){"function"==typeof A.geoJsonGroup.remove&&A.geoJsonGroup.remove(),A.geoJsonGroup=D().featureGroup(),A.geoJsonGroup.addTo(A.map),Object.keys(A.groups).forEach(function(t){A.groups[t].active&&void 0!==A.geoJson[t]&&A.geoJsonGroup.addLayer(A.geoJson[t])})},this.getList=function(e,i,n,o,r){var a=A.settings;if(!("map"!==A.type&&"custom"!==A.type||A.fullscreen)&&a.list){e=e||1,i=i||"",n=n||a.listOrderBy,o=o||a.listSortOrder,r=r||0;var s,l,h=[];if("distance"==n)if(void 0===A.controls.locate)n="distance"!==a.listOrderBy?a.listOrderBy:a.listOrderById?"id":a.listOrderByName?"name":a.listOrderByAddress?"address":a.listOrderByIcon?"icon":a.listOrderByCreated?"created":a.listOrderByUpdated?"updated":"id";else if(void 0===A.location.latlng)return A.map.once("locationfound",function(){A.getList(1,i,n,o,r)}),A.map.once("locationerror",function(){n="distance"!==a.listOrderBy?a.listOrderBy:a.listOrderById?"id":a.listOrderByName?"name":a.listOrderByAddress?"address":a.listOrderByIcon?"icon":a.listOrderByCreated?"created":a.listOrderByUpdated?"updated":"id","distance"===a.listOrderBy&&(a.listOrderBy=n),A.getList(1,i,n,o,r)}),void A.controls.locate.start();if(Object.keys(A.groups).forEach(function(e){A.groups[e].active&&Object.keys(A.groups[e].markers).forEach(function(t){t=A.groups[e].markers[t];-1===h.indexOf(t)&&(!i||vt(t.name,i)||vt(t.address,i)||vt(t.popup,i))&&(void 0!==A.location.latlng?(void 0===t.distance&&(s=A.location.latlng,l=t.getLatLng(),t.distance=D().latLng(s).distanceTo(l)),void 0!==t.distance&&0<r?"imperial"==a.listDistanceUnit||"imperial-metric"==a.listDistanceUnit?t.distance/1609.344<=r&&h.push(t):t.distance/1e3<=r&&h.push(t):h.push(t)):h.push(t))})}),"id"==n?h=gt(h,"id",o,!0):"name"==n?h=gt(h,"name",o,!1):"address"==n?h=gt(h,"address",o,!1):"distance"==n?h=gt(h,"distance",o,!0):"icon"==n?h=gt(h,"icon",o,!1):"created"===n?h=gt(h,"created",o,!0):"updated"===n&&(h=gt(h,"updated",o,!0)),A.containers.list.innerHTML="",a.listSearch){var t=D().DomUtil.create("div","mmp-list-header",A.containers.list),u=D().DomUtil.create("div","mmp-list-header-left",t),c=D().DomUtil.create("div","mmp-list-search-wrap",u),d=D().DomUtil.create("input","mmp-list-search",c);if(d.type="text",d.value=i,d.placeholder=mmpL10n.list.search,i&&((v=D().DomUtil.create("div","mmp-list-search-clear",c)).src=mmpVars.pluginUrl+"images/leaflet/search.png",v.addEventListener("click",function(){A.getList(1,null,n,o,r)})),void 0!==A.location.latlng){for(var p=D().DomUtil.create("select","mmp-list-radius",u),f=[0,5,10,15,20,25,50,100,200,500],m=0;m<f.length;m++){var g=D().DomUtil.create("option",null,p);g.value=f[m],f[m]==r&&(g.defaultSelected=!0),f[m]<=0?g.innerHTML=mmpL10n.list.everywhere:"imperial"==a.listDistanceUnit?g.innerHTML=f[m]+" mi":"metric-imperial"==a.listDistanceUnit?g.innerHTML=f[m]+" km ("+(f[m]/1.609344).toFixed(a.listDistancePrecision)+" mi)":"imperial-metric"==a.listDistanceUnit?g.innerHTML=f[m]+" mi ("+(1.609344*f[m]).toFixed(a.listDistancePrecision)+" km)":g.innerHTML=f[m]+" km"}p.addEventListener("change",function(){A.getList(1,i,_.value,o,p.value)})}var v=D().DomUtil.create("div","mmp-list-header-right",t),_=D().DomUtil.create("select","mmp-list-sort",v),u=D().DomUtil.create("a","mmp-list-order mmp-"+o,v);u.href="#";var y=[];for(a.listOrderById&&y.push("id"),a.listOrderByName&&y.push("name"),a.listOrderByAddress&&y.push("address"),a.listOrderByDistance&&void 0!==A.controls.locate&&y.push("distance"),a.listOrderByIcon&&y.push("icon"),a.listOrderByCreated&&y.push("created"),a.listOrderByUpdated&&y.push("updated"),m=0;m<y.length;m++){var x=D().DomUtil.create("option",null,_);x.value=y[m],y[m]==n&&(x.defaultSelected=!0),x.innerHTML=mmpL10n.list[y[m]]}d.addEventListener("keyup",function(t){13==t.which&&A.getList(1,d.value,n,o,r)}),_.addEventListener("change",function(){A.getList(1,i,_.value,o,r)}),u.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),A.getList(1,i,n,"asc"===o?"desc":"asc",r)})}A.containers.listBody=D().DomUtil.create("div","mmp-list-body",A.containers.list);var t=h.length>a.listLimit?a.listLimit:h.length,b=Math.ceil(h.length/a.listLimit),w=(e=b<e?b:e)==b?h.length:t*e;for(m=(e-1)*t;m<w;m++){var k=D().DomUtil.create("div","mmp-list-row",A.containers.listBody);a.listIcon&&(C=D().DomUtil.create("div","mmp-list-row-icon",k),M=D().DomUtil.create("div","mmp-list-icon",C),C=D().DomUtil.create("img",null,M),h[m].icon?C.src=mmpVars.iconsUrl+h[m].icon:C.src=mmpVars.pluginUrl+"images/leaflet/marker.png");var L,M=D().DomUtil.create("div","mmp-list-row-info",k),C=D().DomUtil.create("div","mmp-list-row-header",M);a.listName&&((L=D().DomUtil.create("div","mmp-list-name",C)).innerHTML=h[m].name,"none"!==a.listAction&&(L.tabIndex=0,function(e){var i="popup"===a.listAction;D().DomEvent.on(L,"click",function(){A.highlightMarker(h[e],A.containers.main.getBoundingClientRect().top<0,i)}),D().DomEvent.on(L,"keypress",function(t){13===t.which&&A.highlightMarker(h[e],A.containers.main.getBoundingClientRect().top<0,i)})}(m)));var T,k=D().DomUtil.create("div","mmp-list-api",C);h[m].edit&&A.addApiLink(A.getApiLink("editMarker",h[m].id),mmpL10n.api.editMarker,"map-edit.png",k),a.listDir&&(C=A.getDirectionsLink(a.directionsProvider,h[m].getLatLng().lat,h[m].getLatLng().lng,h[m].address),"googlemaps"==a.directionsProvider?T=a.directionsGoogleWalking?"walk.png":"car.png":"yours"==a.directionsProvider?T="bicycle"==a.directionsYoursType?"bicycle.png":"foot"==a.directionsYoursType?"walk.png":"car.png":"ors"==a.directionsProvider?T="Bicycle"==a.directionsOrsType?"bicycle.png":"Pedestrian"==a.directionsOrsType?"walk.png":"car.png":"bingmaps"==a.directionsProvider&&(T="car.png"),A.addApiLink(C,mmpL10n.api.dir,T,k)),a.apiFullscreen&&a.listFs&&A.addApiLink(A.getApiLink("fs",A.id,{marker:h[m].id}),mmpL10n.api.fs,"fullscreen.png",k),a.listShare&&(P=D().DomUtil.create("i","mmp-list-share",k),A.addShareLink(h[m].id,P));var P=D().DomUtil.create("div","mmp-list-row-body",M);a.listPopup&&(D().DomUtil.create("div","mmp-list-popup",P).innerHTML=h[m].popup);M=D().DomUtil.create("div","mmp-list-row-footer",M);a.listAddress&&h[m].address&&(D().DomUtil.create("div","mmp-list-address",M).innerHTML=h[m].address),a.listDistance&&void 0!==h[m].distance&&(k=D().DomUtil.create("div","mmp-list-distance",k),"imperial"==a.listDistanceUnit?k.innerHTML=(h[m].distance/1609.344).toFixed(a.listDistancePrecision)+" mi":"metric-imperial"==a.listDistanceUnit?k.innerHTML=(h[m].distance/1e3).toFixed(a.listDistancePrecision)+" km ("+(h[m].distance/1609.344).toFixed(a.listDistancePrecision)+" mi)":"imperial-metric"==a.listDistanceUnit?k.innerHTML=(h[m].distance/1609.344).toFixed(a.listDistancePrecision)+" mi ("+(h[m].distance/1e3).toFixed(a.listDistancePrecision)+" km)":k.innerHTML=(h[m].distance/1e3).toFixed(a.listDistancePrecision)+" km")}var S,v=D().DomUtil.create("div","mmp-list-footer",A.containers.list),u=D().DomUtil.create("div","mmp-list-count",v);0===h.length?u.innerHTML=mmpL10n.list.noResults:1===h.length?u.innerHTML=mmpL10n.list.oneResult:u.innerHTML=h.length+" "+mmpL10n.list.results,h.length>a.listLimit&&(t=D().DomUtil.create("div","mmp-list-nav",v),(u=D().DomUtil.create("button",null,t)).innerHTML="&laquo;",u.addEventListener("click",function(){A.getList(1,i,n,o,r)}),(u=D().DomUtil.create("button",null,t)).innerHTML="&lsaquo;",u.addEventListener("click",function(){var t=1===e?1:e-1;A.getList(t,i,n,o,r)}),(u=D().DomUtil.create("button",null,t)).innerHTML="&rsaquo;",u.addEventListener("click",function(){var t=e===b?b:e+1;A.getList(t,i,n,o,r)}),(t=D().DomUtil.create("button",null,t)).innerHTML="&raquo;",t.addEventListener("click",function(){A.getList(b,i,n,o,r)}),v=D().DomUtil.create("div","mmp-list-page",v),(S=D().DomUtil.create("input",null,v)).type="text",S.value=e,v.appendChild(document.createTextNode(" / "+b)),v.addEventListener("keyup",function(t){13==t.which&&A.getList(Math.abs(parseInt(S.value)),i,n,o,r)})),A.drawMarkers(h)}},this.loadControls=function(){var e,t=A.settings;void 0!==A.controls.locate&&A.controls.locate.stop(),Object.keys(A.controls).forEach(function(t){A.controls[t].remove()}),A.controls={},A.controls.attribution=D().control.attribution({position:t.attributionPosition,prefix:t.attributionPrefix}),A.controls.attribution._esriAttributionAdded=!0,"hidden"!=t.zoomControlPosition&&(A.controls.zoom=D().control.zoom({position:t.zoomControlPosition,zoomInTitle:mmpL10n.control.zoomIn,zoomOutTitle:mmpL10n.control.zoomOut})),"hidden"!=t.fullscreenPosition&&(A.controls.fullscreen=D().control.fullscreen({position:t.fullscreenPosition,title:{false:mmpL10n.control.fullscreenFalse,true:mmpL10n.control.fullscreenTrue}})),"hidden"!=t.resetPosition&&(A.controls.reset=D().control.resetView({position:t.resetPosition,onDemand:t.resetOnDemand,title:mmpL10n.control.reset})),"hidden"!=t.locatePosition&&(A.controls.locate=D().control.locate({locateOptions:{enableHighAccuracy:!0},position:t.locatePosition,drawCircle:t.locateDrawCircle,drawMarker:t.locateDrawMarker,setView:t.locateSetView,keepCurrentZoomLevel:t.locateKeepCurrentZoomLevel,clickBehavior:{inView:t.locateClickBehaviorInView,outOfView:t.locateClickBehaviorOutOfView},icon:t.locateIcon,iconLoading:"icon-spinner",metric:t.locateMetric,showPopup:t.locateShowPopup,strings:{title:mmpL10n.control.locateTitle,metersUnit:mmpL10n.control.locateMetersUnit,feetUnit:mmpL10n.control.locateFeetUnit,popup:mmpL10n.control.locatePopup,outsideMapBoundsMsg:mmpL10n.control.locateOutsideMapBoundsMsg},onLocationError:function(t,e){var i=mmpL10n.control.locateErrorUnknown;1===t.code?i=mmpL10n.control.locateErrorDenied:2===t.code?i=mmpL10n.control.locateErrorUnavailable:3===t.code&&(i=mmpL10n.control.locateErrorTimeout),A.showMapModal(mmpL10n.control.locateError,i)},onLocationOutsideMapBounds:function(t){t.stop(),A.showMapModal(mmpL10n.control.locateError,t.options.strings.outsideMapBoundsMsg)}})),"hidden"!=t.scalePosition&&(A.controls.scale=D().control.scale({position:t.scalePosition,maxWidth:t.scaleMaxWidth,metric:t.scaleMetric,imperial:t.scaleImperial})),"hidden"!=t.layersPosition&&(Object.keys(A.basemaps).length||Object.keys(A.overlays).length)&&(A.controls.layers=D().control.layers(null,null,{position:t.layersPosition,collapsed:"collapsed"==t.layersCollapsed||"collapsed-mobile"==t.layersCollapsed&&D().Browser.mobile}),Object.keys(A.basemaps).forEach(function(t){A.controls.layers.addBaseLayer(A.basemaps[t],t)}),Object.keys(A.overlays).forEach(function(t){A.controls.layers.addOverlay(A.overlays[t],t)})),"hidden"!=t.filtersPosition&&"map"===A.type&&Object.keys(t.filtersDetails).length&&!t.filtersAllMarkers&&(A.controls.filters=D().control.filters({mmp:A,position:t.filtersPosition,collapsed:"collapsed"==t.filtersCollapsed||"collapsed-mobile"==t.filtersCollapsed&&D().Browser.mobile,buttons:t.filtersButtons,allText:mmpL10n.control.filtersAll,noneText:mmpL10n.control.filtersNone})),"hidden"!=t.gpxControlPosition&&void 0!==A.gpx.tracks&&1<A.gpx.tracks.length&&(A.controls.gpx=D().control.gpx({mmp:A,collapsed:"collapsed"==t.gpxControlCollapsed||"collapsed-mobile"==t.gpxControlCollapsed&&D().Browser.mobile,position:t.gpxControlPosition})),"hidden"!=t.minimapPosition&&Object.keys(A.minimaps).length&&(e=D().tileLayer(""),Object.keys(A.basemaps).forEach(function(t){A.map.hasLayer(A.basemaps[t])&&(e=A.minimaps[t])}),A.controls.minimap=new(D().Control.MiniMap)(e,{position:t.minimapPosition,width:t.minimapWidth,height:t.minimapHeight,collapsedWidth:t.minimapCollapsedWidth,collapsedHeight:t.minimapCollapsedHeight,zoomLevelOffset:t.minimapZoomLevelOffset,zoomLevelFixed:t.minimapZoomLevelFixed||null,toggleDisplay:!0,autoToggleDisplay:!1,minimized:"collapsed"==t.minimapMinimized||"collapsed-mobile"==t.minimapMinimized&&D().Browser.mobile,strings:{hideText:mmpL10n.control.minimapHideText,showText:mmpL10n.control.minimapShowText},mapOptions:{attributionControl:!1}})),Object.keys(A.controls).forEach(function(t){A.controls[t].addTo(A.map)}),Object.keys(A.basemaps).forEach(function(t){t=A.basemaps[t];A.map.hasLayer(t)&&(t instanceof D().TileLayer.HERE?t._findCopyrightBBox():t instanceof D().TileLayer.TomTom?t._addAttribution():t instanceof st&&G._updateMapAttribution({target:A.map}))}),t.attributionCondensed&&(D().DomUtil.removeClass(A.controls.attribution.getContainer(),"leaflet-control-attribution"),D().DomUtil.addClass(A.controls.attribution.getContainer(),"mmp-control-attribution")),void 0!==A.controls.minimap?A.map.on("baselayerchange",A.updateMinimapHandler):A.map.off("baselayerchange",A.updateMinimapHandler),void 0!==A.controls.locate?(A.map.on("locationfound",A.updateLocationHandler),A.map.once("locationfound",A.updateListHandler),!A.settings.locateAutostart||A.urlHighlight||A.highlight||A.controls.locate.start()):(A.map.off("locationfound",A.updateLocationHandler),A.map.off("locationfound",A.updateListHandler)),A.fire("controlsloaded",A.controls),setTimeout(function(){A.urlHighlight&&void 0!==A.markers[A.urlHighlight]?A.highlightMarker(A.markers[A.urlHighlight],!0,!0):A.highlight&&void 0!==A.markers[A.highlight]&&A.highlightMarker(A.markers[A.highlight],!1,!0)},100),A.getList()},this.getGpx=function(){var t=A.settings;return t.gpxUrl?A.xhr({type:"GET",url:t.gpxUrl}).then(function(t){if(A.gpx=new n,A.gpx.parse(t),!A.gpx.tracks.length){for(var e=0;e<A.gpx.routes.length;e++){var i=A.gpx.routes[e];i.segments=[{points:i.points,extensions:i.extensions,time:i.time,distance:i.distance,elevation:i.elevation}],A.gpx.tracks.push(i)}A.gpx.routes=[]}return A.addGpx(),!0}).catch(function(t){return A.logError("Error loading GPX ("+t+")"),!1}):Promise.resolve()},this.addGpx=function(){var t=A.settings;if(void 0!==A.gpxGroup&&"function"==typeof A.gpxGroup.remove&&A.gpxGroup.remove(),A.gpxGroup=D().featureGroup(),A.gpxTracks={},void 0!==A.gpx.tracks&&A.gpx.tracks.length){for(var e=[],i=0;i<A.gpx.tracks.length;i++)for(var n=A.gpx.tracks[i],o=0;o<n.segments.length;o++){var r=n.segments[o];e[i]=D().polyline([],{pmIgnore:!0,interactive:!0,smoothFactor:t.gpxTrackSmoothFactor,color:n.extensions.color||r.extensions.color||t.gpxTrackColor,weight:parseInt(n.extensions.weight||r.extensions.weight||t.gpxTrackWeight),opacity:parseFloat(n.extensions.opacity||r.extensions.opacity||t.gpxTrackOpacity)});for(var a=0;a<r.points.length;a++){var s=r.points[a].lat,l=r.points[a].lon;e[i].addLatLng([s,l])}e[i].addTo(A.gpxGroup)}A.gpxTracks=e}A.setTrackIcons(),A.setIntervalMarkers(),A.setTrackMeta(),A.setWaypoints(),A.gpxGroup.addTo(A.map),A.fire("gpxloaded",A.gpxTracks),A.loadChart(),A.addElevationChart()},this.getGpxName=function(t){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].name)&&A.gpx.tracks[t].name},this.getGpxStartTime=function(t){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].time.start)&&new Date(A.gpx.tracks[t].time.start).toUTCString()},this.getGpxEndTime=function(t){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].time.end)&&new Date(A.gpx.tracks[t].time.end).toUTCString()},this.getGpxTimeTotal=function(t,e){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].time.total)&&_t(A.gpx.tracks[t].time.total,e)},this.getGpxTimeMoving=function(t,e){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].time.moving)&&_t(A.gpx.tracks[t].time.moving,e)},this.getGpxDistance=function(t,e){if(e=e||"metric",void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].distance.total)return!1;switch(e){case"imperial":return(A.gpx.tracks[t].distance.total/1609.344).toFixed(2)+" mi";case"metric-imperial":return(A.gpx.tracks[t].distance.total/1e3).toFixed(2)+" km ("+(A.gpx.tracks[t].distance.total/1609.344).toFixed(2)+" mi)";case"imperial-metric":return(A.gpx.tracks[t].distance.total/1609.344).toFixed(2)+" mi ("+(A.gpx.tracks[t].distance.total/1e3).toFixed(2)+" km)";default:return(A.gpx.tracks[t].distance.total/1e3).toFixed(2)+" km"}},this.getGpxPace=function(t,e,i){if(e=e||"metric",void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].time.moving||!A.gpx.tracks[t].distance.total)return!1;switch(e){case"imperial":return _t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1609.344),i)+"/mi";case"metric-imperial":return _t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1e3),i)+"/km ("+_t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1609.344),i)+"/mi)";case"imperial-metric":return _t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1609.344),i)+"/mi ("+_t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1e3),i)+"/km)";default:return _t(A.gpx.tracks[t].time.moving/(A.gpx.tracks[t].distance.total/1e3),i)+"/km"}},this.getGpxHeartRate=function(t){return!(void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].heartRate.avg)&&A.gpx.tracks[t].heartRate.avg.toFixed(0)+" bpm"},this.getGpxElevation=function(t,e){if(e=e||"metric",void 0===A.gpx.tracks[t]||!A.gpx.tracks[t].elevation.gain&&!A.gpx.tracks[t].elevation.loss)return!1;var i=A.gpx.tracks[t].elevation.gain-A.gpx.tracks[t].elevation.loss;switch(e){case"imperial":return"+"+(A.gpx.tracks[t].elevation.gain/.3048).toFixed(0)+" ft -"+(A.gpx.tracks[t].elevation.loss/.3048).toFixed(0)+" ft &Delta; "+(i/.3048).toFixed(0)+" ft";case"metric-imperial":return"+"+A.gpx.tracks[t].elevation.gain.toFixed(0)+" m -"+A.gpx.tracks[t].elevation.loss.toFixed(0)+" m &Delta; "+i.toFixed(0)+" m (+"+(A.gpx.tracks[t].elevation.gain/.3048).toFixed(0)+" ft -"+(A.gpx.tracks[t].elevation.loss/.3048).toFixed(0)+" ft &Delta; "+(i/.3048).toFixed(0)+" ft)";case"imperial-metric":return"+"+(A.gpx.tracks[t].elevation.gain/.3048).toFixed(0)+" ft -"+(A.gpx.tracks[t].elevation.loss/.3048).toFixed(0)+" ft &Delta; "+(i/.3048).toFixed(0)+" ft (+"+A.gpx.tracks[t].elevation.gain.toFixed(0)+" m -"+A.gpx.tracks[t].elevation.loss.toFixed(0)+" m &Delta; "+i.toFixed(0)+" m)";default:return"+"+A.gpx.tracks[t].elevation.gain.toFixed(0)+" m -"+A.gpx.tracks[t].elevation.loss.toFixed(0)+" m &Delta; "+i.toFixed(0)+" m"}},this.setTrackStyle=function(){var e=A.settings;Object.keys(A.gpxTracks).forEach(function(t){A.gpxTracks[t].setStyle({color:e.gpxTrackColor,weight:e.gpxTrackWeight,opacity:e.gpxTrackOpacity})})},this.setTrackIcons=function(){var i=A.settings;void 0!==A.gpx.tracks&&Object.keys(A.gpx.tracks).forEach(function(t){var e;void 0!==A.gpx.tracks[t].startIcon&&A.gpx.tracks[t].startIcon&&A.gpx.tracks[t].startIcon.remove(),void 0!==A.gpx.tracks[t].endIcon&&A.gpx.tracks[t].endIcon&&A.gpx.tracks[t].endIcon.remove(),i.gpxShowStartIcon&&(A.gpx.tracks[t].startIcon=D().marker([A.gpx.tracks[t].points[0].lat,A.gpx.tracks[t].points[0].lon],{pmIgnore:!0,interactive:!1,icon:D().icon({iconUrl:i.gpxStartIcon?mmpVars.iconsUrl+i.gpxStartIcon:mmpVars.pluginUrl+"images/leaflet/gpx-start.png",iconSize:i.iconSize,iconAnchor:i.iconAnchor,popupAnchor:i.popupAnchor,shadowUrl:i.shadowUrl,shadowSize:i.shadowSize,shadowAnchor:i.shadowAnchor,className:"mmp-gpx-icon mmp-gpx-icon-start"})}).addTo(A.gpxGroup)),i.gpxShowEndIcon&&(e=A.gpx.tracks[t].points.length-1,A.gpx.tracks[t].endIcon=D().marker([A.gpx.tracks[t].points[e].lat,A.gpx.tracks[t].points[e].lon],{pmIgnore:!0,interactive:!1,icon:D().icon({iconUrl:i.gpxEndIcon?mmpVars.iconsUrl+i.gpxEndIcon:mmpVars.pluginUrl+"images/leaflet/gpx-end.png",iconSize:i.iconSize,iconAnchor:i.iconAnchor,popupAnchor:i.popupAnchor,shadowUrl:i.shadowUrl,shadowSize:i.shadowSize,shadowAnchor:i.shadowAnchor,className:"mmp-gpx-icon mmp-gpx-icon-end"})}).addTo(A.gpxGroup))})},this.setIntervalMarkers=function(){var t=A.settings;if(void 0!==A.gpx.tracks&&(Object.keys(A.gpx.tracks).forEach(function(t){if(void 0!==A.gpx.tracks[t].intervalMarkers&&A.gpx.tracks[t].intervalMarkers.length)for(var e=A.gpx.tracks[t].intervalMarkers,i=0;i<e.length;i++)e[i].remove()}),t.gpxIntervalMarkers))for(var e="imperial"===t.gpxMetaUnits||"imperial-metric"===t.gpxMetaUnits?1609.344:1e3,i=A.gpx.tracks,n=0;n<i.length;n++){i[n].intervalMarkers=[];for(var o=1,r=i[n].points,a=0;a<r.length;a++){var s=r[a];s.dist>=o*e&&(s=D().marker([s.lat,s.lon],{pmIgnore:!0,interactive:!1,icon:D().divIcon({className:"mmp-interval-marker",html:"<span>"+o+"</span>"})}).addTo(A.map),i[n].intervalMarkers.push(s),o++)}}},this.setTrackMeta=function(){var o=A.settings;Object.keys(A.gpxTracks).forEach(function(t){if(!o.gpxMeta)return A.gpxTracks[t].closePopup(),void A.gpxTracks[t].unbindPopup();for(var e=D().DomUtil.create("div","mmp-gpx-meta"),i=[{show:o.gpxMetaName,title:mmpL10n.gpx.metaName,value:A.getGpxName(t)},{show:o.gpxMetaStart,title:mmpL10n.gpx.metaStart,value:A.getGpxStartTime(t)},{show:o.gpxMetaEnd,title:mmpL10n.gpx.metaEnd,value:A.getGpxEndTime(t)},{show:o.gpxMetaTotal,title:mmpL10n.gpx.metaTotal,value:A.getGpxTimeTotal(t)},{show:o.gpxMetaMoving,title:mmpL10n.gpx.metaMoving,value:A.getGpxTimeMoving(t)},{show:o.gpxMetaDistance,title:mmpL10n.gpx.metaDistance,value:A.getGpxDistance(t,o.gpxMetaUnits)},{show:o.gpxMetaPace,title:mmpL10n.gpx.metaPace,value:A.getGpxPace(t,o.gpxMetaUnits)},{show:o.gpxMetaHeartRate,title:mmpL10n.gpx.metaHeartRate,value:A.getGpxHeartRate(t)},{show:o.gpxMetaElevation,title:mmpL10n.gpx.metaElevation,value:A.getGpxElevation(t,o.gpxMetaUnits)}],n=0;n<i.length;n++)!i[n].show||o.gpxMetaHideMissing&&!1===i[n].value||(!1===i[n].value&&(i[n].value="N/A"),e.innerHTML+="<strong>"+i[n].title+":</strong> "+i[n].value+"<br />");o.gpxMetaDownload&&(e.innerHTML+='<a href="'+mmpVars.baseUrl+"index.php?mapsmarkerpro=download_gpx&url="+A.settings.gpxUrl+'"><img src="'+mmpVars.pluginUrl+'images/icons/download-gpx.png" /> '+mmpL10n.gpx.metaDownload+"</a><br />"),o.gpxMetaDesc&&A.gpx.tracks[t].desc&&(e.innerHTML&&(e.innerHTML+="<br />"),e.innerHTML+=A.gpx.tracks[t].desc),void 0!==A.gpxTracks[t].getPopup()&&A.gpxTracks[t].getPopup()?A.gpxTracks[t].setPopupContent(e):A.gpxTracks[t].bindPopup(e)})},this.setWaypoints=function(){for(var t=A.settings,e=0;e<A.gpxWaypoints.length;e++)A.gpxWaypoints[e].remove();if(A.gpxWaypoints=[],t.gpxWaypoints&&void 0!==A.gpx.waypoints)for(e=0;e<A.gpx.waypoints.length;e++){var i,n=D().circleMarker([A.gpx.waypoints[e].lat,A.gpx.waypoints[e].lon],{interactive:!0,radius:t.gpxWaypointsRadius,stroke:t.gpxWaypointsStroke,color:t.gpxWaypointsColor,weight:t.gpxWaypointsWeight,fillColor:t.gpxWaypointsFillColor,fillOpacity:t.gpxWaypointsFillOpacity}).addTo(A.gpxGroup);A.gpx.waypoints[e].name&&n.bindTooltip(A.gpx.waypoints[e].name),A.gpx.waypoints[e].desc&&((i=D().DomUtil.create("div","mmp-gpx-waypoint")).innerHTML=A.gpx.waypoints[e].desc,n.bindPopup(i)),A.gpxWaypoints.push(n)}},this.setWaypointStyle=function(){for(var t=A.settings,e=0;e<A.gpxWaypoints.length;e++)A.gpxWaypoints[e].setStyle({radius:t.gpxWaypointsRadius,stroke:t.gpxWaypointsStroke,color:t.gpxWaypointsColor,weight:t.gpxWaypointsWeight,fillColor:t.gpxWaypointsFillColor,fillOpacity:t.gpxWaypointsFillOpacity})},this.generateChartData=function(){var e,i="imperial"===A.settings.gpxChartUnits||"imperial-metric"===A.settings.gpxChartUnits?(e=1609.433,.3048):(e=1e3,1),n=isNaN(parseFloat(A.settings.gpxChartYOffset))?0:parseFloat(A.settings.gpxChartYOffset);return A.gpx.tracks[A.map._activeTrack].points.map(function(t){return{x:t.dist/e,y:t.ele/i+n}})},this.updateElevationChart=function(t){var e=A.settings;A.gpxChart instanceof s()&&(t&&(t=A.generateChartData(),A.gpxChart.data.datasets[0].data=t,A.gpxChart.options.scales.xAxes[0].ticks.max=t[t.length-1].x),A.gpxChart.data.datasets[0].borderWidth=e.gpxChartLineWidth,A.gpxChart.data.datasets[0].borderColor=e.gpxChartLineColor,A.gpxChart.data.datasets[0].fill=e.gpxChartFill,A.gpxChart.data.datasets[0].backgroundColor=e.gpxChartFillColor,A.gpxChart.options.scales.yAxes[0].gridLines.color=e.gpxChartGridLinesColor,A.gpxChart.options.scales.yAxes[0].ticks.min=isNaN(parseInt(e.gpxChartYMin))?void 0:parseInt(e.gpxChartYMin),A.gpxChart.options.scales.yAxes[0].ticks.max=isNaN(parseInt(e.gpxChartYMax))?void 0:parseInt(e.gpxChartYMax),A.gpxChart.options.scales.yAxes[0].ticks.reverse=e.gpxChartReverseY,A.gpxChart.options.scales.yAxes[0].ticks.minor.fontColor=e.gpxChartTicksFontColor,A.gpxChart.options.scales.xAxes[0].gridLines.color=e.gpxChartGridLinesColor,A.gpxChart.options.scales.xAxes[0].ticks.reverse=e.gpxChartReverseX,A.gpxChart.options.scales.xAxes[0].ticks.minor.fontColor=e.gpxChartTicksFontColor,A.gpxChart.options.chartArea.backgroundColor=e.gpxChartBgColor,A.gpxChart.options.tooltips.backgroundColor=e.gpxChartTooltipBgColor,A.gpxChart.options.tooltips.bodyFontColor=e.gpxChartTooltipFontColor,A.gpxChart.options.indicator.lineWidth=e.gpxChartIndicatorLineWidth,A.gpxChart.options.indicator.lineColor=e.gpxChartIndicatorLineColor,A.gpxChart.update())},this.updateElevationChartThrottled=D().Util.throttle(A.updateElevationChart,100,this),this.addElevationChart=function(){var t,e,a=A.settings;A.settings.gpxChart&&void 0!==A.gpx.tracks&&A.gpx.tracks.length&&(void 0===A.containers.chartWrap&&A.loadChart(),t=A.generateChartData(),e=document.getElementById("mmp-gpx-chart-"+A.uid).getContext("2d"),s().platform.disableCSSInjection=!0,s().defaults.scatterIndicator=s().defaults.scatter,s().controllers.scatterIndicator=s().controllers.scatter.extend({draw:function(t){var e,i,n,o,r;s().controllers.scatter.prototype.draw.call(this,t),this.chart.tooltip._active&&this.chart.tooltip._active.length&&void 0!==this.chart.scales["y-axis-1"]?(e=this.chart.ctx,i=A.map._activeTrack,n=(r=this.chart.tooltip._active[0])._index,o=r.tooltipPosition().x,t=this.chart.scales["y-axis-1"].top,r=this.chart.scales["y-axis-1"].bottom,this.chart.config.options.indicator&&this.chart.config.options.indicator.lineWidth&&this.chart.config.options.indicator.lineColor&&(e.save(),e.beginPath(),e.moveTo(o,t),e.lineTo(o,r),e.lineWidth=this.chart.config.options.indicator.lineWidth,e.strokeStyle=this.chart.config.options.indicator.lineColor,e.stroke(),e.restore()),a.gpxChartLocator&&void 0!==A.chartLayers.locator&&(A.chartLayers.locator.setLatLng([A.gpx.tracks[i].points[n].lat,A.gpx.tracks[i].points[n].lon]),A.map.hasLayer(A.chartLayers.locator)||A.chartLayers.locator.addTo(A.map))):void 0!==A.chartLayers.locator&&A.map.hasLayer(A.chartLayers.locator)&&A.chartLayers.locator.remove()}}),A.gpxChart=new(s())(e,{plugins:[{beforeDraw:function(t){var e,i;t.config.options.chartArea&&t.config.options.chartArea.backgroundColor&&(e=t.chart.ctx,i=t.chartArea,e.save(),e.fillStyle=t.config.options.chartArea.backgroundColor,e.fillRect(i.left,i.top,i.right-i.left,i.bottom-i.top),e.restore())}},{afterDraw:function(t){var e,i,n;t.data.datasets[0].data.filter(function(t){return!isNaN(t.y)}).length||(e=t.chart.ctx,i=t.chart.width,n=t.chart.height,t.clear(),e.save(),e.fillStyle="rgba(0, 0, 0, 1)",e.textAlign="center",e.textBaseline="middle",e.fillText(mmpL10n.gpx.noElevationData,i/2,n/2),e.restore())}}],type:"scatterIndicator",data:{datasets:[{data:t,pointRadius:0,showLine:!0,spanGaps:!0,borderCapStyle:"round",borderWidth:a.gpxChartLineWidth,borderColor:a.gpxChartLineColor,fill:a.gpxChartFill,backgroundColor:a.gpxChartFillColor}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},layout:{padding:{top:10}},scales:{yAxes:[{gridLines:{color:a.gpxChartGridLinesColor},ticks:{callback:function(t,e,i){return A.formatGpxValue(t,"ele",a.gpxChartUnits)},min:isNaN(parseInt(a.gpxChartYMin))?void 0:parseInt(a.gpxChartYMin),max:isNaN(parseInt(a.gpxChartYMax))?void 0:parseInt(a.gpxChartYMax),reverse:a.gpxChartReverseY,fontColor:a.gpxChartTicksFontColor}}],xAxes:[{afterBuildTicks:function(t,e){var i=t.ticks.length;2<i&&(t.ticks[i-2]=null)},gridLines:{color:a.gpxChartGridLinesColor},ticks:{callback:function(t,e,i){if(null!==t)return A.formatGpxValue(t,"dist",a.gpxChartUnits)},min:0,max:t[t.length-1].x,reverse:a.gpxChartReverseX,autoSkip:!1,fontColor:a.gpxChartTicksFontColor}}]},legend:{display:!1},chartArea:{backgroundColor:a.gpxChartBgColor},tooltips:{callbacks:{label:function(t,e){var i=t.datasetIndex,n=t.index,t=e.datasets[i].data[n].y,n=e.datasets[i].data[n].x;return[mmpL10n.gpx.metaElevation+": "+A.formatGpxValue(t,"ele",a.gpxChartUnits),mmpL10n.gpx.metaDistance+": "+A.formatGpxValue(n,"dist",a.gpxChartUnits)]}},mode:"index",intersect:!1,displayColors:!1,backgroundColor:a.gpxChartTooltipBgColor,bodyFontColor:a.gpxChartTooltipFontColor},indicator:{lineWidth:a.gpxChartIndicatorLineWidth,lineColor:a.gpxChartIndicatorLineColor},hover:{animationDuration:250}}}),void 0!==A.chartLayers&&Object.keys(A.chartLayers).forEach(function(t){A.chartLayers[t].remove()}),A.chartLayers={},A.chartLayers.locator=D().circleMarker([0,0]),A.setChartStyle())},this.setChartStyle=function(){var t=A.settings;t.gpxChart&&void 0!==A.chartLayers&&(Object.keys(A.chartLayers).forEach(function(t){A.chartLayers[t].remove()}),A.chartLayers.locator.setStyle({interactive:!1,radius:t.gpxChartLocatorRadius,stroke:t.gpxChartLocatorStroke,color:t.gpxChartLocatorColor,weight:t.gpxChartLocatorWeight,fillColor:t.gpxChartLocatorFillColor,fillOpacity:t.gpxChartLocatorFillOpacity}))},this.fitVisibleMarkers=function(){var t=A.markerGroup.getBounds();t.isValid()&&A.map.fitBounds(t)},this.fitGeoJson=function(t){t=A.geoJson[A.id].getLayer(t);void 0===t||(t=t.getBounds()).isValid()&&A.map.fitBounds(t)},this.deferredLoadHandler=function(t,i){t.forEach(function(t){if("childList"===t.type&&t.addedNodes.length)for(var e=0;e<t.addedNodes.length;e++)if(t.addedNodes[e].id==="maps-marker-pro-"+A.uid)return i.disconnect(),void A.main()})},this.lazyLoadHandler=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.target===A.containers.main&&n.isIntersecting&&(e.disconnect(),A.load())}},this.lazyLoadHandlerFallback=function(){if(!(mt(A.containers.main)&&(t=A.containers.main,e=t.getBoundingClientRect(),i=window.innerHeight||document.documentElement.clientHeight,t=window.innerWidth||document.documentElement.clientWidth,e.left<=t&&0<=e.right&&e.top<=i&&0<=e.bottom)))return setTimeout(A.lazyLoadHandlerFallback,250);var t,e,i;A.load()},this.visibilityDetectionHandler=function(t,e){for(var i=0;i<t.length;i++)t[i].target===A.containers.main&&A.checkInvalidateSize()},this.visibilityDetectionHandlerFallback=function(){A.checkInvalidateSize(),setTimeout(A.visibilityDetectionHandlerFallback,250)},this.openPopupHandler=function(t){var e=A.settings,i=t.target.getPopup();void 0!==i&&A.loadPopup(t.target).then(function(){A.checkPopupSize(i),e.popupCenterOnMap&&A.centerPopup(i),A.fire("popupopen",i)}).catch(function(){})},this.openOnHoverHandler=function(t){t.target.openPopup()},this.updateListHandler=function(){A.getList()},this.updateMinimapHandler=function(t){A.controls.minimap.changeLayer(A.minimaps[t.name])},this.updateLocationHandler=function(t){A.location=t},this.main()},window.mapsMarkerPro={callbacks:[]},window.MapsMarkerPro=i}()}();document.addEventListener('DOMContentLoaded',function(){new MapsMarkerPro({uid:'69b6f7ab',type:'map',id:'62',lazy:'',markers:[],overrides:{},language:'en',highlight:null,fullscreen:!1,page:'https://estatenation.com/property-turkey/istanbul-real-estate/maslak/real-estate-for-sale-in-maslak-government-guaranteed-en178/'})});;document.getElementById('input_1_8').style.display="none";jQuery(document).ready(function(){jQuery('#input_1_8').prettyDropdown({height:30,width:'100%',classic:!0,hoverIntent:200,afterLoad:function(){}})})