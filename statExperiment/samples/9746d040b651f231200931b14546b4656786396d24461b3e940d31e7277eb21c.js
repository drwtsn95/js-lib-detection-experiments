var FlashDetect=new function(){var self=this;self.installed=false;self.raw="";self.major=-1;self.minor=-1;self.revision=-1;self.revisionStr="";var activeXDetectRules=[{"name":"ShockwaveFlash.ShockwaveFlash.7","version":function(obj){return getActiveXVersion(obj);}},{"name":"ShockwaveFlash.ShockwaveFlash.6","version":function(obj){var version="6,0,21";try{obj.AllowScriptAccess="always";version=getActiveXVersion(obj);}catch(err){}
return version;}},{"name":"ShockwaveFlash.ShockwaveFlash","version":function(obj){return getActiveXVersion(obj);}}];var getActiveXVersion=function(activeXObj){var version=-1;try{version=activeXObj.GetVariable("$version");}catch(err){}
return version;};var getActiveXObject=function(name){var obj=-1;try{obj=new ActiveXObject(name);}catch(err){obj={activeXError:true};}
return obj;};var parseActiveXVersion=function(str){var versionArray=str.split(",");return{"raw":str,"major":parseInt(versionArray[0].split(" ")[1],10),"minor":parseInt(versionArray[1],10),"revision":parseInt(versionArray[2],10),"revisionStr":versionArray[2]};};var parseStandardVersion=function(str){var descParts=str.split(/ +/);var majorMinor=descParts[2].split(/\./);var revisionStr=descParts[3];return{"raw":str,"major":parseInt(majorMinor[0],10),"minor":parseInt(majorMinor[1],10),"revisionStr":revisionStr,"revision":parseRevisionStrToInt(revisionStr)};};var parseRevisionStrToInt=function(str){return parseInt(str.replace(/[a-zA-Z]/g,""),10)||self.revision;};self.majorAtLeast=function(version){return self.major>=version;};self.minorAtLeast=function(version){return self.minor>=version;};self.revisionAtLeast=function(version){return self.revision>=version;};self.versionAtLeast=function(major){var properties=[self.major,self.minor,self.revision];var len=Math.min(properties.length,arguments.length);for(i=0;i<len;i++){if(properties[i]>=arguments[i]){if(i+1<len&&properties[i]==arguments[i]){continue;}else{return true;}}else{return false;}}};self.FlashDetect=function(){if(navigator.plugins&&navigator.plugins.length>0){var type='application/x-shockwave-flash';var mimeTypes=navigator.mimeTypes;if(mimeTypes&&mimeTypes[type]&&mimeTypes[type].enabledPlugin&&mimeTypes[type].enabledPlugin.description){var version=mimeTypes[type].enabledPlugin.description;var versionObj=parseStandardVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revisionStr=versionObj.revisionStr;self.revision=versionObj.revision;self.installed=true;}}else if(navigator.appVersion.indexOf("Mac")==-1&&window.execScript){var version=-1;for(var i=0;i<activeXDetectRules.length&&version==-1;i++){var obj=getActiveXObject(activeXDetectRules[i].name);if(!obj.activeXError){self.installed=true;version=activeXDetectRules[i].version(obj);if(version!=-1){var versionObj=parseActiveXVersion(version);self.raw=versionObj.raw;self.major=versionObj.major;self.minor=versionObj.minor;self.revision=versionObj.revision;self.revisionStr=versionObj.revisionStr;}}}}}();};FlashDetect.JS_RELEASE="1.0.4";fI=FlashDetect.installed;vidTest=document.createElement('video');h1=vidTest.canPlayType("application/x-mpegurl");h2=vidTest.canPlayType("application/vnd.apple.mpegurl");m4=vidTest.canPlayType("video/mp4");delete vidTest;if(h1==='maybe'||h2==='maybe'){hS=true;}else{hS=false;};if(m4==='maybe'){m4=true;}else{m4=false;};try{dH=window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.4d401f, mp4a.40.2"');}catch(err){dH=false;};try{dW=window.MediaSource.isTypeSupported('video/webm');}catch(err){dW=false;};var encodeToUse="3GPP";var techToUse="HTML5";var useMSE=false;if(navigator.userAgent.match(/Trident/i)){dH=false;fI=false;};if(navigator.userAgent.match(/Android/i)){if(hS){hS=false;};};if(m4){encodeToUse="MP4";}else{};if(dH){encodeToUse="HLS";useMSE=true;}else if(dW){}else{};if(fI){encodeToUse="HLS";}else{techToUse="HTML5";};if(hS){encodeToUse="HLS";}else{};loadTech=5;if(encodeToUse==='HLS'){loadEncode='h';};if(encodeToUse==='DASH'){loadEncode='d';};if(encodeToUse==='MP4'){loadEncode='4';};if(encodeToUse==='3GPP'){loadEncode='3';};function loadScript26664(url,id,callback){var script=document.createElement("script")
script.type="text/javascript";script.id=id;if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback();}};}else{script.onload=function(){callback();};script.onerror=function(){callback();};};script.src=url;document.getElementsByTagName("body")[0].appendChild(script);};function buildPlay26664(){var thisPlay={randomId:"26664"};thisPlay.parent=document.createElement("div");thisPlay.parent.classList.add("fluid-width-video-wrapper");thisPlay.parent.id="vl26664";thisPlay.tempDiv=document.createElement("div");thisPlay.tempDiv.id="temp26664";thisPlay.tempDiv.classList.add("video-js");thisPlay.tempDiv.classList.add("vjs-default-skin");thisPlay.tempDiv.classList.add("vjs-big-play-centered");thisPlay.tempDiv.classList.add("vjs-waiting");thisPlay.tempDiv.classList.add("vjs-16-9");thisPlay.tempPoster=document.createElement("div");thisPlay.tempPoster.classList.add("vjs-poster");thisPlay.tempPoster.classList.add("vl-poster");thisPlay.tempPoster.style.backgroundImage='url(http://viewlorium.com/viewlorium/screenshot/medium/1568605528_cav.jpg)';thisPlay.tempDiv.appendChild(thisPlay.tempPoster);thisPlay.tempSpin=document.createElement("div");thisPlay.tempSpin.classList.add("vjs-loading-spinner");thisPlay.tempDiv.appendChild(thisPlay.tempSpin);thisPlay.parent.appendChild(thisPlay.tempDiv);thisPlay.parent.addEventListener("contextmenu",function(e){e.preventDefault();},false);theplayer1020.appendChild(thisPlay.parent);var scriptLoadStart=new Date();loadScript26664("http://cdn.viewlorium.com/player45/video.min-5.16.0.js","vlPlayer",function(){var scriptsToLoad=[["//imasdk.googleapis.com/js/sdkloader/ima3.js","ima"],["http://cdn.viewlorium.com/player45/js/dash.all.min-2.3.0.js","dashif"],["http://www.gstatic.com/cv/js/sender/v1/cast_sender.js","chromecast1"],];var scriptsCounter=scriptsToLoad.length;thisTime=new Date();for(var i=0;i<scriptsCounter;i++){loadScript26664(scriptsToLoad[i][0],scriptsToLoad[i][1],function(){--scriptsCounter;thisTime=new Date();if(scriptsCounter==0){thisPlay.tempPlayButton=document.createElement("div");thisPlay.tempPlayButton.classList.add("vjs-big-play-button");thisPlay.tempPlayButton.innerHTML='<div class="svg-play-wrap"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" viewBox="0 0 120 120"><polygon class="triangle" id="XMLID_18_" fill="none" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="  25,15 100,60 25,105 "></polygon></svg></div>';thisPlay.tempDiv.appendChild(thisPlay.tempPlayButton);thisPlay.loaderURI="http://viewlorium.com/player45/loader.js.php?theplayer1020+capture-kill-release+auto+0+"+loadEncode+"+26664+"+loadTech;thisPlay.placeholder=thisPlay.tempDiv;thisPlay.vlPlay=new vlPlayer(thisPlay);thisPlay.tempDiv.classList.remove("vjs-waiting");}});}});}
var vlPlayer=function(thisPlay){this.thisPlay=thisPlay;this.placeholder=thisPlay.placeholder;this.placeholder.addEventListener('click',this.bind(this,this.init));this.options={id:'content_video',adTagUrl:'',nativeControlsForTouch:false};try{this.events=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_CAN_PLAY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.EXPANDED_CHANGED,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED];}catch(e){console.log('[VL] Ad Blocker or Google network error...');}
this.console=document.getElementById('ima-sample-console');this.init();};vlPlayer.prototype.loadScript=function(url,id,callback){var script=document.createElement("script")
script.type="text/javascript";script.id=id;if(script.readyState){script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;callback();}};}else{script.onload=function(){callback();};script.onerror=function(){callback();};};script.src=url;document.getElementsByTagName("body")[0].appendChild(script);}
vlPlayer.prototype.init=function(){this.thisPlay.tempDiv.classList.add("vjs-waiting");this.thisPlay.tempDiv.classList.add("vjs-controls-disabled");this.createPlayer();this.dumbPlayer.play();this.loadScript(this.thisPlay.loaderURI,'vlLoader'+this.thisPlay.randomId,this.bind(this,this.init2));}
vlPlayer.prototype.init2=function(){this.thisPlay.mediaSource=addMediaSource26664(this.thisPlay);this.placeholder.parentNode.removeChild(this.placeholder);this.player=videojs('vlPlayer'+this.thisPlay.randomId,{chromecast:{appId:'A3AEF460'}});this.player.vl=this;this.player.ready((function(thisPlayer,mediaSource){try{thisPlayer.ga({"eventLabel":mediaSource.slug});}catch(e){console.log("[VL] GA not working...");}})(this.player,this.thisPlay.mediaSource));this.player.bigPlayButton.el_.innerHTML=this.player.bigPlayButton.el_.innerHTML+'<div class="svg-play-wrap"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" viewBox="0 0 120 120"><defs><filter id="neonGlow"><feGaussianBlur in="SourceAlpha" stdDeviation="4" /><feOffset dx="0" dy="0" result="offsetBlur" /><feFlood flood-color="#3EFFFF" /><feComposite in2="offsetBlur" operator="in" /><feMerge><feMergeNode /><feMergeNode in="SourceGraphic" /></feMerge></filter></defs><polygon class="triangle" id="XMLID_18_" fill="none" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="  25,15 100,60 25,105 " filter="url(#neonGlow)"></polygon></svg></div>';this.player.src({src:this.thisPlay.mediaSource.contentURI,type:this.thisPlay.mediaSource.contentType});this.options.adTagUrl='http://viewlorium.com/api/VMAP/'+this.thisPlay.mediaSource.adTech+'+'+this.thisPlay.mediaSource.slug+'+'+this.thisPlay.mediaSource.length+'+'+this.player.el_.clientWidth+'+'+this.player.el_.clientHeight+'+'+this.thisPlay.mediaSource.startTime;this.options.vpaidMode=2;try{this.player.socialShare({facebook:{shareUrl:'http://viewlorium.com/'+this.thisPlay.mediaSource.slug+'/'},twitter:{handle:'ViewLorium',shareText:'Awesome!',shareUrl:'http://viewlorium.com/'+this.thisPlay.mediaSource.slug+'/'},other:{shareUrl:'http://viewlorium.com/'+this.thisPlay.mediaSource.slug+'/'}});}catch(e){console.log("[VL] Social Share not working...");}
this.player.removeClass('vjs-controls-disabled');this.player.posterImage.setSrc(this.thisPlay.mediaSource.poster);this.player.posterImage.removeClass('vjs-hidden');this.player.ima(this.options,this.bind(this,this.adsManagerLoadedCallback));this.player.ima.initializeAdDisplayContainer();this.player.on("error",function(){this.ima.getAdsManager().discardAdBreak();});this.player.addClass('vjs-waiting');this.player.ima.requestAds();this.player.play();};vlPlayer.prototype.createPlayer=function(){this.dumbPlayer=document.createElement('video');this.dumbPlayer.id='vlPlayer'+this.thisPlay.randomId;this.dumbPlayer.className='video-js vjs-default-skin';this.dumbPlayer.classList.add("vjs-16-9");this.dumbPlayer.classList.add("vjs-has-started");this.dumbPlayer.classList.add("vjs-waiting");this.dumbPlayer.classList.add("vjs-big-play-centered");this.dumbPlayer.setAttribute('controls','true');this.placeholder.parentNode.appendChild(this.dumbPlayer);}
vlPlayer.prototype.adsManagerLoadedCallback=function(){for(var index=0;index<this.events.length;index++){this.player.ima.addEventListener(this.events[index],this.bind(this,this.onAdEvent));}
this.player.ima.startFromReadyCallback();};vlPlayer.prototype.onAdEvent=function(event){switch(event.type){case'impression':this.player.trigger('impression');break;case'skip':if(document.getElementById('VL-skip-fix')==null){this.skipFix=document.createElement('style');this.skipFix.id='VL-skip-fix';this.skipFix.innerText=".ima-ad-container div { position: absolute !important;}";document.getElementsByTagName("head")[0].appendChild(this.skipFix);}
break;case'adMetadata':case'loaded':this.player.addClass('vjs-waiting');break;case'start':this.player.removeClass('vjs-waiting');break;default:}};vlPlayer.prototype.bind=function(thisObj,fn){return function(){fn.apply(thisObj,arguments);};};buildPlay26664();