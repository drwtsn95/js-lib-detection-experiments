!function(e){function t(t,a){/^\d{3}-\d{4}$/.test(t)&&e.getJSON("/zip_code/to_address",{zip_code:t}).done(a),/^\d{7}$/.test(t)&&e.getJSON("/zip_code/to_address",{zip_code:t.substr(0,3)+"-"+t.substr(3,4)}).done(a)}function a(e){e===n?r.show():r.hide()}function o(e,t,a){s.val(e),l.val(t),c.val(a)}function i(){d.on("change",function(){a(e(this).val())}),r.on("click",function(){t(_.val(),function(e){o(e.prefecture,e.city,e.address)})})}var n,r,s,l,c,_,d;e.fillAddressByZipCode=function(t){n=t,r=e("#fill_address"),s=e("#user_state"),l=e("#city_input"),c=e("#address_input_1"),_=e("#postal_code_input"),d=e("#user_country_id"),i()}}(jQuery);