function validateCheckoutCreditCardInput(e){var t=jQuery('input[name="ccinfo"]:checked').val(),n=checkoutForm.find('*[type="submit"]'),i=null,a=!0,r=checkoutForm.find('input[name="paymentmethod"]:checked'),o=r.hasClass("is-credit-card"),d="RemoteCreditCard"===r.data("payment-type"),s=jQuery("#inputCardNumber");if(checkoutForm.find(".form-group").removeClass("has-error"),checkoutForm.find(".field-error-msg").hide(),o&&!d){var u=checkoutForm.find("#inputCardCVV2");if("new"===t){if(u=checkoutForm.find("#inputCardCVV"),i=jQuery.payment.cardType(checkoutForm.find("#inputCardNumber").val()),!jQuery.payment.validateCardNumber(checkoutForm.find("#inputCardNumber").val())||s.hasClass("unsupported")){var l=s.data("message-invalid");s.hasClass("unsupported")&&(l=s.data("message-unsupported")),checkoutForm.find("#inputCardNumber").setInputError(l).showInputError(),a=!1}jQuery.payment.validateCardExpiry(checkoutForm.find("#inputCardExpiry").payment("cardExpiryVal"))||(checkoutForm.find("#inputCardExpiry").showInputError(),a=!1)}jQuery.payment.validateCardCVC(u.val(),i)||(u.showInputError(),a=!1),a||(n.prop("disabled",!1).removeClass("disabled").find("i").removeAttr("class").addClass("fas fa-arrow-circle-right"),e.preventDefault())}}function cancelcheck(){jQuery("#DomainSearchResults").hide(),jQuery("#frmProductDomain").show(),window.scrollTo(0,200)}function hasDomainLookupEnded(){3==++domainLookupCallCount&&jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled")}function hasProductDomainLookupEnded(e,t){++domainLookupCallCount==e&&(t.removeAttr("disabled").removeClass("disabled"),jQuery('input[name="domainoption"]').iCheck("enable"))}function domainGotoNextStep(){jQuery("#domainLoadingSpinner").show(),jQuery("#frmProductDomainSelections").submit()}function removeItem(e,t){jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(t),jQuery("#modalRemoveItem").modal("show")}function updateConfigurableOptions(e,t){WHMCS.http.jqClient.post("cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+t,function(e){jQuery("#productConfigurableOptions").html(jQuery(e).find("#productConfigurableOptions").html()),loadiCheck()}),recalctotals()}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e;var t=WHMCS.http.jqClient.post("cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize());t.done(function(t){e==window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t)}),t.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function recalculateRenewalTotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e,WHMCS.http.jqClient.get(WHMCS.utils.getRouteUrl("/cart/domain/renew/calculate")).done(function(t){e===window.lastSliderUpdateRequestId&&jQuery("#producttotal").html(t.body)}).always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow")})}function selectDomainPricing(e,t,n,i,a){jQuery("#domainSuggestion"+a).iCheck("check"),jQuery("[name='domainsregperiod["+e+"]']").val(n),jQuery("[name='"+e+"-selected-price']").html('<b class="far fa-shopping-cart"></b> '+n+" "+i+" @ "+t)}function selectDomainPeriodInCart(e,t,n,i){var a=jQuery("#orderSummaryLoader");a.not(":visible")&&a.fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html(n+" "+i+' <span class="caret"></span>'),jQuery("[name='"+e+"Price']").html(t);var r=WHMCS.http.jqClient.post(window.location.pathname,{domain:e,period:n,a:"updateDomainPeriod",token:csrfToken});r.done(function(e){if(e.forceReload)return void window.location.reload();e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Price']").parent("td").find(".renewal-price").html(e.prefixedRenewPrice+e.shortRenewalYearsLanguage)}),jQuery("#subtotal").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2),jQuery(".recurring:visible").fadeOut("fast"),e.totalrecurringannually&&jQuery("#recurringAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").fadeIn("fast").find(".cost").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").fadeIn("fast").find(".cost").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").fadeIn("fast").find(".cost").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").fadeIn("fast").find(".cost").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").fadeIn("fast").find(".cost").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total)}),r.always(function(){a.delay(500).fadeOut("slow")})}function loadMoreSuggestions(){var e,t=jQuery("#domainSuggestions");for(e=1;e<=10;e++){if(!(furtherSuggestions>0))return void jQuery("tr.more-suggestions").find("a").hide().end().find("span.no-more").show();t.find("tr.domain-suggestion.clone:hidden:first").slideDown(),furtherSuggestions=t.find("tr.domain-suggestion.clone:hidden").length}}function validate_captcha(e){var t=jQuery("#g-recaptcha-response"),n=jQuery("#divDynamicRecaptcha"),i=jQuery("#inputCaptcha");return t.length&&!t.val()?(n.tooltip("show"),!1):i.length&&!i.val()?(i.tooltip("show"),!1):void WHMCS.http.jqClient.post(e.attr("action"),e.serialize()+"&a=validateCaptcha",null,"json").done(function(t){t.error?(jQuery("#inputCaptcha").attr("data-original-title",t.error).tooltip("show"),i.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="'+whmcsBaseUrl+"/includes/verifyimage.php?nocache="+(new Date).getTime()+'" align="middle" />')):(jQuery("#captchaContainer").remove(),e.trigger("submit"))})}function sameHeights(e){var e=e||'[data-key="sameHeights"]',t=document.querySelectorAll(e),n=t.length,i=0;if(n){for(;n--;){var a=t[n];a.style.height="auto",a.clientHeight>i&&(i=a.clientHeight)}for(n=t.length;n--;){var a=t[n];a.style.height=i+"px"}}}"undefined"==typeof localTrans&&(localTrans=function(e,t){return"undefined"!=typeof _localLang&&void 0!==_localLang[e]&&_localLang[e].length>0?_localLang[e]:t});var domainLookupCallCount,checkoutForm,furtherSuggestions;jQuery(document).ready(function(){function e(){if("left"!=jQuery("#scrollingPanelContainer").css("float")&&"right"!=jQuery("#scrollingPanelContainer").css("float"))return i.stop().css("margin-top","0"),!1;var e=i.outerHeight(),t=0;void 0!==a&&(t=a.top);var n=jQuery(window).scrollTop()-t+o;n>r-e&&(n=r-e),jQuery(window).scrollTop()>t?i.stop().animate({marginTop:n}):i.stop().animate({marginTop:0})}jQuery(".mc-promo .header").click(function(e){e.preventDefault(),jQuery(e.target).is(".btn, .btn span,.btn .fa")||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast"))}),jQuery(".mc-promos.viewcart .mc-promo:first-child .header").click();var t=jQuery("#inputCardNumber"),n=jQuery("#inputCardCVV2");t.length&&(t.payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry")),n.length&&n.payment("formatCardCVC");var i=jQuery("#orderSummary");if(i.length){var a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,o=15;jQuery(window).resize(function(){a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,e()}),jQuery(window).scroll(function(){a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,e()}),a=jQuery("#scrollingPanelContainer").parent(".row").offset(),r=jQuery("#scrollingPanelContainer").parent(".row").outerHeight()-35,e()}if(jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var t=jQuery("#btnCompleteProductConfig"),n=jQuery(t).html();jQuery(t).find("i").removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post("cart.php","ajax=1&a=confproduct&"+jQuery("#frmConfigureProduct").serialize(),function(e){e?(jQuery("#btnCompleteProductConfig").html(n),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").show(),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-15)):window.location="cart.php?a=confdomains"})}),jQuery("#productConfigurableOptions").on("ifChecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#productConfigurableOptions").on("change","select",function(){recalctotals()}),jQuery("#ProductAddons").on("ifChecked","input",function(){recalctotals()}),jQuery("#ProductAddons").on("ifUnchecked","input",function(){recalctotals()}),jQuery("#ProductAddons").on("change","select",function(){recalctotals()}),jQuery(".addon-products").on("click",".panel-addon",function(e){e.preventDefault();var t=jQuery(this);t.hasClass("panel-addon-selected")?t.find('input[type="checkbox"]').iCheck("uncheck"):t.find('input[type="checkbox"]').iCheck("check")}),jQuery(".addon-products").on("ifChecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.addClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("check"),t.find(".panel-add").html('<i class="fas fa-shopping-cart"></i> '+localTrans("addedToCartRemove","Added to Cart (Remove)")),recalctotals()}),jQuery(".addon-products").on("ifUnchecked",".panel-addon input",function(e){var t=jQuery(this).parents(".panel-addon");t.removeClass("panel-addon-selected"),t.find('input[type="checkbox"]').iCheck("uncheck"),t.find(".panel-add").html('<i class="fas fa-plus"></i> '+localTrans("addToCart","Add to Cart")),recalctotals()}),jQuery("#frmConfigureProduct").on("ifChecked",".addon-selector",function(e){recalctotals()}),0==jQuery(".domain-selection-options input:checked").length){var d=jQuery(".domain-selection-options input:first");jQuery(d).iCheck("check"),jQuery(d).parents(".option").addClass("option-selected")}jQuery("#domain"+jQuery(".domain-selection-options input:checked").val()).show(),jQuery(".domain-selection-options input").on("ifChecked",function(e){jQuery(".domain-selection-options .option").removeClass("option-selected"),jQuery(this).parents(".option").addClass("option-selected"),jQuery(".domain-input-group").hide(),jQuery("#domain"+jQuery(this).val()).show()}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var t=jQuery(this).find('button[type="submit"]'),n=jQuery("#DomainSearchResults"),i=jQuery("#spotlightTlds"),a=jQuery("#domainSuggestions"),r=jQuery("#btnDomainContinue"),o=jQuery(".domain-selection-options input:checked").val(),d=jQuery("#"+o+"sld"),s=d.val(),u="",l=jQuery("#frmProductDomainPid").val(),c="",p=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),p.is(":visible")&&(p.slideUp(),p.find("select").val("")),"incart"==o)d=jQuery("#"+o+"sld option:selected"),s=d.text();else if("subdomain"==o)c=jQuery("#"+o+"tld option:selected"),u=c.text();else{if(c=jQuery("#"+o+"tld"),u=c.val(),s&&!u)return c.tooltip("show"),c.focus(),!1;"."!=u.substr(0,1)&&(u="."+u)}if(!s)return d.tooltip("show"),d.focus(),!1;if(d.tooltip("hide"),c.length&&c.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,t.attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery("#primaryLookupResult div").filter(function(){return 0===$(this).closest("#idnLanguageSelector").length}).hide(),jQuery("#primaryLookupResult").find(".register-price-label").show().end().find(".transfer-price-label").hide(),jQuery("#frmProductDomain").hide(),jQuery(".domain-lookup-register-loader").hide(),jQuery(".domain-lookup-transfer-loader").hide(),jQuery(".domain-lookup-other-loader").hide(),"register"==o?jQuery(".domain-lookup-register-loader").show():"transfer"==o?jQuery(".domain-lookup-transfer-loader").show():jQuery(".domain-lookup-other-loader").show(),jQuery(".domain-lookup-loader").show(),a.find("tr:not(.actions)").hide().end().find(".clone").remove(),jQuery("tr.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),r.hide().attr("disabled","disabled"),"register"!=o&&(i.hide(),jQuery(".suggested-domains").hide()),n.is(":visible")||n.fadeIn(),"register"==o){i.fadeIn("fast"),jQuery("#resultDomainOption").val(o);var h=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,a:"checkDomain",type:"domain",domain:s+u,sld:s,tld:u,source:"cartAddDomain"},"json"),m=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,a:"checkDomain",type:"spotlight",domain:s+u,sld:s,tld:u,source:"cartAddDomain"},"json"),f=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,a:"checkDomain",type:"suggestions",domain:s+u,sld:s,tld:u,source:"cartAddDomain"},"json");h.done(function(e){jQuery.each(e.result,function(e,t){var n=null,i=jQuery("#primaryLookupResult"),a=i.find(".domain-available"),o=i.find(".domain-price"),d=i.find(".domain-unavailable"),s=i.find(".unavailable-detail"),u=i.find(".domain-invalid"),l=i.find(".domain-invalid-detail"),c=i.find(".domain-contact-support"),h=jQuery("#resultDomain"),m=jQuery("#resultDomainPricingTerm"),f=i.find(".domain-error");if(i.show(),jQuery(".domain-lookup-primary-loader").hide(),"string"!=typeof t&&!t.error&&t.isValidDomain)f.hide(),n=t.pricing,t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&p.not(":visible")&&p.slideDown(),t.preferredTLDNotAvailable&&d.show().find("strong").html(t.originalUnavailableDomain),c.hide(),a.show().find("strong").html(t.domainName),o.show().find("span.price").html(n[Object.keys(n)[0]].register).end().find("button").attr("data-domain",t.domainName),h.val(t.domainName),m.val(Object.keys(n)[0]).attr("name","domainsregperiod["+t.domainName+"]"),r.removeAttr("disabled")):(d.show().find("strong").html(t.domainName),s.show(),c.hide(),"string"==typeof n&&"ContactUs"==n&&c.show());else{var y=!1,j=/<br\s*\/>/,Q=[];if(!t.isValidDomain&&t.domainErrorMessage)u.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)f.text(t);else if(t.error.match(j)){f.text(""),Q=t.error.split(j);for(var g=0;g<Q.length;g++){var v=Q[g];v.length&&(f.text()&&f.append("<br />"),f.append(jQuery("<span></span>").text(v)))}}else f.text(t.error);f.show(),y=!0}y||(u.show(),l.show())}})}).always(function(){hasProductDomainLookupEnded(3,t)}),m.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".domain-lookup-spotlight-loader").hide();jQuery.each(e.result,function(e,t){var n=t.tldNoDots,i=t.pricing,a=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").hide(),t.isValidDomain?t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&p.not(":visible")&&p.slideDown(),a.find("button.invalid").hide().end().find("span.available").html(i[Object.keys(i)[0]].register).show().end().find("button").not("button.unavailable").not("button.invalid").not("button.domain-contact-support").attr("data-domain",t.domainName).show(),a.find("button.domain-contact-support").hide()):"string"==typeof i?(""==i?a.find("button.unavailable").show():a.find("button.domain-contact-support").show(),a.find("span.available").hide()):(a.find("button.unavailable").show(),a.find("span.available").hide()):a.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid").hide(),a.show()})}).always(function(){hasProductDomainLookupEnded(3,t)}),f.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()});jQuery(".suggested-domains").show();var t=1;jQuery.each(e.result,function(e,n){var i=n.tld,r=n.pricing;a.find("tr:first").clone(!0,!0).appendTo(a);var o=a.find("tr.domain-suggestion").last();o.addClass("clone").find("span.domain").html(n.sld).end().find("span.extension").html("."+i),n.domainName!==n.idnDomainName&&p.not(":visible")&&p.slideDown(),"string"==typeof r?(o.find("button.btn-add-to-cart").remove(),""!=r?o.find("button.domain-contact-support").show().end().find("span.price").hide():o.remove()):o.find("button.btn-add-to-cart").attr("data-domain",n.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register),t<=10&&o.show(),t++,n.group&&o.find("span.promo").addClass(n.group).html(n.group.toUpperCase()).show(),(furtherSuggestions=a.find("tr.domain-suggestion.clone").not(":visible").length)>0&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show()}).always(function(){hasProductDomainLookupEnded(3,t)})}else if("transfer"==o){jQuery("#resultDomainOption").val(o);var y=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"transfer",domain:s+u,sld:s,tld:u,source:"cartAddDomain"},"json");y.done(function(e){if("object"!=typeof e||0==e.result.length)return void jQuery(".domain-lookup-primary-loader").hide();var t=jQuery("#primaryLookupResult"),n=t.find(".transfer-eligible"),i=t.find(".domain-price"),a=t.find(".transfer-eligible-detail"),o=t.find(".transfer-not-eligible"),d=t.find(".transfer-not-eligible-detail"),s=jQuery("#resultDomain"),u=jQuery("#resultDomainPricingTerm");0===Object.keys(e.result).length&&(jQuery(".domain-lookup-primary-loader").hide(),t.show(),o.show()),jQuery.each(e.result,function(e,l){var c=l.pricing;jQuery(".domain-lookup-primary-loader").hide(),t.show(),l.isRegistered?(n.show(),a.show(),i.show().find(".register-price-label").hide().end().find(".transfer-price-label").show().end().find("span.price").html(c[Object.keys(c)[0]].transfer).end().find("button").attr("data-domain",l.domainName),s.val(l.domainName),u.val(Object.keys(c)[0]).attr("name","domainsregperiod["+l.domainName+"]"),r.removeAttr("disabled")):(o.show(),d.show())})}).always(function(){hasProductDomainLookupEnded(1,t)})}else if("owndomain"==o||"subdomain"==o||"incart"==o){var j=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:o,pid:l,domain:s+u,sld:s,tld:u,source:"cartAddDomain"},"json");j.done(function(e){if("object"!=typeof e||0==e.result.length)return void jQuery(".domain-lookup-subdomain-loader").hide();jQuery.each(e.result,function(e,t){!0===t.status?window.location="cart.php?a=confproduct&i="+t.num:(jQuery(".domain-lookup-primary-loader").hide(),"string"==typeof t?jQuery("#primaryLookupResult").show().find(".domain-error").text(t).show():(jQuery("#primaryLookupResult").show().find(".domain-invalid").show(),jQuery(".domain-invalid-detail").show()))})}).always(function(){hasProductDomainLookupEnded(1,t)})}r.show()}),jQuery("#frmProductDomainSelections").on("submit",function(e){var t=jQuery("#idnLanguageSelector"),n=t.find("select");if(!t.not(":visible")&&!n.val()){e.preventDefault(),n.showInputError();var i,a=t.offset().top,r=t.height(),o=$(window).height();return i=r<o?a-(o/2-r/2):a,jQuery([document.documentElement,document.body]).animate({scrollTop:i},1e3),!1}return!0}),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved")}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").slideDown("",function(){0==jQuery("#passwdFeedback").html().length&&jQuery("#containerNewUserSecurity").show(),jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").fadeIn()})})}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")}),jQuery("#btnExistingLogin").click(function(){var e=jQuery("#inputLoginEmail").val(),t=jQuery("#inputLoginPassword").val(),n=jQuery("#existingLoginMessage"),i=jQuery("#btnExistingLogin");i.prop("disabled",!0).addClass("disabled").find("span").toggle(),WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/login/cart"),data:{username:e,password:t,token:csrfToken},success:function(e){e.redirectUrl?window.location.href=e.redirectUrl:location.reload(!0)},error:function(e){e&&(console.log("error"),n.html(e).slideDown("fast"),i.prop("disabled",!1).removeClass("disabled").find("span").toggle())}})}),jQuery(".account-select").on("ifChecked",function(e){var t=jQuery("#containerNewUserSignup"),n=jQuery("#stateselect"),i=jQuery(this).val(),a=jQuery("#btnCompleteOrder"),r=jQuery("#existingCardsContainer"),o=jQuery("#inputEmail");if(r.length&&r.html(""),o.length&&o.attr("value",""),jQuery("#containerExistingAccountSelect").find("div.account.active").removeClass("active"),jQuery(this).closest("div.account").addClass("active"),"new"===i)t.not(":visible")&&(t.slideDown("",function(){jQuery("#inputCustType").val("add"),jQuery(".marketing-email-optin").slideDown()}),n.hasClass("requiredAttributeRemoved")&&n.attr("required","required").removeClass("requiredAttributeRemoved"));else{if(a.addClass("disabled"),a.hasClass("spinner-on-click")){var d=a.find("i.fas,i.far,i.fal,i.fab");jQuery(d).data("original-class",d.attr("class")).removeAttr("class").addClass("fas fa-spinner fa-spin")}jQuery("#inputCustType").val("account"),t.is(":visible")&&(t.slideUp(),n.attr("required")&&n.removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp())}WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/cart/account/select"),data:{account_id:i,token:csrfToken},success:function(e){var t=jQuery("#applyCreditContainer");if(jQuery("#totalCartPrice").text(e.total),t.find("p").first().text(e.availableCreditBalance),!e.canUseCreditOnCheckout&&t.is(":visible")){var n=jQuery("#skipCreditOnCheckout");t.hide(),n.prop("checked",!0)}else if(e.canUseCreditOnCheckout){var i=jQuery("#useCreditOnCheckout"),a=jQuery("#spanFullCredit"),o=jQuery("#spanUseCredit");e.full?(a.show().find("span").text(e.creditBalance),o.is(":visible")&&o.slideDown()):(o.show().find("span").text(e.creditBalance),a.is(":visible")&&a.slideUp()),i.iCheck("check"),t.not(":visible")&&t.slideDown()}if(r.length){r.html(e.existingCards),r.find('input[type="radio"]').iCheck({inheritID:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"});var d=jQuery('input[name="ccinfo"]:visible').first();d.length&&d.iCheck("check")}},always:function(){if(a.removeClass("disabled"),a.hasClass("spinner-on-click")){var e=a.find("i.fas,i.far,i.fal,i.fab");jQuery(e).hasClass("fa-spinner")&&jQuery(e).removeAttr("class").addClass(e.data("original-class"))}}})});var s=jQuery(document).find(".existing-card"),u=(jQuery("#cvv-field-container"),jQuery("#existingCardsContainer")),l=jQuery("#newCardInfo"),c=jQuery("#newCardSaveSettings"),p=jQuery("#inputNoStoreContainer"),h=jQuery("#existingCardInfo"),m=jQuery("#new"),f=jQuery("#creditCardInputFields");jQuery(document).on("ifChecked",".existing-card",function(e){c.slideUp().find("input").attr("disabled","disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(l.slideUp().find("input").attr("disabled","disabled"),h.slideDown().find("input").removeAttr("disabled"))}),m.on("ifChecked",function(e){c.slideDown().find("input").removeAttr("disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(l.slideDown().find("input").removeAttr("disabled"),h.slideUp().find("input").attr("disabled","disabled"))}),s.length||h.slideUp().find("input").attr("disabled","disabled"),jQuery(".payment-methods").on("ifChecked",function(e){if(jQuery(this).hasClass("is-credit-card")){var t=jQuery(this).data("payment-type"),n=jQuery(this).val(),i=jQuery(this).data("show-local"),a=[];"RemoteCreditCard"===t?p.hide().find("input").prop("disabled","disabled"):p.not(":visible")&&p.slideDown().find("input").removeProp("disabled"),s.each(function(e){var r=jQuery(this).data("payment-type"),o=jQuery(this).data("payment-gateway"),d=jQuery(this).val(),s=r===t,u=!1;"RemoteCreditCard"===t?u=o===n:"CreditCard"===t&&(u=!0),i&&"CreditCard"===r&&(s=!0,u=!0);var l=jQuery('[data-paymethod-id="'+d+'"]');s&&u?(jQuery(l).show(),a.push(this)):jQuery(l).hide()});var r=a.filter(function(e){return!jQuery(e).attr("disabled")});if(r.length>0){var o=null;jQuery.each(r,function(e,t){var n=jQuery(t),i=parseInt(n.data("order-preference"),10);if((null===o||i<o)&&(o=n.val(),0===i))return!1}),null===o&&(o="new"),jQuery.each(r,function(e,t){var n=jQuery(t);if(n.val()===o)return n.iCheck("check"),!1}),u.show(),h.show().find("input").removeAttr("disabled")}else jQuery(m).iCheck("check"),u.hide(),h.hide().find("input").attr("disabled","disabled");f.is(":visible")||f.slideDown()}else f.slideUp()}),jQuery(".payment-methods:checked").trigger("ifChecked"),jQuery(".cc-input-container .paymethod-info").click(function(){var e=$(this).data("paymethod-id"),t=jQuery('input[name="ccinfo"][value='+e+"]:not(:disabled)");t.length>0&&t.iCheck("check")}),jQuery("#inputDomainContact").on("change",function(){var e=jQuery(this);"addingnew"===this.value?(e.closest("div").addClass("pb-2"),jQuery("#domainRegistrantInputFields").parent("div").slideDown()):jQuery("#domainRegistrantInputFields").parent("div").slideUp(function(){e.closest("div").removeClass("pb-2")})}),"function"==typeof registerFormPasswordStrengthFeedback?jQuery("#inputNewPassword1").keyup(registerFormPasswordStrengthFeedback):jQuery("#inputNewPassword1").keyup(function(){passwordStrength=getPasswordStrength(jQuery(this).val()),passwordStrength>=75?(textLabel=langPasswordStrong,cssClass="success"):passwordStrength>=30?(textLabel=langPasswordModerate,cssClass="warning"):(textLabel=langPasswordWeak,cssClass="danger"),jQuery("#passwordStrengthTextLabel").html(langPasswordStrength+": "+passwordStrength+"% "+textLabel),jQuery("#passwordStrengthMeterBar").css("width",passwordStrength+"%").attr("aria-valuenow",passwordStrength),jQuery("#passwordStrengthMeterBar").removeClass("progress-bar-success progress-bar-warning progress-bar-danger").addClass("progress-bar-"+cssClass)}),jQuery("#inputDomain").on("shown.bs.tooltip",function(){setTimeout(function(e){e.tooltip("hide")},5e3,jQuery(this))}),jQuery("#frmDomainChecker").submit(function(e){e.preventDefault();var t=jQuery("#frmDomainChecker"),n=jQuery("#inputDomain"),i=jQuery("#domainSuggestions"),a=jQuery("#divDynamicRecaptcha"),r=jQuery("#inputCaptcha"),o=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),o.is(":visible")&&(o.slideUp(),o.find("select").val("")),domainLookupCallCount=0,!n.val())return n.tooltip("show"),void n.focus();if(n.tooltip("hide"),jQuery("#captchaContainer").length)return void validate_captcha(t);a.tooltip("hide"),r.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery(".domain-lookup-result").hide(),jQuery(".domain-lookup-loader").show(),i.find("tr").hide(),i.find(".clone").remove().end(),jQuery("tr.panel-footer.more-suggestions").hide().find("a").show().end().find("span.no-more").hide(),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery("#DomainSearchResults").not(":visible")&&jQuery(".domain-pricing").fadeOut("fast",function(){jQuery("#DomainSearchResults").fadeIn()});var d=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=domain","json"),s=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=spotlight","json"),u=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=suggestions","json");d.done(function(e){if("object"!=typeof e||0==e.result.length)return void jQuery(".domain-lookup-primary-loader").hide();jQuery.each(e.result,function(e,t){var n=null,i=jQuery("#primaryLookupResult"),a=i.find(".domain-available"),r=i.find(".domain-price"),d=i.find(".domain-contact-support"),s=i.find(".domain-unavailable"),u=i.find(".domain-invalid"),l=i.find(".domain-error");if(jQuery(".domain-lookup-primary-loader").hide(),i.find(".btn-add-to-cart").removeClass("checkout"),i.show(),"string"!=typeof t&&!t.error&&t.isValidDomain)n=t.pricing,s.hide(),d.hide(),u.hide(),l.hide(),t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&o.not(":visible")&&o.slideDown(),t.preferredTLDNotAvailable&&s.show().find("strong").html(t.originalUnavailableDomain),a.show().find("strong").html(t.domainName),r.show().find("span.price").html(n[Object.keys(n)[0]].register).end().find("button").attr("data-domain",t.domainName)):(a.hide(),r.hide(),d.hide(),s.show().find("strong").html(t.domainName),"string"==typeof n&&"ContactUs"==n&&d.show());else{a.hide(),r.hide(),s.hide(),d.hide(),u.hide(),l.hide();var c=!1,p=/<br\s*\/>/,h=[];if(!t.isValidDomain&&t.domainErrorMessage)u.text(t.domainErrorMessage);else if(t.error||"error"===e){if("string"==typeof t)l.text(t);else if(t.error.match(p)){l.text(""),h=t.error.split(p);for(var m=0;m<h.length;m++){var f=h[m];f.length&&(l.text()&&l.append("<br />"),l.append(jQuery("<span></span>").text(f)))}}else l.text(t.error);l.show(),c=!0}c||u.show()}})}).always(function(){hasDomainLookupEnded()}),s.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".domain-lookup-spotlight-loader").hide();jQuery.each(e.result,function(e,t){var n=t.tldNoDots,i=t.pricing,a=jQuery("#spotlight"+n+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),a.find("button").hide(),t.isValidDomain?t.isAvailable&&"string"!=typeof i?(t.domainName!==t.idnDomainName&&o.not(":visible")&&o.slideDown(),a.find("button.unavailable").hide().end().find("button.invalid").hide().end().find("span.available").html(i[Object.keys(i)[0]].register).show().end().find("button").not("button.unavailable").not("button.invalid").not("button.domain-contact-support").attr("data-domain",t.domainName).show(),a.find("button.domain-contact-support").hide()):"string"==typeof i?(""==i?a.find("button.unavailable").show():a.find("button.domain-contact-support").show(),a.find("button.invalid").hide(),a.find("span.available").hide()):a.find("button.invalid").hide().end().find("button.unavailable").show().end().find("span.available").hide():a.find("button.invalid:hidden").show().end().find("span.available").hide().end().find("button").not("button.invalid").hide(),a.show()})}).always(function(){hasDomainLookupEnded()}),u.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)return void jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).hide()});jQuery(".suggested-domains").show();var t=1;jQuery.each(e.result,function(e,n){var a=n.tld,r=n.pricing;i.find("tr:first").clone(!0,!0).appendTo(i);var d=i.find("tr.domain-suggestion").last();d.addClass("clone").find("span.domain").html(n.sld).end().find("span.extension").html("."+a),"string"==typeof r?(d.find("button.btn-add-to-cart").remove(),
""!=r?d.find("button.domain-contact-support").show().end().find("span.price").hide():d.remove()):(n.domainName!==n.idnDomainName&&o.not(":visible")&&o.slideDown(),d.find("button.btn-add-to-cart").attr("data-domain",n.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register)),t<=10&&d.show(),t++,n.group&&(d.find("span.promo").addClass(n.group).show(),d.find("span.sales-group-"+n.group).show()),(furtherSuggestions=i.find("tr.domain-suggestion.clone:hidden").length)>0&&jQuery("div.more-suggestions").show()}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").show()}).always(function(){hasDomainLookupEnded()})}),jQuery(".btn-add-to-cart").on("click",function(){if(jQuery(this).hasClass("checkout"))return void(window.location="cart.php?a=confdomains");var e=jQuery(this).attr("data-domain"),t=jQuery('button[data-domain="'+e+'"]'),n=jQuery(this).attr("data-whois"),i=jQuery(this).hasClass("product-domain"),a=jQuery("#btnDomainContinue"),r=jQuery("#resultDomain"),o=jQuery("#resultDomainPricingTerm"),d=jQuery("#idnLanguageSelector"),s=d.find("select");if(d.is(":visible")&&!s.val()){s.showInputError();var u,l=d.offset().top,c=d.height(),p=$(window).height();return u=c<p?l-(p/2-c/2):l,void jQuery([document.documentElement,document.body]).animate({scrollTop:u},1e3)}t.find("span.to-add").hide(),t.find("span.loading").show();var h=jQuery(this).parents(".spotlight-tlds").length>0||jQuery(this).parents(".suggested-domains").length>0?1:0;WHMCS.http.jqClient.post(window.location.pathname,{a:"addToCart",domain:e,token:csrfToken,whois:n,sideorder:h,idnlanguage:s.val()},"json").done(function(n){t.find("span.loading").hide(),"added"===n.result?(t.find("span.added").show(),i||t.removeAttr("disabled").addClass("checkout"),r.length&&!r.val()&&(r.val(e),o.val(n.period).attr("name","domainsregperiod["+e+"]"),a.length>0&&a.is(":disabled")&&a.removeAttr("disabled")),jQuery("#cartItemCount").html(n.cartCount)):(t.hide(),t.parent().children("span.available.price").hide(),t.parent().children("button.btn.unavailable").show())})}),jQuery("#frmDomainTransfer").submit(function(e){e.preventDefault();var t=jQuery("#frmDomainTransfer"),n=jQuery("#btnTransferDomain"),i=jQuery("#inputTransferDomain"),a=jQuery("#inputAuthCode"),r=i.val(),o=a.val(),d=!1,s=jQuery("#divDynamicRecaptcha"),u=jQuery("#inputCaptcha");return r?(i.tooltip("hide"),jQuery("#captchaContainer").length?void validate_captcha(t):(s.tooltip("hide"),u.tooltip("hide"),n.attr("disabled","disabled").addClass("disabled").find("span").show().end().find(".loader").show(),void WHMCS.http.jqClient.post(t.attr("action"),t.serialize(),null,"json").done(function(e){if("object"!=typeof e)return n.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled"),!1;var t=e.result;"added"==t?(window.location="cart.php?a=confdomains",d=!0):1==t.isRegistered?1!=t.epp||o||(a.tooltip("show"),a.focus()):jQuery("#transferUnavailable").html(t.unavailable).fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},3e3,jQuery(this))})}).always(function(){0==d&&n.find("span").hide().end().find("#addToCart").show().end().removeAttr("disabled").removeClass("disabled")}))):(i.tooltip("show"),i.focus(),!1)}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")}),jQuery("#btnPromoCodeApply").click(function(){jQuery("#modalPromoCodeApply").modal("show")}),jQuery("#btnPromoCodeRemove").click(function(){jQuery("#modalPromoCodeRemove").modal("show")}),jQuery("#btnEstimateTaxes").click(function(){jQuery("#modalEstimateTaxes").modal("show")}),jQuery("#cardType li a").click(function(e){e.preventDefault(),jQuery("#selectedCardType").html(jQuery(this).html()),jQuery("#cctype").val(jQuery("span.type",this).html().trim())}),jQuery(document).on("click",".domain-contact-support",function(e){e.preventDefault();var t=window.open();t.opener=null,t.location="submitticket.php"}),jQuery("#frmConfigureProduct input:visible, #frmConfigureProduct select:visible").first().focus(),jQuery("#frmProductDomain input[type=text]:visible").first().focus(),jQuery("#frmDomainChecker input[type=text]:visible").first().focus(),jQuery("#frmDomainTransfer input[type=text]:visible").first().focus(),jQuery("#tlddropdown li a").click(function(e){e.preventDefault(),jQuery("#tldbtn").html(jQuery(this).html())}),jQuery("#tlddropdown2 li a").click(function(e){e.preventDefault(),jQuery("#tldbtn2").html(jQuery(this).html())}),jQuery("#tlddropdown3 li a").click(function(e){e.preventDefault(),jQuery("#tldbtn3").html(jQuery(this).html())}),jQuery("#tlddropdown4 li a").click(function(e){e.preventDefault(),jQuery("#tldbtn4").html(jQuery(this).html())}),jQuery(".checkout .mc-promo .btn-add").click(function(e){var t=jQuery(this),n=t.data("product-key"),i=jQuery("#promo_"+n);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:n,checkoutModal:!0,token:csrfToken},function(e){if(void 0!==e.modal)return void openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId);e.done&&(jQuery("#totalCartPrice").text(e.newTotal),i.fadeOut())},"json")}),jQuery(".viewcart .mc-promo .btn-add").click(function(e){var t=jQuery(this);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(window.location.pathname,{a:"addUpSell",product_key:t.data("product-key"),token:csrfToken},function(e){if(void 0!==e.modal)return void openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId);window.location.reload(!0)},"json")}),jQuery(document).on("click","#btnAddUpSellCheckout",function(e){var t=jQuery("#upsellModalForm");return WHMCS.http.jqClient.post("cart.php",t.serialize(),function(e){e.done&&jQuery("#totalCartPrice").text(e.newTotal)},"json"),!1}),jQuery(document).on("click","#btnAddUpSell",function(e){needRefresh=!0});var y=jQuery("#useFullCreditOnCheckout"),j=jQuery("#skipCreditOnCheckout");y.on("ifChecked",function(){var e=jQuery("#useFullCreditOnCheckout"),t=jQuery('input[name="paymentmethod"]:checked'),n=t.hasClass("is-credit-card"),i=jQuery('input[name="paymentmethod"]').not(jQuery('input.is-credit-card[name="paymentmethod"]')).first(),a=jQuery("#paymentGatewaysContainer"),r=jQuery("#creditCardInputFields");e.prop("checked")&&(n&&0!==i.length?(i.iCheck("check"),r.slideUp(),a.slideUp()):n&&!a.is(":visible")&&(r.slideDown(),a.slideDown()))}),j.on("ifChecked",function(){var e=jQuery('input[name="paymentmethod"]:checked'),t=e.hasClass("is-credit-card"),n=jQuery("#paymentGatewaysContainer");n.is(":visible")||(n.slideDown(),t&&jQuery("#creditCardInputFields").slideDown())}),1===jQuery("#applyCreditContainer").data("apply-credit")&&y.length&&(j.iCheck("check"),y.iCheck("check")),jQuery("#domainRenewals").find("span.added").hide().end().find("span.to-add").find("i").hide(),jQuery(".btn-add-renewal-to-cart").on("click",function(){var e=jQuery(this),t=e.data("domain-id"),n=jQuery("#renewalPricing"+t).val();if(e.hasClass("checkout"))return void(window.location="cart.php?a=view");e.attr("disabled","disabled").each(function(){jQuery(this).find("i").fadeIn("fast").end().css("width",jQuery(this).outerWidth())}),WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),{domainId:t,period:n,token:csrfToken},null,"json").done(function(t){e.find("span.to-add").hide(),"added"===t.result&&e.find("span.added").show().end().find("i").fadeOut("fast").css("width",e.outerWidth()),recalculateRenewalTotals()})}),jQuery(document).on("submit","#removeRenewalForm",function(e){e.preventDefault(),$form=$(this),WHMCS.http.jqClient.post($form.attr("action"),jQuery(this).serialize()+"&ajax=1").done(function(e){var t=e.i;jQuery("#renewDomain"+t).attr("disabled","disabled").each(function(){jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled"),jQuery(this).css("width",jQuery(this).outerWidth())})}).always(function(){jQuery("#modalRemoveItem").modal("hide"),recalculateRenewalTotals()})}),jQuery(".select-renewal-pricing").on("change",function(){var e=jQuery(this),t=e.data("domain-id");jQuery("#renewDomain"+t).attr("disabled","disabled").each(function(){jQuery(this).css("width",jQuery(this).outerWidth()),jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled")})}),jQuery("#domainRenewalFilter").on("keyup",function(){var e=jQuery(this).val().toLowerCase();jQuery("#domainRenewals").find("div.domain-renewal").filter(function(){jQuery(this).toggle(jQuery(this).data("domain").toLowerCase().indexOf(e)>-1)})}),checkoutForm=jQuery("#frmCheckout"),checkoutForm.length&&checkoutForm.on("submit",validateCheckoutCreditCardInput),u.is(":visible")&&l.slideUp()});