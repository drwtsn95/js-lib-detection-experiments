var lastobj;var lasttext="";var lastclick="";var laststyle="";var url="";var eml="";var prc=0;function adsell(a,e,f,h,g,b){var d=h;prc=f;if(lastobj==g){return false}if(lastobj&&lastobj.innerHTML){lastobj.innerHTML=lasttext;lastobj.onclick=lastclick;lastobj.className=laststyle}lastobj=g;lasttext=g.innerHTML;lastclick=g.onclick;laststyle=g.className;d+='<div class="txt" id="txt">';d+="<span>"+fr.ads_conditions+" "+b+" kB<br><br></span>";d+='<form name="myform" action="/adupload.php" method="post" enctype="multipart/form-data" target="upload_target" >';d+="<table>";d+='<tr><td><label for="period">'+fr.period+": </label></td>";d+='<td><select class="myform" id="period" name="period" onchange="calc1();"><option value="1">1 '+fr.week+'</option><option value="2">2 '+fr.weeks+'</option><option value="3">3 '+fr.weeks+'</option><option value="4">4 '+fr.weeks+'</option></select></td><td><div id="" class="ind ok"></div></td></tr>';if(a!=3&&a!=4&&e>1){d+='<tr><td><label for="slots">'+fr.number_of_slots+": </label></td>";d+='<td><select class="myform" id="slots" name="slots" onchange="calc1();">';for(var c=1;c<=e;c++){d+='<option value="'+c+'">'+c+"</option>"}d+='</select></td><td><div id="" class="ind ok"></div></td></tr>'}else{d+='<input type="hidden" name="slots" value="'+e+'">'}d+='<input type="hidden" name="place" value="'+a+'">';d+='<tr><td><label for="banner">'+x[a]+"x"+y[a]+' banner: </label></td><td><input class="myfile" id="banner" name="banner" type="file" accept="image/png, image/gif, image/jpeg" onChange="checkfile(this.value);" /><div id="banerr" class="formerror"></div></td><td><div id="ind_banner" class="ind no"></div></td></tr>';d+='<tr><td><label for="url">'+fr.target_url+': </label></td><td><input placeholder="http://" size="35" class="myform" id="url" name="url" type="text" onclick="checkurl()" onkeypress="checkurl()" onkeyup="checkurl()" onchange="checkurl()" value="'+url+'"/></td><td><div id="ind_url" class="ind no"></div></td></tr>';d+='<tr><td><label for="email">E-mail: </label></td><td><input size="35" class="myform" id="email" name="email" type="text" onclick="checkem()" onkeypress="checkem()" onkeyup="checkem()" onchange="checkem()" onBlur="checkem()" value="'+eml+'"/></td><td><div id="ind_email" class="ind no"></div></td></tr>';d+="<tr><td><label>"+fr.price+':</label></td><td><div id="cost">$'+f+"</div></td></tr>";d+="</table></form>";d+="</div>";d+='<div id="errors"></div>';d+='<div id="pay" onClick="payform.submit()"></div>';d+='<div id="paypm" onClick="payform_pm.submit()"></div>';d+='<div id="preview" onclick="preview();">'+fr.preview+"<div>";d+='<iframe id="upload_target" name="upload_target" src="" style="width:0;height:0;border:0px solid #fff;"></iframe>';document.getElementById("adselling").innerHTML=d;checkurl();checkem();checkall();window.location.hash="#begin";window.scrollTo(0,380)}function preview(){document.myform.submit();document.getElementById("preview").style.display="none";document.getElementById("errors").innerHTML='<div class="waiting"></div>'}function calc1(){var a=prc*document.getElementById("period").value;if(document.getElementById("slots")){a=a*document.getElementById("slots").value}document.getElementById("cost").innerHTML="$"+a}function checkall(){if(document.getElementById("ind_banner").className=="ind ok"&&document.getElementById("ind_url").className=="ind ok"&&document.getElementById("ind_email").className=="ind ok"){document.getElementById("preview").style.display="block"}else{document.getElementById("preview").style.display="none"}}function checkfile(b){var a=/\.(jpe?g|gif|png)$/i.test(b);if(!a){document.getElementById("banerr").innerHTML=fr.only_images;document.getElementById("ind_banner").className="ind no"}else{document.getElementById("banerr").innerHTML="";document.getElementById("ind_banner").className="ind ok"}checkall()}function checkurl(){v=document.getElementById("url").value;if(v.match(/(^\s+|\s+$)/g)){v=v.replace(/(^\s+|\s+$)/g,"");document.getElementById("url").value=v}if(v.match(/^https?:\/\/([a-zA-Z0-9\-]+\.)+[0-9a-z]{1,15}(:\d+)?(\/[^\"\'<>]*)?$/i)&&v.length<128){document.getElementById("ind_url").className="ind ok"}else{document.getElementById("ind_url").className="ind no"}url=v;checkall()}function checkem(){v=document.getElementById("email").value;if(v.match(/(^\s+|\s+$)/g)){v=v.replace(/(^\s+|\s+$)/g,"");document.getElementById("email").value=v}if(checkemail(v)&&v.length<64){document.getElementById("ind_email").className="ind ok"}else{document.getElementById("ind_email").className="ind no"}eml=v;checkall()};