var $=jQuery.noConflict();jQuery(document).ready(function(a){a("#ajax-player").length&&(is_Mobile()?(a("body").append("<div class=\"modal fade\" id=\"playerLoadingModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mobileModalLabel\" aria-hidden=\"true\"><div class=\"modal-dialog modal-sm\" style=\"position:relative;background: #fff;border: 1px solid #fff;padding: 15px;text-align: center;color: #3a3a3a;margin-top: 46px;border-radius: 4px;box-shadow: 0px 3px 20px 2px rgb(64, 100, 130);\"><p style=\"margin:0;\"\"><i class=\"animate-spin hl-spin4\"></i> "+halim_cfg.player_loading+"</p></div></div>"),a("#playerLoadingModal").modal("show")):(playersize=JSON.parse(localStorage.getItem("reSizePlayerObject")),null==playersize&&(playersize={width:810,height:456}),a("#halim-player-wrapper").css({width:playersize.width,height:playersize.height})),halimPlayer(halim_cfg.episode_slug,halim_cfg.server,halim_cfg.post_id,a("body").data("nonce")),setTimeout(function(){var b=a(document).find(".halim-btn.active").data("embed");1==b?a("#autonext").hide():a("#autonext").show()},2e3)),a("body").on("click",".play-listsv",function(){var b=a(".halim-btn.active").data("episode-slug"),c=a(".halim-btn.active").data("server"),d=a(".halim-btn.active").data("post-id"),e=a(this).data("subsv-id");"undefined"!=typeof playerInstance&&playerInstance.pause(),a(this).addClass("active").siblings().removeClass("active"),a("#halim-player-wrapper").css("z-index","99999"),a("#halim-player-loader").show().html("<p style=\"margin-top: 15px\">"+halim_cfg.player_loading+"</p>"),a("button.close").click(),halimPlayer(b,c,d,"",e)}),a("#autonext").on("click",function(){"On"==a("#autonext-status").text()?a("#autonext-status").text("Off"):a("#autonext-status").text("On")}),a("body").on("click","#reBuildPlayer",function(){var b=a(".halim-btn.active").data("episode-slug"),c=a(".halim-btn.active").data("server"),d=a(".halim-btn.active").data("post-id");a("#halim-player-wrapper").css("z-index","99999"),a("#icon-rebuild-player").addClass("animate-spin"),a("button.close").click(),a("#halim-player-loader").show().html("<p style=\"margin-top: 15px\">"+halim_cfg.player_loading+"</p>"),halimPlayerResetCache(b,c,d),halimPlayer(b,c,d,"",""),console.log("Player has been reloaded!")}),halimExpandPlayer(),ToggleLight()});function halimPlayer(a,b,c,d,e){return $("#ajax-player").length&&$.ajax({url:halim_cfg.player_url,dataType:"html",data:{episode_slug:a,server_id:b,subsv_id:e,post_id:c,nonce:d},success:function(a){var b=JSON.parse(a).data;!0==b.status&&($("#halim-player-loader").show().html("<p style=\"margin-top: 15px\">"+halim_cfg.player_loading+"</p>"),$("#ajax-player").html(b.sources),$("#playerLoadingModal").modal("hide"),$("#icon-rebuild-player").removeClass("animate-spin"),$("#halim-player-loader").hide())},error:function(a,b,c){console.log(a.status+" "+c)}}),!1}function halimJwConfig(a){a.on("ready",function(){var b={width:a.getWidth(),height:a.getHeight()};localStorage.setItem("reSizePlayerObject",JSON.stringify(b)),is_Mobile()||halimJwAddButton(a)}),a.on("error",function(){if("display_modal"==halim_cfg.player_error_detect)halimPlayerErrorDetect();else if("autoload_server"==halim_cfg.player_error_detect){var a=svlists[Math.floor(Math.random()*svlists.length)];$("#server-item-"+a).click()}else $.fn.customErrorHandler||customErrorHandler();if(!0==halim_cfg.auto_reset_cache){var b=$(".halim-btn.active").data("episode-slug"),c=$(".halim-btn.active").data("server"),d=$(".halim-btn.active").data("post-id");halimPlayerResetCache(b,c,d)}}),a.on("play",function(){jQuery("#reLoadPlayerModal").modal("hide")}),a.on("complete",function(){halimPlayerAutoNext()})}function halimJwAddButton(a){var b=a.getContainer(),c=$("<div></div>").addClass("jw-icon jw-icon-inline jw-button-color jw-reset halim-toggle-light halim-icon-toggle-light").append($("<div></div>").addClass("player-tooltip").html("Toggle Light")),d=$("<div></div>").addClass("jw-icon jw-icon-inline jw-button-color jw-reset halim-resize-bar halim-icon-expand size-small").append($("<div></div>").addClass("player-tooltip").html("Resize Player"));$(b).find(".jw-icon-fullscreen").before(d).before(c)}function halimPlayerResetCache(a,b,c){return $.ajax({url:ajax_player.url,type:"POST",data:{action:"reset_player_cache",episode_slug:a,server_id:b,post_id:c},success:function(a){console.log(a)}}),!1}function halimPlayerErrorDetect(){var a,b="";0==$("#halim-ajax-list-server").length&&(b=" style=\"display:none;\""),a="<div id=\"reLoadPlayerModal\" class=\"modal fade\" role=\"dialog\" style=\"top: 35px;z-index: 99999;\">  <div class=\"modal-dialog modal-md\">    <div class=\"modal-content\">        <div class=\"modal-header\">            <button type=\"button\" class=\"close\" data-dismiss=\"modal\">\xD7</button>            <h4 class=\"modal-title adult-content-title\">(Error&nbsp;Code:&nbsp;224003)</h4>        </div>        <div class=\"modal-body panel-body adult-content-info text-center\">            <h4><strong>"+halim_cfg.jw_error_msg_1+"</strong></h4>            <p>"+halim_cfg.jw_error_msg_0+"</p>            <p>"+halim_cfg.jw_error_msg_2+"</p>            <button type=\"button\" class=\"btn btn-danger\" id=\"reBuildPlayer\" style=\"margin-bottom: 5px;\"><i id=\"icon-rebuild-player\" class=\"hl-spin4\"></i> "+halim_cfg.player_reload+"</button>            <p"+b+">"+halim_cfg.jw_error_msg_3+"</p>            <div id=\"serverList\"></div>        </div>    </div>  </div></div>",is_Mobile()?$("body").append(a):($("#halim-player-wrapper").append(a),$("#halim-player-loader").css("z-index","999999")),$("#halim-ajax-list-server").prependTo("#serverList"),$("#reLoadPlayerModal").modal("show"),is_Mobile()||$(".modal-backdrop").appendTo("#halim-player-wrapper"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),$(".modal, .modal-backdrop").css("position","absolute"),$("#reLoadPlayerModal").on("hidden.bs.modal",function(){$("#halim-ajax-list-server").prependTo(".halim-ajax-list-server")})}function halimPlayerAutoNext(){if("On"==$("#autonext-status").text()){var a,b;if(a=$(".halim-list-eps").find(".active").data("position"),"last"!=a){b=1<halim_cfg.server?$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").next().find("span").data("href"):$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").next().find("a").attr("href"),$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").removeClass("active").find("a span").removeClass("active"),$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug).next().addClass("active").find("a span").addClass("active");var c=5,d=setInterval(function(){return c--,0>=c?(clearInterval(d),void(window.location=b)):void $("#halim-player-loader").show().html("<p style=\"padding-top:25px;\">"+halim_cfg.player_autonext+" <span>["+c+"s]</span></p>")},1e3)}}}function halimExpandPlayer(){resizeCheck="small",playerWrapper=$("#halim-player-wrapper"),playersize=JSON.parse(localStorage.getItem("reSizePlayerObject")),null==playersize&&(playersize={width:810,height:456}),$(document).on("click","#explayer, .halim-resize-bar",function(){if($(".halim-resize-bar").toggleClass("size-large"),"small"==resizeCheck){var a=1140/playersize.width,b=playersize.height*a,c={width:1140,height:Math.ceil(b)};$("#explayer").offset().top,$(playerWrapper).animate({width:c.width,height:c.height}),$("#sidebar").animate({marginTop:c.height+20}),$("#explayer").html("<i class=\"hl-resize-small\"></i> "+halim_cfg.collapse),resizeCheck="large"}else $(playerWrapper).animate({width:playersize.width,height:playersize.height}),$("#sidebar").animate({marginTop:"0px"}),$("#explayer").html("<i class=\"hl-resize-full\"></i> "+halim_cfg.expand),resizeCheck="small";$("html, body").animate({scrollTop:$(playerWrapper).offset().top-63},1e3)})}function halimResizePlayerFullWidth(){resizeCheck="small",$(document).on("click","#explayer, .halim-resize-bar",function(){$(".halim-resize-bar").toggleClass("size-large");var a=$("#ajax-player");"small"==resizeCheck?($(".halim-full-player").removeClass("hidden"),a.removeClass("player").prependTo("#halim-full-player"),$(".navbar-container").addClass("box-shadow-none"),$("#explayer").html("<i class=\"hl-resize-small\"></i> "+halim_cfg.collapse),resizeCheck="large"):($(".halim-full-player").addClass("hidden"),a.addClass("player").prependTo("#halim-player-wrapper"),$(".navbar-container").removeClass("box-shadow-none"),$("#explayer").html("<i class=\"hl-resize-full\"></i> "+halim_cfg.expand),resizeCheck="small")})}function halimResumeVideo(a,b){!0==halim_cfg.resume_playback&&b.on("ready",function(){if("undefined"!=typeof Storage){var c="HaLimPlayerPosition-"+a;if(""==localStorage[c]||"undefined"==localStorage[c]){console.log("No cookie for position found");var d=0}else{if("null"==localStorage[c])localStorage[c]=0;else var d=localStorage[c];console.log("Position cookie found: "+localStorage[c])}b.once("play",function(){console.log("Checking position cookie!"),console.log(Math.abs(b.getDuration()-d)),0<d&&5<Math.abs(b.getDuration()-d)&&(b.seek(d),$("body").append("<div class=\"modal fade\" id=\"resume\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"mobileModalLabel\" aria-hidden=\"true\" style=\"z-index: 99999;\"><div id=\"resumeModal\" class=\"modal-dialog modal-sm\" style=\"position:relative;background: #fff;border: 1px solid #eee;padding: 20px 13px;text-align: center;border-radius: 5px;\"><p>"+halim_cfg.resume_text+": <b style=\"color:#f52121;\">"+formatSeconds(d)+"</b></p><div style=\"text-align:center;\"><strong class=\"yes\"><i class=\"hl-ccw\"></i> "+halim_cfg.playback+"</strong><strong class=\"no\"><i class=\"hl-play-circled-o\"></i> "+halim_cfg.continue_watching+"</strong></div></div></div>"),setTimeout(function(){$("#resume").modal("show")},800),$("body").on("click",".no",function(){$("#resume").modal("hide"),b.play()}),$("body").on("click",".yes",function(){$("#resume").modal("hide"),localStorage[c]=0,b.seek(0),b.play()}))}),window.onunload=function(){localStorage[c]=b.getPosition()}}else console.log("Your browser is too old!")})}function formatSeconds(a){var b=new Date(1970,0,1);return b.setSeconds(a),b.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")}function ToggleLight(){var a=!1;$(".button-watch, #halim-full-player").css("position","relative").css("z-index",8),$(document).on("click","#toggle-light, .halim-toggle-light",function(){a?(a=!1,$("#lightout").fadeOut()):(a=!0,$("#lightout").css("opacity",.98).hide().fadeIn()),$("#toggle-light").html(a?"<i class='hl-light-up'></i> "+halim_cfg.light_on:"<i class='hl-adjust'></i> "+halim_cfg.light_off)})}